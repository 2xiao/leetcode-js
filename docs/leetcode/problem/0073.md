# [73. Set Matrix Zeroes](https://leetcode.com/problems/set-matrix-zeroes/)

ðŸŸ   <font color=#ffb800>Medium</font>&emsp; ðŸ”–&ensp;`æ•°ç»„` `å“ˆå¸Œè¡¨` `çŸ©é˜µ`
### é¢˜ç›®

Given anÂ *`m*Â xÂ *n*`Â matrix. If an element isÂ **0**, set its entire row and column toÂ **0**. Do itÂ **[in-place](https://en.wikipedia.org/wiki/In-place_algorithm)**.

**Follow up:**

- A straight forward solution using O(_mn_) space is probably a bad idea.
- A simple improvement uses O(*m*Â +Â *n*) space, but still not the best solution.
- Could you devise a constant space solution?

**Example 1:**

![https://assets.leetcode.com/uploads/2020/08/17/mat1.jpg](https://assets.leetcode.com/uploads/2020/08/17/mat1.jpg)

::: tip
Input: matrix = [[1,1,1],[1,0,1],[1,1,1]]

Output: [[1,0,1],[0,0,0],[1,0,1]]
:::

**Example 2:**

![https://assets.leetcode.com/uploads/2020/08/17/mat2.jpg](https://assets.leetcode.com/uploads/2020/08/17/mat2.jpg)

::: tip
Input: matrix = [[0,1,2,0],[3,4,5,2],[1,3,1,5]]

Output: [[0,0,0,0],[0,4,5,0],[0,3,1,0]]
:::

**Constraints:**

- `m == matrix.length`
- `n == matrix[0].length`
- `1 <= m, n <= 200`
- `2^31Â <= matrix[i][j] <= 2^31Â - 1`

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ª `m x n` çš„çŸ©é˜µï¼Œå¦‚æžœä¸€ä¸ªå…ƒç´ ä¸º 0ï¼Œåˆ™å°†å…¶æ‰€åœ¨è¡Œå’Œåˆ—çš„æ‰€æœ‰å…ƒç´ éƒ½è®¾ä¸º 0ã€‚è¯·ä½¿ç”¨åŽŸåœ°ç®—æ³•ã€‚

## è§£é¢˜æ€è·¯

- æ­¤é¢˜è€ƒæŸ¥å¯¹ç¨‹åºçš„æŽ§åˆ¶èƒ½åŠ›ï¼Œæ— ç®—æ³•æ€æƒ³ï¼›
- é¢˜ç›®è¦æ±‚é‡‡ç”¨åŽŸåœ°çš„ç®—æ³•ï¼Œæ‰€æœ‰ä¿®æ”¹å³åœ¨åŽŸäºŒç»´æ•°ç»„ä¸Šè¿›è¡Œï¼›
- åœ¨äºŒç»´æ•°ç»„ä¸­æœ‰ 2 ä¸ªç‰¹æ®Šä½ç½®ï¼Œä¸€ä¸ªæ˜¯ç¬¬ä¸€è¡Œï¼Œä¸€ä¸ªæ˜¯ç¬¬ä¸€åˆ—ï¼Œå…ˆç”¨ 2 ä¸ªå˜é‡è®°å½•è¿™ä¸€è¡Œå’Œè¿™ä¸€åˆ—ä¸­æ˜¯å¦æœ‰ 0ï¼Œé˜²æ­¢ä¹‹åŽçš„ä¿®æ”¹è¦†ç›–äº†è¿™ 2 ä¸ªåœ°æ–¹ï¼›
- ç„¶åŽé™¤åŽ»è¿™ä¸€è¡Œå’Œè¿™ä¸€åˆ—ä»¥å¤–çš„éƒ¨åˆ†åˆ¤æ–­æ˜¯å¦æœ‰ 0ï¼Œå¦‚æžœæœ‰ 0ï¼Œå°†å®ƒä»¬æ‰€åœ¨çš„è¡Œç¬¬ä¸€ä¸ªå…ƒç´ å’Œæ‰€åœ¨åˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ ‡è®°ä¸º 0 ï¼›
- æœ€åŽé€šè¿‡æ ‡è®°ï¼Œå°†å¯¹åº”çš„è¡Œåˆ—ç½® 0 å³å¯ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[][]} matrix
 * @return {void} Do not return anything, modify matrix in-place instead.
 */
var setZeroes = function (matrix) {
  const m = matrix.length;
  const n = matrix[0].length;
  let first_row_has_zero = false;
  let first_line_has_zero = false;

  // ç¬¬ä¸€åˆ—æ˜¯å¦æœ‰ 0
  for (let i = 0; i < m; i++) {
    if (matrix[i][0] === 0) {
      first_row_has_zero = true;
      break;
    }
  }
  // ç¬¬ä¸€è¡Œæ˜¯å¦æœ‰ 0
  for (let j = 0; j < n; j++) {
    if (matrix[0][j] === 0) {
      first_line_has_zero = true;
      break;
    }
  }
  // é™¤ç¬¬ä¸€è¡Œã€ç¬¬ä¸€åˆ—å¤–ï¼Œå…¶ä»–åœ°æ–¹æœ‰ 0ï¼Œåˆ™å°†åˆ—é¦–å’Œè¡Œé¦–ç½®ä¸º 0
  for (let i = 1; i < m; i++) {
    for (let j = 1; j < n; j++) {
      if (matrix[i][j] === 0) {
        matrix[i][0] = 0;
        matrix[0][j] = 0;
      }
    }
  }
  // éåŽ†ç¬¬ä¸€åˆ—ï¼Œæœ‰ 0 åˆ™å°†æ•´è¡Œç½®ä¸º 0
  for (let i = 1; i < m; i++) {
    if (matrix[i][0] === 0) {
      for (let j = 1; j < n; j++) {
        matrix[i][j] = 0;
      }
    }
  }
  // éåŽ†ç¬¬ä¸€è¡Œï¼Œæœ‰ 0 åˆ™å°†æ•´åˆ—ç½®ä¸º 0
  for (let j = 1; j < n; j++) {
    if (matrix[0][j] === 0) {
      for (let i = 1; i < m; i++) {
        matrix[i][j] = 0;
      }
    }
  }
  // è‹¥ç¬¬ä¸€åˆ—åŽŸæœ¬æœ‰ 0ï¼Œåˆ™å°†ç¬¬ä¸€åˆ—éƒ½ç½®ä¸º 0
  if (first_row_has_zero) {
    for (let i = 0; i < m; i++) {
      matrix[i][0] = 0;
    }
  }
  // è‹¥ç¬¬ä¸€è¡ŒåŽŸæœ¬æœ‰ 0ï¼Œåˆ™å°†ç¬¬ä¸€è¡Œéƒ½ç½®ä¸º 0
  if (first_line_has_zero) {
    for (let j = 0; j < n; j++) {
      matrix[0][j] = 0;
    }
  }
};
```
