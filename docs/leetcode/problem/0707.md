# [707. Design Linked List](https://leetcode.com/problems/design-linked-list/)

:tangerine: <font color=#ffb800>Medium</font>&emsp; ðŸ”–&ensp; [`è®¾è®¡`](../solution/design.md) [`é“¾è¡¨`](../solution/linked-list.md)

### é¢˜ç›®

Design your implementation of the linked list. You can choose to use the singly linked list or the doubly linked list. A node in a singly linked list should have two attributes: `val` and `next`. `val` is the value of the current node, and `next` is a pointer/reference to the `next` node. If you want to use the doubly linked list, you will need one more attribute `prev` to indicate the previous node in the linked list. Assume all nodes in the linked list are `0-indexed`.

Implement these functions in your linked list class:

- `get(index)` : Get the value of the `index-th` node in the linked list. If the index is invalid, return `-1`.
- `addAtHead(val)` : Add a node of value `val` before the first element of the linked list. After the insertion, the new node will be the first node of the linked list.
- `addAtTail(val)` : Append a node of value `val` to the last element of the linked list.
- `addAtIndex(index, val)` : Add a node of value `val` before the `index-th` node in the linked list. If `index` equals to the length of linked list, the node will be appended to the end of linked list. If `index` is greater than the length, the node will not be inserted.
- `deleteAtIndex(index)` : Delete the `index-th` node in the linked list, if the `index` is valid.

**Example**:

```

MyLinkedList linkedList = new MyLinkedList();
linkedList.addAtHead(1);
linkedList.addAtTail(3);
linkedList.addAtIndex(1, 2);  // linked list becomes 1->2->3
linkedList.get(1);            // returns 2
linkedList.deleteAtIndex(1);  // now the linked list is 1->3
linkedList.get(1);            // returns 3

```

**Note**:

- `0 <= index, val <= 1000`.
- Please do not use the built-in LinkedList library.
- At most `2000` calls will be made to `get`, `addAtHead`, `addAtTail`, `addAtIndex` and `deleteAtIndex`.

### é¢˜ç›®å¤§æ„

ä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨å•é“¾è¡¨æˆ–è€…åŒé“¾è¡¨ï¼Œè®¾è®¡å¹¶å®žçŽ°è‡ªå·±çš„é“¾è¡¨ã€‚

å•é“¾è¡¨ä¸­çš„èŠ‚ç‚¹åº”è¯¥å…·å¤‡ä¸¤ä¸ªå±žæ€§ï¼š`val` å’Œ` next` ã€‚`val` æ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œ`next` æ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ/å¼•ç”¨ã€‚

å¦‚æžœæ˜¯åŒå‘é“¾è¡¨ï¼Œåˆ™è¿˜éœ€è¦å±žæ€§ `prev` ä»¥æŒ‡ç¤ºé“¾è¡¨ä¸­çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚å‡è®¾é“¾è¡¨ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ä¸‹æ ‡ä»Ž `0` å¼€å§‹ã€‚

å®žçŽ° `MyLinkedList` ç±»ï¼š

- `MyLinkedList()` åˆå§‹åŒ– `MyLinkedList` å¯¹è±¡ã€‚
- `int get(int index)` èŽ·å–é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º `index` çš„èŠ‚ç‚¹çš„å€¼ã€‚å¦‚æžœä¸‹æ ‡æ— æ•ˆï¼Œåˆ™è¿”å›ž `-1` ã€‚
- `void addAtHead(int val)` å°†ä¸€ä¸ªå€¼ä¸º `val` çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰ã€‚åœ¨æ’å…¥å®ŒæˆåŽï¼Œæ–°èŠ‚ç‚¹ä¼šæˆä¸ºé“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
- `void addAtTail(int val)` å°†ä¸€ä¸ªå€¼ä¸º `val` çš„èŠ‚ç‚¹è¿½åŠ åˆ°é“¾è¡¨ä¸­ä½œä¸ºé“¾è¡¨çš„æœ€åŽä¸€ä¸ªå…ƒç´ ã€‚
- `void addAtIndex(int index, int val)` å°†ä¸€ä¸ªå€¼ä¸º `val` çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º `index` çš„èŠ‚ç‚¹ä¹‹å‰ã€‚å¦‚æžœ `index` ç­‰äºŽé“¾è¡¨çš„é•¿åº¦ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹ä¼šè¢«è¿½åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚å¦‚æžœ `index` æ¯”é•¿åº¦æ›´å¤§ï¼Œè¯¥èŠ‚ç‚¹å°† ä¸ä¼šæ’å…¥ åˆ°é“¾è¡¨ä¸­ã€‚
- `void deleteAtIndex(int index)` å¦‚æžœä¸‹æ ‡æœ‰æ•ˆï¼Œåˆ™åˆ é™¤é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º `index` çš„èŠ‚ç‚¹ã€‚

### è§£é¢˜æ€è·¯

é“¾è¡¨çš„å®žçŽ°ï¼Œè¯¦ç»†å¯ä»¥å‚è€ƒ [2.2 é“¾è¡¨ - é“¾è¡¨çš„å®žçŽ°](https://2xiao.github.io/leetcode-js/leetcode/ds/1_linked_list.html#%E9%93%BE%E8%A1%A8%E7%9A%84%E5%AE%9E%E7%8E%B0)

### ä»£ç 

```javascript
var MyLinkedList = function () {
  this.head = null;
};

var Node = function (val) {
  this.val = val;
  this.next = null;
};
/**
 * @param {number} index
 * @return {number}
 */
MyLinkedList.prototype.get = function (index) {
  if (index < 0 || index > 1000) return -1;
  let i = 0;
  let prev = this.head;
  while (prev) {
    if (i === index) break;
    prev = prev.next;
    i++;
  }
  return prev ? prev.val : -1;
};

/**
 * @param {number} val
 * @return {void}
 */
MyLinkedList.prototype.addAtHead = function (val) {
  const node = new Node(val);
  node.next = this.head;
  this.head = node;
};

/**
 * @param {number} val
 * @return {void}
 */
MyLinkedList.prototype.addAtTail = function (val) {
  const node = new Node(val);
  if (!this.head) {
    this.head = node;
  } else {
    let prev = this.head;
    while (prev.next) {
      prev = prev.next;
    }
    prev.next = node;
  }
};

/**
 * @param {number} index
 * @param {number} val
 * @return {void}
 */
MyLinkedList.prototype.addAtIndex = function (index, val) {
  if (index < 0 || index > 1000) return -1;
  const node = new Node(val);
  if (index === 0) {
    node.next = this.head;
    this.head = node;
  } else {
    let i = 1;
    let prev = this.head;
    while (prev) {
      if (i === index) {
        let temp = prev.next;
        prev.next = node;
        node.next = temp;
        break;
      }
      i++;
      prev = prev.next;
    }
  }
};

/**
 * @param {number} index
 * @return {void}
 */
MyLinkedList.prototype.deleteAtIndex = function (index) {
  if (index < 0 || index > 1000) return -1;
  if (index === 0) {
    this.head = this.head.next;
  } else {
    let i = 1;
    let prev = this.head;
    while (prev.next) {
      if (i === index) {
        let temp = prev.next;
        prev.next = temp.next;
        break;
      }
      i++;
      prev = prev.next;
    }
  }
};

/**
 * Your MyLinkedList object will be instantiated and called as such:
 * var obj = new MyLinkedList()
 * var param_1 = obj.get(index)
 * obj.addAtHead(val)
 * obj.addAtTail(val)
 * obj.addAtIndex(index,val)
 * obj.deleteAtIndex(index)
 */
```
