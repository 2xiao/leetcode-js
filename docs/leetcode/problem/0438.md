# [438. Find All Anagrams in a String](https://leetcode.com/problems/find-all-anagrams-in-a-string/)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](../solution/å“ˆå¸Œè¡¨) [`å­—ç¬¦ä¸²`](../solution/å­—ç¬¦ä¸²) [`æ»‘åŠ¨çª—å£`](../solution/æ»‘åŠ¨çª—å£)
### é¢˜ç›®

Given a string s and a non-empty string p, find all the start indices of p's anagrams in s.

Strings consists of lowercase English letters only and the length of both strings s and p will not be larger than 20,100.

The order of output does not matter.

**Example 1**:
::: tip
Input: s: "cbaebabacd" p: "abc"

Output: [0, 6]
:::

Explanation:

- The substring with start index = 0 is "cba", which is an anagram of "abc".
- The substring with start index = 6 is "bac", which is an anagram of "abc".

**Example 2**:
::: tip
Input: s: "abab" p: "ab"

Output: [0, 1, 2]
:::

Explanation:

- The substring with start index = 0 is "ab", which is an anagram of "ab".
- The substring with start index = 1 is "ba", which is an anagram of "ab".
- The substring with start index = 2 is "ab", which is an anagram of "ab".

### é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªéç©ºå­—ç¬¦ä¸² pï¼Œæ‰¾å‡º s ä¸­çš„æ‰€æœ‰æ˜¯ p çš„ Anagrams å­—ç¬¦ä¸²çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚Anagrams çš„æ„æ€æ˜¯å’Œä¸€ä¸ªå­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦éƒ½ä¸€æ ·ï¼Œåªæ˜¯æ’åˆ—ç»„åˆä¸åŒã€‚

### è§£é¢˜æ€è·¯

è¿™é“é¢˜æ˜¯ä¸€é“è€ƒâ€œæ»‘åŠ¨çª—å£â€çš„é¢˜ç›®ã€‚å’Œ [ç¬¬ 3 é¢˜](./0003.md)ï¼Œ[ç¬¬ 76 é¢˜](./0076.md)ï¼Œ[ç¬¬ 567 é¢˜](./0567.md) ç±»ä¼¼çš„ã€‚è§£æ³•ä¹Ÿæ˜¯ç”¨ freq[256] è®°å½•æ¯ä¸ªå­—ç¬¦çš„å‡ºç°çš„é¢‘æ¬¡æ¬¡æ•°ã€‚æ»‘åŠ¨çª—å£å·¦è¾¹ç•Œå¾€å³æ»‘åŠ¨çš„æ—¶å€™ï¼Œåˆ’è¿‡å»çš„å…ƒç´ é‡Šæ”¾æ¬¡æ•°(å³æ¬¡æ•° ++)ï¼Œæ»‘åŠ¨çª—å£å³è¾¹ç•Œå¾€å³æ»‘åŠ¨çš„æ—¶å€™ï¼Œåˆ’è¿‡å»çš„å…ƒç´ æ¶ˆè€—æ¬¡æ•°(å³æ¬¡æ•° \-\-)ã€‚å³è¾¹ç•Œå’Œå·¦è¾¹ç•Œç›¸å·® len(p) çš„æ—¶å€™ï¼Œéœ€è¦åˆ¤æ–­æ¯ä¸ªå…ƒç´ æ˜¯å¦éƒ½ç”¨è¿‡ä¸€éäº†ã€‚å…·ä½“åšæ³•æ˜¯æ¯ç»è¿‡ä¸€ä¸ªç¬¦åˆè§„èŒƒçš„å…ƒç´ ï¼Œcount å°± \-\-ï¼Œcount åˆå§‹å€¼æ˜¯ len(p)ï¼Œå½“æ¯ä¸ªå…ƒç´ éƒ½ç¬¦åˆè§„èŒƒçš„æ—¶å€™ï¼Œå³è¾¹ç•Œå’Œå·¦è¾¹ç•Œç›¸å·® len(p) çš„æ—¶å€™ï¼Œcount ä¹Ÿä¼šç­‰äº 0 ã€‚å½“åŒºé—´å†…æœ‰ä¸ç¬¦åˆè§„èŒƒçš„å…ƒç´ (freq < 0 æˆ–è€…æ˜¯ä¸å­˜åœ¨çš„å…ƒç´ )ï¼Œé‚£ä¹ˆå½“åŒºé—´è¾¾åˆ° len(p) çš„æ—¶å€™ï¼Œcount æ— æ³•å‡å°‘åˆ° 0ï¼ŒåŒºé—´å³ç§»åŠ¨çš„æ—¶å€™ï¼Œå·¦è¾¹ç•Œåˆä¼šå¼€å§‹ count ++ï¼Œåªæœ‰å½“å·¦è¾¹ç•Œç§»å‡ºäº†è¿™äº›ä¸åˆè§„èŒƒçš„å…ƒç´ ä»¥åï¼Œæ‰å¯èƒ½å‡ºç° count = 0 çš„æƒ…å†µï¼Œå³æ‰¾åˆ° Anagrams çš„æƒ…å†µã€‚

### ä»£ç 

```go

package leetcode

func findAnagrams(s string, p string) []int {
	var freq [256]int
	result := []int{}
	if len(s) == 0 || len(s) < len(p) {
		return result
	}
	for i := 0; i < len(p); i++ {
		freq[p[i]-'a']++
	}
	left, right, count := 0, 0, len(p)

	for right < len(s) {
		if freq[s[right]-'a'] >= 1 {
			count--
		}
		freq[s[right]-'a']--
		right++
		if count == 0 {
			result = append(result, left)
		}
		if right-left == len(p) {
			if freq[s[left]-'a'] >= 0 {
				count++
			}
			freq[s[left]-'a']++
			left++
		}

	}
	return result
}

```
