# [142. Linked List Cycle II](https://leetcode.com/problems/linked-list-cycle-ii/)

:tangerine: <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](../solution/hash-table.md) [`é“¾è¡¨`](../solution/linked-list.md) [`åŒæŒ‡é’ˆ`](../solution/two-pointers.md)

### é¢˜ç›®

Given a linked list, return the node where the cycle begins. If there is no cycle, return null.

To represent a cycle in the given linked list, we use an integer pos which represents the position (0-indexed) in the linked list where tail connects to. If pos is -1, then there is no cycle in the linked list.

**Note**: Do not modify the linked list.

**Example 1**:

::: tip

Input: head = [3,2,0,-4], pos = 1

Output: tail connects to node index 1

:::

Explanation: There is a cycle in the linked list, where tail connects to the second node.

**Example 2**:

::: tip

Input: head = [1,2], pos = 0

Output: tail connects to node index 0

:::

Explanation: There is a cycle in the linked list, where tail connects to the first node.

**Example 3**:

::: tip

Input: head = [1], pos = -1

Output: no cycle

:::

Explanation: There is no cycle in the linked list.

### é¢˜ç›®å¤§æ„

åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯ï¼Œä¸èƒ½ä½¿ç”¨é¢å¤–çš„ç©ºé—´ã€‚å¦‚æœæœ‰ç¯ï¼Œè¾“å‡ºç¯çš„èµ·ç‚¹æŒ‡é’ˆï¼Œå¦‚æœæ²¡æœ‰ç¯ï¼Œåˆ™è¾“å‡ºç©ºã€‚

### è§£é¢˜æ€è·¯

è¿™é“é¢˜æ˜¯ [ç¬¬ 141 é¢˜](./0141.md) çš„åŠ å¼ºç‰ˆã€‚åœ¨åˆ¤æ–­æ˜¯å¦æœ‰ç¯çš„åŸºç¡€ä¸Šï¼Œè¿˜éœ€è¦è¾“å‡ºç¯çš„ç¬¬ä¸€ä¸ªç‚¹ã€‚

åˆ†æä¸€ä¸‹åˆ¤æ–­ç¯çš„åŸç†ã€‚`fast` æŒ‡é’ˆä¸€æ¬¡éƒ½ 2 æ­¥ï¼Œ`slow` æŒ‡é’ˆä¸€æ¬¡èµ° 1 æ­¥ã€‚ä»¤é“¾è¡¨ head åˆ°ç¯çš„ä¸€ä¸ªç‚¹éœ€è¦ `x1` æ­¥ï¼Œä»ç¯çš„ç¬¬ä¸€ä¸ªç‚¹åˆ°ç›¸é‡ç‚¹éœ€è¦ `x2` æ­¥ï¼Œä»ç¯ä¸­ç›¸é‡ç‚¹å›åˆ°ç¯çš„ç¬¬ä¸€ä¸ªç‚¹éœ€è¦ `x3` æ­¥ã€‚é‚£ä¹ˆç¯çš„æ€»é•¿åº¦æ˜¯ `x2 + x3` æ­¥ã€‚

`fast` å’Œ `slow` ä¼šç›¸é‡ï¼Œè¯´æ˜ä»–ä»¬èµ°çš„æ—¶é—´æ˜¯ç›¸åŒçš„ï¼Œå¯ä»¥çŸ¥é“ä»–ä»¬èµ°çš„è·¯ç¨‹æœ‰ä»¥ä¸‹çš„å…³ç³»ï¼š

```js
fast çš„ t = (x1 + x2 + x3 + x2) / 2
slow çš„ t = (x1 + x2) / 1

x1 + x2 + x3 + x2 = 2 * (x1 + x2)

æ‰€ä»¥ x1 = x3
```

æ‰€ä»¥ 2 ä¸ªæŒ‡é’ˆç›¸é‡ä»¥åï¼Œå¦‚æœ slow ç»§ç»­å¾€å‰èµ°ï¼Œfast æŒ‡é’ˆå›åˆ°èµ·ç‚¹ headï¼Œä¸¤è€…éƒ½æ¯æ¬¡èµ°ä¸€æ­¥ï¼Œé‚£ä¹ˆå¿…å®šä¼šåœ¨ç¯çš„èµ·ç‚¹ç›¸é‡ï¼Œç›¸é‡ä»¥åè¾“å‡ºè¿™ä¸ªç‚¹å³æ˜¯ç»“æœã€‚

### ä»£ç 

```go
// TODO: add code

package leetcode

/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */
func detectCycle(head *ListNode) *ListNode {
	if head == nil || head.Next == nil {
		return nil
	}
	isCycle, slow := hasCycle142(head)
	if !isCycle {
		return nil
	}
	fast := head
	for fast != slow {
		fast = fast.Next
		slow = slow.Next
	}
	return fast
}

func hasCycle142(head *ListNode) (bool, *ListNode) {
	fast := head
	slow := head
	for slow != nil && fast != nil && fast.Next != nil {
		fast = fast.Next.Next
		slow = slow.Next
		if fast == slow {
			return true, slow
		}
	}
	return false, nil
}

```
