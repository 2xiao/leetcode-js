# [46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²](https://leetcode.cn/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.cn/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof)

## é¢˜ç›®

ç°æœ‰ä¸€ä¸²ç¥ç§˜çš„å¯†æ–‡ `ciphertext`ï¼Œç»è°ƒæŸ¥ï¼Œå¯†æ–‡çš„ç‰¹ç‚¹å’Œè§„åˆ™å¦‚ä¸‹ï¼š

- å¯†æ–‡ç”±éè´Ÿæ•´æ•°ç»„æˆ
- æ•°å­— 0-25 åˆ†åˆ«å¯¹åº”å­—æ¯ a-z

è¯·æ ¹æ®ä¸Šè¿°è§„åˆ™å°†å¯†æ–‡ `ciphertext` è§£å¯†ä¸ºå­—æ¯ï¼Œå¹¶è¿”å›å…±æœ‰å¤šå°‘ç§è§£å¯†ç»“æœã€‚

**ç¤ºä¾‹ 1:**

> **è¾“å…¥:** ciphertext = 216612
>
> **è¾“å‡º:** 6
>
> **è§£é‡Š:** 216612 è§£å¯†åæœ‰ 6 ç§ä¸åŒçš„å½¢å¼ï¼Œåˆ†åˆ«æ˜¯ "cbggbc"ï¼Œ"vggbc"ï¼Œ"vggm"ï¼Œ"cbggm"ï¼Œ"cqgbc" å’Œ "cqgm"

**æç¤ºï¼š**

- `0 <= ciphertext <  2^31`

## è§£é¢˜æ€è·¯

å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š

1. **åŠ¨æ€è§„åˆ’æ•°ç»„**ï¼šå®šä¹‰ä¸€ä¸ªæ•°ç»„ `dp`ï¼Œå…¶ä¸­ `dp[i]` è¡¨ç¤ºè§£å¯†åˆ°ç¬¬ `i` ä¸ªå­—ç¬¦æ—¶çš„ä¸åŒè§£å¯†æ–¹å¼æ•°é‡ã€‚

2. **åˆå§‹åŒ–**ï¼šè®¾ç½® `dp[0] = 1`ï¼Œè¡¨ç¤ºç©ºå­—ç¬¦ä¸²æœ‰ä¸€ç§è§£å¯†æ–¹å¼ã€‚

3. **çŠ¶æ€è½¬ç§»**ï¼š

   - å¯¹äºæ¯ä¸ªä½ç½® `i`ï¼Œå¯ä»¥å•å­—ç¬¦è§£ç ï¼Œ`dp[i] = dp[i-1]`ã€‚
   - è¿˜å¯ä»¥ä¸å‰ä¸€ä¸ªå­—ç¬¦ç»„åˆæˆåŒå­—ç¬¦è§£ç ï¼Œå³çœ‹ `str[i-2]` å’Œ `str[i-1]` æ˜¯å¦æ„æˆæœ‰æ•ˆçš„ä¸¤ä½æ•°å­—ï¼ˆåœ¨ `10` åˆ° `25` ä¹‹é—´ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ `dp[i] += dp[i-2]` ã€‚

4. **è¿”å›ç»“æœ**ï¼šæœ€åè¿”å› `dp[n]`ï¼Œå…¶ä¸­ `n` æ˜¯å¯†æ–‡çš„é•¿åº¦ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯å¯†æ–‡çš„é•¿åº¦ï¼Œå› ä¸ºåªéå†å¯†æ–‡ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œç”¨äºå­˜å‚¨åŠ¨æ€è§„åˆ’æ•°ç»„ `dp`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} ciphertext
 * @return {number}
 */
var crackNumber = function (ciphertext) {
	const str = String(ciphertext);
	const n = str.length;
	if (n == 0) return 0;

	// dp æ•°ç»„
	const dp = new Array(n + 1).fill(0);
	// ç©ºå­—ç¬¦ä¸²
	dp[0] = 1;

	for (let i = 1; i <= n; i++) {
		// å•å­—ç¬¦è§£ç 
		dp[i] += dp[i - 1];

		// åŒå­—ç¬¦è§£ç 
		if (i > 1) {
			const twoDigit = parseInt(str.slice(i - 2, i));
			if (twoDigit >= 10 && twoDigit <= 25) {
				dp[i] += dp[i - 2];
			}
		}
	}
	return dp[n];
};
```
