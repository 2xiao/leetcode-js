# [39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—](https://2xiao.github.io/leetcode-js/offer/jz_offer_39_1.html)

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åˆ†æ²»`](/tag/divide-and-conquer.md) [`è®¡æ•°`](/tag/counting.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/shu-zu-zhong-chu-xian-ci-shu-chao-guo-yi-ban-de-shu-zi-lcof)

## é¢˜ç›®

ä»“åº“ç®¡ç†å‘˜ä»¥æ•°ç»„ `stock` å½¢å¼è®°å½•å•†å“åº“å­˜è¡¨ã€‚`stock[i]` è¡¨ç¤ºå•†å“ `id`ï¼Œå¯èƒ½å­˜åœ¨é‡å¤ã€‚è¯·è¿”å›åº“å­˜è¡¨ä¸­æ•°é‡å¤§äº `stock.length / `2 çš„å•†å“ `id`ã€‚

**ç¤ºä¾‹ 1:**

> è¾“å…¥: stock = [6, 1, 3, 1, 1, 1]
>
> è¾“å‡º: 1

**æç¤ºï¼š**

- `1 <= stock.length <= 50000`
- ç»™å®šæ•°ç»„ä¸ºéç©ºæ•°ç»„ï¼Œä¸”å­˜åœ¨ç»“æœæ•°å­—

::: warning
æœ¬é¢˜ä¸ LeetCode [ç¬¬ 169 é¢˜](../problem/0169.md) ç›¸åŒã€‚
:::

## è§£é¢˜æ€è·¯

è¿™é“é¢˜å¦‚æœç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨ä½œä¸ºè®¡æ•°å™¨ï¼Œè®°å½•æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åå¯»æ‰¾å‡ºç°æ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªå…ƒç´ ï¼Œæ—¶é—´å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ `O(N)`ã€‚

æƒ³è¦ç©ºé—´å¤æ‚åº¦ä¸º `O(1)` ,å¯ä»¥ç”¨æ ˆçš„æ€è·¯ï¼šéå†æ•°ç»„ï¼Œå¦‚æœæ ˆä¸ºç©ºï¼Œæˆ–è€…å½“å‰å…ƒç´ ä¸æ ˆé¡¶å…ƒç´ ç›¸åŒï¼Œåˆ™å…¥æ ˆï¼›å¦åˆ™å°†æ ˆé¡¶å…ƒç´ å¼¹å‡ºã€‚

ç”±äºæ•°ç»„ä¸­çš„ä¼—æ•°å‡ºç°æ¬¡æ•°å¤§äº `n/2` ï¼Œæ‰€ä»¥ç»è¿‡ä¸æ–­åœ°å…¥æ ˆå‡ºæ ˆï¼Œäº’ç›¸æ¶ˆé™¤ï¼Œæœ€ç»ˆæ ˆå†…ç•™ä¸‹çš„è‚¯å®šæ˜¯æˆ‘ä»¬è¦æ‰¾çš„ä¼—æ•°ã€‚è¯æ˜å¦‚ä¸‹ï¼š

- å½“æ•°ç»„å†…åªæœ‰ä¸¤ç§å…ƒç´ æ—¶ï¼Œç”±äºä¼—æ•°çš„æ•°é‡è¿‡åŠï¼Œæ‰€ä»¥ä¸ç®¡é¡ºåºå¦‚ä½•ï¼Œç»è¿‡ä¸¤ä¸¤å¯¹æ¯”ï¼Œä¸ä¸€æ ·çš„äº’ç›¸æ¶ˆé™¤ï¼Œæœ€åæ ˆå†…ç•™ä¸‹çš„éƒ½æ˜¯ä¼—æ•°ï¼›
- å½“æ•°ç»„å†…æœ‰ä¸¤ç§ä»¥ä¸Šçš„å…ƒç´ æ—¶ï¼Œé™¤ä¼—æ•°ä»¥å¤–çš„å…¶ä»–å…ƒç´ è¿˜ä¼šäº’ç›¸å¯¹æ¯”æ¶ˆé™¤ï¼Œæ‰€ä»¥ç”¨äºæ¶ˆè€—ä¼—æ•°çš„å…ƒç´ æ•°é‡æ›´å°‘ï¼Œæ‰€ä»¥æ ˆå†…ç•™ä¸‹çš„å…ƒç´ å°±æ˜¯ä¼—æ•°ã€‚

å®é™…ä¸Šæˆ‘ä»¬å¹¶ä¸éœ€è¦çœŸçš„å®ç°ä¸€ä¸ªæ ˆï¼Œåªéœ€è¦è®°å½•æ ˆé¡¶å…ƒç´  `target` ï¼ˆæ ˆå†…æ‰€æœ‰å…ƒç´ ä¸€å®šç›¸åŒï¼Œé‡åˆ°ä¸ç›¸åŒçš„ä¸ä¼šå…¥æ ˆï¼‰ï¼Œä»¥åŠå…ƒç´ çš„ä¸ªæ•° `count` ï¼Œå› æ­¤åªéœ€è¦ä¸¤ä¸ªå˜é‡å°±å¤Ÿäº†ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} stock
 * @return {number}
 */
var inventoryManagement = function (stock) {
	let target;
	let count = 0;
	for (let item of stock) {
		if (count === 0 || item === target) {
			count++;
			target = item;
		} else {
			count--;
		}
	}
	return target;
};
```
