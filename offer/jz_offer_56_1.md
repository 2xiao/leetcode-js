# [56. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°](https://2xiao.github.io/leetcode-js/offer/jz_offer_56_1.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof)

## é¢˜ç›®

æ•´æ•°æ•°ç»„ `sockets` è®°å½•äº†ä¸€ä¸ªè¢œå­ç¤¼ç›’çš„é¢œè‰²åˆ†å¸ƒæƒ…å†µï¼Œå…¶ä¸­ `sockets[i]`
è¡¨ç¤ºè¯¥è¢œå­çš„é¢œè‰²ç¼–å·ã€‚ç¤¼ç›’ä¸­é™¤äº†ä¸€æ¬¾æ’è‰²æ­é…çš„è¢œå­ï¼Œæ¯ç§é¢œè‰²çš„è¢œå­å‡æœ‰ä¸¤åªã€‚è¯·è®¾è®¡ä¸€ä¸ªç¨‹åºï¼Œåœ¨æ—¶é—´å¤æ‚åº¦ `O(n)`ï¼Œç©ºé—´å¤æ‚åº¦ `O(1)` å†…æ‰¾åˆ°è¿™åŒæ’è‰²æ­é…è¢œå­çš„ä¸¤ä¸ªé¢œè‰²ç¼–å·ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** sockets = [4, 5, 2, 4, 6, 6]
>
> **è¾“å‡ºï¼š**[2,5] æˆ– [5,2]

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** sockets = [1, 2, 4, 1, 4, 3, 12, 3]
>
> **è¾“å‡ºï¼š**[2,12] æˆ– [12,2]

**æç¤ºï¼š**

- `2 <= sockets.length <= 10000`

## è§£é¢˜æ€è·¯

ç”±äºé™¤äº†ä¸€å¯¹æ’è‰²çš„è¢œå­å¤–ï¼Œå…¶ä»–æ¯ç§é¢œè‰²çš„è¢œå­éƒ½æœ‰ä¸¤åªï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨å¼‚æˆ–è¿ç®—çš„ç‰¹æ€§æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

1.  **å¼‚æˆ–æ‰€æœ‰è¢œå­é¢œè‰²**ï¼šå› ä¸ºç›¸åŒçš„é¢œè‰²ä¼šäº’ç›¸æŠµæ¶ˆï¼ˆ`x ^ x = 0`ï¼‰ï¼Œæœ€ç»ˆçš„ç»“æœå°†æ˜¯ä¸¤ä¸ªä¸åŒé¢œè‰²çš„è¢œå­çš„å¼‚æˆ–ç»“æœã€‚

    - ä¾‹å¦‚ï¼š`1 ^ 2 ^ 3 ^ 3 ^ 4 ^ 4` == `1 ^ 2` == `3`

2.  **æ‰¾åˆ°å¼‚æˆ–ç»“æœä¸­çš„ä¸€ä¸ªä½**ï¼šä»å¼‚æˆ–ç»“æœä¸­æ‰¾åˆ°ä¸€ä¸ªä¸º `1` çš„ä½ `diffBit`ï¼Œè¿™ä¸ªä½å¯ä»¥å¸®åŠ©æˆ‘ä»¬å°†è¢œå­åˆ†ä¸ºä¸¤ç»„ï¼Œåˆ†åˆ«å«æœ‰è¿™ä¸¤ä¸ªä¸åŒçš„é¢œè‰²ã€‚

    - ä¸ºäº†æ–¹ä¾¿ï¼Œå°±é€‰æ‹©è®¡ç®—æœ€ä½ä½çš„ `1` çš„ä½ç½®ï¼Œè®¡ç®—æ–¹æ³•ä¸ºï¼š`or & -or`ã€‚

    - `-or` æ˜¯ `or` çš„äºŒè¿›åˆ¶è¡¥ç ï¼Œåœ¨è®¡ç®—æœºä¸­ï¼Œè¡¥ç æ˜¯é€šè¿‡å¯¹ä¸€ä¸ªæ•°å–åï¼ˆå³æ¯ä¸ªä½å–åï¼‰å¹¶åŠ  `1` æ¥å¾—åˆ°çš„ï¼›

    - å‡è®¾ `or` çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯ `00101000`ï¼Œé‚£ä¹ˆ `-or` çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯ `11011000`ï¼ˆå–åååŠ  `1`ï¼‰ï¼Œç»“æœæ˜¯ `00001000`ï¼Œè¿™è¡¨ç¤ºæœ€ä½ä½çš„ `1` åœ¨åŸå§‹ `or` çš„ç¬¬ä¸‰ä½ã€‚

    ```
    00101000
    11011000
    ---------
    00001000
    ```

3.  **åˆ†ç»„å¹¶å†æ¬¡å¼‚æˆ–**ï¼šå†æ¬¡éå†æ•°ç»„ï¼Œæ ¹æ® `diffBit` ä½æ˜¯å¦ä¸º `1`ï¼Œå°†æ•°ç»„åˆ†ä¸ºä¸¤ç»„ï¼Œåˆ†åˆ«å¼‚æˆ–æ¯ç»„çš„é¢œè‰²ï¼Œæœ€ç»ˆä¼šå¾—åˆ°ä¸¤ä¸ªä¸åŒé¢œè‰²çš„è¢œå­ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**: `O(n)`ï¼Œéå†ä¸€æ¬¡æ•°ç»„ã€‚
- **ç©ºé—´å¤æ‚åº¦**: `O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸é‡ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} sockets
 * @return {number[]}
 */
var sockCollocation = function (sockets) {
	let or = 0;

	// 1. è®¡ç®—æ‰€æœ‰è¢œå­é¢œè‰²çš„å¼‚æˆ–å€¼
	for (let num of sockets) {
		or ^= num;
	}

	// 2. è®¡ç®—å¼‚æˆ–ç»“æœä¸­æœ€ä½ä½çš„ 1
	const diffBit = or & -or;

	let color1 = 0,
		color2 = 0;

	for (let num of sockets) {
		// 3. æ ¹æ® diffBit æ˜¯å¦ä¸º 1 åˆ†ç»„ï¼Œå¹¶å¼‚æˆ–
		if ((num & diffBit) == 0) {
			color1 ^= num; // ç¬¬ä¸€ç»„
		} else {
			color2 ^= num; // ç¬¬äºŒç»„
		}
	}
	return [color1, color2];
};
```
