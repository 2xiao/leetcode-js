import{_ as l,r as p,o as i,c as u,a as n,b as s,d as a,w as t,f as r,e as k}from"./app-aQeLbVW9.js";const d={},m=n("h1",{id:"_1976-åˆ°è¾¾ç›®çš„åœ°çš„æ–¹æ¡ˆæ•°",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1976-åˆ°è¾¾ç›®çš„åœ°çš„æ–¹æ¡ˆæ•°","aria-hidden":"true"},"#"),s(" 1976. åˆ°è¾¾ç›®çš„åœ°çš„æ–¹æ¡ˆæ•°")],-1),h=n("code",null,"å›¾",-1),v=n("code",null,"æ‹“æ‰‘æ’åº",-1),b=n("code",null,"åŠ¨æ€è§„åˆ’",-1),g=n("code",null,"æœ€çŸ­è·¯",-1),y={href:"https://leetcode.cn/problems/number-of-ways-to-arrive-at-destination",target:"_blank",rel:"noopener noreferrer"},f=n("code",null,"åŠ›æ‰£",-1),w={href:"https://leetcode.com/problems/number-of-ways-to-arrive-at-destination",target:"_blank",rel:"noopener noreferrer"},_=n("code",null,"LeetCode",-1),x=k(`<h2 id="é¢˜ç›®" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®" aria-hidden="true">#</a> é¢˜ç›®</h2><p>You are in a city that consists of <code>n</code> intersections numbered from <code>0</code> to <code>n - 1</code> with <strong>bi-directional</strong> roads between some intersections. The inputs are generated such that you can reach any intersection from any other intersection and that there is at most one road between any two intersections.</p><p>You are given an integer <code>n</code> and a 2D integer array <code>roads</code> where <code>roads[i] = [ui, vi, timei]</code> means that there is a road between intersections <code>ui</code> and <code>vi</code> that takes <code>timei</code> minutes to travel. You want to know in how many ways you can travel from intersection <code>0</code> to intersection <code>n - 1</code> in the <strong>shortest amount of time</strong>.</p><p>Return <em>the <strong>number of ways</strong> you can arrive at your destination in the <strong>shortest amount of time</strong></em>. Since the answer may be large, return it <strong>modulo</strong> <code>10^9 + 7</code>.</p><p><strong>Example 1:</strong></p><figure><img src="https://assets.leetcode.com/uploads/2021/07/17/graph2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>Input: n = 7, roads = [[0,6,7],[0,1,2],[1,2,3],[1,3,3],[6,3,3],[3,5,1],[6,5,1],[2,5,1],[0,4,5],[4,6,2]]</p><p>Output: 4</p><p>Explanation: The shortest amount of time it takes to go from intersection 0 to intersection 6 is 7 minutes.</p><p>The four ways to get there in 7 minutes are:</p><ul><li>0 â 6</li><li>0 â 4 â 6</li><li>0 â 1 â 2 â 5 â 6</li><li>0 â 1 â 3 â 5 â 6</li></ul></blockquote><p><strong>Example 2:</strong></p><blockquote><p>Input: n = 2, roads = [[1,0,10]]</p><p>Output: 1</p><p>Explanation: There is only one way to go from intersection 0 to intersection 1, and it takes 10 minutes.</p></blockquote><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= n &lt;= 200</code></li><li><code>n - 1 &lt;= roads.length &lt;= n * (n - 1) / 2</code></li><li><code>roads[i].length == 3</code></li><li><code>0 &lt;= ui, vi &lt;= n - 1</code></li><li><code>1 &lt;= timei &lt;= 10^9</code></li><li><code>ui != vi</code></li><li>There is at most one road connecting any two intersections.</li><li>You can reach any intersection from any other intersection.</li></ul><h2 id="é¢˜ç›®å¤§æ„" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®å¤§æ„" aria-hidden="true">#</a> é¢˜ç›®å¤§æ„</h2><p>ä½ åœ¨ä¸€ä¸ªåŸå¸‚é‡Œï¼ŒåŸå¸‚ç”± <code>n</code> ä¸ªè·¯å£ç»„æˆï¼Œè·¯å£ç¼–å·ä¸º <code>0</code> åˆ° <code>n - 1</code> ï¼ŒæŸäº›è·¯å£ä¹‹é—´æœ‰ <strong>åŒå‘</strong> é“è·¯ã€‚è¾“å…¥ä¿è¯ä½ å¯ä»¥ä»ä»»æ„è·¯å£å‡ºå‘åˆ°è¾¾å…¶ä»–ä»»æ„è·¯å£ï¼Œä¸”ä»»æ„ä¸¤ä¸ªè·¯å£ä¹‹é—´æœ€å¤šæœ‰ä¸€æ¡è·¯ã€‚</p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>n</code> å’ŒäºŒç»´æ•´æ•°æ•°ç»„ <code>roads</code> ï¼Œå…¶ä¸­ <code>roads[i] = [ui, vi, timei]</code> è¡¨ç¤ºåœ¨è·¯å£ <code>ui</code> å’Œ <code>vi</code> ä¹‹é—´æœ‰ä¸€æ¡éœ€è¦èŠ±è´¹ <code>timei</code> æ—¶é—´æ‰èƒ½é€šè¿‡çš„é“è·¯ã€‚ä½ æƒ³çŸ¥é“èŠ±è´¹ <strong>æœ€å°‘æ—¶é—´</strong> ä»è·¯å£ <code>0</code> å‡ºå‘åˆ°è¾¾è·¯å£ <code>n - 1</code> çš„æ–¹æ¡ˆæ•°ã€‚</p><p>è¯·è¿”å›èŠ±è´¹ <strong>æœ€å°‘æ—¶é—´</strong> åˆ°è¾¾ç›®çš„åœ°çš„ <strong>è·¯å¾„æ•°ç›®</strong> ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œå°†ç»“æœå¯¹ <code>10^9 + 7</code> <strong>å–ä½™</strong> åè¿”å›ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure><img src="https://assets.leetcode.com/uploads/2021/07/17/graph2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p><strong>è¾“å…¥ï¼š</strong> n = 7, roads = [[0,6,7],[0,1,2],[1,2,3],[1,3,3],[6,3,3],[3,5,1],[6,5,1],[2,5,1],[0,4,5],[4,6,2]]</p><p><strong>è¾“å‡ºï¼š</strong> 4</p><p><strong>è§£é‡Šï¼š</strong> ä»è·¯å£ 0 å‡ºå‘åˆ°è·¯å£ 6 èŠ±è´¹çš„æœ€å°‘æ—¶é—´æ˜¯ 7 åˆ†é’Ÿã€‚</p><p>å››æ¡èŠ±è´¹ 7 åˆ†é’Ÿçš„è·¯å¾„åˆ†åˆ«ä¸ºï¼š</p><ul><li>0 â 6</li><li>0 â 4 â 6</li><li>0 â 1 â 2 â 5 â 6</li><li>0 â 1 â 3 â 5 â 6</li></ul></blockquote><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong> n = 2, roads = [[1,0,10]]</p><p><strong>è¾“å‡ºï¼š</strong> 1</p><p><strong>è§£é‡Šï¼š</strong> åªæœ‰ä¸€æ¡ä»è·¯å£ 0 åˆ°è·¯å£ 1 çš„è·¯ï¼ŒèŠ±è´¹ 10 åˆ†é’Ÿã€‚</p></blockquote><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= n &lt;= 200</code></li><li><code>n - 1 &lt;= roads.length &lt;= n * (n - 1) / 2</code></li><li><code>roads[i].length == 3</code></li><li><code>0 &lt;= ui, vi &lt;= n - 1</code></li><li><code>1 &lt;= timei &lt;= 10^9</code></li><li><code>ui != vi</code></li><li>ä»»æ„ä¸¤ä¸ªè·¯å£ä¹‹é—´è‡³å¤šæœ‰ä¸€æ¡è·¯ã€‚</li><li>ä»ä»»æ„è·¯å£å‡ºå‘ï¼Œä½ èƒ½å¤Ÿåˆ°è¾¾å…¶ä»–ä»»æ„è·¯å£ã€‚</li></ul><h2 id="è§£é¢˜æ€è·¯" tabindex="-1"><a class="header-anchor" href="#è§£é¢˜æ€è·¯" aria-hidden="true">#</a> è§£é¢˜æ€è·¯</h2><ol><li><p><strong>ä½¿ç”¨ Dijkstra ç®—æ³•å¯»æ‰¾æœ€çŸ­è·¯å¾„</strong></p><ul><li><strong>ä¸ºä»€ä¹ˆç”¨ Dijkstra</strong>ï¼š <ul><li>ç”±äºå›¾ä¸­è¾¹çš„æƒé‡éè´Ÿï¼ŒDijkstra ç®—æ³•èƒ½å¤Ÿé«˜æ•ˆåœ°æ‰¾åˆ°ä»èµ·ç‚¹åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚</li><li>åŒæ—¶ï¼ŒDijkstra ç®—æ³•çš„éå†é¡ºåºå¯ä»¥è‡ªç„¶åœ°è®°å½•åˆ°è¾¾æ¯ä¸ªèŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„æ•°é‡ã€‚</li></ul></li><li><strong>å¦‚ä½•è¡¨ç¤ºå›¾</strong>ï¼š <ul><li>ç”¨é‚»æ¥è¡¨ <code>graph</code> è¡¨ç¤ºå›¾ï¼Œå…¶ä¸­ <code>graph[u]</code> åŒ…å«æ‰€æœ‰ä¸ <code>u</code> ç›¸é‚»çš„èŠ‚ç‚¹åŠåˆ°è¾¾æ—¶é—´ <code>[v, time]</code>ã€‚</li></ul></li></ul></li><li><p><strong>åˆå§‹åŒ– <code>dist</code> å’Œ <code>ways</code> æ•°ç»„</strong></p><ul><li><code>dist[i]</code>ï¼šè¡¨ç¤ºä»èµ·ç‚¹ <code>0</code> åˆ°èŠ‚ç‚¹ <code>i</code> çš„æœ€çŸ­è·ç¦»ï¼Œåˆå§‹å€¼ä¸º <code>Infinity</code>ã€‚</li><li><code>ways[i]</code>ï¼šè¡¨ç¤ºä»èµ·ç‚¹ <code>0</code> åˆ°èŠ‚ç‚¹ <code>i</code> çš„æœ€çŸ­è·¯å¾„æ•°é‡ï¼Œåˆå§‹å€¼ä¸º <code>0</code>ã€‚</li><li>è®¾ç½® <code>dist[0] = 0</code> å’Œ <code>ways[0] = 1</code>ã€‚</li></ul></li><li><p><strong>ä½¿ç”¨æœ€å°å †ï¼ˆMin Heapï¼‰æ¥ä¼˜åŒ–éå†é¡ºåº</strong></p><ul><li><strong>ä¸ºä»€ä¹ˆç”¨æœ€å°å †</strong>ï¼š <ul><li>æ¯æ¬¡ä»å †ä¸­å¼¹å‡ºå½“å‰è·ç¦»æœ€çŸ­çš„èŠ‚ç‚¹ï¼Œèƒ½å¤Ÿé¿å…éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œæå‡æ•ˆç‡ã€‚</li></ul></li><li>å †ä¸­å…ƒç´ ä¸º <code>[time, node]</code>ï¼Œè¡¨ç¤ºå½“å‰èŠ‚ç‚¹åŠåˆ°è¾¾æ‰€éœ€çš„æ€»æ—¶é—´ã€‚</li></ul></li><li><p><strong>éå†å›¾å¹¶æ›´æ–°æœ€çŸ­è·¯å¾„</strong></p><ul><li><strong>å¯¹æ¯ä¸ªç›¸é‚»èŠ‚ç‚¹</strong>ï¼š <ul><li>è®¡ç®—ä»å½“å‰èŠ‚ç‚¹åˆ°ç›¸é‚»èŠ‚ç‚¹çš„æ€»æ—¶é—´ <code>newTime</code>ã€‚</li><li><strong>å¦‚æœ <code>newTime &lt; dist[neighbor]</code></strong>ï¼š <ul><li>è¯´æ˜æ‰¾åˆ°äº†ä¸€æ¡æ›´çŸ­çš„è·¯å¾„ï¼Œæ›´æ–° <code>dist[neighbor]</code> ä¸º <code>newTime</code>ã€‚</li><li>å°† <code>ways[neighbor]</code> æ›´æ–°ä¸º <code>ways[node]</code>ï¼ˆå³å½“å‰èŠ‚ç‚¹è·¯å¾„æ•°é‡ï¼‰ã€‚</li><li>å°† <code>neighbor</code> èŠ‚ç‚¹åŠå…¶è·ç¦»åŠ å…¥å †ä¸­ã€‚</li></ul></li><li><strong>å¦‚æœ <code>newTime === dist[neighbor]</code></strong>ï¼š <ul><li>è¯´æ˜æ‰¾åˆ°äº†ä¸€æ¡ä¸æœ€çŸ­è·¯å¾„ç­‰é•¿çš„è·¯å¾„ï¼Œå°† <code>ways[neighbor]</code> ç´¯åŠ ä¸Š <code>ways[node]</code>ã€‚</li></ul></li></ul></li></ul></li><li><p><strong>è¾“å‡ºç»“æœ</strong></p><ul><li>è¿”å› <code>ways[n - 1]</code>ï¼Œå³åˆ°è¾¾ç»ˆç‚¹èŠ‚ç‚¹ <code>n - 1</code> çš„æœ€çŸ­è·¯å¾„æ•°é‡ï¼Œå¹¶å¯¹ <code>10^9 + 7</code> å–æ¨¡ã€‚</li></ul></li></ol><h4 id="å¤æ‚åº¦åˆ†æ" tabindex="-1"><a class="header-anchor" href="#å¤æ‚åº¦åˆ†æ" aria-hidden="true">#</a> å¤æ‚åº¦åˆ†æ</h4><ul><li><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O((e + n) * log n)</code>ï¼Œå…¶ä¸­ï¼Œ<code>e</code> ä¸º <code>roads</code> çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­æœ‰å¤šå°‘æ¡è¾¹ã€‚</p><ul><li>éå† <code>e</code> æ¡è¾¹çš„æ—¶é—´å¤æ‚åº¦ä¸º <code>O(e)</code>ã€‚</li><li>ä½¿ç”¨æœ€å°å †ï¼Œæ¯æ¬¡ <code>insert</code> å’Œ <code>pop</code> çš„æ—¶é—´å¤æ‚åº¦ä¸º <code>O(log n)</code>ï¼Œæœ€å¤šè¿›è¡Œ <code>n</code> æ¬¡æ“ä½œã€‚</li></ul></li><li><p><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š<code>O(e + n)</code></p><ul><li>éœ€è¦å­˜å‚¨é‚»æ¥è¡¨ <code>graph</code>ã€<code>dist</code> æ•°ç»„ã€<code>ways</code> æ•°ç»„ã€ä»¥åŠæœ€å°å † <code>heap</code>ã€‚</li><li>æ€»ç©ºé—´éœ€æ±‚ä¸ <code>e</code> å’Œ <code>n</code> å‘ˆçº¿æ€§å…³ç³»ã€‚</li></ul></li></ul><h2 id="ä»£ç " tabindex="-1"><a class="header-anchor" href="#ä»£ç " aria-hidden="true">#</a> ä»£ç </h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> <span class="token parameter">n</span>
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token parameter">roads</span>
 * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span>
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">countPaths</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> roads</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token constant">MOD</span> <span class="token operator">=</span> <span class="token number">1e9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span>

	<span class="token comment">// æ„å»ºå›¾</span>
	<span class="token keyword">let</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>u<span class="token punctuation">,</span> v<span class="token punctuation">,</span> time<span class="token punctuation">]</span> <span class="token keyword">of</span> roads<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		graph<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>v<span class="token punctuation">,</span> time<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		graph<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>u<span class="token punctuation">,</span> time<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// åˆå§‹åŒ–</span>
	<span class="token keyword">let</span> dist <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">let</span> ways <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	dist<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	ways<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

	<span class="token comment">// ä½¿ç”¨æœ€å°å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</span>
	<span class="token keyword">let</span> heap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MinHeap</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span>heap<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">[</span>time<span class="token punctuation">,</span> node<span class="token punctuation">]</span> <span class="token operator">=</span> heap<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// è·³è¿‡å·²æ›´æ–°çš„æ›´çŸ­è·¯å¾„</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">&gt;</span> dist<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>neighbor<span class="token punctuation">,</span> t<span class="token punctuation">]</span> <span class="token keyword">of</span> graph<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> newTime <span class="token operator">=</span> time <span class="token operator">+</span> t<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>newTime <span class="token operator">&lt;</span> dist<span class="token punctuation">[</span>neighbor<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// æ‰¾åˆ°æ›´çŸ­è·¯å¾„ï¼Œæ›´æ–°æœ€çŸ­è·ç¦»å’Œè·¯å¾„æ•°</span>
				dist<span class="token punctuation">[</span>neighbor<span class="token punctuation">]</span> <span class="token operator">=</span> newTime<span class="token punctuation">;</span>
				ways<span class="token punctuation">[</span>neighbor<span class="token punctuation">]</span> <span class="token operator">=</span> ways<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">;</span>
				heap<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>newTime<span class="token punctuation">,</span> neighbor<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>newTime <span class="token operator">===</span> dist<span class="token punctuation">[</span>neighbor<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// å¦‚æœè·¯å¾„é•¿åº¦ç›¸åŒï¼Œç´¯åŠ è·¯å¾„æ•°</span>
				ways<span class="token punctuation">[</span>neighbor<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>ways<span class="token punctuation">[</span>neighbor<span class="token punctuation">]</span> <span class="token operator">+</span> ways<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token constant">MOD</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> ways<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MinHeap</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function-variable function">priority</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">&lt;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>heap <span class="token operator">=</span> arr<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>priority <span class="token operator">=</span> priority<span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">heapifyDown</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">heapifyUp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> top <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> last <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> last<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">heapifyDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> top<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">heapifyDown</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
		<span class="token keyword">const</span> left <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> right <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
		<span class="token keyword">let</span> smallest <span class="token operator">=</span> i<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">priority</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>smallest<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			smallest <span class="token operator">=</span> left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>right <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">priority</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>smallest<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			smallest <span class="token operator">=</span> right<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>smallest <span class="token operator">!==</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>smallest<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>smallest<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">heapifyDown</span><span class="token punctuation">(</span>smallest<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token function">heapifyUp</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> parent <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">priority</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				i <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç›¸å…³é¢˜ç›®" tabindex="-1"><a class="header-anchor" href="#ç›¸å…³é¢˜ç›®" aria-hidden="true">#</a> ç›¸å…³é¢˜ç›®</h2>`,29),T=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"center"}},"é¢˜å·"),n("th",{style:{"text-align":"left"}},"æ ‡é¢˜"),n("th",{style:{"text-align":"center"}},"é¢˜è§£"),n("th",{style:{"text-align":"left"}},"æ ‡ç­¾"),n("th",{style:{"text-align":"center"}},"éš¾åº¦"),n("th",{style:{"text-align":"center"}},"åŠ›æ‰£")])],-1),D=n("td",{style:{"text-align":"center"}},"797",-1),q=n("td",{style:{"text-align":"left"}},"æ‰€æœ‰å¯èƒ½çš„è·¯å¾„",-1),E=n("td",{style:{"text-align":"center"}},null,-1),M={style:{"text-align":"left"}},O=n("code",null,"æ·±åº¦ä¼˜å…ˆæœç´¢",-1),j=n("code",null,"å¹¿åº¦ä¼˜å…ˆæœç´¢",-1),I=n("code",null,"å›¾",-1),C=n("code",null,"1+",-1),L=n("td",{style:{"text-align":"center"}},"ğŸŸ ",-1),N={style:{"text-align":"center"}},V={href:"https://leetcode.cn/problems/all-paths-from-source-to-target",target:"_blank",rel:"noopener noreferrer"},z={href:"https://leetcode.com/problems/all-paths-from-source-to-target",target:"_blank",rel:"noopener noreferrer"},Y=n("td",{style:{"text-align":"center"}},"1514",-1),A=n("td",{style:{"text-align":"left"}},"æ¦‚ç‡æœ€å¤§çš„è·¯å¾„",-1),B=n("td",{style:{"text-align":"center"}},null,-1),H={style:{"text-align":"left"}},R=n("code",null,"å›¾",-1),S=n("code",null,"æ•°ç»„",-1),U=n("code",null,"æœ€çŸ­è·¯",-1),P=n("code",null,"1+",-1),F=n("td",{style:{"text-align":"center"}},"ğŸŸ ",-1),G={style:{"text-align":"center"}},J={href:"https://leetcode.cn/problems/path-with-maximum-probability",target:"_blank",rel:"noopener noreferrer"},K={href:"https://leetcode.com/problems/path-with-maximum-probability",target:"_blank",rel:"noopener noreferrer"},Q=n("td",{style:{"text-align":"center"}},"2045",-1),W=n("td",{style:{"text-align":"left"}},"åˆ°è¾¾ç›®çš„åœ°çš„ç¬¬äºŒçŸ­æ—¶é—´",-1),X=n("td",{style:{"text-align":"center"}},null,-1),Z={style:{"text-align":"left"}},$=n("code",null,"å¹¿åº¦ä¼˜å…ˆæœç´¢",-1),nn=n("code",null,"å›¾",-1),sn=n("code",null,"æœ€çŸ­è·¯",-1),an=n("td",{style:{"text-align":"center"}},"ğŸ”´",-1),tn={style:{"text-align":"center"}},en={href:"https://leetcode.cn/problems/second-minimum-time-to-reach-destination",target:"_blank",rel:"noopener noreferrer"},on={href:"https://leetcode.com/problems/second-minimum-time-to-reach-destination",target:"_blank",rel:"noopener noreferrer"};function pn(cn,ln){const c=p("font"),e=p("RouterLink"),o=p("ExternalLinkIcon");return i(),u("div",null,[m,n("p",null,[s("ğŸŸ  "),a(c,{color:"#ffb800"},{default:t(()=>[s("Medium")]),_:1}),s("â€ƒ ğŸ”–â€‚ "),a(e,{to:"/tag/graph.html"},{default:t(()=>[h]),_:1}),s(),a(e,{to:"/tag/topological-sort.html"},{default:t(()=>[v]),_:1}),s(),a(e,{to:"/tag/dynamic-programming.html"},{default:t(()=>[b]),_:1}),s(),a(e,{to:"/tag/shortest-path.html"},{default:t(()=>[g]),_:1}),s("â€ƒ ğŸ”—â€‚"),n("a",y,[f,a(o)]),s(),n("a",w,[_,a(o)])]),x,r(" prettier-ignore "),n("table",null,[T,n("tbody",null,[n("tr",null,[D,q,E,n("td",M,[a(e,{to:"/tag/depth-first-search.html"},{default:t(()=>[O]),_:1}),s(),a(e,{to:"/tag/breadth-first-search.html"},{default:t(()=>[j]),_:1}),s(),a(e,{to:"/tag/graph.html"},{default:t(()=>[I]),_:1}),s(),C]),L,n("td",N,[n("a",V,[s("ğŸ€„ï¸"),a(o)]),s(),n("a",z,[s("ğŸ”—"),a(o)])])]),n("tr",null,[Y,A,B,n("td",H,[a(e,{to:"/tag/graph.html"},{default:t(()=>[R]),_:1}),s(),a(e,{to:"/tag/array.html"},{default:t(()=>[S]),_:1}),s(),a(e,{to:"/tag/shortest-path.html"},{default:t(()=>[U]),_:1}),s(),P]),F,n("td",G,[n("a",J,[s("ğŸ€„ï¸"),a(o)]),s(),n("a",K,[s("ğŸ”—"),a(o)])])]),n("tr",null,[Q,W,X,n("td",Z,[a(e,{to:"/tag/breadth-first-search.html"},{default:t(()=>[$]),_:1}),s(),a(e,{to:"/tag/graph.html"},{default:t(()=>[nn]),_:1}),s(),a(e,{to:"/tag/shortest-path.html"},{default:t(()=>[sn]),_:1})]),an,n("td",tn,[n("a",en,[s("ğŸ€„ï¸"),a(o)]),s(),n("a",on,[s("ğŸ”—"),a(o)])])])])])])}const rn=l(d,[["render",pn],["__file","1976.html.vue"]]);export{rn as default};
