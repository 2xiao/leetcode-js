import{_ as l,r as e,o as i,c as u,a as n,b as s,d as a,w as t,e as r}from"./app-fBVbqwGY.js";const k={},d=n("h1",{id:"_51-æ•°ç»„ä¸­çš„é€†åºå¯¹",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_51-æ•°ç»„ä¸­çš„é€†åºå¯¹","aria-hidden":"true"},"#"),s(" 51. æ•°ç»„ä¸­çš„é€†åºå¯¹")],-1),m=n("code",null,"æ ‘çŠ¶æ•°ç»„",-1),v=n("code",null,"çº¿æ®µæ ‘",-1),b=n("code",null,"æ•°ç»„",-1),h=n("code",null,"äºŒåˆ†æŸ¥æ‰¾",-1),g=n("code",null,"åˆ†æ²»",-1),f=n("code",null,"æœ‰åºé›†åˆ",-1),_=n("code",null,"å½’å¹¶æ’åº",-1),w={href:"https://leetcode.cn/problems/shu-zu-zhong-de-ni-xu-dui-lcof",target:"_blank",rel:"noopener noreferrer"},y=n("code",null,"åŠ›æ‰£",-1),x=r(`<h2 id="é¢˜ç›®" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®" aria-hidden="true">#</a> é¢˜ç›®</h2><p>åœ¨è‚¡ç¥¨äº¤æ˜“ä¸­ï¼Œå¦‚æœå‰ä¸€å¤©çš„è‚¡ä»·é«˜äºåä¸€å¤©çš„è‚¡ä»·ï¼Œåˆ™å¯ä»¥è®¤ä¸ºå­˜åœ¨ä¸€ä¸ªã€Œäº¤æ˜“é€†åºå¯¹ã€ã€‚è¯·è®¾è®¡ä¸€ä¸ªç¨‹åºï¼Œè¾“å…¥ä¸€æ®µæ—¶é—´å†…çš„è‚¡ç¥¨äº¤æ˜“è®°å½• <code>record</code>ï¼Œè¿”å›å…¶ä¸­å­˜åœ¨çš„ã€Œäº¤æ˜“é€†åºå¯¹ã€æ€»æ•°ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong> record = [9, 7, 5, 4, 6]</p><p><strong>è¾“å‡ºï¼š</strong> 8</p><p><strong>è§£é‡Šï¼š</strong> äº¤æ˜“ä¸­çš„é€†åºå¯¹ä¸º (9, 7), (9, 5), (9, 4), (9, 6), (7, 5), (7, 4), (7, 6), (5, 4)ã€‚</p></blockquote><p><strong>é™åˆ¶ï¼š</strong></p><p><code>0 &lt;= record.length &lt;= 50000</code></p><h2 id="è§£é¢˜æ€è·¯" tabindex="-1"><a class="header-anchor" href="#è§£é¢˜æ€è·¯" aria-hidden="true">#</a> è§£é¢˜æ€è·¯</h2><p>å¯ä»¥ä½¿ç”¨æ”¹è¿›çš„å½’å¹¶æ’åºç®—æ³•ï¼Œè¿™ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º <code>O(n log n)</code>ï¼Œé€‚åˆå¤„ç†å¤§è§„æ¨¡æ•°æ®ã€‚</p><ol><li><p><strong>é€†åºå¯¹çš„å®šä¹‰</strong>ï¼šå¯¹äºæ•°ç»„ä¸­çš„ä¸¤ä¸ªå…ƒç´  <code>i</code> å’Œ <code>j</code>ï¼Œå¦‚æœ <code>i &lt; j</code> ä¸” <code>record[i] &gt; record[j]</code>ï¼Œåˆ™ç§°è¿™å¯¹å…ƒç´ ä¸ºé€†åºå¯¹ã€‚</p></li><li><p><strong>ä½¿ç”¨å½’å¹¶æ’åº</strong>ï¼šé€šè¿‡å½’å¹¶æ’åºçš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åœ¨åˆå¹¶çš„æ­¥éª¤ä¸­è®¡ç®—é€†åºå¯¹çš„æ•°é‡ã€‚å…·ä½“æ¥è¯´ï¼Œåœ¨åˆå¹¶ä¸¤ä¸ªæœ‰åºå­æ•°ç»„æ—¶ï¼Œå¦‚æœå·¦å­æ•°ç»„çš„å½“å‰å…ƒç´ å¤§äºå³å­æ•°ç»„çš„å½“å‰å…ƒç´ ï¼Œé‚£ä¹ˆå·¦å­æ•°ç»„ä¸­å½“å‰å…ƒç´ ä¹‹åçš„æ‰€æœ‰å…ƒç´ éƒ½ä¼šä¸å³å­æ•°ç»„çš„å½“å‰å…ƒç´ å½¢æˆé€†åºå¯¹ã€‚</p></li></ol><h4 id="å¤æ‚åº¦åˆ†æ" tabindex="-1"><a class="header-anchor" href="#å¤æ‚åº¦åˆ†æ" aria-hidden="true">#</a> å¤æ‚åº¦åˆ†æ</h4><ul><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š <code>O(n log n)</code>ï¼Œå› ä¸ºä½¿ç”¨äº†å½’å¹¶æ’åºã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š <code>O(n)</code>ï¼Œéœ€è¦ä¸€ä¸ªä¸´æ—¶æ•°ç»„æ¥å­˜å‚¨åˆå¹¶è¿‡ç¨‹ä¸­çš„ç»“æœã€‚</li></ul><h2 id="ä»£ç " tabindex="-1"><a class="header-anchor" href="#ä»£ç " aria-hidden="true">#</a> ä»£ç </h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token parameter">record</span>
 * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span>
 */</span>
<span class="token keyword">function</span> <span class="token function">reversePairs</span><span class="token punctuation">(</span><span class="token parameter">record</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">let</span> temp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> <span class="token function-variable function">mergeSort</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&gt;=</span> right<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> mid <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">mergeSort</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">mergeSort</span><span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">merge</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> <span class="token function-variable function">merge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> i <span class="token operator">=</span> left<span class="token punctuation">;</span>
		<span class="token keyword">let</span> j <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">let</span> k <span class="token operator">=</span> left<span class="token punctuation">;</span>

		<span class="token comment">// è®¡ç®—é€†åºå¯¹</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> right <span class="token operator">&amp;&amp;</span> record<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> record<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				j<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			count <span class="token operator">+=</span> j <span class="token operator">-</span> <span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®°å½•é€†åºå¯¹çš„æ•°é‡</span>
			i<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// åˆå¹¶ä¸¤ä¸ªæœ‰åºå­æ•°ç»„</span>
		i <span class="token operator">=</span> left<span class="token punctuation">;</span>
		j <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> mid <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> record<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				temp<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> record<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				temp<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> record<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			temp<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> record<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			temp<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> record<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token operator">=</span> left<span class="token punctuation">;</span> index <span class="token operator">&lt;=</span> right<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			record<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> record<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13);function j(S,z){const o=e("font"),p=e("RouterLink"),c=e("ExternalLinkIcon");return i(),u("div",null,[d,n("p",null,[s("ğŸ”´ "),a(o,{color:"#ff334b"},{default:t(()=>[s("Hard")]),_:1}),s("â€ƒ ğŸ”–â€‚ "),a(p,{to:"/tag/binary-indexed-tree.html"},{default:t(()=>[m]),_:1}),s(),a(p,{to:"/tag/segment-tree.html"},{default:t(()=>[v]),_:1}),s(),a(p,{to:"/tag/array.html"},{default:t(()=>[b]),_:1}),s(),a(p,{to:"/tag/binary-search.html"},{default:t(()=>[h]),_:1}),s(),a(p,{to:"/tag/divide-and-conquer.html"},{default:t(()=>[g]),_:1}),s(),a(p,{to:"/tag/ordered-set.html"},{default:t(()=>[f]),_:1}),s(),a(p,{to:"/tag/merge-sort.html"},{default:t(()=>[_]),_:1}),s("â€ƒ ğŸ”—â€‚"),n("a",w,[y,a(c)])]),x])}const N=l(k,[["render",j],["__file","jz_offer_51_1.html.vue"]]);export{N as default};
