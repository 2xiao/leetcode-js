import{_ as i,r as o,o as l,c as d,a as n,b as s,d as t,w as e,e as r}from"./app-fBVbqwGY.js";const u={},g=n("h1",{id:"_388-æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_388-æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„","aria-hidden":"true"},"#"),s(" 388. æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„")],-1),h=n("code",null,"æ ˆ",-1),k=n("code",null,"æ·±åº¦ä¼˜å…ˆæœç´¢",-1),b=n("code",null,"å­—ç¬¦ä¸²",-1),f={href:"https://leetcode.cn/problems/longest-absolute-file-path",target:"_blank",rel:"noopener noreferrer"},m=n("code",null,"åŠ›æ‰£",-1),x={href:"https://leetcode.com/problems/longest-absolute-file-path",target:"_blank",rel:"noopener noreferrer"},v=n("code",null,"LeetCode",-1),q=r(`<h2 id="é¢˜ç›®" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®" aria-hidden="true">#</a> é¢˜ç›®</h2><p>Suppose we have a file system that stores both files and directories. An example of one system is represented in the following picture:</p><figure><img src="https://assets.leetcode.com/uploads/2020/08/28/mdir.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Here, we have <code>dir</code> as the only directory in the root. <code>dir</code> contains two subdirectories, <code>subdir1</code> and <code>subdir2</code>. <code>subdir1</code> contains a file <code>file1.ext</code> and subdirectory <code>subsubdir1</code>. <code>subdir2</code> contains a subdirectory <code>subsubdir2</code>, which contains a file <code>file2.ext</code>.</p><p>In text form, it looks like this (with âŸ¶ representing the tab character):</p><blockquote><p>dir</p><p>âŸ¶ subdir1</p><p>âŸ¶ âŸ¶ file1.ext</p><p>âŸ¶ âŸ¶ subsubdir1</p><p>âŸ¶ subdir2</p><p>âŸ¶ âŸ¶ subsubdir2</p><p>âŸ¶ âŸ¶ âŸ¶ file2.ext</p></blockquote><p>If we were to write this representation in code, it will look like this: <code>&quot;dir\\n\\tsubdir1\\n\\t\\tfile1.ext\\n\\t\\tsubsubdir1\\n\\tsubdir2\\n\\t\\tsubsubdir2\\n\\t\\t\\tfile2.ext&quot;</code>. Note that the <code>&#39;\\n&#39;</code> and <code>&#39;\\t&#39;</code> are the new-line and tab characters.</p><p>Every file and directory has a unique <strong>absolute path</strong> in the file system, which is the order of directories that must be opened to reach the file/directory itself, all concatenated by <code>&#39;/&#39;s</code>. Using the above example, the <strong>absolute path</strong> to <code>file2.ext</code> is <code>&quot;dir/subdir2/subsubdir2/file2.ext&quot;</code>. Each directory name consists of letters, digits, and/or spaces. Each file name is of the form <code>name.extension</code>, where <code>name</code> and <code>extension</code> consist of letters, digits, and/or spaces.</p><p>Given a string <code>input</code> representing the file system in the explained format, return <em>the length of the<strong>longest absolute path</strong> to a <strong>file</strong> in the abstracted file system</em>. If there is no file in the system, return <code>0</code>.</p><p><strong>Note</strong> that the testcases are generated such that the file system is valid and no file or directory name has length 0.</p><p><strong>Example 1:</strong></p><figure><img src="https://assets.leetcode.com/uploads/2020/08/28/dir1.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>Input: input = &quot;dir\\n\\tsubdir1\\n\\tsubdir2\\n\\t\\tfile.ext&quot;</p><p>Output: 20</p><p>Explanation: We have only one file, and the absolute path is &quot;dir/subdir2/file.ext&quot; of length 20.</p></blockquote><p><strong>Example 2:</strong></p><figure><img src="https://assets.leetcode.com/uploads/2020/08/28/dir2.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>Input: input = &quot;dir\\n\\tsubdir1\\n\\t\\tfile1.ext\\n\\t\\tsubsubdir1\\n\\tsubdir2\\n\\t\\tsubsubdir2\\n\\t\\t\\tfile2.ext&quot;</p><p>Output: 32</p><p>Explanation: We have two files:</p><p>&quot;dir/subdir1/file1.ext&quot; of length 21</p><p>&quot;dir/subdir2/subsubdir2/file2.ext&quot; of length 32.</p><p>We return 32 since it is the longest absolute path to a file.</p></blockquote><p><strong>Example 3:</strong></p><blockquote><p>Input: input = &quot;a&quot;</p><p>Output: 0</p><p>Explanation: We do not have any files, just a single directory named &quot;a&quot;.</p></blockquote><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= input.length &lt;= 10^4</code></li><li><code>input</code> may contain lowercase or uppercase English letters, a new line character <code>&#39;\\n&#39;</code>, a tab character <code>&#39;\\t&#39;</code>, a dot <code>&#39;.&#39;</code>, a space <code>&#39; &#39;</code>, and digits.</li><li>All file and directory names have <strong>positive</strong> length.</li></ul><h2 id="é¢˜ç›®å¤§æ„" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®å¤§æ„" aria-hidden="true">#</a> é¢˜ç›®å¤§æ„</h2><p>å‡è®¾æœ‰ä¸€ä¸ªåŒæ—¶å­˜å‚¨æ–‡ä»¶å’Œç›®å½•çš„æ–‡ä»¶ç³»ç»Ÿã€‚ä¸‹å›¾å±•ç¤ºäº†æ–‡ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure><img src="https://assets.leetcode.com/uploads/2020/08/28/mdir.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¿™é‡Œå°† <code>dir</code> ä½œä¸ºæ ¹ç›®å½•ä¸­çš„å”¯ä¸€ç›®å½•ã€‚<code>dir</code> åŒ…å«ä¸¤ä¸ªå­ç›®å½• <code>subdir1</code> å’Œ <code>subdir2</code> ã€‚<code>subdir1</code> åŒ…å«æ–‡ä»¶ <code>file1.ext</code> å’Œå­ç›®å½• <code>subsubdir1</code>ï¼›<code>subdir2</code> åŒ…å«å­ç›®å½• <code>subsubdir2</code>ï¼Œè¯¥å­ç›®å½•ä¸‹åŒ…å«æ–‡ä»¶ <code>file2.ext</code> ã€‚</p><p>åœ¨æ–‡æœ¬æ ¼å¼ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤º(âŸ¶ è¡¨ç¤ºåˆ¶è¡¨ç¬¦)ï¼š</p><blockquote><p>dir</p><p>âŸ¶ subdir1</p><p>âŸ¶ âŸ¶ file1.ext</p><p>âŸ¶ âŸ¶ subsubdir1</p><p>âŸ¶ subdir2</p><p>âŸ¶ âŸ¶ subsubdir2</p><p>âŸ¶ âŸ¶ âŸ¶ file2.ext</p></blockquote><p>å¦‚æœæ˜¯ä»£ç è¡¨ç¤ºï¼Œä¸Šé¢çš„æ–‡ä»¶ç³»ç»Ÿå¯ä»¥å†™ä¸º <code>&quot;dir\\n\\tsubdir1\\n\\t\\tfile1.ext\\n\\t\\tsubsubdir1\\n\\tsubdir2\\n\\t\\tsubsubdir2\\n\\t\\t\\tfile2.ext&quot;</code> ã€‚<code>&#39;\\n&#39;</code> å’Œ <code>&#39;\\t&#39;</code> åˆ†åˆ«æ˜¯æ¢è¡Œç¬¦å’Œåˆ¶è¡¨ç¬¦ã€‚</p><p>æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ¯ä¸ªæ–‡ä»¶å’Œæ–‡ä»¶å¤¹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ <strong>ç»å¯¹è·¯å¾„</strong> ï¼Œå³å¿…é¡»æ‰“å¼€æ‰èƒ½åˆ°è¾¾æ–‡ä»¶/ç›®å½•æ‰€åœ¨ä½ç½®çš„ç›®å½•é¡ºåºï¼Œæ‰€æœ‰è·¯å¾„ç”¨ <code>&#39;/&#39;</code> è¿æ¥ã€‚ä¸Šé¢ä¾‹å­ä¸­ï¼ŒæŒ‡å‘ <code>file2.ext</code> çš„ <strong>ç»å¯¹è·¯å¾„</strong> æ˜¯ <code>&quot;dir/subdir2/subsubdir2/file2.ext&quot;</code> ã€‚æ¯ä¸ªç›®å½•åç”±å­—æ¯ã€æ•°å­—å’Œ/æˆ–ç©ºæ ¼ç»„æˆï¼Œæ¯ä¸ªæ–‡ä»¶åéµå¾ª <code>name.extension</code> çš„æ ¼å¼ï¼Œå…¶ä¸­ <code>name</code> å’Œ <code>extension</code>ç”±å­—æ¯ã€æ•°å­—å’Œ/æˆ–ç©ºæ ¼ç»„æˆã€‚</p><p>ç»™å®šä¸€ä¸ªä»¥ä¸Šè¿°æ ¼å¼è¡¨ç¤ºæ–‡ä»¶ç³»ç»Ÿçš„å­—ç¬¦ä¸² <code>input</code> ï¼Œè¿”å›æ–‡ä»¶ç³»ç»Ÿä¸­ <em>æŒ‡å‘ <strong>æ–‡ä»¶</strong> çš„ <strong>æœ€é•¿ç»å¯¹è·¯å¾„</strong> çš„é•¿åº¦</em> ã€‚ å¦‚æœç³»ç»Ÿä¸­æ²¡æœ‰æ–‡ä»¶ï¼Œè¿”å› <code>0</code>ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure><img src="https://assets.leetcode.com/uploads/2020/08/28/dir1.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p><strong>è¾“å…¥ï¼š</strong> input = &quot;dir\\n\\tsubdir1\\n\\tsubdir2\\n\\t\\tfile.ext&quot;</p><p><strong>è¾“å‡ºï¼š</strong> 20</p><p><strong>è§£é‡Šï¼š</strong> åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œç»å¯¹è·¯å¾„ä¸º &quot;dir/subdir2/file.ext&quot; ï¼Œè·¯å¾„é•¿åº¦ 20</p></blockquote><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure><img src="https://assets.leetcode.com/uploads/2020/08/28/dir2.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p><strong>è¾“å…¥ï¼š</strong> input = &quot;dir\\n\\tsubdir1\\n\\t\\tfile1.ext\\n\\t\\tsubsubdir1\\n\\tsubdir2\\n\\t\\tsubsubdir2\\n\\t\\t\\tfile2.ext&quot;</p><p><strong>è¾“å‡ºï¼š</strong> 32</p><p><strong>è§£é‡Šï¼š</strong> å­˜åœ¨ä¸¤ä¸ªæ–‡ä»¶ï¼š</p><p>&quot;dir/subdir1/file1.ext&quot; ï¼Œè·¯å¾„é•¿åº¦ 21</p><p>&quot;dir/subdir2/subsubdir2/file2.ext&quot; ï¼Œè·¯å¾„é•¿åº¦ 32</p><p>è¿”å› 32 ï¼Œå› ä¸ºè¿™æ˜¯æœ€é•¿çš„è·¯å¾„</p></blockquote><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong> input = &quot;a&quot;</p><p><strong>è¾“å‡ºï¼š</strong> 0</p><p><strong>è§£é‡Šï¼š</strong> ä¸å­˜åœ¨ä»»ä½•æ–‡ä»¶</p></blockquote><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong> input = &quot;file1.txt\\nfile2.txt\\nlongfile.txt&quot;</p><p><strong>è¾“å‡ºï¼š</strong> 12</p><p><strong>è§£é‡Šï¼š</strong> æ ¹ç›®å½•ä¸‹æœ‰ 3 ä¸ªæ–‡ä»¶ã€‚</p><p>å› ä¸ºæ ¹ç›®å½•ä¸­ä»»ä½•ä¸œè¥¿çš„ç»å¯¹è·¯å¾„åªæ˜¯åç§°æœ¬èº«ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ &quot;longfile.txt&quot; ï¼Œè·¯å¾„é•¿åº¦ä¸º 12</p></blockquote><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= input.length &lt;= 10^4</code></li><li><code>input</code> å¯èƒ½åŒ…å«å°å†™æˆ–å¤§å†™çš„è‹±æ–‡å­—æ¯ï¼Œä¸€ä¸ªæ¢è¡Œç¬¦ <code>&#39;\\n&#39;</code>ï¼Œä¸€ä¸ªåˆ¶è¡¨ç¬¦ <code>&#39;\\t&#39;</code>ï¼Œä¸€ä¸ªç‚¹ <code>&#39;.&#39;</code>ï¼Œä¸€ä¸ªç©ºæ ¼ <code>&#39; &#39;</code>ï¼Œå’Œæ•°å­—ã€‚</li></ul><h2 id="è§£é¢˜æ€è·¯" tabindex="-1"><a class="header-anchor" href="#è§£é¢˜æ€è·¯" aria-hidden="true">#</a> è§£é¢˜æ€è·¯</h2><ol><li><p><strong>è§£æè·¯å¾„</strong>ï¼š<br> å°†è¾“å…¥å­—ç¬¦ä¸²é€šè¿‡ <code>\\n</code> æ‹†åˆ†æˆè·¯å¾„ç‰‡æ®µï¼Œå­˜å‚¨åˆ°æ•°ç»„ <code>arr</code> ä¸­ã€‚</p></li><li><p><strong>ç¼“å­˜è·¯å¾„é•¿åº¦</strong>ï¼š<br> ç”¨ <code>cache</code> æ¥å­˜å‚¨æ¯ä¸€å±‚çš„å½“å‰è·¯å¾„é•¿åº¦ï¼Œåˆå§‹å€¼ä¸º <code>cache.set(0, 0)</code>ï¼Œè¡¨ç¤ºæ ¹å±‚è·¯å¾„é•¿åº¦ä¸º 0ã€‚</p></li><li><p><strong>éå†è·¯å¾„ç‰‡æ®µ</strong>ï¼š</p><ul><li>å»é™¤ <code>\\t</code> å¾—åˆ°å®é™…æ–‡ä»¶åæˆ–ç›®å½•å <code>name</code>ï¼Œè®¡ç®—å…¶å±‚çº§ <code>depth = str.length - name.length</code>ã€‚</li><li>åˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶ (<code>name.includes(&#39;.&#39;)</code>)ï¼š <ul><li>å¦‚æœæ˜¯æ–‡ä»¶ï¼Œè®¡ç®—å®Œæ•´è·¯å¾„é•¿åº¦å¹¶æ›´æ–° <code>res</code>ã€‚</li></ul></li><li>å¦‚æœæ˜¯ç›®å½•ï¼Œå°†å…¶é•¿åº¦ç¼“å­˜ <code>cache.set(depth + 1, cache.get(depth) + name.length + 1)</code>ï¼ˆ+1 æ˜¯å› ä¸ºéœ€è¦åŠ ä¸Š <code>/</code> åˆ†éš”ç¬¦ï¼‰ã€‚</li></ul></li></ol><h4 id="å¤æ‚åº¦åˆ†æ" tabindex="-1"><a class="header-anchor" href="#å¤æ‚åº¦åˆ†æ" aria-hidden="true">#</a> å¤æ‚åº¦åˆ†æ</h4><ul><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n)</code>ï¼Œå…¶ä¸­ <code>n</code> æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œæ¯ä¸ªå­—ç¬¦åªå¤„ç†ä¸€æ¬¡ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š<code>O(d)</code>ï¼Œå…¶ä¸­ <code>d</code> æ˜¯ç›®å½•æ·±åº¦ï¼Œéœ€è¦å­˜å‚¨æ¯å±‚è·¯å¾„é•¿åº¦ã€‚</li></ul><h2 id="ä»£ç " tabindex="-1"><a class="header-anchor" href="#ä»£ç " aria-hidden="true">#</a> ä»£ç </h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">input</span>
 * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span>
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">lengthLongestPath</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> paths <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;\\n&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">let</span> maxLen <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> path <span class="token keyword">of</span> paths<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> name <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\t</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> depth <span class="token operator">=</span> path<span class="token punctuation">.</span>length <span class="token operator">-</span> name<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			maxLen <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxLen<span class="token punctuation">,</span> cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>depth<span class="token punctuation">)</span> <span class="token operator">+</span> name<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			cache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>depth<span class="token punctuation">)</span> <span class="token operator">+</span> name<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> maxLen<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,47);function _(y,w){const c=o("font"),a=o("RouterLink"),p=o("ExternalLinkIcon");return l(),d("div",null,[g,n("p",null,[s("ğŸŸ  "),t(c,{color:"#ffb800"},{default:e(()=>[s("Medium")]),_:1}),s("â€ƒ ğŸ”–â€‚ "),t(a,{to:"/tag/stack.html"},{default:e(()=>[h]),_:1}),s(),t(a,{to:"/tag/depth-first-search.html"},{default:e(()=>[k]),_:1}),s(),t(a,{to:"/tag/string.html"},{default:e(()=>[b]),_:1}),s("â€ƒ ğŸ”—â€‚"),n("a",f,[m,t(p)]),s(),n("a",x,[v,t(p)])]),q])}const j=i(u,[["render",_],["__file","0388.html.vue"]]);export{j as default};
