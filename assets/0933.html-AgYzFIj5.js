import{_ as l,r as o,o as i,c as u,a as n,b as s,d as a,w as e,e as r}from"./app-fBVbqwGY.js";const d={},k=n("h1",{id:"_933-æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_933-æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°","aria-hidden":"true"},"#"),s(" 933. æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°")],-1),m=n("code",null,"è®¾è®¡",-1),g=n("code",null,"é˜Ÿåˆ—",-1),h=n("code",null,"æ•°æ®æµ",-1),v={href:"https://leetcode.cn/problems/number-of-recent-calls",target:"_blank",rel:"noopener noreferrer"},b=n("code",null,"åŠ›æ‰£",-1),f={href:"https://leetcode.com/problems/number-of-recent-calls",target:"_blank",rel:"noopener noreferrer"},q=n("code",null,"LeetCode",-1),_=r(`<h2 id="é¢˜ç›®" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®" aria-hidden="true">#</a> é¢˜ç›®</h2><p>You have a <code>RecentCounter</code> class which counts the number of recent requests within a certain time frame.</p><p>Implement the <code>RecentCounter</code> class:</p><ul><li><code>RecentCounter()</code> Initializes the counter with zero recent requests.</li><li><code>int ping(int t)</code> Adds a new request at time <code>t</code>, where <code>t</code> represents some time in milliseconds, and returns the number of requests that has happened in the past <code>3000</code> milliseconds (including the new request). Specifically, return the number of requests that have happened in the inclusive range <code>[t - 3000, t]</code>.</li></ul><p>It is <strong>guaranteed</strong> that every call to <code>ping</code> uses a strictly larger value of <code>t</code> than the previous call.</p><p><strong>Example 1:</strong></p><blockquote><p><strong>Input</strong></p><p>[&quot;RecentCounter&quot;, &quot;ping&quot;, &quot;ping&quot;, &quot;ping&quot;, &quot;ping&quot;]</p><p>[[], [1], [100], [3001], [3002]]</p><p><strong>Output</strong></p><p>[null, 1, 2, 3, 3]</p><p><strong>Explanation</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>RecentCounter recentCounter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RecentCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
recentCounter<span class="token punctuation">.</span><span class="token function">ping</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// requests = [1], range is [-2999,1], return 1</span>
recentCounter<span class="token punctuation">.</span><span class="token function">ping</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// requests = [1 , 100], range is [-2900,100], return 2</span>
recentCounter<span class="token punctuation">.</span><span class="token function">ping</span><span class="token punctuation">(</span><span class="token number">3001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// requests = [1 , 100 , 3001], range is [1,3001], return 3</span>
recentCounter<span class="token punctuation">.</span><span class="token function">ping</span><span class="token punctuation">(</span><span class="token number">3002</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// requests = [1, 100 , 3001 , 3002], range is [2,3002], return 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= t &lt;= 10^9</code></li><li>Each test case will call <code>ping</code> with <strong>strictly increasing</strong> values of <code>t</code>.</li><li>At most <code>10^4</code> calls will be made to <code>ping</code>.</li></ul><h2 id="é¢˜ç›®å¤§æ„" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®å¤§æ„" aria-hidden="true">#</a> é¢˜ç›®å¤§æ„</h2><p>å†™ä¸€ä¸ª <code>RecentCounter</code> ç±»æ¥è®¡ç®—ç‰¹å®šæ—¶é—´èŒƒå›´å†…æœ€è¿‘çš„è¯·æ±‚ã€‚</p><p>è¯·ä½ å®ç° <code>RecentCounter</code> ç±»ï¼š</p><ul><li><code>RecentCounter()</code> åˆå§‹åŒ–è®¡æ•°å™¨ï¼Œè¯·æ±‚æ•°ä¸º 0 ã€‚</li><li><code>int ping(int t)</code> åœ¨æ—¶é—´ <code>t</code> æ·»åŠ ä¸€ä¸ªæ–°è¯·æ±‚ï¼Œå…¶ä¸­ <code>t</code> è¡¨ç¤ºä»¥æ¯«ç§’ä¸ºå•ä½çš„æŸä¸ªæ—¶é—´ï¼Œå¹¶è¿”å›è¿‡å» <code>3000</code> æ¯«ç§’å†…å‘ç”Ÿçš„æ‰€æœ‰è¯·æ±‚æ•°ï¼ˆåŒ…æ‹¬æ–°è¯·æ±‚ï¼‰ã€‚ç¡®åˆ‡åœ°è¯´ï¼Œè¿”å›åœ¨ <code>[t-3000, t]</code> å†…å‘ç”Ÿçš„è¯·æ±‚æ•°ã€‚</li></ul><p><strong>ä¿è¯</strong> æ¯æ¬¡å¯¹ <code>ping</code> çš„è°ƒç”¨éƒ½ä½¿ç”¨æ¯”ä¹‹å‰æ›´å¤§çš„ <code>t</code> å€¼ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong></p><p>[&quot;RecentCounter&quot;, &quot;ping&quot;, &quot;ping&quot;, &quot;ping&quot;, &quot;ping&quot;]</p><p>[[], [1], [100], [3001], [3002]]</p><p><strong>è¾“å‡ºï¼š</strong></p><p>[null, 1, 2, 3, 3]</p><p><strong>è§£é‡Šï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>RecentCounter recentCounter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RecentCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
recentCounter<span class="token punctuation">.</span><span class="token function">ping</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// requests = [1], range is [-2999,1], return 1</span>
recentCounter<span class="token punctuation">.</span><span class="token function">ping</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// requests = [1 , 100], range is [-2900,100], return 2</span>
recentCounter<span class="token punctuation">.</span><span class="token function">ping</span><span class="token punctuation">(</span><span class="token number">3001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// requests = [1 , 100 , 3001], range is [1,3001], return 3</span>
recentCounter<span class="token punctuation">.</span><span class="token function">ping</span><span class="token punctuation">(</span><span class="token number">3002</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// requests = [1, 100 , 3001 , 3002], range is [2,3002], return 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= t &lt;= 10^9</code></li><li>ä¿è¯æ¯æ¬¡å¯¹ <code>ping</code> è°ƒç”¨æ‰€ä½¿ç”¨çš„ <code>t</code> å€¼éƒ½ <strong>ä¸¥æ ¼é€’å¢</strong></li><li>è‡³å¤šè°ƒç”¨ <code>ping</code> æ–¹æ³• <code>10^4</code> æ¬¡</li></ul><h2 id="è§£é¢˜æ€è·¯" tabindex="-1"><a class="header-anchor" href="#è§£é¢˜æ€è·¯" aria-hidden="true">#</a> è§£é¢˜æ€è·¯</h2><ol><li><p><strong>å±æ€§åˆå§‹åŒ–</strong>ï¼š<code>RecentCounter</code> ç±»åŒ…å«ä¸€ä¸ªæ•°ç»„ <code>requests</code>ï¼Œç”¨äºå­˜å‚¨æ‰€æœ‰è¯·æ±‚çš„æ—¶é—´æˆ³ã€‚</p></li><li><p><strong>ping æ–¹æ³•</strong>ï¼š</p><ul><li><code>ping</code> æ–¹æ³•åœ¨æ”¶åˆ°ä¸€ä¸ªæ–°è¯·æ±‚æ—¶ï¼Œå°†å½“å‰è¯·æ±‚æ—¶é—´æˆ³ <code>t</code> è®°å½•åœ¨ <code>requests</code> æ•°ç»„ä¸­ï¼Œå¹¶ç§»é™¤æ‰€æœ‰åœ¨å½“å‰æ—¶é—´ <code>t</code> çš„ 3000 æ¯«ç§’å‰çš„è¯·æ±‚ï¼ˆå³å°äº <code>t - 3000</code> çš„è¯·æ±‚ï¼‰ã€‚</li><li><code>while</code> å¾ªç¯é€ä¸€æ£€æŸ¥ <code>requests</code> çš„å¼€å¤´å…ƒç´ ï¼ˆå³æœ€æ—©çš„è¯·æ±‚æ—¶é—´ï¼‰ï¼Œå¦‚æœå°äº <code>t - 3000</code>ï¼Œåˆ™ä»é˜Ÿåˆ—çš„å¤´éƒ¨ç§»é™¤è¯¥å…ƒç´ ï¼Œç›´åˆ°åªå‰©ä¸‹åœ¨æœ€è¿‘ 3000 æ¯«ç§’å†…çš„è¯·æ±‚ã€‚</li><li>æœ€åï¼Œè¿”å›å½“å‰é˜Ÿåˆ—çš„é•¿åº¦ï¼Œå³ 3000 æ¯«ç§’å†…çš„è¯·æ±‚æ•°é‡ã€‚</li></ul></li></ol><h4 id="å¤æ‚åº¦åˆ†æ" tabindex="-1"><a class="header-anchor" href="#å¤æ‚åº¦åˆ†æ" aria-hidden="true">#</a> å¤æ‚åº¦åˆ†æ</h4><ul><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n)</code>ï¼Œå…¶ä¸­ <code>n</code> ä¸º <code>requests</code> ä¸­çš„è¯·æ±‚æ•°é‡ï¼Œæœ€åæƒ…å†µä¸‹ï¼Œæ¯æ¬¡ ping æ“ä½œéƒ½éœ€è¦ç§»é™¤æ—§è¯·æ±‚ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š<code>O(n)</code>ï¼Œå­˜å‚¨æœ€è¿‘ 3000 æ¯«ç§’å†…çš„è¯·æ±‚æ•°é‡ã€‚</li></ul><h2 id="ä»£ç " tabindex="-1"><a class="header-anchor" href="#ä»£ç " aria-hidden="true">#</a> ä»£ç </h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">RecentCounter</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>requests <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> <span class="token parameter">t</span>
 * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span>
 */</span>
<span class="token class-name">RecentCounter</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">ping</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>requests<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>requests<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> t <span class="token operator">-</span> <span class="token number">3000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// ç§»é™¤æ‰€æœ‰è¶…è¿‡ 3000 æ¯«ç§’çš„æ—§è¯·æ±‚</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>requests<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// æ·»åŠ å½“å‰è¯·æ±‚æ—¶é—´æˆ³</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>requests<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// è¿”å› 3000 æ¯«ç§’å†…çš„è¯·æ±‚æ•°é‡</span>
	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>requests<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,24);function w(C,y){const p=o("font"),t=o("RouterLink"),c=o("ExternalLinkIcon");return i(),u("div",null,[k,n("p",null,[s("ğŸŸ¢ "),a(p,{color:"#15bd66"},{default:e(()=>[s("Easy")]),_:1}),s("â€ƒ ğŸ”–â€‚ "),a(t,{to:"/tag/design.html"},{default:e(()=>[m]),_:1}),s(),a(t,{to:"/tag/queue.html"},{default:e(()=>[g]),_:1}),s(),a(t,{to:"/tag/data-stream.html"},{default:e(()=>[h]),_:1}),s("â€ƒ ğŸ”—â€‚"),n("a",v,[b,a(c)]),s(),n("a",f,[q,a(c)])]),_])}const R=l(d,[["render",w],["__file","0933.html.vue"]]);export{R as default};
