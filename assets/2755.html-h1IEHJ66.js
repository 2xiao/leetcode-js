import{_ as c,r as e,o as l,c as u,a as n,b as s,d as a,w as i,e as o}from"./app-B5EG-zH0.js";const r={},d=n("h1",{id:"_2755-æ·±åº¦åˆå¹¶ä¸¤ä¸ªå¯¹è±¡-ğŸ”’",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2755-æ·±åº¦åˆå¹¶ä¸¤ä¸ªå¯¹è±¡-ğŸ”’","aria-hidden":"true"},"#"),s(" 2755. æ·±åº¦åˆå¹¶ä¸¤ä¸ªå¯¹è±¡ ğŸ”’")],-1),b={href:"https://leetcode.cn/problems/deep-merge-of-two-objects",target:"_blank",rel:"noopener noreferrer"},k=n("code",null,"åŠ›æ‰£",-1),j={href:"https://leetcode.com/problems/deep-merge-of-two-objects",target:"_blank",rel:"noopener noreferrer"},h=n("code",null,"LeetCode",-1),g=o('<h2 id="é¢˜ç›®" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®" aria-hidden="true">#</a> é¢˜ç›®</h2><p>Given two values <code>obj1</code> and <code>obj2</code>, return a <strong>deepmerged</strong> value.</p><p>Values should be <strong>deepmerged</strong> according to these rules:</p><ul><li>If the two values are objects, the resulting object should have all the keys that exist on either object. If a key belongs to both objects, <strong>deepmerge</strong> the two associated values. Otherwise, add the key-value pair to the resulting object.</li><li>If the two values are arrays, the resulting array should be the same length as the longer array. Apply the same logic as you would with objects, but treat the indices as keys.</li><li>Otherwise the resulting value is <code>obj2</code>.</li></ul><p>You can assume <code>obj1</code> and <code>obj2</code> are the output of <code>JSON.parse()</code>.</p><p><strong>Example 1:</strong></p>',6),v=n("blockquote",null,[n("p",{"a:2,b:2":""},'Input: obj1 = {"a": 1, "c": 3}, obj2 ='),n("p",{"a:2,c:3,b:2":""},"Output:"),n("p",null,`Explanation: The value of obj1["a"] changed to 2 because if both objects have the same key and their value is not an array or object then we change the obj1 value to the obj2 value. Key "b" with value was added to obj1 as it doesn't exist in obj1.`)],-1),q=o('<p><strong>Example 2:</strong></p><blockquote><p>Input: obj1 = [{}, 2, 3], obj2 = [[], 5]</p><p>Output: [[], 5, 3]</p><p>Explanation: result[0] = obj2[0] because obj1[0] and obj2[0] have different types. result[2] = obj1[2] because obj2[2] does not exist.</p></blockquote><p><strong>Example 3:</strong></p><blockquote><p>Input:</p><p>obj1 = {&quot;a&quot;: 1, &quot;b&quot;: {&quot;c&quot;: [1 , [2, 7], 5], &quot;d&quot;: 2}},</p><p>obj2 = {&quot;a&quot;: 1, &quot;b&quot;: {&quot;c&quot;: [6, [6], [9]], &quot;e&quot;: 3}}</p><p>Output: {&quot;a&quot;: 1, &quot;b&quot;: {&quot;c&quot;: [6, [6, 7], [9]], &quot;d&quot;: 2, &quot;e&quot;: 3}}</p><p>Explanation:</p><p>Arrays obj1[&quot;b&quot;][&quot;c&quot;] and obj2[&quot;b&quot;][&quot;c&quot;] have been merged in way that obj2 values overwrite obj1 values deeply only if they are not arrays or objects.</p><p>obj2[&quot;b&quot;][&quot;c&quot;] has key &quot;e&quot; that obj1 doesn&#39;t have so it&#39;s added to obj1.</p></blockquote><p><strong>Example 4:</strong></p><blockquote><p>Input: obj1 = true, obj2 = null</p><p>Output: null</p></blockquote><p><strong>Constraints:</strong></p><ul><li><code>obj1</code> and <code>obj2</code> are valid JSON values</li><li><code>1 &lt;= JSON.stringify(obj1).length &lt;= 5 * 10^5</code></li><li><code>1 &lt;= JSON.stringify(obj2).length &lt;= 5 * 10^5</code></li></ul><h2 id="é¢˜ç›®å¤§æ„" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®å¤§æ„" aria-hidden="true">#</a> é¢˜ç›®å¤§æ„</h2><p>ç»™å®šä¸¤ä¸ªå€¼ <code>obj1</code> å’Œ <code>obj2</code>ï¼Œè¿”å›ä¸€ä¸ª <strong>æ·±åº¦åˆå¹¶</strong> çš„å€¼ã€‚</p><p>ä½ åº”è¯¥éµå¾ªä»¥ä¸‹è§„åˆ™è¿›è¡Œå€¼çš„ <strong>æ·±åº¦åˆå¹¶</strong> ï¼š</p><ul><li>å¦‚æœä¸¤ä¸ªå€¼éƒ½æ˜¯å¯¹è±¡ï¼Œåˆ™ç»“æœå¯¹è±¡åº”åŒ…å«ä¸¤ä¸ªå¯¹è±¡ä¸Šå­˜åœ¨çš„æ‰€æœ‰é”®ã€‚</li><li>å¦‚æœä¸€ä¸ªé”®åŒæ—¶å­˜åœ¨äºä¸¤ä¸ªå¯¹è±¡ä¸­ï¼Œåˆ™ <strong>æ·±åº¦åˆå¹¶</strong> ä¸¤ä¸ªå…³è”çš„å€¼ã€‚å¦åˆ™ï¼Œå°†é”®å€¼å¯¹æ·»åŠ åˆ°ç»“æœå¯¹è±¡ä¸­ã€‚</li><li>å¦‚æœä¸¤ä¸ªå€¼éƒ½æ˜¯æ•°ç»„ï¼Œåˆ™ç»“æœæ•°ç»„çš„é•¿åº¦åº”ä¸è¾ƒé•¿çš„æ•°ç»„ç›¸åŒã€‚å¯¹äºå¯¹è±¡çš„åˆå¹¶é€»è¾‘ï¼Œå°†ç´¢å¼•è§†ä¸ºé”®ã€‚</li><li>å¦åˆ™ï¼Œç»“æœå€¼ä¸º <code>obj2</code>ã€‚</li></ul><p>ä½ å¯ä»¥å‡è®¾ <code>obj1</code> å’Œ <code>obj2</code> æ˜¯ <code>JSON.parse()</code> çš„è¾“å‡ºç»“æœã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>',14),m=n("blockquote",null,[n("p",{"a:2,b:2":""},[n("strong",null,"è¾“å…¥ï¼š"),s(' obj1 = {"a": 1, "c": 3}, obj2 =')]),n("p",null,[n("strong",{"a:2,c:3,b:2":""},"è¾“å‡ºï¼š")]),n("p",null,'**è§£é‡Šï¼š**obj1["a"] çš„å€¼å˜ä¸º 2ï¼Œå› ä¸ºå¦‚æœä¸¤ä¸ªå¯¹è±¡å…·æœ‰ç›¸åŒçš„é”®ä¸”å®ƒä»¬çš„å€¼ä¸æ˜¯æ•°ç»„æˆ–å¯¹è±¡ï¼Œåˆ™å°† obj1 çš„å€¼æ›´æ”¹ä¸º obj2 çš„å€¼ã€‚é”® "b" å’Œå…¶å€¼è¢«æ·»åŠ åˆ° obj1 ä¸­ï¼Œå› ä¸ºå®ƒåœ¨ obj1 ä¸­ä¸å­˜åœ¨ã€‚')],-1),y=o(`<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong> obj1 = [{}, 2, 3], obj2 = [[], 5]</p><p><strong>è¾“å‡ºï¼š</strong>[[], 5, 3]</p><p>**è§£é‡Šï¼š**result[0] = obj2[0]ï¼Œå› ä¸º obj1[0] å’Œ obj2[0] ç±»å‹ä¸åŒã€‚result[2] = obj1[2]ï¼Œå› ä¸º obj2[2] ä¸å­˜åœ¨ã€‚</p></blockquote><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong></p><p>obj1 = {&quot;a&quot;: 1, &quot;b&quot;: {&quot;c&quot;: [1 , [2, 7], 5], &quot;d&quot;: 2}},</p><p>obj2 = {&quot;a&quot;: 1, &quot;b&quot;: {&quot;c&quot;: [6, [6], [9]], &quot;e&quot;: 3}}</p><p><strong>è¾“å‡ºï¼š</strong>{&quot;a&quot;: 1, &quot;b&quot;: {&quot;c&quot;: [6, [6, 7], [9]], &quot;d&quot;: 2, &quot;e&quot;: 3}}</p><p><strong>è§£é‡Šï¼š</strong></p><p>æ•°ç»„ obj1[&quot;b&quot;][&quot;c&quot;] å’Œ obj2[&quot;b&quot;][&quot;c&quot;] å·²åˆå¹¶ï¼Œå¦‚æœ obj2 çš„å€¼ä¸æ˜¯æ•°ç»„æˆ–å¯¹è±¡ï¼Œåˆ™æ·±åº¦è¦†ç›– obj1 çš„å€¼ã€‚ obj2[&quot;b&quot;][&quot;c&quot;] æœ‰é”® &quot;e&quot;ï¼Œè€Œ obj1 ä¸­æ²¡æœ‰ï¼Œæ‰€ä»¥å°†å…¶æ·»åŠ åˆ° obj1 ä¸­ã€‚</p></blockquote><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong> obj1 = true, obj2 = null</p><p><strong>è¾“å‡ºï¼š</strong> null</p></blockquote><p><strong>è§£é‡Šï¼š</strong></p><ul><li><code>obj1</code> å’Œ <code>obj2</code> éƒ½æ˜¯æœ‰æ•ˆçš„ JSON å€¼</li><li><code>1 &lt;= JSON.stringify(obj1).length &lt;= 5 * 10^5</code></li><li><code>1 &lt;= JSON.stringify(obj2).length &lt;= 5 * 10^5</code></li></ul><h2 id="è§£é¢˜æ€è·¯" tabindex="-1"><a class="header-anchor" href="#è§£é¢˜æ€è·¯" aria-hidden="true">#</a> è§£é¢˜æ€è·¯</h2><ol><li><p><strong>ç±»å‹åˆ¤æ–­ï¼š</strong></p><ul><li>é¢˜ç›®è¦æ±‚å¦‚æœä¸¤ä¸ªå€¼ç±»å‹ä¸åŒï¼Œåˆ™ä»¥ <code>obj2</code> ä¸ºå‡†ï¼›</li><li>é¦–å…ˆåˆ¤æ–­ <code>obj1</code> å’Œ <code>obj2</code> æ˜¯å¦éƒ½æ˜¯å¯¹è±¡ï¼Œè‹¥å…¶ä¸­ä¸€ä¸ªä¸æ˜¯å¯¹è±¡ï¼Œåˆ™ç›´æ¥è¿”å› <code>obj2</code>ï¼Œ</li><li>å†åˆ¤æ–­å®ƒä»¬æ˜¯å¦ä¸ºæ•°ç»„ï¼Œå¦‚æœä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ˜¯æ•°ç»„ï¼Œåˆ™ç›´æ¥è¿”å› <code>obj2</code>ï¼›</li></ul></li><li><p><strong>å¤„ç†æ•°ç»„ï¼š</strong></p><ul><li>å¦‚æœ <code>obj1</code> å’Œ <code>obj2</code> éƒ½æ˜¯æ•°ç»„ï¼Œé¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå¹¶å°† <code>obj1</code> çš„æ‰€æœ‰å€¼å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ã€‚</li><li>ç„¶åï¼Œéå† <code>obj2</code> çš„ç´¢å¼•ï¼Œæ£€æŸ¥ <code>obj1</code> æ˜¯å¦æœ‰ç›¸åº”çš„ç´¢å¼•ã€‚å¦‚æœæœ‰ï¼Œé€’å½’åˆå¹¶è¿™ä¸¤ä¸ªç´¢å¼•çš„å€¼ï¼›å¦‚æœæ²¡æœ‰ï¼Œç›´æ¥å°† <code>obj2</code> ä¸­çš„ç´¢å¼•å€¼èµ‹ç»™æ–°æ•°ç»„ã€‚</li></ul></li><li><p><strong>å¤„ç†å¯¹è±¡ï¼š</strong></p><ul><li>å¦‚æœ <code>obj1</code> å’Œ <code>obj2</code> éƒ½æ˜¯å¯¹è±¡ï¼Œé¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶å°† <code>obj1</code> çš„æ‰€æœ‰é”®å€¼å¯¹å¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­ã€‚</li><li>ç„¶åï¼Œéå† <code>obj2</code> çš„é”®ï¼Œæ£€æŸ¥ <code>obj1</code> æ˜¯å¦æœ‰ç›¸åº”çš„é”®ã€‚å¦‚æœæœ‰ï¼Œé€’å½’åˆå¹¶è¿™ä¸¤ä¸ªé”®çš„å€¼ï¼›å¦‚æœæ²¡æœ‰ï¼Œç›´æ¥å°† <code>obj2</code> ä¸­çš„å€¼èµ‹ç»™æ–°å¯¹è±¡ã€‚</li></ul></li><li><p><strong>è¿”å›ç»“æœï¼š</strong></p><ul><li>æœ€ç»ˆï¼Œè¿”å›åˆå¹¶åçš„å¯¹è±¡æˆ–æ•°ç»„ã€‚</li></ul></li></ol><h4 id="å¤æ‚åº¦åˆ†æ" tabindex="-1"><a class="header-anchor" href="#å¤æ‚åº¦åˆ†æ" aria-hidden="true">#</a> å¤æ‚åº¦åˆ†æ</h4><ul><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n)</code>ï¼Œå…¶ä¸­ <code>n</code> æ˜¯ä¸¤ä¸ªå¯¹è±¡æˆ–æ•°ç»„ä¸­å…ƒç´ çš„æ€»æ•°ï¼Œæ¯ä¸ªå…ƒç´ éƒ½éœ€è¦è¢«é€’å½’è®¿é—®ä¸€æ¬¡ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š<code>O(n)</code>ï¼Œå…¶ä¸­ <code>n</code> æ˜¯é€’å½’æ·±åº¦æˆ–å…ƒç´ æ€»æ•°ï¼Œé€’å½’åˆå¹¶æ—¶éœ€è¦é¢å¤–çš„æ ˆç©ºé—´ã€‚</li></ul><h2 id="ä»£ç " tabindex="-1"><a class="header-anchor" href="#ä»£ç " aria-hidden="true">#</a> ä»£ç </h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Object<span class="token operator">|</span>Array<span class="token punctuation">}</span></span> <span class="token parameter">obj1</span>
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Object<span class="token operator">|</span>Array<span class="token punctuation">}</span></span> <span class="token parameter">obj2</span>
 * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">{</span>Object<span class="token punctuation">}</span></span>
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">deepMerge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj1<span class="token punctuation">,</span> obj2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token function-variable function">isObject</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">&amp;&amp;</span> obj <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token function-variable function">isArray</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// å¦‚æœ obj1 æˆ– obj2 æ˜¯åŸºæœ¬ç±»å‹ï¼Œç›´æ¥è¿”å› obj2</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isObject</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isObject</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> obj2<span class="token punctuation">;</span>

	<span class="token comment">// å¦‚æœ obj1 å’Œ obj2 ç±»å‹ä¸ä¸€è‡´ï¼ˆä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯æ•°ç»„ï¼‰ï¼Œç›´æ¥è¿”å› obj2</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token function">isArray</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> obj2<span class="token punctuation">;</span>

	<span class="token comment">// å¦‚æœä¸¤ä¸ªéƒ½æ˜¯æ•°ç»„ï¼Œåˆ™åˆå¹¶æ•°ç»„å…ƒç´ </span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isArray</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>obj1<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxLength<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepMerge</span><span class="token punctuation">(</span>obj1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> obj2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> result<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// å¦‚æœæ˜¯å¯¹è±¡ï¼Œåˆ™é€’å½’åˆå¹¶æ¯ä¸ªé”®å€¼å¯¹</span>
	<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj1 <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡é¿å…ä¿®æ”¹åŸå§‹å¯¹è±¡</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepMerge</span><span class="token punctuation">(</span>obj1<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> obj2<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14);function f(_,w){const p=e("font"),t=e("ExternalLinkIcon");return l(),u("div",null,[d,n("p",null,[s("ğŸŸ  "),a(p,{color:"#ffb800"},{default:i(()=>[s("Medium")]),_:1}),s("â€ƒ ğŸ”—â€‚"),n("a",b,[k,a(t)]),s(),n("a",j,[h,a(t)])]),g,v,q,m,y])}const O=c(r,[["render",f],["__file","2755.html.vue"]]);export{O as default};
