import{_ as l,r as o,o as i,c as u,a as n,b as s,d as a,w as t,e as r}from"./app-fBVbqwGY.js";const d={},k=n("h1",{id:"_384-æ‰“ä¹±æ•°ç»„",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_384-æ‰“ä¹±æ•°ç»„","aria-hidden":"true"},"#"),s(" 384. æ‰“ä¹±æ•°ç»„")],-1),m=n("code",null,"æ•°ç»„",-1),v=n("code",null,"æ•°å­¦",-1),h=n("code",null,"éšæœºåŒ–",-1),f={href:"https://leetcode.cn/problems/shuffle-an-array",target:"_blank",rel:"noopener noreferrer"},b=n("code",null,"åŠ›æ‰£",-1),g={href:"https://leetcode.com/problems/shuffle-an-array",target:"_blank",rel:"noopener noreferrer"},_=n("code",null,"LeetCode",-1),y=r(`<h2 id="é¢˜ç›®" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®" aria-hidden="true">#</a> é¢˜ç›®</h2><p>Given an integer array <code>nums</code>, design an algorithm to randomly shuffle the array. All permutations of the array should be <strong>equally likely</strong> as a result of the shuffling.</p><p>Implement the <code>Solution</code> class:</p><ul><li><code>Solution(int[] nums)</code> Initializes the object with the integer array <code>nums</code>.</li><li><code>int[] reset()</code> Resets the array to its original configuration and returns it.</li><li><code>int[] shuffle()</code> Returns a random shuffling of the array.</li></ul><p><strong>Example 1:</strong></p><blockquote><p><strong>Input</strong></p><p>[&quot;Solution&quot;, &quot;shuffle&quot;, &quot;reset&quot;, &quot;shuffle&quot;]</p><p>[[[1, 2, 3]], [], [], []]</p><p><strong>Output</strong></p><p>[null, [3, 1, 2], [1, 2, 3], [1, 3, 2]]</p><p><strong>Explanation</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Solution solution <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Solution</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

solution<span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Shuffle the array [1,2,3] and return its result.</span>

<span class="token comment">// Any permutation of [1,2,3] must be equally likely to be returned.</span>

<span class="token comment">// Example: return [3, 1, 2]</span>

solution<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Resets the array back to its original configuration [1,2,3]. Return [1, 2, 3]</span>

solution<span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Returns the random shuffling of array [1,2,3]. Example: return [1, 3, 2]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 50</code></li><li><code>-10^6 &lt;= nums[i] &lt;= 10^6</code></li><li>All the elements of <code>nums</code> are <strong>unique</strong>.</li><li>At most <code>10^4</code> calls <strong>in total</strong> will be made to <code>reset</code> and <code>shuffle</code>.</li></ul><h2 id="é¢˜ç›®å¤§æ„" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®å¤§æ„" aria-hidden="true">#</a> é¢˜ç›®å¤§æ„</h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œè®¾è®¡ç®—æ³•æ¥æ‰“ä¹±ä¸€ä¸ªæ²¡æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ã€‚æ‰“ä¹±åï¼Œæ•°ç»„çš„æ‰€æœ‰æ’åˆ—åº”è¯¥æ˜¯ <strong>ç­‰å¯èƒ½</strong> çš„ã€‚</p><p>å®ç° <code>Solution</code> class:</p><ul><li><code>Solution(int[] nums)</code> ä½¿ç”¨æ•´æ•°æ•°ç»„ <code>nums</code> åˆå§‹åŒ–å¯¹è±¡</li><li><code>int[] reset()</code> é‡è®¾æ•°ç»„åˆ°å®ƒçš„åˆå§‹çŠ¶æ€å¹¶è¿”å›</li><li><code>int[] shuffle()</code> è¿”å›æ•°ç»„éšæœºæ‰“ä¹±åçš„ç»“æœ</li></ul><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><blockquote><p><strong>è¾“å…¥</strong></p><p>[&quot;Solution&quot;, &quot;shuffle&quot;, &quot;reset&quot;, &quot;shuffle&quot;]</p><p>[[[1, 2, 3]], [], [], []]</p><p><strong>è¾“å‡º</strong></p><p>[null, [3, 1, 2], [1, 2, 3], [1, 3, 2]]</p><p><strong>è§£é‡Š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Solution solution <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Solution</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

solution<span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰“ä¹±æ•°ç»„ [1,2,3] å¹¶è¿”å›ç»“æœã€‚ä»»ä½• [1,2,3]çš„æ’åˆ—è¿”å›çš„æ¦‚ç‡åº”è¯¥ç›¸åŒã€‚ä¾‹å¦‚ï¼Œè¿”å› [3, 1, 2]</span>

solution<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é‡è®¾æ•°ç»„åˆ°å®ƒçš„åˆå§‹çŠ¶æ€ [1, 2, 3] ã€‚è¿”å› [1, 2, 3]</span>

solution<span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// éšæœºè¿”å›æ•°ç»„ [1, 2, 3] æ‰“ä¹±åçš„ç»“æœã€‚ä¾‹å¦‚ï¼Œè¿”å› [1, 3, 2]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 50</code></li><li><code>-10^6 &lt;= nums[i] &lt;= 10^6</code></li><li><code>nums</code> ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯ <strong>å”¯ä¸€çš„</strong></li><li>æœ€å¤šå¯ä»¥è°ƒç”¨ <code>10^4</code> æ¬¡ <code>reset</code> å’Œ <code>shuffle</code></li></ul><h2 id="è§£é¢˜æ€è·¯" tabindex="-1"><a class="header-anchor" href="#è§£é¢˜æ€è·¯" aria-hidden="true">#</a> è§£é¢˜æ€è·¯</h2><ol><li><p><strong>åˆå§‹åŒ–ä¸ä¿å­˜åŸæ•°ç»„</strong></p><ul><li>æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ <code>this.origin = nums.slice();</code> å¤åˆ¶åŸæ•°ç»„ï¼Œé¿å…å¼•ç”¨åŒä¸€æ•°ç»„å¯¼è‡´ä¸å¿…è¦çš„ä¿®æ”¹ã€‚</li></ul></li><li><p><strong>å®ç° <code>reset()</code></strong></p><ul><li>ä½¿ç”¨ <code>slice()</code> æ–¹æ³•è¿”å›åŸæ•°ç»„çš„å‰¯æœ¬ï¼Œç¡®ä¿è°ƒç”¨ <code>reset()</code> ä¸ä¿®æ”¹åŸæ•°ç»„ã€‚</li></ul></li><li><p><strong>å®ç° <code>shuffle()</code></strong></p><ul><li>ä½¿ç”¨ <strong>Fisher-Yates æ´—ç‰Œç®—æ³•</strong>ï¼š</li><li>ä»æ•°ç»„æœ«å°¾å¼€å§‹éå†æ•°ç»„ï¼Œæ¯æ¬¡ä»æœªå¤„ç†éƒ¨åˆ†ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªæ•°ä¸å½“å‰ä½ç½®äº¤æ¢ã€‚</li><li>åœ¨æœªå¤„ç†éƒ¨åˆ†ä¸­éšæœºé€‰å–ä¸€ä¸ªç´¢å¼• <code>j</code>ï¼Œäº¤æ¢å½“å‰ç´¢å¼• <code>i</code> ä¸ <code>j</code> çš„å€¼ã€‚</li><li>è¿”å›æ´—ç‰Œåçš„æ•°ç»„ã€‚</li></ul></li></ol><h4 id="å¤æ‚åº¦åˆ†æ" tabindex="-1"><a class="header-anchor" href="#å¤æ‚åº¦åˆ†æ" aria-hidden="true">#</a> å¤æ‚åº¦åˆ†æ</h4><ul><li><strong>æ—¶é—´å¤æ‚åº¦:</strong><ul><li><code>reset()</code>: <code>O(n)</code></li><li><code>shuffle()</code>: <code>O(n)</code></li></ul></li><li><strong>ç©ºé—´å¤æ‚åº¦:</strong> <code>O(n)</code>ï¼Œç”¨äºä¿å­˜ç»“æœã€‚</li></ul><h2 id="ä»£ç " tabindex="-1"><a class="header-anchor" href="#ä»£ç " aria-hidden="true">#</a> ä»£ç </h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token parameter">nums</span>
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">Solution</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>origin <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>
 */</span>
<span class="token class-name">Solution</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">reset</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>origin<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>
 */</span>
<span class="token class-name">Solution</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">shuffle</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> shuffled <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>origin<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> n <span class="token operator">=</span> shuffled<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

	<span class="token comment">// Fisher-Yates æ´—ç‰Œ</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> j <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">[</span>shuffled<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> shuffled<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>shuffled<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> shuffled<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> shuffled<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Your Solution object will be instantiated and called as such:
 * var obj = new Solution(nums)
 * var param_1 = obj.reset()
 * var param_2 = obj.shuffle()
 */</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,22);function w(q,x){const c=o("font"),e=o("RouterLink"),p=o("ExternalLinkIcon");return i(),u("div",null,[k,n("p",null,[s("ğŸŸ  "),a(c,{color:"#ffb800"},{default:t(()=>[s("Medium")]),_:1}),s("â€ƒ ğŸ”–â€‚ "),a(e,{to:"/tag/array.html"},{default:t(()=>[m]),_:1}),s(),a(e,{to:"/tag/math.html"},{default:t(()=>[v]),_:1}),s(),a(e,{to:"/tag/randomized.html"},{default:t(()=>[h]),_:1}),s("â€ƒ ğŸ”—â€‚"),n("a",f,[b,a(p)]),s(),n("a",g,[_,a(p)])]),y])}const S=l(d,[["render",w],["__file","0384.html.vue"]]);export{S as default};
