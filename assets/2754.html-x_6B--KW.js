import{_ as p,r as e,o as c,c as l,a as n,b as s,d as a,w as i,e as u}from"./app-B5EG-zH0.js";const d={},r=n("h1",{id:"_2754-å°†å‡½æ•°ç»‘å®šåˆ°ä¸Šä¸‹æ–‡-ğŸ”’",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2754-å°†å‡½æ•°ç»‘å®šåˆ°ä¸Šä¸‹æ–‡-ğŸ”’","aria-hidden":"true"},"#"),s(" 2754. å°†å‡½æ•°ç»‘å®šåˆ°ä¸Šä¸‹æ–‡ ğŸ”’")],-1),k={href:"https://leetcode.cn/problems/bind-function-to-context",target:"_blank",rel:"noopener noreferrer"},v=n("code",null,"åŠ›æ‰£",-1),b={href:"https://leetcode.com/problems/bind-function-to-context",target:"_blank",rel:"noopener noreferrer"},m=n("code",null,"LeetCode",-1),f=u(`<h2 id="é¢˜ç›®" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®" aria-hidden="true">#</a> é¢˜ç›®</h2><p>Enhance all functions to have the <code>bindPolyfill</code> method. When <code>bindPolyfill</code> is called with a passed object <code>obj</code>, that object becomes the <code>this</code> context for the function.</p><p>For example, if you had the code:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;My context is &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The output would be <code>&quot;My context is undefined&quot;</code>. However, if you bound the function:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;My context is &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> boundFunc <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">boundPolyfill</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">ctx</span><span class="token operator">:</span> <span class="token string">&#39;My Object&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">boundFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The output should be <code>&quot;My context is My Object&quot;</code>.</p><p>You may assume that a single non-null object will be passed to the <code>bindPolyfill</code> method.</p><p>Please solve it without the built-in <code>Function.bind</code> method.</p><p><strong>Example 1:</strong></p><blockquote><p>Input:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">multiplier</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">*</span> multiplier<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>inputs = [5]</p><p>Output: 50</p><p>Explanation:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> boundFunc <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">bindPolyfill</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">boundFunc</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 50</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>A multiplier of 5 is passed as a parameter.</p><p>The context is set to {&quot;x&quot;: 10}.</p><p>Multiplying those two numbers yields 50.</p></blockquote><p><strong>Example 2:</strong></p><blockquote><p>Input:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token string">&#39;My name is &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Kathy&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>inputs = []</p><p>Output: &quot;My name is Kathy&quot;</p><p>Explanation:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> boundFunc <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">bindPolyfill</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Kathy&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">boundFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;My name is Kathy&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p><strong>Constraints:</strong></p><ul><li><code>obj</code> is a non-null object</li><li><code>0 &lt;= inputs.length &lt;= 100</code></li></ul><p><strong>Can you solve it without using any built-in methods?</strong></p><h2 id="é¢˜ç›®å¤§æ„" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®å¤§æ„" aria-hidden="true">#</a> é¢˜ç›®å¤§æ„</h2><p>ç¼–å†™ä¸€ä¸ªæ‰€æœ‰å‡½æ•°éƒ½æ”¯æŒçš„æ–¹æ³• <code>bindPolyfill</code> ã€‚å½“ <code>bindPolyfill</code> æ–¹æ³•è¢«è°ƒç”¨å¹¶ä¼ é€’äº†ä¸€ä¸ªå¯¹è±¡ <code>obj</code> æ—¶ï¼Œè¯¥å¯¹è±¡å°†æˆä¸ºå‡½æ•°çš„ <code>this</code> ä¸Šä¸‹æ–‡ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä»¥ä¸‹ä»£ç ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;My context is &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ƒçš„è¾“å‡ºæ˜¯ <code>&quot;My context is undefined&quot;</code> ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ç»‘å®šäº†è¯¥å‡½æ•°ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;My context is &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> boundFunc <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">boundPolyfill</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">ctx</span><span class="token operator">:</span> <span class="token string">&#39;My Object&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">boundFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ƒçš„è¾“å‡ºåº”ä¸º <code>&quot;My context is My Object&quot;</code> ã€‚</p><p>ä½ å¯ä»¥å‡è®¾ä¼ é€’ç»™ <code>bindPolyfill</code> æ–¹æ³•çš„æ˜¯ä¸€ä¸ªéç©ºå¯¹è±¡ã€‚</p><p>è¯·åœ¨ä¸ä½¿ç”¨å†…ç½®çš„ <code>Function.bind</code> æ–¹æ³•çš„æƒ…å†µä¸‹è§£å†³è¯¥é—®é¢˜ã€‚</p><p><strong>æç¤ºï¼š</strong></p><ul><li><code>obj</code> æ˜¯ä¸€ä¸ªéç©ºå¯¹è±¡</li><li><code>0 &lt;= inputs.length &lt;= 100</code></li></ul><p><strong>ä½ èƒ½åœ¨ä¸ä½¿ç”¨ä»»ä½•å†…ç½®æ–¹æ³•çš„æƒ…å†µä¸‹è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ</strong></p><h2 id="è§£é¢˜æ€è·¯" tabindex="-1"><a class="header-anchor" href="#è§£é¢˜æ€è·¯" aria-hidden="true">#</a> è§£é¢˜æ€è·¯</h2><p>è¦å®ç°ä¸€ä¸ª <code>bindPolyfill</code> æ–¹æ³•ï¼Œéœ€è¦æ¨¡ä»¿ JavaScript ä¸­çš„ <code>Function.prototype.bind</code> æ–¹æ³•çš„è¡Œä¸ºã€‚</p><p>åŸºæœ¬æ€è·¯æ˜¯ï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°èƒ½å¤Ÿä½¿ç”¨ä¼ å…¥çš„å¯¹è±¡ <code>obj</code> ä½œä¸º <code>this</code> ä¸Šä¸‹æ–‡ï¼Œè¯¥å‡½æ•°ä¹Ÿåº”å½“æ”¯æŒæ¥å—å‚æ•°ã€‚</li><li>å½“ç»‘å®šå‡½æ•°æ—¶ï¼Œå¯èƒ½ä¼šä¼ å…¥ä¸€äº›å‚æ•°ï¼Œè¿™äº›å‚æ•°åœ¨è°ƒç”¨æ–°å‡½æ•°æ—¶åº”è¯¥è¢«ä¼ é€’ç»™åŸå‡½æ•°ã€‚å› æ­¤ï¼Œéœ€è¦å¤„ç†è¿™ç§æƒ…å†µï¼Œç¡®ä¿ <code>bindPolyfill</code> æ”¯æŒä¼ é€’å‚æ•°ï¼Œç±»ä¼¼äº <code>bind</code> æ–¹æ³•é‚£æ ·ã€‚</li><li>æ”¯æŒåŸå‡½æ•°çš„è°ƒç”¨ï¼Œè¿™æ„å‘³ç€æ–°å‡½æ•°åœ¨è°ƒç”¨æ—¶åº”è¯¥è°ƒç”¨åŸå‡½æ•°ï¼Œå¹¶ç¡®ä¿ <code>this</code> æŒ‡å‘æ­£ç¡®çš„ä¸Šä¸‹æ–‡ã€‚</li></ol><p>å…·ä½“æ¥è¯´ï¼š</p><ul><li>åœ¨ <code>bindPolyfill</code> ä¸­ï¼Œå°† <code>this</code> æŒ‡å‘çš„æ˜¯è¢«ç»‘å®šçš„å‡½æ•°ï¼Œå³è°ƒç”¨ <code>boundPolyfill</code> çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ <code>f</code> è°ƒç”¨ <code>boundPolyfill</code>ï¼Œåˆ™ <code>this</code> å°±æ˜¯ <code>f</code>ã€‚</li><li>ä¿å­˜åŸå§‹å‡½æ•° <code>fn = this</code>ï¼Œè¿™ç¡®ä¿èƒ½å¤Ÿåœ¨æ–°çš„å‡½æ•°ä¸­è°ƒç”¨å®ƒã€‚</li><li><code>boundPolyfill</code> è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°ä¼šæŠŠ <code>this</code> ä¸Šä¸‹æ–‡è®¾ç½®ä¸ºä¼ å…¥çš„ <code>obj</code>ï¼Œå¹¶å°†å‚æ•° <code>args</code> ä¼ é€’ç»™åŸå‡½æ•° <code>fn</code>ï¼Œè¿™å°±ç¡®ä¿äº†åŸå‡½æ•°èƒ½å¤Ÿä»¥æ­£ç¡®çš„ä¸Šä¸‹æ–‡å’Œå‚æ•°è°ƒç”¨ã€‚</li></ul><h4 id="å¤æ‚åº¦åˆ†æ" tabindex="-1"><a class="header-anchor" href="#å¤æ‚åº¦åˆ†æ" aria-hidden="true">#</a> å¤æ‚åº¦åˆ†æ</h4><ul><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>boundPolyfill</code> æœ¬èº«çš„æ—¶é—´å¤æ‚åº¦æ˜¯ <code>O(1)</code>ï¼Œå› ä¸ºå®ƒåªæ˜¯åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°å¹¶è¿”å›ï¼Œæ²¡æœ‰å¤æ‚çš„è®¡ç®—ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š<code>O(1)</code>ï¼Œåªæ˜¯ä¸ºæ–°å‡½æ•°åˆ†é…äº†ä¸€å®šçš„å†…å­˜ã€‚</li></ul><h2 id="ä»£ç " tabindex="-1"><a class="header-anchor" href="#ä»£ç " aria-hidden="true">#</a> ä»£ç </h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Object<span class="token punctuation">}</span></span> <span class="token parameter">obj</span>
 * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">{</span>Function<span class="token punctuation">}</span></span>
 */</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">boundPolyfill</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// ä¿å­˜å½“å‰å‡½æ•° (å³è°ƒç”¨ boundPolyfill çš„å‡½æ•°)</span>
	<span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

	<span class="token comment">// è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°</span>
	<span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// ä½¿ç”¨ apply è°ƒç”¨åŸå‡½æ•°ï¼Œè®¾ç½® this ä¸ºä¼ å…¥çš„ obj å¹¶ä¼ é€’ args å‚æ•°</span>
		<span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,38);function h(y,g){const o=e("font"),t=e("ExternalLinkIcon");return c(),l("div",null,[r,n("p",null,[s("ğŸŸ  "),a(o,{color:"#ffb800"},{default:i(()=>[s("Medium")]),_:1}),s("â€ƒ ğŸ”—â€‚"),n("a",k,[v,a(t)]),s(),n("a",b,[m,a(t)])]),f])}const j=p(d,[["render",h],["__file","2754.html.vue"]]);export{j as default};
