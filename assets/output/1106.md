---
title: 1106. è§£æå¸ƒå°”è¡¨è¾¾å¼
description: LeetCode,1106. è§£æå¸ƒå°”è¡¨è¾¾å¼,è§£æå¸ƒå°”è¡¨è¾¾å¼,Parsing A Boolean Expression,è§£é¢˜æ€è·¯,æ ˆ,é€’å½’,å­—ç¬¦ä¸²
keywords:
  - LeetCode
  - 1106. è§£æå¸ƒå°”è¡¨è¾¾å¼
  - è§£æå¸ƒå°”è¡¨è¾¾å¼
  - Parsing A Boolean Expression
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - é€’å½’
  - å­—ç¬¦ä¸²
---

# 1106. è§£æå¸ƒå°”è¡¨è¾¾å¼

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`é€’å½’`](/tag/recursion.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/parsing-a-boolean-expression) [`LeetCode`](https://leetcode.com/problems/parsing-a-boolean-expression)

## é¢˜ç›®

A **boolean expression** is an expression that evaluates to either `true` or
`false`. It can be in one of the following shapes:

  * `'t'` that evaluates to `true`.
  * `'f'` that evaluates to `false`.
  * `'!(subExpr)'` that evaluates to **the logical NOT** of the inner expression `subExpr`.
  * `'&(subExpr1, subExpr2, ..., subExprn)'` that evaluates to **the logical AND** of the inner expressions `subExpr1, subExpr2, ..., subExprn` where `n >= 1`.
  * `'|(subExpr1, subExpr2, ..., subExprn)'` that evaluates to **the logical OR** of the inner expressions `subExpr1, subExpr2, ..., subExprn` where `n >= 1`.

Given a string `expression` that represents a **boolean expression** , return
_the evaluation of that expression_.

It is **guaranteed** that the given expression is valid and follows the given
rules.



**Example 1:**

> Input: expression = "&(|(f))"
> 
> Output: false
> 
> Explanation: 
> 
> First, evaluate |(f) --> f. The expression is now "&(f)".
> 
> Then, evaluate &(f) --> f. The expression is now "f".
> 
> Finally, return false.

**Example 2:**

> Input: expression = "|(f,f,f,t)"
> 
> Output: true
> 
> Explanation: The evaluation of (false OR false OR false OR true) is true.

**Example 3:**

> Input: expression = "!(&(f,t))"
> 
> Output: true
> 
> Explanation: 
> 
> First, evaluate &(f,t) --> (false AND true) --> false --> f. The expression is now "!(f)".
> 
> Then, evaluate !(f) --> NOT false --> true. We return true.

**Constraints:**

  * `1 <= expression.length <= 2 * 10^4`
  * expression[i] is one following characters: `'('`, `')'`, `'&'`, `'|'`, `'!'`, `'t'`, `'f'`, and `','`.


## é¢˜ç›®å¤§æ„

**å¸ƒå°”è¡¨è¾¾å¼** æ˜¯è®¡ç®—ç»“æœä¸æ˜¯ `true` å°±æ˜¯ `false` çš„è¡¨è¾¾å¼ã€‚æœ‰æ•ˆçš„è¡¨è¾¾å¼éœ€éµå¾ªä»¥ä¸‹çº¦å®šï¼š

  * `'t'`ï¼Œè¿ç®—ç»“æœä¸º `true`
  * `'f'`ï¼Œè¿ç®—ç»“æœä¸º `false`
  * `'!(subExpr)'`ï¼Œè¿ç®—è¿‡ç¨‹ä¸ºå¯¹å†…éƒ¨è¡¨è¾¾å¼ `subExpr` è¿›è¡Œ **é€»è¾‘é** ï¼ˆNOTï¼‰è¿ç®—
  * `'&(subExpr1, subExpr2, ..., subExprn)'`ï¼Œè¿ç®—è¿‡ç¨‹ä¸ºå¯¹ 2 ä¸ªæˆ–ä»¥ä¸Šå†…éƒ¨è¡¨è¾¾å¼ `subExpr1, subExpr2, ..., subExprn` è¿›è¡Œ **é€»è¾‘ä¸** ï¼ˆANDï¼‰è¿ç®—
  * `'|(subExpr1, subExpr2, ..., subExprn)'`ï¼Œè¿ç®—è¿‡ç¨‹ä¸ºå¯¹ 2 ä¸ªæˆ–ä»¥ä¸Šå†…éƒ¨è¡¨è¾¾å¼ `subExpr1, subExpr2, ..., subExprn` è¿›è¡Œ **é€»è¾‘æˆ–** ï¼ˆORï¼‰è¿ç®—

ç»™ä½ ä¸€ä¸ªä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨è¿°çš„
[å¸ƒå°”è¡¨è¾¾å¼](https://baike.baidu.com/item/%E5%B8%83%E5%B0%94%E8%A1%A8%E8%BE%BE%E5%BC%8F/1574380?fr=aladdin)
`expression`ï¼Œè¿”å›è¯¥å¼çš„è¿ç®—ç»“æœã€‚

é¢˜ç›®æµ‹è¯•ç”¨ä¾‹æ‰€ç»™å‡ºçš„è¡¨è¾¾å¼å‡ä¸ºæœ‰æ•ˆçš„å¸ƒå°”è¡¨è¾¾å¼ï¼Œéµå¾ªä¸Šè¿°çº¦å®šã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** expression = "&(|(f))"
> 
> **è¾“å‡ºï¼š** false
> 
> **è§£é‡Šï¼š**
> 
> é¦–å…ˆï¼Œè®¡ç®— |(f) --> f ï¼Œè¡¨è¾¾å¼å˜ä¸º "&(f)" ã€‚
> 
> æ¥ç€ï¼Œè®¡ç®— &(f) --> f ï¼Œè¡¨è¾¾å¼å˜ä¸º "f" ã€‚
> 
> æœ€åï¼Œè¿”å› false ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** expression = "|(f,f,f,t)"
> 
> **è¾“å‡ºï¼š** true
> 
> **è§£é‡Šï¼š** è®¡ç®— (false OR false OR false OR true) ï¼Œç»“æœä¸º true ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** expression = "!(&(f,t))"
> 
> **è¾“å‡ºï¼š** true
> 
> **è§£é‡Šï¼š**
> 
> é¦–å…ˆï¼Œè®¡ç®— &(f,t) --> (false AND true) --> false --> f ï¼Œè¡¨è¾¾å¼å˜ä¸º "!(f)" ã€‚
> 
> æ¥ç€ï¼Œè®¡ç®— !(f) --> NOT false --> true ï¼Œè¿”å› true ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= expression.length <= 2 * 10^4`
  * `expression[i]` ä¸º `'('`ã€`')'`ã€`'&'`ã€`'|'`ã€`'!'`ã€`'t'`ã€`'f'` å’Œ `','` ä¹‹ä¸€


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```