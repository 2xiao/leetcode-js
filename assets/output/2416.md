# [2416. å­—ç¬¦ä¸²çš„å‰ç¼€åˆ†æ•°å’Œ](https://2xiao.github.io/leetcode-js/problem/2416.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å­—å…¸æ ‘`](/tag/trie.md) [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`è®¡æ•°`](/tag/counting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/sum-of-prefix-scores-of-strings) [`LeetCode`](https://leetcode.com/problems/sum-of-prefix-scores-of-strings)

## é¢˜ç›®

You are given an array `words` of size `n` consisting of **non-empty**
strings.

We define the **score** of a string `term` as the **number** of strings
`words[i]` such that `term` is a **prefix** of `words[i]`.

  * For example, if `words = ["a", "ab", "abc", "cab"]`, then the score of `"ab"` is `2`, since `"ab"` is a prefix of both `"ab"` and `"abc"`.

Return _an array_`answer` _of size_`n` _where_`answer[i]`_is the**sum** of
scores of every **non-empty** prefix of _`words[i]`.

**Note** that a string is considered as a prefix of itself.



**Example 1:**

> Input: words = ["abc","ab","bc","b"]
> 
> Output: [5,4,3,2]
> 
> Explanation: The answer for each string is the following:
> - "abc" has 3 prefixes: "a", "ab", and "abc".
> - There are 2 strings with the prefix "a", 2 strings with the prefix "ab", and 1 string with the prefix "abc".
> 
> The total is answer[0] = 2 + 2 + 1 = 5.
> - "ab" has 2 prefixes: "a" and "ab".
> - There are 2 strings with the prefix "a", and 2 strings with the prefix "ab".
> 
> The total is answer[1] = 2 + 2 = 4.
> - "bc" has 2 prefixes: "b" and "bc".
> - There are 2 strings with the prefix "b", and 1 string with the prefix "bc".
> 
> The total is answer[2] = 2 + 1 = 3.
> - "b" has 1 prefix: "b".
> - There are 2 strings with the prefix "b".
> 
> The total is answer[3] = 2.

**Example 2:**

> Input: words = ["abcd"]
> 
> Output: [4]
> 
> Explanation:
> 
> "abcd" has 4 prefixes: "a", "ab", "abc", and "abcd".
> 
> Each prefix has a score of one, so the total is answer[0] = 1 + 1 + 1 + 1 = 4.

**Constraints:**

  * `1 <= words.length <= 1000`
  * `1 <= words[i].length <= 1000`
  * `words[i]` consists of lowercase English letters.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ `words` ï¼Œè¯¥æ•°ç»„ç”± **éç©º** å­—ç¬¦ä¸²ç»„æˆã€‚

å®šä¹‰å­—ç¬¦ä¸² `term` çš„ **åˆ†æ•°** ç­‰äºä»¥ `term` ä½œä¸º **å‰ç¼€** çš„ `words[i]` çš„æ•°ç›®ã€‚

  * ä¾‹å¦‚ï¼Œå¦‚æœ `words = ["a", "ab", "abc", "cab"]` ï¼Œé‚£ä¹ˆ `"ab"` çš„åˆ†æ•°æ˜¯ `2` ï¼Œå› ä¸º `"ab"` æ˜¯ `"ab"` å’Œ `"abc"` çš„ä¸€ä¸ªå‰ç¼€ã€‚

è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º __`n` çš„æ•°ç»„ __`answer` __ ï¼Œå…¶ä¸­ __`answer[i]`__ æ˜¯ _ _`words[i]` çš„æ¯ä¸ªéç©ºå‰ç¼€çš„åˆ†æ•°
**æ€»å’Œ** _ã€‚_

**æ³¨æ„ï¼š** å­—ç¬¦ä¸²è§†ä½œå®ƒè‡ªèº«çš„ä¸€ä¸ªå‰ç¼€ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** words = ["abc","ab","bc","b"]
> 
> **è¾“å‡ºï¼š**[5,4,3,2]
> 
> **è§£é‡Šï¼š** å¯¹åº”æ¯ä¸ªå­—ç¬¦ä¸²çš„ç­”æ¡ˆå¦‚ä¸‹ï¼š
> - "abc" æœ‰ 3 ä¸ªå‰ç¼€ï¼š"a"ã€"ab" å’Œ "abc" ã€‚
> - 2 ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€ä¸º "a" ï¼Œ2 ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€ä¸º "ab" ï¼Œ1 ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€ä¸º "abc" ã€‚
> 
> æ€»è®¡ answer[0] = 2 + 2 + 1 = 5 ã€‚
> - "ab" æœ‰ 2 ä¸ªå‰ç¼€ï¼š"a" å’Œ "ab" ã€‚
> - 2 ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€ä¸º "a" ï¼Œ2 ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€ä¸º "ab" ã€‚
> 
> æ€»è®¡ answer[1] = 2 + 2 = 4 ã€‚
> - "bc" æœ‰ 2 ä¸ªå‰ç¼€ï¼š"b" å’Œ "bc" ã€‚
> - 2 ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€ä¸º "b" ï¼Œ1 ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€ä¸º "bc" ã€‚ 
> 
> æ€»è®¡ answer[2] = 2 + 1 = 3 ã€‚
> - "b" æœ‰ 1 ä¸ªå‰ç¼€ï¼š"b"ã€‚
> - 2 ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€ä¸º "b" ã€‚
> 
> æ€»è®¡ answer[3] = 2 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** words = ["abcd"]
> 
> **è¾“å‡ºï¼š**[4]
> 
> **è§£é‡Šï¼š**
> 
> "abcd" æœ‰ 4 ä¸ªå‰ç¼€ "a"ã€"ab"ã€"abc" å’Œ "abcd"ã€‚
> 
> æ¯ä¸ªå‰ç¼€çš„åˆ†æ•°éƒ½æ˜¯ 1 ï¼Œæ€»è®¡ answer[0] = 1 + 1 + 1 + 1 = 4 ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= words.length <= 1000`
  * `1 <= words[i].length <= 1000`
  * `words[i]` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 211 | [æ·»åŠ ä¸æœç´¢å•è¯ - æ•°æ®ç»“æ„è®¾è®¡](https://leetcode.com/problems/design-add-and-search-words-data-structure) | [[âœ“]](/problem/0211.md) |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`è®¾è®¡`](/tag/design.md) [`å­—å…¸æ ‘`](/tag/trie.md) `1+` | <font color=#ffb800>Medium</font> |
| 421 | [æ•°ç»„ä¸­ä¸¤ä¸ªæ•°çš„æœ€å¤§å¼‚æˆ–å€¼](https://leetcode.com/problems/maximum-xor-of-two-numbers-in-an-array) |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`å­—å…¸æ ‘`](/tag/trie.md) [`æ•°ç»„`](/tag/array.md) `1+` | <font color=#ffb800>Medium</font> |
| 677 | [é”®å€¼æ˜ å°„](https://leetcode.com/problems/map-sum-pairs) |  |  [`è®¾è®¡`](/tag/design.md) [`å­—å…¸æ ‘`](/tag/trie.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `1+` | <font color=#ffb800>Medium</font> |