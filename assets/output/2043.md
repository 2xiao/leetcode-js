# [2043. ç®€æ˜“é“¶è¡Œç³»ç»Ÿ](https://leetcode.com/problems/simple-bank-system)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/leetcode/outline/tag/design.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`æ¨¡æ‹Ÿ`](/leetcode/outline/tag/simulation.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/simple-bank-system)


## é¢˜ç›®

You have been tasked with writing a program for a popular bank that will
automate all its incoming transactions (transfer, deposit, and withdraw). The
bank has `n` accounts numbered from `1` to `n`. The initial balance of each
account is stored in a **0-indexed** integer array `balance`, with the `(i +
1)th` account having an initial balance of `balance[i]`.

Execute all the **valid** transactions. A transaction is **valid** if:

  * The given account number(s) are between `1` and `n`, and
  * The amount of money withdrawn or transferred from is **less than or equal** to the balance of the account.

Implement the `Bank` class:

  * `Bank(long[] balance)` Initializes the object with the **0-indexed** integer array `balance`.
  * `boolean transfer(int account1, int account2, long money)` Transfers `money` dollars from the account numbered `account1` to the account numbered `account2`. Return `true` if the transaction was successful, `false` otherwise.
  * `boolean deposit(int account, long money)` Deposit `money` dollars into the account numbered `account`. Return `true` if the transaction was successful, `false` otherwise.
  * `boolean withdraw(int account, long money)` Withdraw `money` dollars from the account numbered `account`. Return `true` if the transaction was successful, `false` otherwise.



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["Bank", "withdraw", "transfer", "deposit", "transfer", "withdraw"]
> 
> [[[10, 100, 20, 50, 30]], [3, 10], [5, 1, 20], [5, 20], [3, 4, 15], [10, 50]]
> 
> **Output**
> 
> [null, true, true, true, false, false]
> 
> 
> 
> **Explanation**
> 
> Bank bank = new Bank([10, 100, 20, 50, 30]);
> 
> bank.withdraw(3, 10);> 
> // return true, account 3 has a balance of $20, so it is valid to withdraw $10.
> 
> > 
> > 
> > 
> > 
> > 
> > 
>  // Account 3 has $20 - $10 = $10.
> 
> bank.transfer(5, 1, 20); // return true, account 5 has a balance of $30, so it is valid to transfer $20.
> 
> > 
> > 
> > 
> > 
> > 
> > 
>  // Account 5 has $30 - $20 = $10, and account 1 has $10 + $20 = $30.
> 
> bank.deposit(5, 20);> 
>  // return true, it is valid to deposit $20 to account 5.
> 
> > 
> > 
> > 
> > 
> > 
> > 
>  // Account 5 has $10 + $20 = $30.
> 
> bank.transfer(3, 4, 15); // return false, the current balance of account 3 is $10,
> 
> > 
> > 
> > 
> > 
> > 
> > 
>  // so it is invalid to transfer $15 from it.
> 
> bank.withdraw(10, 50);   // return false, it is invalid because account 10 does not exist.

**Constraints:**

  * `n == balance.length`
  * `1 <= n, account, account1, account2 <= 10^5`
  * `0 <= balance[i], money <= 1012`
  * At most `10^4` calls will be made to **each** function `transfer`, `deposit`, `withdraw`.


## é¢˜ç›®å¤§æ„

ä½ çš„ä»»åŠ¡æ˜¯ä¸ºä¸€ä¸ªå¾ˆå—æ¬¢è¿çš„é“¶è¡Œè®¾è®¡ä¸€æ¬¾ç¨‹åºï¼Œä»¥è‡ªåŠ¨åŒ–æ‰§è¡Œæ‰€æœ‰ä¼ å…¥çš„äº¤æ˜“ï¼ˆè½¬è´¦ï¼Œå­˜æ¬¾å’Œå–æ¬¾ï¼‰ã€‚é“¶è¡Œå…±æœ‰ `n` ä¸ªè´¦æˆ·ï¼Œç¼–å·ä» `1` åˆ° `n`
ã€‚æ¯ä¸ªè´¦å·çš„åˆå§‹ä½™é¢å­˜å‚¨åœ¨ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„æ•´æ•°æ•°ç»„ `balance` ä¸­ï¼Œå…¶ä¸­ç¬¬ `(i + 1)` ä¸ªè´¦æˆ·çš„åˆå§‹ä½™é¢æ˜¯
`balance[i]` ã€‚

è¯·ä½ æ‰§è¡Œæ‰€æœ‰ **æœ‰æ•ˆçš„** äº¤æ˜“ã€‚å¦‚æœæ»¡è¶³ä¸‹é¢å…¨éƒ¨æ¡ä»¶ï¼Œåˆ™äº¤æ˜“ **æœ‰æ•ˆ** ï¼š

  * æŒ‡å®šçš„è´¦æˆ·æ•°é‡åœ¨ `1` å’Œ `n` ä¹‹é—´ï¼Œä¸”
  * å–æ¬¾æˆ–è€…è½¬è´¦éœ€è¦çš„é’±çš„æ€»æ•° **å°äºæˆ–è€…ç­‰äº** è´¦æˆ·ä½™é¢ã€‚

å®ç° `Bank` ç±»ï¼š

  * `Bank(long[] balance)` ä½¿ç”¨ä¸‹æ ‡ä» **0** å¼€å§‹çš„æ•´æ•°æ•°ç»„ `balance` åˆå§‹åŒ–è¯¥å¯¹è±¡ã€‚
  * `boolean transfer(int account1, int account2, long money)` ä»ç¼–å·ä¸º `account1` çš„è´¦æˆ·å‘ç¼–å·ä¸º `account2` çš„è´¦æˆ·è½¬å¸ `money` ç¾å…ƒã€‚å¦‚æœäº¤æ˜“æˆåŠŸï¼Œè¿”å› `true` ï¼Œå¦åˆ™ï¼Œè¿”å› `false` ã€‚
  * `boolean deposit(int account, long money)` å‘ç¼–å·ä¸º `account` çš„è´¦æˆ·å­˜æ¬¾ `money` ç¾å…ƒã€‚å¦‚æœäº¤æ˜“æˆåŠŸï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚
  * `boolean withdraw(int account, long money)` ä»ç¼–å·ä¸º `account` çš„è´¦æˆ·å–æ¬¾ `money` ç¾å…ƒã€‚å¦‚æœäº¤æ˜“æˆåŠŸï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚



**ç¤ºä¾‹ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥** ï¼š
> 
> ["Bank", "withdraw", "transfer", "deposit", "transfer", "withdraw"]
> 
> [[[10, 100, 20, 50, 30]], [3, 10], [5, 1, 20], [5, 20], [3, 4, 15], [10, 50]]
> 
> **è¾“å‡ºï¼š**
> 
> [null, true, true, true, false, false]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> Bank bank = new Bank([10, 100, 20, 50, 30]);
> 
> bank.withdraw(3, 10);> 
> // è¿”å› true ï¼Œè´¦æˆ· 3 çš„ä½™é¢æ˜¯ $20 ï¼Œæ‰€ä»¥å¯ä»¥å–æ¬¾ $10 ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
>  // è´¦æˆ· 3 ä½™é¢ä¸º $20 - $10 = $10 ã€‚
> 
> bank.transfer(5, 1, 20); // è¿”å› true ï¼Œè´¦æˆ· 5 çš„ä½™é¢æ˜¯ $30 ï¼Œæ‰€ä»¥å¯ä»¥è½¬è´¦ $20 ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
>  // è´¦æˆ· 5 çš„ä½™é¢ä¸º $30 - $20 = $10 ï¼Œè´¦æˆ· 1 çš„ä½™é¢ä¸º $10 + $20 = $30 ã€‚
> 
> bank.deposit(5, 20);> 
>  // è¿”å› true ï¼Œå¯ä»¥å‘è´¦æˆ· 5 å­˜æ¬¾ $20 ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
>  // è´¦æˆ· 5 çš„ä½™é¢ä¸º $10 + $20 = $30 ã€‚
> 
> bank.transfer(3, 4, 15); // è¿”å› false ï¼Œè´¦æˆ· 3 çš„å½“å‰ä½™é¢æ˜¯ $10 ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
>  // æ‰€ä»¥æ— æ³•è½¬è´¦ $15 ã€‚
> 
> bank.withdraw(10, 50);   // è¿”å› false ï¼Œäº¤æ˜“æ— æ•ˆï¼Œå› ä¸ºè´¦æˆ· 10 å¹¶ä¸å­˜åœ¨ã€‚
> 
> 



**æç¤ºï¼š**

  * `n == balance.length`
  * `1 <= n, account, account1, account2 <= 10^5`
  * `0 <= balance[i], money <= 1012`
  * `transfer`, `deposit`, `withdraw` ä¸‰ä¸ªå‡½æ•°ï¼Œ**æ¯ä¸ª** æœ€å¤šè°ƒç”¨ `10^4` æ¬¡


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2241 | [è®¾è®¡ä¸€ä¸ª ATM æœºå™¨](https://leetcode.com/problems/design-an-atm-machine) |  |  [`è´ªå¿ƒ`](/leetcode/outline/tag/greedy.md) [`è®¾è®¡`](/leetcode/outline/tag/design.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
