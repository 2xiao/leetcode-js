# [1236. ç½‘ç»œçˆ¬è™«](https://leetcode.com/problems/web-crawler)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`äº¤äº’`](/tag/interactive.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/web-crawler)

## é¢˜ç›®

Given a url `startUrl` and an interface `HtmlParser`, implement a web crawler
to crawl all links that are under the **same hostname** as `startUrl`.

Return all urls obtained by your web crawler in **any** order.

Your crawler should:

  * Start from the page: `startUrl`
  * Call `HtmlParser.getUrls(url)` to get all urls from a webpage of given url.
  * Do not crawl the same link twice.
  * Explore only the links that are under the **same hostname** as `startUrl`.

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1200-1299/1236.Web%20Crawler/images/urlhostname.png)

As shown in the example url above, the hostname is `example.org`. For
simplicity sake, you may assume all urls use **http protocol** without any
**port** specified. For example, the urls `http://leetcode.com/problems` and
`http://leetcode.com/contest` are under the same hostname, while urls
`http://example.org/test` and `http://example.com/abc` are not under the same
hostname.

The `HtmlParser` interface is defined as such:

> 
> 
> 
> 
> 
> interface HtmlParser {
> 
>   // Return a list of all urls from a webpage of given _url_.
> 
>   public List<String> getUrls(String url);
> 
> }

Below are two examples explaining the functionality of the problem, for custom
testing purposes you'll have three variables `urls`, `edges` and `startUrl`.
Notice that you will only have access to `startUrl` in your code, while `urls`
and `edges` are not directly accessible to you in code.

Note: Consider the same URL with the trailing slash "/" as a different URL.
For example, "http://news.yahoo.com", and "http://news.yahoo.com/" are
different urls.



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1200-1299/1236.Web%20Crawler/images/sample_2_1497.png)

> Input: urls = [
> 
>   "http://news.yahoo.com",
> 
>   "http://news.yahoo.com/news",
> 
>   "http://news.yahoo.com/news/topics/",
> 
>   "http://news.google.com",
> 
>   "http://news.yahoo.com/us"
> 
> ]
> 
> edges = [[2,0],[2,1],[3,2],[3,1],[0,4]]
> 
> startUrl = "http://news.yahoo.com/news/topics/"
> 
> Output: [
> 
>   "http://news.yahoo.com",
> 
>   "http://news.yahoo.com/news",
> 
>   "http://news.yahoo.com/news/topics/",
> 
>   "http://news.yahoo.com/us"
> 
> ]

**Example 2:**

**![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1200-1299/1236.Web%20Crawler/images/sample_3_1497.png)**

> Input: 
> 
> urls = [
> 
>   "http://news.yahoo.com",
> 
>   "http://news.yahoo.com/news",
> 
>   "http://news.yahoo.com/news/topics/",
> 
>   "http://news.google.com"
> 
> ]
> 
> edges = [[0,2],[2,1],[3,2],[3,1],[3,0]]
> 
> startUrl = "http://news.google.com"
> 
> Output: ["http://news.google.com"]
> 
> Explanation: The startUrl links to all other pages that do not share the same hostname.



**Constraints:**

  * `1 <= urls.length <= 1000`
  * `1 <= urls[i].length <= 300`
  * `startUrl` is one of the `urls`.
  * Hostname label must be from 1 to 63 characters long, including the dots, may contain only the ASCII letters from 'a' to 'z', digits  from '0' to '9' and the hyphen-minus character ('-').
  * The hostname may not start or end with the hyphen-minus character ('-'). 
  * See:  <https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_hostnames>
  * You may assume there're no duplicates in url library.


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªé“¾æ¥ `startUrl` å’Œä¸€ä¸ªæ¥å£ `HtmlParser` ï¼Œè¯·ä½ å®ç°ä¸€ä¸ªç½‘ç»œçˆ¬è™«ï¼Œä»¥å®ç°çˆ¬å–åŒ `startUrl` æ‹¥æœ‰ç›¸åŒ **ä¸»æœºå
**çš„å…¨éƒ¨é“¾æ¥ã€‚

è¯¥çˆ¬è™«å¾—åˆ°çš„å…¨éƒ¨é“¾æ¥å¯ä»¥ **ä»»ä½•é¡ºåº  **è¿”å›ç»“æœã€‚

ä½ çš„ç½‘ç»œçˆ¬è™«åº”å½“æŒ‰ç…§å¦‚ä¸‹æ¨¡å¼å·¥ä½œï¼š

  * è‡ªé“¾æ¥ `startUrl` å¼€å§‹çˆ¬å–
  * è°ƒç”¨ `HtmlParser.getUrls(url)` æ¥è·å¾—é“¾æ¥`url`é¡µé¢ä¸­çš„å…¨éƒ¨é“¾æ¥
  * åŒä¸€ä¸ªé“¾æ¥æœ€å¤šåªçˆ¬å–ä¸€æ¬¡
  * åªè¾“å‡º **åŸŸå  **ä¸** **`startUrl` **ç›¸åŒ  **çš„é“¾æ¥é›†åˆ

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1200-1299/1236.Web%20Crawler/images/urlhostname.png)

å¦‚ä¸Šæ‰€ç¤ºçš„ä¸€ä¸ªé“¾æ¥ï¼Œå…¶åŸŸåä¸º `example.org`ã€‚ç®€å•èµ·è§ï¼Œä½ å¯ä»¥å‡è®¾æ‰€æœ‰çš„é“¾æ¥éƒ½é‡‡ç”¨ **httpåè®®  **å¹¶æ²¡æœ‰æŒ‡å®š **ç«¯å£**
ã€‚ä¾‹å¦‚ï¼Œé“¾æ¥ `http://leetcode.com/problems` å’Œ `http://leetcode.com/contest`
æ˜¯åŒä¸€ä¸ªåŸŸåä¸‹çš„ï¼Œè€Œé“¾æ¥ `http://example.org/test` å’Œ `http://example.com/abc` æ˜¯ä¸åœ¨åŒä¸€åŸŸåä¸‹çš„ã€‚

`HtmlParser` æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š

> 
> 
> 
> 
> 
> interface HtmlParser {
> 
>   // è¿”å›ç»™å®š url å¯¹åº”çš„é¡µé¢ä¸­çš„å…¨éƒ¨ url ã€‚
> 
>   public List<String> getUrls(String url);
> 
> }

ä¸‹é¢æ˜¯ä¸¤ä¸ªå®ä¾‹ï¼Œç”¨ä»¥è§£é‡Šè¯¥é—®é¢˜çš„è®¾è®¡åŠŸèƒ½ï¼Œå¯¹äºè‡ªå®šä¹‰æµ‹è¯•ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‰ä¸ªå˜é‡  `urls`, `edges` å’Œ
`startUrl`ã€‚æ³¨æ„åœ¨ä»£ç å®ç°ä¸­ï¼Œä½ åªå¯ä»¥è®¿é—® `startUrl` ï¼Œè€Œ `urls` å’Œ `edges` ä¸å¯ä»¥åœ¨ä½ çš„ä»£ç ä¸­è¢«ç›´æ¥è®¿é—®ã€‚

æ³¨æ„ï¼šå°†å°¾éšæ–œçº¿â€œ/â€çš„ç›¸åŒ URL è§†ä¸ºä¸åŒçš„ URLã€‚ä¾‹å¦‚ï¼Œâ€œhttp://news.yahoo.comâ€ å’Œ
â€œhttp://news.yahoo.com/â€ æ˜¯ä¸åŒçš„åŸŸåã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1200-1299/1236.Web%20Crawler/images/sample_2_1497.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** urls = [
> 
>   "http://news.yahoo.com",
> 
>   "http://news.yahoo.com/news",
> 
>   "http://news.yahoo.com/news/topics/",
> 
>   "http://news.google.com",
> 
>   "http://news.yahoo.com/us"
> 
> ]
> 
> edges = [[2,0],[2,1],[3,2],[3,1],[0,4]]
> 
> startUrl = "http://news.yahoo.com/news/topics/"
> 
> **è¾“å‡ºï¼š**[
> 
>   "http://news.yahoo.com",
> 
>   "http://news.yahoo.com/news",
> 
>   "http://news.yahoo.com/news/topics/",
> 
>   "http://news.yahoo.com/us"
> 
> ]
> 
> 

**ç¤ºä¾‹ 2ï¼š**

**![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1200-1299/1236.Web%20Crawler/images/sample_3_1497.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> urls = [
> 
>   "http://news.yahoo.com",
> 
>   "http://news.yahoo.com/news",
> 
>   "http://news.yahoo.com/news/topics/",
> 
>   "http://news.google.com"
> 
> ]
> 
> edges = [[0,2],[2,1],[3,2],[3,1],[3,0]]
> 
> startUrl = "http://news.google.com"
> 
> **è¾“å‡ºï¼š**["http://news.google.com"]
> 
> **è§£é‡Šï¼š** startUrl é“¾æ¥åˆ°æ‰€æœ‰å…¶ä»–ä¸å…±äº«ç›¸åŒä¸»æœºåçš„é¡µé¢ã€‚



**æç¤ºï¼š**

  * `1 <= urls.length <= 1000`
  * `1 <= urls[i].length <= 300`
  * `startUrl` ä¸º `urls` ä¸­çš„ä¸€ä¸ªã€‚
  * ä¸»æœºåçš„é•¿ä¸º1åˆ°63ä¸ªå­—ç¬¦ï¼ˆåŒ…æ‹¬ç‚¹ï¼‰ï¼Œåªèƒ½åŒ…å«ä»â€˜aâ€™åˆ°â€˜zâ€™çš„ASCIIå­—æ¯ã€â€˜0â€™åˆ°â€˜9â€™çš„æ•°å­—ä»¥åŠè¿å­—ç¬¦å³å‡å·ï¼ˆâ€˜-â€™ï¼‰ã€‚
  * ä¸»æœºåä¸ä¼šä»¥è¿å­—ç¬¦å³å‡å·ï¼ˆâ€˜-â€™ï¼‰å¼€å¤´æˆ–ç»“å°¾ã€‚
  * å…³äºåŸŸåæœ‰æ•ˆæ€§çš„çº¦æŸå¯å‚è€ƒ:  <https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_hostnames>
  * ä½ å¯ä»¥å‡å®šurlåº“ä¸­ä¸åŒ…å«é‡å¤é¡¹ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1242 | [å¤šçº¿ç¨‹ç½‘é¡µçˆ¬è™«](https://leetcode.com/problems/web-crawler-multithreaded) |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å¤šçº¿ç¨‹`](/tag/concurrency.md) | <font color=#ffb800>Medium</font> |