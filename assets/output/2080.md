# [2080. åŒºé—´å†…æŸ¥è¯¢æ•°å­—çš„é¢‘ç‡](https://leetcode.com/problems/range-frequency-queries)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/range-frequency-queries)

## é¢˜ç›®

Design a data structure to find the **frequency** of a given value in a given
subarray.

The **frequency** of a value in a subarray is the number of occurrences of
that value in the subarray.

Implement the `RangeFreqQuery` class:

  * `RangeFreqQuery(int[] arr)` Constructs an instance of the class with the given **0-indexed** integer array `arr`.
  * `int query(int left, int right, int value)` Returns the **frequency** of `value` in the subarray `arr[left...right]`.

A **subarray** is a contiguous sequence of elements within an array.
`arr[left...right]` denotes the subarray that contains the elements of `nums`
between indices `left` and `right` (**inclusive**).



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["RangeFreqQuery", "query", "query"]
> 
> [[[12, 33, 4, 56, 22, 2, 34, 33, 22, 12, 34, 56]], [1, 2, 4], [0, 11, 33]]
> 
> **Output**
> 
> [null, 1, 2]
> 
> 
> 
> **Explanation**
> 
> RangeFreqQuery rangeFreqQuery = new RangeFreqQuery([12, 33, 4, 56, 22, 2, 34, 33, 22, 12, 34, 56]);
> 
> rangeFreqQuery.query(1, 2, 4); // return 1. The value 4 occurs 1 time in the subarray [33, 4]
> 
> rangeFreqQuery.query(0, 11, 33); // return 2. The value 33 occurs 2 times in the whole array.

**Constraints:**

  * `1 <= arr.length <= 10^5`
  * `1 <= arr[i], value <= 10^4`
  * `0 <= left <= right < arr.length`
  * At most `10^5` calls will be made to `query`


## é¢˜ç›®å¤§æ„

è¯·ä½ è®¾è®¡ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå®ƒèƒ½æ±‚å‡ºç»™å®šå­æ•°ç»„å†…ä¸€ä¸ªç»™å®šå€¼çš„ **é¢‘ç‡**  ã€‚

å­æ•°ç»„ä¸­ä¸€ä¸ªå€¼çš„ **é¢‘ç‡**  æŒ‡çš„æ˜¯è¿™ä¸ªå­æ•°ç»„ä¸­è¿™ä¸ªå€¼çš„å‡ºç°æ¬¡æ•°ã€‚

è¯·ä½ å®ç° `RangeFreqQuery` ç±»ï¼š

  * `RangeFreqQuery(int[] arr)` ç”¨ä¸‹æ ‡ä» **0**  å¼€å§‹çš„æ•´æ•°æ•°ç»„ `arr` æ„é€ ä¸€ä¸ªç±»çš„å®ä¾‹ã€‚
  * `int query(int left, int right, int value)` è¿”å›å­æ•°ç»„ `arr[left...right]` ä¸­ `value` çš„ **é¢‘ç‡**  ã€‚

ä¸€ä¸ª **å­æ•°ç»„** æŒ‡çš„æ˜¯æ•°ç»„ä¸­ä¸€æ®µè¿ç»­çš„å…ƒç´ ã€‚`arr[left...right]` æŒ‡çš„æ˜¯ `nums` ä¸­åŒ…å«ä¸‹æ ‡ `left` å’Œ `right`
**åœ¨å†…**  çš„ä¸­é—´ä¸€æ®µè¿ç»­å…ƒç´ ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> ["RangeFreqQuery", "query", "query"]
> 
> [[[12, 33, 4, 56, 22, 2, 34, 33, 22, 12, 34, 56]], [1, 2, 4], [0, 11, 33]]
> 
> **è¾“å‡ºï¼š**
> 
> [null, 1, 2]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> RangeFreqQuery rangeFreqQuery = new RangeFreqQuery([12, 33, 4, 56, 22, 2, 34, 33, 22, 12, 34, 56]);
> 
> rangeFreqQuery.query(1, 2, 4); // è¿”å› 1 ã€‚4 åœ¨å­æ•°ç»„ [33, 4] ä¸­å‡ºç° 1 æ¬¡ã€‚
> 
> rangeFreqQuery.query(0, 11, 33); // è¿”å› 2 ã€‚33 åœ¨æ•´ä¸ªå­æ•°ç»„ä¸­å‡ºç° 2 æ¬¡ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= arr.length <= 10^5`
  * `1 <= arr[i], value <= 10^4`
  * `0 <= left <= right < arr.length`
  * è°ƒç”¨ `query` ä¸è¶…è¿‡ `10^5` æ¬¡ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```