---
title: 2045. åˆ°è¾¾ç›®çš„åœ°çš„ç¬¬äºŒçŸ­æ—¶é—´
description: LeetCode,2045. åˆ°è¾¾ç›®çš„åœ°çš„ç¬¬äºŒçŸ­æ—¶é—´,åˆ°è¾¾ç›®çš„åœ°çš„ç¬¬äºŒçŸ­æ—¶é—´,Second Minimum Time to Reach Destination,è§£é¢˜æ€è·¯,å¹¿åº¦ä¼˜å…ˆæœç´¢,å›¾,æœ€çŸ­è·¯
keywords:
  - LeetCode
  - 2045. åˆ°è¾¾ç›®çš„åœ°çš„ç¬¬äºŒçŸ­æ—¶é—´
  - åˆ°è¾¾ç›®çš„åœ°çš„ç¬¬äºŒçŸ­æ—¶é—´
  - Second Minimum Time to Reach Destination
  - è§£é¢˜æ€è·¯
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - å›¾
  - æœ€çŸ­è·¯
---

# 2045. åˆ°è¾¾ç›®çš„åœ°çš„ç¬¬äºŒçŸ­æ—¶é—´

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å›¾`](/tag/graph.md) [`æœ€çŸ­è·¯`](/tag/shortest-path.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/second-minimum-time-to-reach-destination) [`LeetCode`](https://leetcode.com/problems/second-minimum-time-to-reach-destination)

## é¢˜ç›®

A city is represented as a **bi-directional connected** graph with `n`
vertices where each vertex is labeled from `1` to `n` (**inclusive**). The
edges in the graph are represented as a 2D integer array `edges`, where each
`edges[i] = [ui, vi]` denotes a bi-directional edge between vertex `ui` and
vertex `vi`. Every vertex pair is connected by **at most one** edge, and no
vertex has an edge to itself. The time taken to traverse any edge is `time`
minutes.

Each vertex has a traffic signal which changes its color from **green** to
**red** and vice versa every `change` minutes. All signals change **at the
same time**. You can enter a vertex at **any time** , but can leave a vertex
**only when the signal is green**. You **cannot wait** at a vertex if the
signal is **green**.

The **second minimum value** is defined as the smallest value**strictly
larger** than the minimum value.

  * For example the second minimum value of `[2, 3, 4]` is `3`, and the second minimum value of `[2, 2, 4]` is `4`.

Given `n`, `edges`, `time`, and `change`, return _the**second minimum time**
it will take to go from vertex _`1` _to vertex_`n`.

**Notes:**

  * You can go through any vertex **any** number of times, **including** `1` and `n`.
  * You can assume that when the journey **starts** , all signals have just turned **green**.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/09/29/e1.png)
![](https://assets.leetcode.com/uploads/2021/09/29/e2.png)

> Input: n = 5, edges = [[1,2],[1,3],[1,4],[3,4],[4,5]], time = 3, change = 5
> 
> Output: 13
> 
> Explanation:
> 
> The figure on the left shows the given graph.
> 
> The blue path in the figure on the right is the minimum time path.
> 
> The time taken is:
> - Start at 1, time elapsed=0
> - 1 -> 4: 3 minutes, time elapsed=3
> - 4 -> 5: 3 minutes, time elapsed=6
> 
> Hence the minimum time needed is 6 minutes.
> 
> 
> 
> The red path shows the path to get the second minimum time.
> - Start at 1, time elapsed=0
> - 1 -> 3: 3 minutes, time elapsed=3
> - 3 -> 4: 3 minutes, time elapsed=6
> - Wait at 4 for 4 minutes, time elapsed=10
> - 4 -> 5: 3 minutes, time elapsed=13
> 
> Hence the second minimum time is 13 minutes.> 
>   

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/09/29/eg2.png)

> Input: n = 2, edges = [[1,2]], time = 3, change = 2
> 
> Output: 11
> 
> Explanation:
> 
> The minimum time path is 1 -> 2 with time = 3 minutes.
> 
> The second minimum time path is 1 -> 2 -> 1 -> 2 with time = 11 minutes.



**Constraints:**

  * `2 <= n <= 10^4`
  * `n - 1 <= edges.length <= min(2 * 104, n * (n - 1) / 2)`
  * `edges[i].length == 2`
  * `1 <= ui, vi <= n`
  * `ui != vi`
  * There are no duplicate edges.
  * Each vertex can be reached directly or indirectly from every other vertex.
  * `1 <= time, change <= 10^3`


## é¢˜ç›®å¤§æ„

åŸå¸‚ç”¨ä¸€ä¸ª **åŒå‘è¿é€š** å›¾è¡¨ç¤ºï¼Œå›¾ä¸­æœ‰ `n` ä¸ªèŠ‚ç‚¹ï¼Œä» `1` åˆ° `n` ç¼–å·ï¼ˆåŒ…å« `1` å’Œ `n`ï¼‰ã€‚å›¾ä¸­çš„è¾¹ç”¨ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„
`edges` è¡¨ç¤ºï¼Œå…¶ä¸­æ¯ä¸ª `edges[i] = [ui, vi]` è¡¨ç¤ºä¸€æ¡èŠ‚ç‚¹ `ui` å’ŒèŠ‚ç‚¹ `vi` ä¹‹é—´çš„åŒå‘è¿é€šè¾¹ã€‚æ¯ç»„èŠ‚ç‚¹å¯¹ç”±
**æœ€å¤šä¸€æ¡** è¾¹è¿é€šï¼Œé¡¶ç‚¹ä¸å­˜åœ¨è¿æ¥åˆ°è‡ªèº«çš„è¾¹ã€‚ç©¿è¿‡ä»»æ„ä¸€æ¡è¾¹çš„æ—¶é—´æ˜¯ `time` åˆ†é’Ÿã€‚

æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªäº¤é€šä¿¡å·ç¯ï¼Œæ¯ `change` åˆ†é’Ÿæ”¹å˜ä¸€æ¬¡ï¼Œä»ç»¿è‰²å˜æˆçº¢è‰²ï¼Œå†ç”±çº¢è‰²å˜æˆç»¿è‰²ï¼Œå¾ªç¯å¾€å¤ã€‚æ‰€æœ‰ä¿¡å·ç¯éƒ½ **åŒæ—¶** æ”¹å˜ã€‚ä½ å¯ä»¥åœ¨
**ä»»ä½•æ—¶å€™** è¿›å…¥æŸä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯ **åªèƒ½** åœ¨èŠ‚ç‚¹ **ä¿¡å·ç¯æ˜¯ç»¿è‰²æ—¶** æ‰èƒ½ç¦»å¼€ã€‚å¦‚æœä¿¡å·ç¯æ˜¯  **ç»¿è‰²** ï¼Œä½  **ä¸èƒ½**
åœ¨èŠ‚ç‚¹ç­‰å¾…ï¼Œå¿…é¡»ç¦»å¼€ã€‚

**ç¬¬äºŒå°çš„å€¼** æ˜¯ **ä¸¥æ ¼å¤§äº** æœ€å°å€¼çš„æ‰€æœ‰å€¼ä¸­æœ€å°çš„å€¼ã€‚

  * ä¾‹å¦‚ï¼Œ`[2, 3, 4]` ä¸­ç¬¬äºŒå°çš„å€¼æ˜¯ `3` ï¼Œè€Œ `[2, 2, 4]` ä¸­ç¬¬äºŒå°çš„å€¼æ˜¯ `4` ã€‚

ç»™ä½  `n`ã€`edges`ã€`time` å’Œ `change` ï¼Œè¿”å›ä»èŠ‚ç‚¹ `1` åˆ°èŠ‚ç‚¹ `n` éœ€è¦çš„ **ç¬¬äºŒçŸ­æ—¶é—´** ã€‚

**æ³¨æ„ï¼š**

  * ä½ å¯ä»¥ **ä»»æ„æ¬¡** ç©¿è¿‡ä»»æ„é¡¶ç‚¹ï¼Œ**åŒ…æ‹¬** `1` å’Œ `n` ã€‚
  * ä½ å¯ä»¥å‡è®¾åœ¨ **å¯ç¨‹æ—¶** ï¼Œæ‰€æœ‰ä¿¡å·ç¯åˆšåˆšå˜æˆ **ç»¿è‰²** ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/09/29/e1.png)
![](https://assets.leetcode.com/uploads/2021/09/29/e2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 5, edges = [[1,2],[1,3],[1,4],[3,4],[4,5]], time = 3, change = 5
> 
> **è¾“å‡ºï¼š** 13
> 
> **è§£é‡Šï¼š**
> 
> ä¸Šé¢çš„å·¦å›¾å±•ç°äº†ç»™å‡ºçš„åŸå¸‚äº¤é€šå›¾ã€‚
> 
> å³å›¾ä¸­çš„è“è‰²è·¯å¾„æ˜¯æœ€çŸ­æ—¶é—´è·¯å¾„ã€‚
> 
> èŠ±è´¹çš„æ—¶é—´æ˜¯ï¼š
> - ä»èŠ‚ç‚¹ 1 å¼€å§‹ï¼Œæ€»èŠ±è´¹æ—¶é—´=0
> - 1 -> 4ï¼š3 åˆ†é’Ÿï¼Œæ€»èŠ±è´¹æ—¶é—´=3
> - 4 -> 5ï¼š3 åˆ†é’Ÿï¼Œæ€»èŠ±è´¹æ—¶é—´=6
> 
> å› æ­¤éœ€è¦çš„æœ€å°æ—¶é—´æ˜¯ 6 åˆ†é’Ÿã€‚
> 
> 
> 
> å³å›¾ä¸­çš„çº¢è‰²è·¯å¾„æ˜¯ç¬¬äºŒçŸ­æ—¶é—´è·¯å¾„ã€‚
> - ä»èŠ‚ç‚¹ 1 å¼€å§‹ï¼Œæ€»èŠ±è´¹æ—¶é—´=0
> - 1 -> 3ï¼š3 åˆ†é’Ÿï¼Œæ€»èŠ±è´¹æ—¶é—´=3
> - 3 -> 4ï¼š3 åˆ†é’Ÿï¼Œæ€»èŠ±è´¹æ—¶é—´=6
> - åœ¨èŠ‚ç‚¹ 4 ç­‰å¾… 4 åˆ†é’Ÿï¼Œæ€»èŠ±è´¹æ—¶é—´=10
> - 4 -> 5ï¼š3 åˆ†é’Ÿï¼Œæ€»èŠ±è´¹æ—¶é—´=13
> 
> å› æ­¤ç¬¬äºŒçŸ­æ—¶é—´æ˜¯ 13 åˆ†é’Ÿã€‚> 
>   
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/09/29/eg2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 2, edges = [[1,2]], time = 3, change = 2
> 
> **è¾“å‡ºï¼š** 11
> 
> **è§£é‡Šï¼š**
> 
> æœ€çŸ­æ—¶é—´è·¯å¾„æ˜¯ 1 -> 2 ï¼Œæ€»èŠ±è´¹æ—¶é—´ = 3 åˆ†é’Ÿ
> 
> ç¬¬äºŒçŸ­æ—¶é—´è·¯å¾„æ˜¯ 1 -> 2 -> 1 -> 2 ï¼Œæ€»èŠ±è´¹æ—¶é—´ = 11 åˆ†é’Ÿ



**æç¤ºï¼š**

  * `2 <= n <= 10^4`
  * `n - 1 <= edges.length <= min(2 * 104, n * (n - 1) / 2)`
  * `edges[i].length == 2`
  * `1 <= ui, vi <= n`
  * `ui != vi`
  * ä¸å«é‡å¤è¾¹
  * æ¯ä¸ªèŠ‚ç‚¹éƒ½å¯ä»¥ä»å…¶ä»–èŠ‚ç‚¹ç›´æ¥æˆ–è€…é—´æ¥åˆ°è¾¾
  * `1 <= time, change <= 10^3`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 743 | ç½‘ç»œå»¶è¿Ÿæ—¶é—´ |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å›¾`](/tag/graph.md) `2+` | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/network-delay-time) [ğŸ”—](https://leetcode.com/problems/network-delay-time) |
| 1334 | é˜ˆå€¼è·ç¦»å†…é‚»å±…æœ€å°‘çš„åŸå¸‚ |  |  [`å›¾`](/tag/graph.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`æœ€çŸ­è·¯`](/tag/shortest-path.md) | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/find-the-city-with-the-smallest-number-of-neighbors-at-a-threshold-distance) [ğŸ”—](https://leetcode.com/problems/find-the-city-with-the-smallest-number-of-neighbors-at-a-threshold-distance) |
| 1976 | åˆ°è¾¾ç›®çš„åœ°çš„æ–¹æ¡ˆæ•° |  |  [`å›¾`](/tag/graph.md) [`æ‹“æ‰‘æ’åº`](/tag/topological-sort.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) `1+` | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/number-of-ways-to-arrive-at-destination) [ğŸ”—](https://leetcode.com/problems/number-of-ways-to-arrive-at-destination) |