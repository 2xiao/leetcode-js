---
title: 1632. çŸ©é˜µè½¬æ¢åçš„ç§©
description: LeetCode,1632. çŸ©é˜µè½¬æ¢åçš„ç§©,çŸ©é˜µè½¬æ¢åçš„ç§©,Rank Transform of a Matrix,è§£é¢˜æ€è·¯,å¹¶æŸ¥é›†,å›¾,æ‹“æ‰‘æ’åº,æ•°ç»„,çŸ©é˜µ,æ’åº
keywords:
  - LeetCode
  - 1632. çŸ©é˜µè½¬æ¢åçš„ç§©
  - çŸ©é˜µè½¬æ¢åçš„ç§©
  - Rank Transform of a Matrix
  - è§£é¢˜æ€è·¯
  - å¹¶æŸ¥é›†
  - å›¾
  - æ‹“æ‰‘æ’åº
  - æ•°ç»„
  - çŸ©é˜µ
  - æ’åº
---

# 1632. çŸ©é˜µè½¬æ¢åçš„ç§©

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`å›¾`](/tag/graph.md) [`æ‹“æ‰‘æ’åº`](/tag/topological-sort.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/rank-transform-of-a-matrix) [`LeetCode`](https://leetcode.com/problems/rank-transform-of-a-matrix)

## é¢˜ç›®

Given an `m x n` `matrix`, return _a new matrix_`answer`
_where_`answer[row][col]`_is the_ _**rank** of _`matrix[row][col]`.

The **rank** is an **integer** that represents how large an element is
compared to other elements. It is calculated using the following rules:

  * The rank is an integer starting from `1`.
  * If two elements `p` and `q` are in the **same row or column** , then: 
> 
> * If `p < q` then `rank(p) < rank(q)`
> 
> * If `p == q` then `rank(p) == rank(q)`
> 
> * If `p > q` then `rank(p) > rank(q)`
  * The **rank** should be as **small** as possible.

The test cases are generated so that `answer` is unique under the given rules.



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/10/18/rank1.jpg)

> Input: matrix = [[1,2],[3,4]]
> 
> Output: [[1,2],[2,3]]
> 
> Explanation:
> 
> The rank of matrix[0][0] is 1 because it is the smallest integer in its row and column.
> 
> The rank of matrix[0][1] is 2 because matrix[0][1] > matrix[0][0] and matrix[0][0] is rank 1.
> 
> The rank of matrix[1][0] is 2 because matrix[1][0] > matrix[0][0] and matrix[0][0] is rank 1.
> 
> The rank of matrix[1][1] is 3 because matrix[1][1] > matrix[0][1], matrix[1][1] > matrix[1][0], and both matrix[0][1] and matrix[1][0] are rank 2.

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/10/18/rank2.jpg)

> Input: matrix = [[7,7],[7,7]]
> 
> Output: [[1,1],[1,1]]

**Example 3:**

![](https://assets.leetcode.com/uploads/2020/10/18/rank3.jpg)

> Input: matrix = [[20,-21,14],[-19,4,19],[22,-47,24],[-19,4,19]]
> 
> Output: [[4,2,3],[1,3,4],[5,1,6],[1,3,4]]

**Constraints:**

  * `m == matrix.length`
  * `n == matrix[i].length`
  * `1 <= m, n <= 500`
  * `-10^9 <= matrix[row][col] <= 10^9`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `m x n` çš„çŸ©é˜µ `matrix` ï¼Œè¯·ä½ è¿”å›ä¸€ä¸ªæ–°çš„çŸ©é˜µ _ _`answer` ï¼Œå…¶ä¸­ _ _`answer[row][col]` æ˜¯
`matrix[row][col]` çš„ç§©ã€‚

æ¯ä¸ªå…ƒç´ çš„ **ç§©**  æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¿™ä¸ªå…ƒç´ ç›¸å¯¹äºå…¶ä»–å…ƒç´ çš„å¤§å°å…³ç³»ï¼Œå®ƒæŒ‰ç…§å¦‚ä¸‹è§„åˆ™è®¡ç®—ï¼š

  * ç§©æ˜¯ä» 1 å¼€å§‹çš„ä¸€ä¸ªæ•´æ•°ã€‚
  * å¦‚æœä¸¤ä¸ªå…ƒç´  `p` å’Œ `q` åœ¨ **åŒä¸€è¡Œ**  æˆ–è€… **åŒä¸€åˆ—**  ï¼Œé‚£ä¹ˆï¼š 
> 
> * å¦‚æœ `p < q` ï¼Œé‚£ä¹ˆ `rank(p) < rank(q)`
> 
> * å¦‚æœ `p == q` ï¼Œé‚£ä¹ˆ `rank(p) == rank(q)`
> 
> * å¦‚æœ `p > q` ï¼Œé‚£ä¹ˆ `rank(p) > rank(q)`
  * **ç§©**  éœ€è¦è¶Š **å°**  è¶Šå¥½ã€‚

é¢˜ç›®ä¿è¯æŒ‰ç…§ä¸Šé¢è§„åˆ™ `answer` æ•°ç»„æ˜¯å”¯ä¸€çš„ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/10/25/rank1.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** matrix = [[1,2],[3,4]]
> 
> **è¾“å‡ºï¼š**[[1,2],[2,3]]
> 
> **è§£é‡Šï¼š**
> 
> matrix[0][0] çš„ç§©ä¸º 1 ï¼Œå› ä¸ºå®ƒæ˜¯æ‰€åœ¨è¡Œå’Œåˆ—çš„æœ€å°æ•´æ•°ã€‚
> 
> matrix[0][1] çš„ç§©ä¸º 2 ï¼Œå› ä¸º matrix[0][1] > matrix[0][0] ä¸” matrix[0][0] çš„ç§©ä¸º 1 ã€‚
> 
> matrix[1][0] çš„ç§©ä¸º 2 ï¼Œå› ä¸º matrix[1][0] > matrix[0][0] ä¸” matrix[0][0] çš„ç§©ä¸º 1 ã€‚
> 
> matrix[1][1] çš„ç§©ä¸º 3 ï¼Œå› ä¸º matrix[1][1] > matrix[0][1]ï¼Œ matrix[1][1] > matrix[1][0] ä¸” matrix[0][1] å’Œ matrix[1][0] çš„ç§©éƒ½ä¸º 2 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/10/25/rank2.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** matrix = [[7,7],[7,7]]
> 
> **è¾“å‡ºï¼š**[[1,1],[1,1]]
> 
> 

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/10/25/rank3.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** matrix = [[20,-21,14],[-19,4,19],[22,-47,24],[-19,4,19]]
> 
> **è¾“å‡ºï¼š**[[4,2,3],[1,3,4],[5,1,6],[1,3,4]]
> 
> 





**æç¤ºï¼š**

  * `m == matrix.length`
  * `n == matrix[i].length`
  * `1 <= m, n <= 500`
  * `-10^9 <= matrix[row][col] <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 1331 | æ•°ç»„åºå·è½¬æ¢ | [[âœ“]](/problem/1331.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ’åº`](/tag/sorting.md) | <font color=#15bd66>Easy</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/rank-transform-of-an-array) [ğŸ”—](https://leetcode.com/problems/rank-transform-of-an-array) |
| 1998 | æ•°ç»„çš„æœ€å¤§å…¬å› æ•°æ’åº |  |  [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) `2+` | <font color=#ff334b>Hard</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/gcd-sort-of-an-array) [ğŸ”—](https://leetcode.com/problems/gcd-sort-of-an-array) |