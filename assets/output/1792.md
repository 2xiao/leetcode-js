# [1792. æœ€å¤§å¹³å‡é€šè¿‡ç‡](https://leetcode.com/problems/maximum-average-pass-ratio)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/leetcode/outline/tag/greedy.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/leetcode/outline/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-average-pass-ratio)


## é¢˜ç›®

There is a school that has classes of students and each class will be having a
final exam. You are given a 2D integer array `classes`, where `classes[i] =
[passi, totali]`. You know beforehand that in the `ith` class, there are
`totali` total students, but only `passi` number of students will pass the
exam.

You are also given an integer `extraStudents`. There are another
`extraStudents` brilliant students that are **guaranteed** to pass the exam of
any class they are assigned to. You want to assign each of the `extraStudents`
students to a class in a way that **maximizes** the **average** pass ratio
across **all** the classes.

The **pass ratio** of a class is equal to the number of students of the class
that will pass the exam divided by the total number of students of the class.
The **average pass ratio** is the sum of pass ratios of all the classes
divided by the number of the classes.

Return _the**maximum** possible average pass ratio after assigning the
_`extraStudents` _students._ Answers within `10-5` of the actual answer will
be accepted.



**Example 1:**

> Input: classes = [[1,2],[3,5],[2,2]], extraStudents = 2
> 
> Output: 0.78333
> 
> Explanation: You can assign the two extra students to the first class. The average pass ratio will be equal to (3/4 + 3/5 + 2/2) / 3 = 0.78333.

**Example 2:**

> Input: classes = [[2,4],[3,9],[4,5],[2,10]], extraStudents = 4
> 
> Output: 0.53485

**Constraints:**

  * `1 <= classes.length <= 10^5`
  * `classes[i].length == 2`
  * `1 <= passi <= totali <= 10^5`
  * `1 <= extraStudents <= 10^5`


## é¢˜ç›®å¤§æ„

ä¸€æ‰€å­¦æ ¡é‡Œæœ‰ä¸€äº›ç­çº§ï¼Œæ¯ä¸ªç­çº§é‡Œæœ‰ä¸€äº›å­¦ç”Ÿï¼Œç°åœ¨æ¯ä¸ªç­éƒ½ä¼šè¿›è¡Œä¸€åœºæœŸæœ«è€ƒè¯•ã€‚ç»™ä½ ä¸€ä¸ªäºŒç»´æ•°ç»„ `classes` ï¼Œå…¶ä¸­ `classes[i] =
[passi, totali]` ï¼Œè¡¨ç¤ºä½ æå‰çŸ¥é“äº†ç¬¬ `i` ä¸ªç­çº§æ€»å…±æœ‰ `totali` ä¸ªå­¦ç”Ÿï¼Œå…¶ä¸­åªæœ‰ `passi` ä¸ªå­¦ç”Ÿå¯ä»¥é€šè¿‡è€ƒè¯•ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•° `extraStudents` ï¼Œè¡¨ç¤ºé¢å¤–æœ‰ `extraStudents` ä¸ªèªæ˜çš„å­¦ç”Ÿï¼Œä»–ä»¬ **ä¸€å®š**
èƒ½é€šè¿‡ä»»ä½•ç­çº§çš„æœŸæœ«è€ƒã€‚ä½ éœ€è¦ç»™è¿™ `extraStudents` ä¸ªå­¦ç”Ÿæ¯äººéƒ½å®‰æ’ä¸€ä¸ªç­çº§ï¼Œä½¿å¾— **æ‰€æœ‰** ç­çº§çš„ **å¹³å‡** é€šè¿‡ç‡ **æœ€å¤§**
ã€‚

ä¸€ä¸ªç­çº§çš„ **é€šè¿‡ç‡** ç­‰äºè¿™ä¸ªç­çº§é€šè¿‡è€ƒè¯•çš„å­¦ç”Ÿäººæ•°é™¤ä»¥è¿™ä¸ªç­çº§çš„æ€»äººæ•°ã€‚**å¹³å‡é€šè¿‡ç‡** æ˜¯æ‰€æœ‰ç­çº§çš„é€šè¿‡ç‡ä¹‹å’Œé™¤ä»¥ç­çº§æ•°ç›®ã€‚

è¯·ä½ è¿”å›åœ¨å®‰æ’è¿™ `extraStudents` ä¸ªå­¦ç”Ÿå»å¯¹åº”ç­çº§åçš„ **æœ€å¤§** å¹³å‡é€šè¿‡ç‡ã€‚ä¸æ ‡å‡†ç­”æ¡ˆè¯¯å·®èŒƒå›´åœ¨ `10-5`
ä»¥å†…çš„ç»“æœéƒ½ä¼šè§†ä¸ºæ­£ç¡®ç»“æœã€‚

**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** classes = [[1,2],[3,5],[2,2]], extraStudents = 2
> 
> **è¾“å‡ºï¼š** 0.78333
> 
> **è§£é‡Šï¼š** ä½ å¯ä»¥å°†é¢å¤–çš„ä¸¤ä¸ªå­¦ç”Ÿéƒ½å®‰æ’åˆ°ç¬¬ä¸€ä¸ªç­çº§ï¼Œå¹³å‡é€šè¿‡ç‡ä¸º (3/4 + 3/5 + 2/2) / 3 = 0.78333 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** classes = [[2,4],[3,9],[4,5],[2,10]], extraStudents = 4
> 
> **è¾“å‡ºï¼š** 0.53485
> 
> 

**æç¤ºï¼š**

  * `1 <= classes.length <= 10^5`
  * `classes[i].length == 2`
  * `1 <= passi <= totali <= 10^5`
  * `1 <= extraStudents <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```