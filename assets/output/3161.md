# [3161. ç‰©å—æ”¾ç½®æŸ¥è¯¢](https://leetcode.com/problems/block-placement-queries)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ‘çŠ¶æ•°ç»„`](/leetcode/outline/tag/binary-indexed-tree.md) [`çº¿æ®µæ ‘`](/leetcode/outline/tag/segment-tree.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/leetcode/outline/tag/binary-search.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/block-placement-queries)

## é¢˜ç›®

There exists an infinite number line, with its origin at 0 and extending
towards the **positive** x-axis.

You are given a 2D array `queries`, which contains two types of queries:

  1. For a query of type 1, `queries[i] = [1, x]`. Build an obstacle at distance `x` from the origin. It is guaranteed that there is **no** obstacle at distance `x` when the query is asked.
  2. For a query of type 2, `queries[i] = [2, x, sz]`. Check if it is possible to place a block of size `sz` _anywhere_ in the range `[0, x]` on the line, such that the block **entirely** lies in the range `[0, x]`. A block **cannot** be placed if it intersects with any obstacle, but it may touch it. Note that you do**not** actually place the block. Queries are separate.

Return a boolean array `results`, where `results[i]` is `true` if you can
place the block specified in the `ith` query of type 2, and `false` otherwise.



**Example 1:**

**Input:** queries = [[1,2],[2,3,3],[2,3,1],[2,2,2]]

**Output:** [false,true,true]

**Explanation:**

**![](https://assets.leetcode.com/uploads/2024/04/22/example0block.png)**

For query 0, place an obstacle at `x = 2`. A block of size at most 2 can be
placed before `x = 3`.

**Example 2:**

**Input:** queries = [[1,7],[2,7,6],[1,2],[2,7,5],[2,7,6]]

**Output:** [true,true,false]

**Explanation:**

**![](https://assets.leetcode.com/uploads/2024/04/22/example1block.png)**

  * Place an obstacle at `x = 7` for query 0. A block of size at most 7 can be placed before `x = 7`.
  * Place an obstacle at `x = 2` for query 2. Now, a block of size at most 5 can be placed before `x = 7`, and a block of size at most 2 before `x = 2`.



**Constraints:**

  * `1 <= queries.length <= 15 * 10^4`
  * `2 <= queries[i].length <= 3`
  * `1 <= queries[i][0] <= 2`
  * `1 <= x, sz <= min(5 * 104, 3 * queries.length)`
  * The input is generated such that for queries of type 1, no obstacle exists at distance `x` when the query is asked.
  * The input is generated such that there is at least one query of type 2.


## é¢˜ç›®å¤§æ„

æœ‰ä¸€æ¡æ— é™é•¿çš„æ•°è½´ï¼ŒåŸç‚¹åœ¨ 0 å¤„ï¼Œæ²¿ç€ x è½´ **æ­£**  æ–¹å‘æ— é™å»¶ä¼¸ã€‚

ç»™ä½ ä¸€ä¸ªäºŒç»´æ•°ç»„ `queries` ï¼Œå®ƒåŒ…å«ä¸¤ç§æ“ä½œï¼š

  1. æ“ä½œç±»å‹ 1 ï¼š`queries[i] = [1, x]` ã€‚åœ¨è·ç¦»åŸç‚¹ `x` å¤„å»ºä¸€ä¸ªéšœç¢ç‰©ã€‚æ•°æ®ä¿è¯å½“æ“ä½œæ‰§è¡Œçš„æ—¶å€™ï¼Œä½ç½® `x` å¤„ **æ²¡æœ‰**  ä»»ä½•éšœç¢ç‰©ã€‚
  2. æ“ä½œç±»å‹ 2 ï¼š`queries[i] = [2, x, sz]` ã€‚åˆ¤æ–­åœ¨æ•°è½´èŒƒå›´ `[0, x]` å†…æ˜¯å¦å¯ä»¥æ”¾ç½®ä¸€ä¸ªé•¿åº¦ä¸º `sz` çš„ç‰©å—ï¼Œè¿™ä¸ªç‰©å—éœ€è¦ **å®Œå…¨**  æ”¾ç½®åœ¨èŒƒå›´ `[0, x]` å†…ã€‚å¦‚æœç‰©å—ä¸ä»»ä½•éšœç¢ç‰©æœ‰é‡åˆï¼Œé‚£ä¹ˆè¿™ä¸ªç‰©å— **ä¸èƒ½**  è¢«æ”¾ç½®ï¼Œä½†ç‰©å—å¯ä»¥ä¸éšœç¢ç‰©åˆšå¥½æ¥è§¦ã€‚æ³¨æ„ï¼Œä½ åªæ˜¯è¿›è¡ŒæŸ¥è¯¢ï¼Œå¹¶ **ä¸æ˜¯**  çœŸçš„æ”¾ç½®è¿™ä¸ªç‰©å—ã€‚æ¯ä¸ªæŸ¥è¯¢éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚

è¯·ä½ è¿”å›ä¸€ä¸ª boolean æ•°ç»„`results` ï¼Œå¦‚æœç¬¬ `i` ä¸ªæ“ä½œç±»å‹ 2 çš„æ“ä½œä½ å¯ä»¥æ”¾ç½®ç‰©å—ï¼Œé‚£ä¹ˆ `results[i]` ä¸º
`true` ï¼Œå¦åˆ™ä¸º `false` ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** queries = [[1,2],[2,3,3],[2,3,1],[2,2,2]]

**è¾“å‡ºï¼š**[false,true,true]

**è§£é‡Šï¼š**

**![](https://assets.leetcode.com/uploads/2024/04/22/example0block.png)**

æŸ¥è¯¢ 0 ï¼Œåœ¨ `x = 2` å¤„æ”¾ç½®ä¸€ä¸ªéšœç¢ç‰©ã€‚åœ¨ `x = 3` ä¹‹å‰ä»»ä½•å¤§å°ä¸è¶…è¿‡ 2 çš„ç‰©å—éƒ½å¯ä»¥è¢«æ”¾ç½®ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** queries = [[1,7],[2,7,6],[1,2],[2,7,5],[2,7,6]]

**è¾“å‡ºï¼š**[true,true,false]

**è§£é‡Šï¼š**

**![](https://assets.leetcode.com/uploads/2024/04/22/example1block.png)**

  * æŸ¥è¯¢ 0 åœ¨ `x = 7` å¤„æ”¾ç½®ä¸€ä¸ªéšœç¢ç‰©ã€‚åœ¨ `x = 7` ä¹‹å‰ä»»ä½•å¤§å°ä¸è¶…è¿‡ 7 çš„ç‰©å—éƒ½å¯ä»¥è¢«æ”¾ç½®ã€‚
  * æŸ¥è¯¢ 2 åœ¨ `x = 2` å¤„æ”¾ç½®ä¸€ä¸ªéšœç¢ç‰©ã€‚ç°åœ¨ï¼Œåœ¨ `x = 7` ä¹‹å‰ä»»ä½•å¤§å°ä¸è¶…è¿‡ 5 çš„ç‰©å—å¯ä»¥è¢«æ”¾ç½®ï¼Œ`x = 2` ä¹‹å‰ä»»ä½•å¤§å°ä¸è¶…è¿‡ 2 çš„ç‰©å—å¯ä»¥è¢«æ”¾ç½®ã€‚



**æç¤ºï¼š**

  * `1 <= queries.length <= 15 * 10^4`
  * `2 <= queries[i].length <= 3`
  * `1 <= queries[i][0] <= 2`
  * `1 <= x, sz <= min(5 * 104, 3 * queries.length)`
  * è¾“å…¥ä¿è¯æ“ä½œ 1 ä¸­ï¼Œ`x` å¤„ä¸ä¼šæœ‰éšœç¢ç‰©ã€‚
  * è¾“å…¥ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªæ“ä½œç±»å‹ 2 ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1739 | [æ”¾ç½®ç›’å­](https://leetcode.com/problems/building-boxes) |  |  [`è´ªå¿ƒ`](/leetcode/outline/tag/greedy.md) [`æ•°å­¦`](/leetcode/outline/tag/math.md) [`äºŒåˆ†æŸ¥æ‰¾`](/leetcode/outline/tag/binary-search.md) | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
