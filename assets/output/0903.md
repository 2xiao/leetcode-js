# [903. DI åºåˆ—çš„æœ‰æ•ˆæ’åˆ—](https://leetcode.com/problems/valid-permutations-for-di-sequence)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md) [`å‰ç¼€å’Œ`](/leetcode/outline/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/valid-permutations-for-di-sequence)


## é¢˜ç›®

You are given a string `s` of length `n` where `s[i]` is either:

  * `'D'` means decreasing, or
  * `'I'` means increasing.

A permutation `perm` of `n + 1` integers of all the integers in the range `[0,
n]` is called a **valid permutation** if for all valid `i`:

  * If `s[i] == 'D'`, then `perm[i] > perm[i + 1]`, and
  * If `s[i] == 'I'`, then `perm[i] < perm[i + 1]`.

Return _the number of**valid permutations** _`perm`. Since the answer may be
large, return it **modulo** `109 + 7`.



**Example 1:**

> Input: s = "DID"
> 
> Output: 5
> 
> Explanation: The 5 valid permutations of (0, 1, 2, 3) are:
> 
> (1, 0, 3, 2)
> 
> (2, 0, 3, 1)
> 
> (2, 1, 3, 0)
> 
> (3, 0, 2, 1)
> 
> (3, 1, 2, 0)

**Example 2:**

> Input: s = "D"
> 
> Output: 1

**Constraints:**

  * `n == s.length`
  * `1 <= n <= 200`
  * `s[i]` is either `'I'` or `'D'`.


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º `n` çš„å­—ç¬¦ä¸² `s` ï¼Œå…¶ä¸­ `s[i]` æ˜¯:

  * `â€œDâ€` æ„å‘³ç€å‡å°‘ï¼Œæˆ–è€…
  * `â€œIâ€` æ„å‘³ç€å¢åŠ 

**æœ‰æ•ˆæ’åˆ—**  æ˜¯å¯¹æœ‰ `n + 1` ä¸ªåœ¨ `[0, n]`  èŒƒå›´å†…çš„æ•´æ•°çš„ä¸€ä¸ªæ’åˆ— `perm` ï¼Œä½¿å¾—å¯¹æ‰€æœ‰çš„ `i`ï¼š

  * å¦‚æœ `s[i] == 'D'`ï¼Œé‚£ä¹ˆ `perm[i] > perm[i+1]`ï¼Œä»¥åŠï¼›
  * å¦‚æœ `s[i] == 'I'`ï¼Œé‚£ä¹ˆ `perm[i] < perm[i+1]`ã€‚

è¿”å› _**æœ‰æ•ˆæ’åˆ—**  _`perm` _çš„æ•°é‡_ ã€‚å› ä¸ºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œæ‰€ä»¥è¯·**è¿”å›ä½ çš„ç­”æ¡ˆå¯¹**  `109 + 7`**  å–ä½™**ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "DID"
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š**
> 
> (0, 1, 2, 3) çš„äº”ä¸ªæœ‰æ•ˆæ’åˆ—æ˜¯ï¼š
> 
> (1, 0, 3, 2)
> 
> (2, 0, 3, 1)
> 
> (2, 1, 3, 0)
> 
> (3, 0, 2, 1)
> 
> (3, 1, 2, 0)
> 
> 

**ç¤ºä¾‹ 2:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** s = "D"
> 
> **è¾“å‡º:** 1
> 
> 



**æç¤º:**

  * `n == s.length`
  * `1 <= n <= 200`
  * `s[i]` ä¸æ˜¯ `'I'` å°±æ˜¯ `'D'`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```