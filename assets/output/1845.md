# [1845. åº§ä½é¢„çº¦ç®¡ç†ç³»ç»Ÿ](https://2xiao.github.io/leetcode-js/problem/1845.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/seat-reservation-manager) [`LeetCode`](https://leetcode.com/problems/seat-reservation-manager)

## é¢˜ç›®

Design a system that manages the reservation state of `n` seats that are
numbered from `1` to `n`.

Implement the `SeatManager` class:

  * `SeatManager(int n)` Initializes a `SeatManager` object that will manage `n` seats numbered from `1` to `n`. All seats are initially available.
  * `int reserve()` Fetches the **smallest-numbered** unreserved seat, reserves it, and returns its number.
  * `void unreserve(int seatNumber)` Unreserves the seat with the given `seatNumber`.



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["SeatManager", "reserve", "reserve", "unreserve", "reserve", "reserve", "reserve", "reserve", "unreserve"]
> 
> [[5], [], [], [2], [], [], [], [], [5]]
> 
> **Output**
> 
> [null, 1, 2, null, 2, 3, 4, 5, null]
> 
> 
> 
> **Explanation**
> 
> SeatManager seatManager = new SeatManager(5); // Initializes a SeatManager with 5 seats.
> 
> seatManager.reserve();> 
> // All seats are available, so return the lowest numbered seat, which is 1.
> 
> seatManager.reserve();> 
> // The available seats are [2,3,4,5], so return the lowest of them, which is 2.
> 
> seatManager.unreserve(2); // Unreserve seat 2, so now the available seats are [2,3,4,5].
> 
> seatManager.reserve();> 
> // The available seats are [2,3,4,5], so return the lowest of them, which is 2.
> 
> seatManager.reserve();> 
> // The available seats are [3,4,5], so return the lowest of them, which is 3.
> 
> seatManager.reserve();> 
> // The available seats are [4,5], so return the lowest of them, which is 4.
> 
> seatManager.reserve();> 
> // The only available seat is seat 5, so return 5.
> 
> seatManager.unreserve(5); // Unreserve seat 5, so now the available seats are [5].

**Constraints:**

  * `1 <= n <= 10^5`
  * `1 <= seatNumber <= n`
  * For each call to `reserve`, it is guaranteed that there will be at least one unreserved seat.
  * For each call to `unreserve`, it is guaranteed that `seatNumber` will be reserved.
  * At most `10^5` calls **in total** will be made to `reserve` and `unreserve`.


## é¢˜ç›®å¤§æ„

è¯·ä½ è®¾è®¡ä¸€ä¸ªç®¡ç† `n` ä¸ªåº§ä½é¢„çº¦çš„ç³»ç»Ÿï¼Œåº§ä½ç¼–å·ä» `1` åˆ° `n` ã€‚

è¯·ä½ å®ç° `SeatManager` ç±»ï¼š

  * `SeatManager(int n)` åˆå§‹åŒ–ä¸€ä¸ª `SeatManager` å¯¹è±¡ï¼Œå®ƒç®¡ç†ä» `1` åˆ° `n` ç¼–å·çš„ `n` ä¸ªåº§ä½ã€‚æ‰€æœ‰åº§ä½åˆå§‹éƒ½æ˜¯å¯é¢„çº¦çš„ã€‚
  * `int reserve()` è¿”å›å¯ä»¥é¢„çº¦åº§ä½çš„ **æœ€å°ç¼–å·** ï¼Œæ­¤åº§ä½å˜ä¸ºä¸å¯é¢„çº¦ã€‚
  * `void unreserve(int seatNumber)` å°†ç»™å®šç¼–å· `seatNumber` å¯¹åº”çš„åº§ä½å˜æˆå¯ä»¥é¢„çº¦ã€‚

**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> ["SeatManager", "reserve", "reserve", "unreserve", "reserve", "reserve", "reserve", "reserve", "unreserve"]
> 
> [[5], [], [], [2], [], [], [], [], [5]]
> 
> **è¾“å‡ºï¼š**
> 
> [null, 1, 2, null, 2, 3, 4, 5, null]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> SeatManager seatManager = new SeatManager(5); // åˆå§‹åŒ– SeatManager ï¼Œæœ‰ 5 ä¸ªåº§ä½ã€‚
> 
> seatManager.reserve();> 
> // æ‰€æœ‰åº§ä½éƒ½å¯ä»¥é¢„çº¦ï¼Œæ‰€ä»¥è¿”å›æœ€å°ç¼–å·çš„åº§ä½ï¼Œä¹Ÿå°±æ˜¯ 1 ã€‚
> 
> seatManager.reserve();> 
> // å¯ä»¥é¢„çº¦çš„åº§ä½ä¸º [2,3,4,5] ï¼Œè¿”å›æœ€å°ç¼–å·çš„åº§ä½ï¼Œä¹Ÿå°±æ˜¯ 2 ã€‚
> 
> seatManager.unreserve(2); // å°†åº§ä½ 2 å˜ä¸ºå¯ä»¥é¢„çº¦ï¼Œç°åœ¨å¯é¢„çº¦çš„åº§ä½ä¸º [2,3,4,5] ã€‚
> 
> seatManager.reserve();> 
> // å¯ä»¥é¢„çº¦çš„åº§ä½ä¸º [2,3,4,5] ï¼Œè¿”å›æœ€å°ç¼–å·çš„åº§ä½ï¼Œä¹Ÿå°±æ˜¯ 2 ã€‚
> 
> seatManager.reserve();> 
> // å¯ä»¥é¢„çº¦çš„åº§ä½ä¸º [3,4,5] ï¼Œè¿”å›æœ€å°ç¼–å·çš„åº§ä½ï¼Œä¹Ÿå°±æ˜¯ 3 ã€‚
> 
> seatManager.reserve();> 
> // å¯ä»¥é¢„çº¦çš„åº§ä½ä¸º [4,5] ï¼Œè¿”å›æœ€å°ç¼–å·çš„åº§ä½ï¼Œä¹Ÿå°±æ˜¯ 4 ã€‚
> 
> seatManager.reserve();> 
> // å”¯ä¸€å¯ä»¥é¢„çº¦çš„æ˜¯åº§ä½ 5 ï¼Œæ‰€ä»¥è¿”å› 5 ã€‚
> 
> seatManager.unreserve(5); // å°†åº§ä½ 5 å˜ä¸ºå¯ä»¥é¢„çº¦ï¼Œç°åœ¨å¯é¢„çº¦çš„åº§ä½ä¸º [5] ã€‚
> 
> 

**æç¤ºï¼š**

  * `1 <= n <= 10^5`
  * `1 <= seatNumber <= n`
  * æ¯ä¸€æ¬¡å¯¹ `reserve` çš„è°ƒç”¨ï¼Œé¢˜ç›®ä¿è¯è‡³å°‘å­˜åœ¨ä¸€ä¸ªå¯ä»¥é¢„çº¦çš„åº§ä½ã€‚
  * æ¯ä¸€æ¬¡å¯¹ `unreserve` çš„è°ƒç”¨ï¼Œé¢˜ç›®ä¿è¯ `seatNumber` åœ¨è°ƒç”¨å‡½æ•°å‰éƒ½æ˜¯è¢«é¢„çº¦çŠ¶æ€ã€‚
  * å¯¹ `reserve` å’Œ `unreserve` çš„è°ƒç”¨ **æ€»å…±** ä¸è¶…è¿‡ `10^5` æ¬¡ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 379 | [ç”µè¯ç›®å½•ç®¡ç†ç³»ç»Ÿ ğŸ”’](https://leetcode.com/problems/design-phone-directory) | [[âœ“]](/problem/0379.md) |  [`è®¾è®¡`](/tag/design.md) [`é˜Ÿåˆ—`](/tag/queue.md) [`æ•°ç»„`](/tag/array.md) `2+` | <font color=#ffb800>Medium</font> |
| 2349 | [è®¾è®¡æ•°å­—å®¹å™¨ç³»ç»Ÿ](https://leetcode.com/problems/design-a-number-container-system) |  |  [`è®¾è®¡`](/tag/design.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æœ‰åºé›†åˆ`](/tag/ordered-set.md) `1+` | <font color=#ffb800>Medium</font> |