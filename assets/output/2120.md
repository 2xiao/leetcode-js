---
title: 2120. æ‰§è¡Œæ‰€æœ‰åç¼€æŒ‡ä»¤
description: LeetCode,2120. æ‰§è¡Œæ‰€æœ‰åç¼€æŒ‡ä»¤,æ‰§è¡Œæ‰€æœ‰åç¼€æŒ‡ä»¤,Execution of All Suffix Instructions Staying in a Grid,è§£é¢˜æ€è·¯,å­—ç¬¦ä¸²,æ¨¡æ‹Ÿ
keywords:
  - LeetCode
  - 2120. æ‰§è¡Œæ‰€æœ‰åç¼€æŒ‡ä»¤
  - æ‰§è¡Œæ‰€æœ‰åç¼€æŒ‡ä»¤
  - Execution of All Suffix Instructions Staying in a Grid
  - è§£é¢˜æ€è·¯
  - å­—ç¬¦ä¸²
  - æ¨¡æ‹Ÿ
---

# 2120. æ‰§è¡Œæ‰€æœ‰åç¼€æŒ‡ä»¤

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/execution-of-all-suffix-instructions-staying-in-a-grid) [`LeetCode`](https://leetcode.com/problems/execution-of-all-suffix-instructions-staying-in-a-grid)

## é¢˜ç›®

There is an `n x n` grid, with the top-left cell at `(0, 0)` and the bottom-
right cell at `(n - 1, n - 1)`. You are given the integer `n` and an integer
array `startPos` where `startPos = [startrow, startcol]` indicates that a
robot is initially at cell `(startrow, startcol)`.

You are also given a **0-indexed** string `s` of length `m` where `s[i]` is
the `ith` instruction for the robot: `'L'` (move left), `'R'` (move right),
`'U'` (move up), and `'D'` (move down).

The robot can begin executing from any `ith` instruction in `s`. It executes
the instructions one by one towards the end of `s` but it stops if either of
these conditions is met:

  * The next instruction will move the robot off the grid.
  * There are no more instructions left to execute.

Return _an array_ `answer` _of length_ `m` _where_ `answer[i]` _is**the number
of instructions** the robot can execute if the robot **begins executing from**
the_ `ith` _instruction in_ `s`.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/12/09/1.png)

> Input: n = 3, startPos = [0,1], s = "RRDDLU"
> 
> Output: [1,5,4,3,1,0]
> 
> Explanation: Starting from startPos and beginning execution from the ith instruction:
> - 0th: "_**R**_ RDDLU". Only one instruction "R" can be executed before it moves off the grid.
> - 1st:  "_**RDDLU**_ ". All five instructions can be executed while it stays in the grid and ends at (1, 1).
> - 2nd:   "_**DDLU**_ ". All four instructions can be executed while it stays in the grid and ends at (1, 0).
> - 3rd:> 
> "_**DLU**_ ". All three instructions can be executed while it stays in the grid and ends at (0, 0).
> - 4th:> 
>  "_**L**_ U". Only one instruction "L" can be executed before it moves off the grid.
> - 5th:> 
>   "U". If moving up, it would move off the grid.

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/12/09/2.png)

> Input: n = 2, startPos = [1,1], s = "LURD"
> 
> Output: [4,1,0,0]
> 
> Explanation:
> - 0th: "_**LURD**_ ".
> - 1st:  "_**U**_ RD".
> - 2nd:   "RD".
> - 3rd:> 
> "D".

**Example 3:**

![](https://assets.leetcode.com/uploads/2021/12/09/3.png)

> Input: n = 1, startPos = [0,0], s = "LRUD"
> 
> Output: [0,0,0,0]
> 
> Explanation: No matter which instruction the robot begins execution from, it would move off the grid.

**Constraints:**

  * `m == s.length`
  * `1 <= n, m <= 500`
  * `startPos.length == 2`
  * `0 <= startrow, startcol < n`
  * `s` consists of `'L'`, `'R'`, `'U'`, and `'D'`.


## é¢˜ç›®å¤§æ„

ç°æœ‰ä¸€ä¸ª `n x n` å¤§å°çš„ç½‘æ ¼ï¼Œå·¦ä¸Šè§’å•å…ƒæ ¼åæ ‡ `(0, 0)` ï¼Œå³ä¸‹è§’å•å…ƒæ ¼åæ ‡ `(n - 1, n - 1)` ã€‚ç»™ä½ æ•´æ•° `n`
å’Œä¸€ä¸ªæ•´æ•°æ•°ç»„ `startPos` ï¼Œå…¶ä¸­ `startPos = [startrow, startcol]` è¡¨ç¤ºæœºå™¨äººæœ€å¼€å§‹åœ¨åæ ‡ä¸º
`(startrow, startcol)` çš„å•å…ƒæ ¼ä¸Šã€‚

å¦ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `m` ã€ä¸‹æ ‡ä» **0** å¼€å§‹çš„å­—ç¬¦ä¸² `s` ï¼Œå…¶ä¸­ `s[i]` æ˜¯å¯¹æœºå™¨äººçš„ç¬¬ `i`
æ¡æŒ‡ä»¤ï¼š`'L'`ï¼ˆå‘å·¦ç§»åŠ¨ï¼‰ï¼Œ`'R'`ï¼ˆå‘å³ç§»åŠ¨ï¼‰ï¼Œ`'U'`ï¼ˆå‘ä¸Šç§»åŠ¨ï¼‰å’Œ `'D'`ï¼ˆå‘ä¸‹ç§»åŠ¨ï¼‰ã€‚

æœºå™¨äººå¯ä»¥ä» `s` ä¸­çš„ä»»ä¸€ç¬¬ `i` æ¡æŒ‡ä»¤å¼€å§‹æ‰§è¡Œã€‚å®ƒå°†ä¼šé€æ¡æ‰§è¡ŒæŒ‡ä»¤ç›´åˆ° `s` çš„æœ«å°¾ï¼Œä½†åœ¨æ»¡è¶³ä¸‹è¿°æ¡ä»¶ä¹‹ä¸€æ—¶ï¼Œæœºå™¨äººå°†ä¼šåœæ­¢ï¼š

  * ä¸‹ä¸€æ¡æŒ‡ä»¤å°†ä¼šå¯¼è‡´æœºå™¨äººç§»åŠ¨åˆ°ç½‘æ ¼å¤–ã€‚
  * æ²¡æœ‰æŒ‡ä»¤å¯ä»¥æ‰§è¡Œã€‚

è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º `m` çš„æ•°ç»„ `answer` ï¼Œå…¶ä¸­ `answer[i]` æ˜¯æœºå™¨äººä»ç¬¬ `i` æ¡æŒ‡ä»¤ **å¼€å§‹**  ï¼Œå¯ä»¥æ‰§è¡Œçš„
**æŒ‡ä»¤æ•°ç›®** ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/12/09/1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3, startPos = [0,1], s = "RRDDLU"
> 
> **è¾“å‡ºï¼š**[1,5,4,3,1,0]
> 
> **è§£é‡Šï¼š** æœºå™¨äººä» startPos å‡ºå‘ï¼Œå¹¶ä»ç¬¬ i æ¡æŒ‡ä»¤å¼€å§‹æ‰§è¡Œï¼š
> - 0: "_**R**_ RDDLU" åœ¨ç§»åŠ¨åˆ°ç½‘æ ¼å¤–ä¹‹å‰ï¼Œåªèƒ½æ‰§è¡Œä¸€æ¡ "R" æŒ‡ä»¤ã€‚
> - 1:  "_**RDDLU**_ " å¯ä»¥æ‰§è¡Œå…¨éƒ¨äº”æ¡æŒ‡ä»¤ï¼Œæœºå™¨äººä»åœ¨ç½‘æ ¼å†…ï¼Œæœ€ç»ˆåˆ°è¾¾ (0, 0) ã€‚
> - 2:   "_**DDLU**_ " å¯ä»¥æ‰§è¡Œå…¨éƒ¨å››æ¡æŒ‡ä»¤ï¼Œæœºå™¨äººä»åœ¨ç½‘æ ¼å†…ï¼Œæœ€ç»ˆåˆ°è¾¾ (0, 0) ã€‚
> - 3:> 
> "_**DLU**_ " å¯ä»¥æ‰§è¡Œå…¨éƒ¨ä¸‰æ¡æŒ‡ä»¤ï¼Œæœºå™¨äººä»åœ¨ç½‘æ ¼å†…ï¼Œæœ€ç»ˆåˆ°è¾¾ (0, 0) ã€‚
> - 4:> 
>  "_**L**_ U" åœ¨ç§»åŠ¨åˆ°ç½‘æ ¼å¤–ä¹‹å‰ï¼Œåªèƒ½æ‰§è¡Œä¸€æ¡ "L" æŒ‡ä»¤ã€‚
> - 5:> 
>   "U" å¦‚æœå‘ä¸Šç§»åŠ¨ï¼Œå°†ä¼šç§»åŠ¨åˆ°ç½‘æ ¼å¤–ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/12/09/2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 2, startPos = [1,1], s = "LURD"
> 
> **è¾“å‡ºï¼š**[4,1,0,0]
> 
> **è§£é‡Šï¼š**
> - 0: "_**LURD**_ "
> - 1:  "_**U**_ RD"
> - 2:   "RD"
> - 3:> 
> "D"
> 
> 

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode.com/uploads/2021/12/09/3.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 1, startPos = [0,0], s = "LRUD"
> 
> **è¾“å‡ºï¼š**[0,0,0,0]
> 
> **è§£é‡Šï¼š** æ— è®ºæœºå™¨äººä»å“ªæ¡æŒ‡ä»¤å¼€å§‹æ‰§è¡Œï¼Œéƒ½ä¼šç§»åŠ¨åˆ°ç½‘æ ¼å¤–ã€‚
> 
> 



**æç¤ºï¼š**

  * `m == s.length`
  * `1 <= n, m <= 500`
  * `startPos.length == 2`
  * `0 <= startrow, startcol < n`
  * `s` ç”± `'L'`ã€`'R'`ã€`'U'` å’Œ `'D'` ç»„æˆ


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 576 | å‡ºç•Œçš„è·¯å¾„æ•° |  |  [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/out-of-boundary-paths) [ğŸ”—](https://leetcode.com/problems/out-of-boundary-paths) |
| 657 | æœºå™¨äººèƒ½å¦è¿”å›åŸç‚¹ |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/robot-return-to-origin) [ğŸ”—](https://leetcode.com/problems/robot-return-to-origin) |