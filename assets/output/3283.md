# [3283. åƒæ‰æ‰€æœ‰å…µéœ€è¦çš„æœ€å¤šç§»åŠ¨æ¬¡æ•°](https://leetcode.com/problems/maximum-number-of-moves-to-kill-all-pawns)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`çŠ¶æ€å‹ç¼©`](/tag/bitmask.md) [`åšå¼ˆ`](/tag/game-theory.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-number-of-moves-to-kill-all-pawns)

## é¢˜ç›®

There is a `50 x 50` chessboard with **one** knight and some pawns on it. You
are given two integers `kx` and `ky` where `(kx, ky)` denotes the position of
the knight, and a 2D array `positions` where `positions[i] = [xi, yi]` denotes
the position of the pawns on the chessboard.

Alice and Bob play a _turn-based_ game, where Alice goes first. In each
player's turn:

  * The player _selects_ a pawn that still exists on the board and captures it with the knight in the **fewest** possible **moves**. **Note** that the player can select **any** pawn, it **might not** be one that can be captured in the **least** number of moves.
  * In the process of capturing the _selected_ pawn, the knight **may** pass other pawns **without** capturing them. **Only** the _selected_ pawn can be captured in _this_ turn.

Alice is trying to **maximize** the **sum** of the number of moves made by
_both_ players until there are no more pawns on the board, whereas Bob tries
to **minimize** them.

Return the **maximum** _total_ number of moves made during the game that Alice
can achieve, assuming both players play **optimally**.

Note that in one **move,** a chess knight has eight possible positions it can
move to, as illustrated below. Each move is two cells in a cardinal direction,
then one cell in an orthogonal direction.

![](https://assets.leetcode.com/uploads/2024/08/01/chess_knight.jpg)



**Example 1:**

**Input:** kx = 1, ky = 1, positions = [[0,0]]

**Output:** 4

**Explanation:**

![](https://assets.leetcode.com/uploads/2024/08/16/gif3.gif)

The knight takes 4 moves to reach the pawn at `(0, 0)`.

**Example 2:**

**Input:** kx = 0, ky = 2, positions = [[1,1],[2,2],[3,3]]

**Output:** 8

**Explanation:**

**![](https://assets.leetcode.com/uploads/2024/08/16/gif4.gif)**

  * Alice picks the pawn at `(2, 2)` and captures it in two moves: `(0, 2) -> (1, 4) -> (2, 2)`.
  * Bob picks the pawn at `(3, 3)` and captures it in two moves: `(2, 2) -> (4, 1) -> (3, 3)`.
  * Alice picks the pawn at `(1, 1)` and captures it in four moves: `(3, 3) -> (4, 1) -> (2, 2) -> (0, 3) -> (1, 1)`.

**Example 3:**

**Input:** kx = 0, ky = 0, positions = [[1,2],[2,4]]

**Output:** 3

**Explanation:**

  * Alice picks the pawn at `(2, 4)` and captures it in two moves: `(0, 0) -> (1, 2) -> (2, 4)`. Note that the pawn at `(1, 2)` is not captured.
  * Bob picks the pawn at `(1, 2)` and captures it in one move: `(2, 4) -> (1, 2)`.



**Constraints:**

  * `0 <= kx, ky <= 49`
  * `1 <= positions.length <= 15`
  * `positions[i].length == 2`
  * `0 <= positions[i][0], positions[i][1] <= 49`
  * All `positions[i]` are unique.
  * The input is generated such that `positions[i] != [kx, ky]` for all `0 <= i < positions.length`.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `50 x 50` çš„å›½é™…è±¡æ£‹æ£‹ç›˜ï¼Œæ£‹ç›˜ä¸Šæœ‰ **ä¸€ä¸ª**  é©¬å’Œä¸€äº›å…µã€‚ç»™ä½ ä¸¤ä¸ªæ•´æ•° `kx` å’Œ `ky` ï¼Œå…¶ä¸­ `(kx, ky)`
è¡¨ç¤ºé©¬æ‰€åœ¨çš„ä½ç½®ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªäºŒç»´æ•°ç»„ `positions` ï¼Œå…¶ä¸­ `positions[i] = [xi, yi]` è¡¨ç¤ºç¬¬ `i`
ä¸ªå…µåœ¨æ£‹ç›˜ä¸Šçš„ä½ç½®ã€‚

Alice å’Œ Bob ç©ä¸€ä¸ªå›åˆåˆ¶æ¸¸æˆï¼ŒAlice å…ˆæ‰‹ã€‚ç©å®¶çš„ä¸€æ¬¡æ“ä½œä¸­ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

  * ç©å®¶é€‰æ‹©ä¸€ä¸ªä»ç„¶åœ¨æ£‹ç›˜ä¸Šçš„å…µï¼Œç„¶åç§»åŠ¨é©¬ï¼Œé€šè¿‡ **æœ€å°‘**  çš„ **æ­¥æ•°** åƒæ‰è¿™ä¸ªå…µã€‚**æ³¨æ„**  ï¼Œç©å®¶å¯ä»¥é€‰æ‹© **ä»»æ„**  ä¸€ä¸ªå…µï¼Œ**ä¸ä¸€å®š**  è¦é€‰æ‹©ä»é©¬çš„ä½ç½®å‡ºå‘ **æœ€å°‘**  ç§»åŠ¨æ­¥æ•°çš„å…µã€‚
  * åœ¨é©¬åƒå…µçš„è¿‡ç¨‹ä¸­ï¼Œé©¬ **å¯èƒ½**  ä¼šç»è¿‡ä¸€äº›å…¶ä»–å…µçš„ä½ç½®ï¼Œä½†è¿™äº›å…µ **ä¸ä¼š**  è¢«åƒæ‰ã€‚**åªæœ‰**  é€‰ä¸­çš„å…µåœ¨è¿™ä¸ªå›åˆä¸­è¢«åƒæ‰ã€‚

Alice çš„ç›®æ ‡æ˜¯ **æœ€å¤§åŒ–**  ä¸¤åç©å®¶çš„ **æ€»**  ç§»åŠ¨æ¬¡æ•°ï¼Œç›´åˆ°æ£‹ç›˜ä¸Šä¸å†å­˜åœ¨å…µï¼Œè€Œ Bob çš„ç›®æ ‡æ˜¯ **æœ€å°åŒ–**  æ€»ç§»åŠ¨æ¬¡æ•°ã€‚

å‡è®¾ä¸¤åç©å®¶éƒ½é‡‡ç”¨ **æœ€ä¼˜**  ç­–ç•¥ï¼Œè¯·ä½ è¿”å›å¯ä»¥è¾¾åˆ°çš„ **æœ€å¤§**  æ€»ç§»åŠ¨æ¬¡æ•°ã€‚

åœ¨ä¸€æ¬¡ **ç§»åŠ¨**  ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé©¬æœ‰ 8 ä¸ªå¯ä»¥ç§»åŠ¨åˆ°çš„ä½ç½®ï¼Œæ¯ä¸ªç§»åŠ¨ä½ç½®éƒ½æ˜¯æ²¿ç€åæ ‡è½´çš„ä¸€ä¸ªæ–¹å‘å‰è¿› 2 æ ¼ï¼Œç„¶åæ²¿ç€å‚ç›´çš„æ–¹å‘å‰è¿› 1 æ ¼ã€‚

![](https://assets.leetcode.com/uploads/2024/08/01/chess_knight.jpg)



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** kx = 1, ky = 1, positions = [[0,0]]

**è¾“å‡ºï¼š** 4

**è§£é‡Šï¼š**

![](https://assets.leetcode.com/uploads/2024/08/16/gif3.gif)

é©¬éœ€è¦ç§»åŠ¨ 4 æ­¥åƒæ‰ `(0, 0)` å¤„çš„å…µã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** kx = 0, ky = 2, positions = [[1,1],[2,2],[3,3]]

**è¾“å‡ºï¼š** 8

**è§£é‡Šï¼š**

**![](https://assets.leetcode.com/uploads/2024/08/16/gif4.gif)**

  * Alice é€‰æ‹© `(2, 2)` å¤„çš„å…µï¼Œç§»åŠ¨é©¬åƒæ‰å®ƒéœ€è¦ 2 æ­¥ï¼š`(0, 2) -> (1, 4) -> (2, 2)` ã€‚
  * Bob é€‰æ‹© `(3, 3)` å¤„çš„å…µï¼Œç§»åŠ¨é©¬åƒæ‰å®ƒéœ€è¦ 2 æ­¥ï¼š`(2, 2) -> (4, 1) -> (3, 3)` ã€‚
  * Alice é€‰æ‹© `(1, 1)` å¤„çš„å…µï¼Œç§»åŠ¨é©¬åƒæ‰å®ƒéœ€è¦ 4 æ­¥ï¼š`(3, 3) -> (4, 1) -> (2, 2) -> (0, 3) -> (1, 1)` ã€‚

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š** kx = 0, ky = 0, positions = [[1,2],[2,4]]

**è¾“å‡ºï¼š** 3

**è§£é‡Šï¼š**

  * Alice é€‰æ‹© `(2, 4)` å¤„çš„å…µï¼Œç§»åŠ¨é©¬åƒæ‰å®ƒéœ€è¦ 2 æ­¥ï¼š`(0, 0) -> (1, 2) -> (2, 4)` ã€‚æ³¨æ„ï¼Œ`(1, 2)` å¤„çš„å…µä¸ä¼šè¢«åƒæ‰ã€‚
  * Bob é€‰æ‹© `(1, 2)` å¤„çš„å…µï¼Œç§»åŠ¨é©¬åƒæ‰å®ƒéœ€è¦ 1 æ­¥ï¼š`(2, 4) -> (1, 2)` ã€‚



**æç¤ºï¼š**

  * `0 <= kx, ky <= 49`
  * `1 <= positions.length <= 15`
  * `positions[i].length == 2`
  * `0 <= positions[i][0], positions[i][1] <= 49`
  * `positions[i]` ä¸¤ä¸¤äº’ä¸ç›¸åŒã€‚
  * è¾“å…¥ä¿è¯å¯¹äºæ‰€æœ‰ `0 <= i < positions.length` ï¼Œéƒ½æœ‰ `positions[i] != [kx, ky]` ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 688 | [éª‘å£«åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡](https://leetcode.com/problems/knight-probability-in-chessboard) |  |  [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ffb800>Medium</font> |
| 2596 | [æ£€æŸ¥éª‘å£«å·¡è§†æ–¹æ¡ˆ](https://leetcode.com/problems/check-knight-tour-configuration) |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) `2+` | <font color=#ffb800>Medium</font> |