---
title: 1395. ç»Ÿè®¡ä½œæˆ˜å•ä½æ•°
description: LeetCode 1395. ç»Ÿè®¡ä½œæˆ˜å•ä½æ•°é¢˜è§£ï¼ŒCount Number of Teamsï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1395. ç»Ÿè®¡ä½œæˆ˜å•ä½æ•°
  - ç»Ÿè®¡ä½œæˆ˜å•ä½æ•°
  - Count Number of Teams
  - è§£é¢˜æ€è·¯
  - æ ‘çŠ¶æ•°ç»„
  - çº¿æ®µæ ‘
  - æ•°ç»„
  - åŠ¨æ€è§„åˆ’
---

# 1395. ç»Ÿè®¡ä½œæˆ˜å•ä½æ•°

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘çŠ¶æ•°ç»„`](/tag/binary-indexed-tree.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/count-number-of-teams) [`LeetCode`](https://leetcode.com/problems/count-number-of-teams)

## é¢˜ç›®

There are `n` soldiers standing in a line. Each soldier is assigned a
**unique** `rating` value.

You have to form a team of 3 soldiers amongst them under the following rules:

  * Choose 3 soldiers with index (`i`, `j`, `k`) with rating (`rating[i]`, `rating[j]`, `rating[k]`).
  * A team is valid if: (`rating[i] < rating[j] < rating[k]`) or (`rating[i] > rating[j] > rating[k]`) where (`0 <= i < j < k < n`).

Return the number of teams you can form given the conditions. (soldiers can be
part of multiple teams).



**Example 1:**

> Input: rating = [2,5,3,4,1]
> 
> Output: 3
> 
> Explanation: We can form three teams given the conditions. (2,3,4), (5,4,1), (5,3,1). 

**Example 2:**

> Input: rating = [2,1,3]
> 
> Output: 0
> 
> Explanation: We can't form any team given the conditions.

**Example 3:**

> Input: rating = [1,2,3,4]
> 
> Output: 4

**Constraints:**

  * `n == rating.length`
  * `3 <= n <= 1000`
  * `1 <= rating[i] <= 10^5`
  * All the integers in `rating` are **unique**.


## é¢˜ç›®å¤§æ„

 `n` åå£«å…µç«™æˆä¸€æ’ã€‚æ¯ä¸ªå£«å…µéƒ½æœ‰ä¸€ä¸ª **ç‹¬ä¸€æ— äºŒ** çš„è¯„åˆ† `rating` ã€‚

ä»ä¸­é€‰å‡º **3** ä¸ªå£«å…µç»„æˆä¸€ä¸ªä½œæˆ˜å•ä½ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š

  * ä»é˜Ÿä¼ä¸­é€‰å‡ºä¸‹æ ‡åˆ†åˆ«ä¸º `i`ã€`j`ã€`k` çš„ 3 åå£«å…µï¼Œä»–ä»¬çš„è¯„åˆ†åˆ†åˆ«ä¸º `rating[i]`ã€`rating[j]`ã€`rating[k]`
  * ä½œæˆ˜å•ä½éœ€æ»¡è¶³ï¼š `rating[i] < rating[j] < rating[k]` æˆ–è€… `rating[i] > rating[j] > rating[k]` ï¼Œå…¶ä¸­  `0 <= i < j < k < n`

è¯·ä½ è¿”å›æŒ‰ä¸Šè¿°æ¡ä»¶ç»„å»ºçš„ä½œæˆ˜å•ä½çš„æ–¹æ¡ˆæ•°ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** rating = [2,5,3,4,1]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** æˆ‘ä»¬å¯ä»¥ç»„å»ºä¸‰ä¸ªä½œæˆ˜å•ä½ (2,3,4)ã€(5,4,1)ã€(5,3,1) ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** rating = [2,1,3]
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š** æ ¹æ®é¢˜ç›®æ¡ä»¶ï¼Œæˆ‘ä»¬æ— æ³•ç»„å»ºä½œæˆ˜å•ä½ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** rating = [1,2,3,4]
> 
> **è¾“å‡ºï¼š** 4
> 
> 



**æç¤ºï¼š**

  * `n == rating.length`
  * `3 <= n <= 1000`
  * `1 <= rating[i] <= 10^5`
  * `rating` ä¸­çš„å…ƒç´ éƒ½æ˜¯å”¯ä¸€çš„


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```