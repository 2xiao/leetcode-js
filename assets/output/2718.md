# [2718. æŸ¥è¯¢åçŸ©é˜µçš„å’Œ](https://leetcode.com/problems/sum-of-matrix-after-queries)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/sum-of-matrix-after-queries)

## é¢˜ç›®

You are given an integer `n` and a **0-indexed**  **2D array** `queries` where
`queries[i] = [typei, indexi, vali]`.

Initially, there is a **0-indexed** `n x n` matrix filled with `0`'s. For each
query, you must apply one of the following changes:

  * if `typei == 0`, set the values in the row with `indexi` to `vali`, overwriting any previous values.
  * if `typei == 1`, set the values in the column with `indexi` to `vali`, overwriting any previous values.

Return _the sum of integers in the matrix after all queries are applied_.



**Example 1:**

![](https://assets.leetcode.com/uploads/2023/05/11/exm1.png)

> Input: n = 3, queries = [[0,0,1],[1,2,2],[0,2,3],[1,0,4]]
> 
> Output: 23
> 
> Explanation: The image above describes the matrix after each query. The sum of the matrix after all queries are applied is 23. 

**Example 2:**

![](https://assets.leetcode.com/uploads/2023/05/11/exm2.png)

> Input: n = 3, queries = [[0,0,4],[0,1,2],[1,0,1],[0,2,3],[1,2,1]]
> 
> Output: 17
> 
> Explanation: The image above describes the matrix after each query. The sum of the matrix after all queries are applied is 17.

**Constraints:**

  * `1 <= n <= 10^4`
  * `1 <= queries.length <= 5 * 10^4`
  * `queries[i].length == 3`
  * `0 <= typei <= 1`
  * `0 <= indexi < n`
  * `0 <= vali <= 10^5`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` å’Œä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹çš„ **äºŒç»´æ•°ç»„**  `queries` ï¼Œå…¶ä¸­ `queries[i] = [typei,
indexi, vali]` ã€‚

ä¸€å¼€å§‹ï¼Œç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹çš„ `n x n` çŸ©é˜µï¼Œæ‰€æœ‰å…ƒç´ å‡ä¸º `0` ã€‚æ¯ä¸€ä¸ªæŸ¥è¯¢ï¼Œä½ éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œä¹‹ä¸€ï¼š

  * å¦‚æœ `typei == 0` ï¼Œå°†ç¬¬ `indexi` è¡Œçš„å…ƒç´ å…¨éƒ¨ä¿®æ”¹ä¸º `vali` ï¼Œè¦†ç›–ä»»ä½•ä¹‹å‰çš„å€¼ã€‚
  * å¦‚æœ `typei == 1` ï¼Œå°†ç¬¬ `indexi` åˆ—çš„å…ƒç´ å…¨éƒ¨ä¿®æ”¹ä¸º `vali` ï¼Œè¦†ç›–ä»»ä½•ä¹‹å‰çš„å€¼ã€‚

è¯·ä½ æ‰§è¡Œå®Œæ‰€æœ‰æŸ¥è¯¢ä»¥åï¼Œè¿”å›çŸ©é˜µä¸­æ‰€æœ‰æ•´æ•°çš„å’Œã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2023/05/11/exm1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3, queries = [[0,0,1],[1,2,2],[0,2,3],[1,0,4]]
> 
> **è¾“å‡ºï¼š** 23
> 
> **è§£é‡Šï¼š** ä¸Šå›¾å±•ç¤ºäº†æ¯ä¸ªæŸ¥è¯¢ä»¥åçŸ©é˜µçš„å€¼ã€‚æ‰€æœ‰æ“ä½œæ‰§è¡Œå®Œä»¥åï¼ŒçŸ©é˜µå…ƒç´ ä¹‹å’Œä¸º 23 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2023/05/11/exm2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3, queries = [[0,0,4],[0,1,2],[1,0,1],[0,2,3],[1,2,1]]
> 
> **è¾“å‡ºï¼š** 17
> 
> **è§£é‡Šï¼š** ä¸Šå›¾å±•ç¤ºäº†æ¯ä¸€ä¸ªæŸ¥è¯¢æ“ä½œä¹‹åçš„çŸ©é˜µã€‚æ‰€æœ‰æ“ä½œæ‰§è¡Œå®Œä»¥åï¼ŒçŸ©é˜µå…ƒç´ ä¹‹å’Œä¸º 17 ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= n <= 10^4`
  * `1 <= queries.length <= 5 * 10^4`
  * `queries[i].length == 3`
  * `0 <= typei <= 1`
  * `0 <= indexi < n`
  * `0 <= vali <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 308 | [äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µå¯ä¿®æ”¹](https://leetcode.com/problems/range-sum-query-2d-mutable) |  |  [`è®¾è®¡`](/tag/design.md) [`æ ‘çŠ¶æ•°ç»„`](/tag/binary-indexed-tree.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) `2+` | <font color=#ff334b>Hard</font> |
| 598 | [åŒºé—´åŠ æ³• II](https://leetcode.com/problems/range-addition-ii) |  |  [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) | <font color=#15bd66>Easy</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
