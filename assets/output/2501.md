---
title: 2501. æ•°ç»„ä¸­æœ€é•¿çš„æ–¹æ³¢
description: LeetCode,2501. æ•°ç»„ä¸­æœ€é•¿çš„æ–¹æ³¢,æ•°ç»„ä¸­æœ€é•¿çš„æ–¹æ³¢,Longest Square Streak in an Array,è§£é¢˜æ€è·¯,æ•°ç»„,å“ˆå¸Œè¡¨,äºŒåˆ†æŸ¥æ‰¾,åŠ¨æ€è§„åˆ’,æ’åº
keywords:
  - LeetCode
  - 2501. æ•°ç»„ä¸­æœ€é•¿çš„æ–¹æ³¢
  - æ•°ç»„ä¸­æœ€é•¿çš„æ–¹æ³¢
  - Longest Square Streak in an Array
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - äºŒåˆ†æŸ¥æ‰¾
  - åŠ¨æ€è§„åˆ’
  - æ’åº
---

# 2501. æ•°ç»„ä¸­æœ€é•¿çš„æ–¹æ³¢

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/longest-square-streak-in-an-array) [`LeetCode`](https://leetcode.com/problems/longest-square-streak-in-an-array)

## é¢˜ç›®

You are given an integer array `nums`. A subsequence of `nums` is called a
**square streak** if:

  * The length of the subsequence is at least `2`, and
  * **after** sorting the subsequence, each element (except the first element) is the **square** of the previous number.

Return _the length of the**longest square streak** in _`nums` _, or
return_`-1` _if there is no**square streak**._

A **subsequence** is an array that can be derived from another array by
deleting some or no elements without changing the order of the remaining
elements.



**Example 1:**

> Input: nums = [4,3,6,16,8,2]
> 
> Output: 3
> 
> Explanation: Choose the subsequence [4,16,2]. After sorting it, it becomes [2,4,16].
> - 4 = 2 * 2.
> - 16 = 4 * 4.
> 
> Therefore, [4,16,2] is a square streak.
> 
> It can be shown that every subsequence of length 4 is not a square streak.

**Example 2:**

> Input: nums = [2,3,5,6,7]
> 
> Output: -1
> 
> Explanation: There is no square streak in nums so return -1.

**Constraints:**

  * `2 <= nums.length <= 10^5`
  * `2 <= nums[i] <= 10^5`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ã€‚å¦‚æœ `nums` çš„å­åºåˆ—æ»¡è¶³ä¸‹è¿°æ¡ä»¶ï¼Œåˆ™è®¤ä¸ºè¯¥å­åºåˆ—æ˜¯ä¸€ä¸ª **æ–¹æ³¢** ï¼š

  * å­åºåˆ—çš„é•¿åº¦è‡³å°‘ä¸º `2` ï¼Œå¹¶ä¸”
  * å°†å­åºåˆ—ä»å°åˆ°å¤§æ’åº **ä¹‹å** ï¼Œé™¤ç¬¬ä¸€ä¸ªå…ƒç´ å¤–ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯å‰ä¸€ä¸ªå…ƒç´ çš„ **å¹³æ–¹** ã€‚

è¿”å› __`nums` __ ä¸­ **æœ€é•¿æ–¹æ³¢** çš„é•¿åº¦ï¼Œå¦‚æœä¸å­˜åœ¨ **æ–¹æ³¢** __ åˆ™è¿”å› __`-1` ã€‚

**å­åºåˆ—** ä¹Ÿæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥ç”±å¦ä¸€ä¸ªæ•°ç»„åˆ é™¤ä¸€äº›æˆ–ä¸åˆ é™¤å…ƒç´ ä¸”ä¸æ”¹å˜å‰©ä½™å…ƒç´ çš„é¡ºåºå¾—åˆ°ã€‚



**ç¤ºä¾‹ 1 ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [4,3,6,16,8,2]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** é€‰å‡ºå­åºåˆ— [4,16,2] ã€‚æ’åºåï¼Œå¾—åˆ° [2,4,16] ã€‚
> - 4 = 2 * 2.
> - 16 = 4 * 4.
> 
> å› æ­¤ï¼Œ[4,16,2] æ˜¯ä¸€ä¸ªæ–¹æ³¢.
> 
> å¯ä»¥è¯æ˜é•¿åº¦ä¸º 4 çš„å­åºåˆ—éƒ½ä¸æ˜¯æ–¹æ³¢ã€‚
> 
> 

**ç¤ºä¾‹ 2 ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [2,3,5,6,7]
> 
> **è¾“å‡ºï¼š** -1
> 
> **è§£é‡Šï¼š** nums ä¸å­˜åœ¨æ–¹æ³¢ï¼Œæ‰€ä»¥è¿”å› -1 ã€‚
> 
> 



**æç¤ºï¼š**

  * `2 <= nums.length <= 10^5`
  * `2 <= nums[i] <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```