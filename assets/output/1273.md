# [1273. åˆ é™¤æ ‘èŠ‚ç‚¹ ğŸ”’](https://2xiao.github.io/leetcode-js/problem/1273.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/delete-tree-nodes) [`LeetCode`](https://leetcode.com/problems/delete-tree-nodes)

## é¢˜ç›®

A tree rooted at node 0 is given as follows:

  * The number of nodes is `nodes`;
  * The value of the `ith` node is `value[i]`;
  * The parent of the `ith` node is `parent[i]`.

Remove every subtree whose sum of values of nodes is zero.

Return _the number of the remaining nodes in the tree_.



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1200-1299/1273.Delete%20Tree%20Nodes/images/1421_sample_1.png)

> Input: nodes = 7, parent = [-1,0,0,1,2,2,2], value = [1,-2,4,0,-2,-1,-1]
> 
> Output: 2

**Example 2:**

> Input: nodes = 7, parent = [-1,0,0,1,2,2,2], value = [1,-2,4,0,-2,-1,-2]
> 
> Output: 6

**Constraints:**

  * `1 <= nodes <= 10^4`
  * `parent.length == nodes`
  * `0 <= parent[i] <= nodes - 1`
  * `parent[0] == -1` which indicates that `0` is the root.
  * `value.length == nodes`
  * `-10^5 <= value[i] <= 10^5`
  * The given input is **guaranteed** to represent a **valid tree**.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€æ£µä»¥èŠ‚ç‚¹ 0 ä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š

  * èŠ‚ç‚¹çš„æ€»æ•°ä¸º `nodes` ä¸ªï¼›
  * ç¬¬ `i` ä¸ªèŠ‚ç‚¹çš„å€¼ä¸º `value[i]` ï¼›
  * ç¬¬ `i` ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯ `parent[i]` ã€‚

è¯·ä½ åˆ é™¤èŠ‚ç‚¹å€¼ä¹‹å’Œä¸º 0 çš„æ¯ä¸€æ£µå­æ ‘ã€‚

åœ¨å®Œæˆæ‰€æœ‰åˆ é™¤ä¹‹åï¼Œè¿”å›æ ‘ä¸­å‰©ä½™èŠ‚ç‚¹çš„æ•°ç›®ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1200-1299/1273.Delete%20Tree%20Nodes/images/1421_sample_1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nodes = 7, parent = [-1,0,0,1,2,2,2], value = [1,-2,4,0,-2,-1,-1]
> 
> **è¾“å‡ºï¼š** 2
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nodes = 7, parent = [-1,0,0,1,2,2,2], value = [1,-2,4,0,-2,-1,-2]
> 
> **è¾“å‡ºï¼š** 6
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nodes = 5, parent = [-1,0,1,0,0], value = [-672,441,18,728,378]
> 
> **è¾“å‡ºï¼š** 5
> 
> 

**ç¤ºä¾‹ 4ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nodes = 5, parent = [-1,0,0,1,1], value = [-686,-842,616,-739,-746]
> 
> **è¾“å‡ºï¼š** 5
> 
> 



**æç¤ºï¼š**

  * `1 <= nodes <= 10^4`
  * `parent.length == nodes`
  * `0 <= parent[i] <= nodes - 1`
  * `parent[0] == -1` è¡¨ç¤ºèŠ‚ç‚¹ `0` æ˜¯æ ‘çš„æ ¹ã€‚
  * `value.length == nodes`
  * `-10^5 <= value[i] <= 10^5`
  * é¢˜ç›®è¾“å…¥æ•°æ® **ä¿è¯** æ˜¯ä¸€æ£µ **æœ‰æ•ˆçš„æ ‘** ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```