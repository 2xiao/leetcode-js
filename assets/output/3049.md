# [3049. æ ‡è®°æ‰€æœ‰ä¸‹æ ‡çš„æœ€æ—©ç§’æ•° II](https://leetcode.com/problems/earliest-second-to-mark-indices-ii)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/leetcode/outline/tag/greedy.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/leetcode/outline/tag/binary-search.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/leetcode/outline/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/earliest-second-to-mark-indices-ii)


## é¢˜ç›®

You are given two **1-indexed** integer arrays, `nums` and, `changeIndices`,
having lengths `n` and `m`, respectively.

Initially, all indices in `nums` are unmarked. Your task is to mark **all**
indices in `nums`.

In each second, `s`, in order from `1` to `m` (**inclusive**), you can perform
**one** of the following operations:

  * Choose an index `i` in the range `[1, n]` and **decrement** `nums[i]` by `1`.
  * Set `nums[changeIndices[s]]` to any **non-negative** value.
  * Choose an index `i` in the range `[1, n]`, where `nums[i]` is **equal** to `0`, and **mark** index `i`.
  * Do nothing.

Return _an integer denoting the**earliest second** in the range _`[1,
m]`_when**all** indices in _`nums` _can be marked by choosing operations
optimally, or_`-1` _if it is impossible._



**Example 1:**

> Input: nums = [3,2,3], changeIndices = [1,3,2,2,2,2,3]
> 
> Output: 6
> 
> Explanation: In this example, we have 7 seconds. The following operations can be performed to mark all indices:
> 
> Second 1: Set nums[changeIndices[1]] to 0. nums becomes [0,2,3].
> 
> Second 2: Set nums[changeIndices[2]] to 0. nums becomes [0,2,0].
> 
> Second 3: Set nums[changeIndices[3]] to 0. nums becomes [0,0,0].
> 
> Second 4: Mark index 1, since nums[1] is equal to 0.
> 
> Second 5: Mark index 2, since nums[2] is equal to 0.
> 
> Second 6: Mark index 3, since nums[3] is equal to 0.
> 
> Now all indices have been marked.
> 
> It can be shown that it is not possible to mark all indices earlier than the 6th second.
> 
> Hence, the answer is 6.

**Example 2:**

> Input: nums = [0,0,1,2], changeIndices = [1,2,1,2,1,2,1,2]
> 
> Output: 7
> 
> Explanation: In this example, we have 8 seconds. The following operations can be performed to mark all indices:
> 
> Second 1: Mark index 1, since nums[1] is equal to 0.
> 
> Second 2: Mark index 2, since nums[2] is equal to 0.
> 
> Second 3: Decrement index 4 by one. nums becomes [0,0,1,1].
> 
> Second 4: Decrement index 4 by one. nums becomes [0,0,1,0].
> 
> Second 5: Decrement index 3 by one. nums becomes [0,0,0,0].
> 
> Second 6: Mark index 3, since nums[3] is equal to 0.
> 
> Second 7: Mark index 4, since nums[4] is equal to 0.
> 
> Now all indices have been marked.
> 
> It can be shown that it is not possible to mark all indices earlier than the 7th second.
> 
> Hence, the answer is 7.

**Example 3:**

> Input: nums = [1,2,3], changeIndices = [1,2,3]
> 
> Output: -1
> 
> Explanation: In this example, it can be shown that it is impossible to mark all indices, as we don't have enough seconds. 
> 
> Hence, the answer is -1.

**Constraints:**

  * `1 <= n == nums.length <= 5000`
  * `0 <= nums[i] <= 10^9`
  * `1 <= m == changeIndices.length <= 5000`
  * `1 <= changeIndices[i] <= n`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸¤ä¸ªä¸‹æ ‡ä» **1**  å¼€å§‹çš„æ•´æ•°æ•°ç»„ `nums` å’Œ `changeIndices` ï¼Œæ•°ç»„çš„é•¿åº¦åˆ†åˆ«ä¸º `n` å’Œ `m` ã€‚

ä¸€å¼€å§‹ï¼Œ`nums` ä¸­æ‰€æœ‰ä¸‹æ ‡éƒ½æ˜¯æœªæ ‡è®°çš„ï¼Œä½ çš„ä»»åŠ¡æ˜¯æ ‡è®° `nums` ä¸­ **æ‰€æœ‰**  ä¸‹æ ‡ã€‚

ä»ç¬¬ `1` ç§’åˆ°ç¬¬ `m` ç§’ï¼ˆ**åŒ…æ‹¬  **ç¬¬ `m` ç§’ï¼‰ï¼Œå¯¹äºæ¯ä¸€ç§’ `s` ï¼Œä½ å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œ **ä¹‹ä¸€**  ï¼š

  * é€‰æ‹©èŒƒå›´ `[1, n]` ä¸­çš„ä¸€ä¸ªä¸‹æ ‡ `i` ï¼Œå¹¶ä¸”å°† `nums[i]` **å‡å°‘**  `1` ã€‚
  * å°† `nums[changeIndices[s]]` è®¾ç½®æˆä»»æ„çš„ **éè´Ÿ**  æ•´æ•°ã€‚
  * é€‰æ‹©èŒƒå›´ `[1, n]` ä¸­çš„ä¸€ä¸ªä¸‹æ ‡ `i` ï¼Œ æ»¡è¶³ `nums[i]` **ç­‰äº** `0`, å¹¶ **æ ‡è®°**  ä¸‹æ ‡ `i` ã€‚
  * ä»€ä¹ˆä¹Ÿä¸åšã€‚

è¯·ä½ è¿”å›èŒƒå›´ `[1, m]` ä¸­çš„ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€ä¼˜æ“ä½œä¸‹ï¼Œæ ‡è®° `nums` ä¸­ **æ‰€æœ‰**  ä¸‹æ ‡çš„ **æœ€æ—©ç§’æ•°**
ï¼Œå¦‚æœæ— æ³•æ ‡è®°æ‰€æœ‰ä¸‹æ ‡ï¼Œè¿”å› `-1` ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [3,2,3], changeIndices = [1,3,2,2,2,2,3]
> 
> **è¾“å‡ºï¼š** 6
> 
> **è§£é‡Šï¼š** è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ€»å…±æœ‰ 7 ç§’ã€‚æŒ‰ç…§ä»¥ä¸‹æ“ä½œæ ‡è®°æ‰€æœ‰ä¸‹æ ‡ï¼š
> 
> ç¬¬ 1 ç§’ï¼šå°† nums[changeIndices[1]] å˜ä¸º 0 ã€‚nums å˜ä¸º [0,2,3] ã€‚
> 
> ç¬¬ 2 ç§’ï¼šå°† nums[changeIndices[2]] å˜ä¸º 0 ã€‚nums å˜ä¸º [0,2,0] ã€‚
> 
> ç¬¬ 3 ç§’ï¼šå°† nums[changeIndices[3]] å˜ä¸º 0 ã€‚nums å˜ä¸º [0,0,0] ã€‚
> 
> ç¬¬ 4 ç§’ï¼šæ ‡è®°ä¸‹æ ‡ 1 ï¼Œå› ä¸º nums[1] ç­‰äº 0 ã€‚
> 
> ç¬¬ 5 ç§’ï¼šæ ‡è®°ä¸‹æ ‡ 2 ï¼Œå› ä¸º nums[2] ç­‰äº 0 ã€‚
> 
> ç¬¬ 6 ç§’ï¼šæ ‡è®°ä¸‹æ ‡ 3 ï¼Œå› ä¸º nums[3] ç­‰äº 0 ã€‚
> 
> ç°åœ¨æ‰€æœ‰ä¸‹æ ‡å·²è¢«æ ‡è®°ã€‚
> 
> æœ€æ—©å¯ä»¥åœ¨ç¬¬ 6 ç§’æ ‡è®°æ‰€æœ‰ä¸‹æ ‡ã€‚
> 
> æ‰€ä»¥ç­”æ¡ˆæ˜¯ 6 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [0,0,1,2], changeIndices = [1,2,1,2,1,2,1,2]
> 
> **è¾“å‡ºï¼š** 7
> 
> **è§£é‡Šï¼š** è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ€»å…±æœ‰ 8 ç§’ã€‚æŒ‰ç…§ä»¥ä¸‹æ“ä½œæ ‡è®°æ‰€æœ‰ä¸‹æ ‡ï¼š
> 
> ç¬¬ 1 ç§’ï¼šæ ‡è®°ä¸‹æ ‡ 1 ï¼Œå› ä¸º nums[1] ç­‰äº 0 ã€‚
> 
> ç¬¬ 2 ç§’ï¼šæ ‡è®°ä¸‹æ ‡ 2 ï¼Œå› ä¸º nums[2] ç­‰äº 0 ã€‚
> 
> ç¬¬ 3 ç§’ï¼šå°† nums[4] å‡å°‘ 1 ã€‚nums å˜ä¸º [0,0,1,1] ã€‚
> 
> ç¬¬ 4 ç§’ï¼šå°† nums[4] å‡å°‘ 1 ã€‚nums å˜ä¸º [0,0,1,0] ã€‚
> 
> ç¬¬ 5 ç§’ï¼šå°† nums[3] å‡å°‘ 1 ã€‚nums å˜ä¸º [0,0,0,0] ã€‚
> 
> ç¬¬ 6 ç§’ï¼šæ ‡è®°ä¸‹æ ‡ 3 ï¼Œå› ä¸º nums[3] ç­‰äº 0 ã€‚
> 
> ç¬¬ 7 ç§’ï¼šæ ‡è®°ä¸‹æ ‡ 4 ï¼Œå› ä¸º nums[4] ç­‰äº 0 ã€‚
> 
> ç°åœ¨æ‰€æœ‰ä¸‹æ ‡å·²è¢«æ ‡è®°ã€‚
> 
> æœ€æ—©å¯ä»¥åœ¨ç¬¬ 7 ç§’æ ‡è®°æ‰€æœ‰ä¸‹æ ‡ã€‚
> 
> æ‰€ä»¥ç­”æ¡ˆæ˜¯ 7 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,3], changeIndices = [1,2,3]
> 
> **è¾“å‡ºï¼š** -1
> 
> **è§£é‡Šï¼š** è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ— æ³•æ ‡è®°æ‰€æœ‰ä¸‹æ ‡ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰è¶³å¤Ÿçš„ç§’æ•°ã€‚
> 
> æ‰€ä»¥ç­”æ¡ˆæ˜¯ -1 ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= n == nums.length <= 5000`
  * `0 <= nums[i] <= 10^9`
  * `1 <= m == changeIndices.length <= 5000`
  * `1 <= changeIndices[i] <= n`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```