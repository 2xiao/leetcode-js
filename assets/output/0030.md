---
title: 30. ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²
description: LeetCode,30. ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²,ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²,Substring with Concatenation of All Words,è§£é¢˜æ€è·¯,å“ˆå¸Œè¡¨,å­—ç¬¦ä¸²,æ»‘åŠ¨çª—å£
keywords:
  - LeetCode
  - 30. ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²
  - ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²
  - Substring with Concatenation of All Words
  - è§£é¢˜æ€è·¯
  - å“ˆå¸Œè¡¨
  - å­—ç¬¦ä¸²
  - æ»‘åŠ¨çª—å£
---

# 30. ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/substring-with-concatenation-of-all-words) [`LeetCode`](https://leetcode.com/problems/substring-with-concatenation-of-all-words)

## é¢˜ç›®

You are given a string `s` and an array of strings `words`. All the strings of
`words` are of **the same length**.

A **concatenated string** is a string that exactly contains all the strings of
any permutation of `words` concatenated.

  * For example, if `words = ["ab","cd","ef"]`, then `"abcdef"`, `"abefcd"`, `"cdabef"`, `"cdefab"`, `"efabcd"`, and `"efcdab"` are all concatenated strings. `"acdbef"` is not a concatenated string because it is not the concatenation of any permutation of `words`.

Return an array of _the starting indices_ of all the concatenated substrings
in `s`. You can return the answer in **any order**.



**Example 1:**

**Input:** s = "barfoothefoobarman", words = ["foo","bar"]

**Output:** [0,9]

**Explanation:**

The substring starting at 0 is `"barfoo"`. It is the concatenation of
`["bar","foo"]` which is a permutation of `words`.  
The substring starting at 9 is `"foobar"`. It is the concatenation of
`["foo","bar"]` which is a permutation of `words`.

**Example 2:**

**Input:** s = "wordgoodgoodgoodbestword", words =
["word","good","best","word"]

**Output:** []

**Explanation:**

There is no concatenated substring.

**Example 3:**

**Input:** s = "barfoofoobarthefoobarman", words = ["bar","foo","the"]

**Output:** [6,9,12]

**Explanation:**

The substring starting at 6 is `"foobarthe"`. It is the concatenation of
`["foo","bar","the"]`.  
The substring starting at 9 is `"barthefoo"`. It is the concatenation of
`["bar","the","foo"]`.  
The substring starting at 12 is `"thefoobar"`. It is the concatenation of
`["the","foo","bar"]`.



**Constraints:**

  * `1 <= s.length <= 10^4`
  * `1 <= words.length <= 5000`
  * `1 <= words[i].length <= 30`
  * `s` and `words[i]` consist of lowercase English letters.


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s`** ** å’Œä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ `words`**ã€‚**  `words` ä¸­æ‰€æœ‰å­—ç¬¦ä¸² **é•¿åº¦ç›¸åŒ** ã€‚

 `s`** ** ä¸­çš„ **ä¸²è”å­ä¸²** æ˜¯æŒ‡ä¸€ä¸ªåŒ…å«  `words` ä¸­æ‰€æœ‰å­—ç¬¦ä¸²ä»¥ä»»æ„é¡ºåºæ’åˆ—è¿æ¥èµ·æ¥çš„å­ä¸²ã€‚

  * ä¾‹å¦‚ï¼Œå¦‚æœ `words = ["ab","cd","ef"]`ï¼Œ é‚£ä¹ˆ `"abcdef"`ï¼Œ `"abefcd"`ï¼Œ`"cdabef"`ï¼Œ `"cdefab"`ï¼Œ`"efabcd"`ï¼Œ å’Œ `"efcdab"` éƒ½æ˜¯ä¸²è”å­ä¸²ã€‚ `"acdbef"` ä¸æ˜¯ä¸²è”å­ä¸²ï¼Œå› ä¸ºä»–ä¸æ˜¯ä»»ä½• `words` æ’åˆ—çš„è¿æ¥ã€‚

è¿”å›æ‰€æœ‰ä¸²è”å­ä¸²åœ¨ `s`** ** ä¸­çš„å¼€å§‹ç´¢å¼•ã€‚ä½ å¯ä»¥ä»¥ **ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "barfoothefoobarman", words = ["foo","bar"]
> 
> **è¾“å‡ºï¼š**[0,9]
> 
> **è§£é‡Šï¼š** å› ä¸º words.length == 2 åŒæ—¶ words[i].length == 3ï¼Œè¿æ¥çš„å­å­—ç¬¦ä¸²çš„é•¿åº¦å¿…é¡»ä¸º 6ã€‚
> 
> å­ä¸² "barfoo" å¼€å§‹ä½ç½®æ˜¯ 0ã€‚å®ƒæ˜¯ words ä¸­ä»¥ ["bar","foo"] é¡ºåºæ’åˆ—çš„è¿æ¥ã€‚
> 
> å­ä¸² "foobar" å¼€å§‹ä½ç½®æ˜¯ 9ã€‚å®ƒæ˜¯ words ä¸­ä»¥ ["foo","bar"] é¡ºåºæ’åˆ—çš„è¿æ¥ã€‚
> 
> è¾“å‡ºé¡ºåºæ— å…³ç´§è¦ã€‚è¿”å› [9,0] ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "wordgoodgoodgoodbestword", words = ["word","good","best","word"]
> 
> **è¾“å‡ºï¼š**[]
> 
> **è§£é‡Šï¼š** å› ä¸º**** words.length == 4 å¹¶ä¸” words[i].length == 4ï¼Œæ‰€ä»¥ä¸²è”å­ä¸²çš„é•¿åº¦å¿…é¡»ä¸º 16ã€‚
> 
> s ä¸­æ²¡æœ‰å­ä¸²é•¿åº¦ä¸º 16 å¹¶ä¸”ç­‰äº words çš„ä»»ä½•é¡ºåºæ’åˆ—çš„è¿æ¥ã€‚
> 
> æ‰€ä»¥æˆ‘ä»¬è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "barfoofoobarthefoobarman", words = ["bar","foo","the"]
> 
> **è¾“å‡ºï¼š**[6,9,12]
> 
> **è§£é‡Šï¼š** å› ä¸º words.length == 3 å¹¶ä¸” words[i].length == 3ï¼Œæ‰€ä»¥ä¸²è”å­ä¸²çš„é•¿åº¦å¿…é¡»ä¸º 9ã€‚
> 
> å­ä¸² "foobarthe" å¼€å§‹ä½ç½®æ˜¯ 6ã€‚å®ƒæ˜¯ words ä¸­ä»¥ ["foo","bar","the"] é¡ºåºæ’åˆ—çš„è¿æ¥ã€‚
> 
> å­ä¸² "barthefoo" å¼€å§‹ä½ç½®æ˜¯ 9ã€‚å®ƒæ˜¯ words ä¸­ä»¥ ["bar","the","foo"] é¡ºåºæ’åˆ—çš„è¿æ¥ã€‚
> 
> å­ä¸² "thefoobar" å¼€å§‹ä½ç½®æ˜¯ 12ã€‚å®ƒæ˜¯ words ä¸­ä»¥ ["the","foo","bar"] é¡ºåºæ’åˆ—çš„è¿æ¥ã€‚



**æç¤ºï¼š**

  * `1 <= s.length <= 10^4`
  * `1 <= words.length <= 5000`
  * `1 <= words[i].length <= 30`
  * `words[i]` å’Œ `s` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 76 | [æœ€å°è¦†ç›–å­ä¸²](https://leetcode.com/problems/minimum-window-substring) | [[âœ“]](/problem/0076.md) |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ff334b>Hard</font> |