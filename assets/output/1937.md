# [1937. æ‰£åˆ†åçš„æœ€å¤§å¾—åˆ†](https://leetcode.com/problems/maximum-number-of-points-with-cost)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md) [`çŸ©é˜µ`](/leetcode/outline/tag/matrix.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-number-of-points-with-cost)


## é¢˜ç›®

You are given an `m x n` integer matrix `points` (**0-indexed**). Starting
with `0` points, you want to **maximize** the number of points you can get
from the matrix.

To gain points, you must pick one cell in **each row**. Picking the cell at
coordinates `(r, c)` will **add** `points[r][c]` to your score.

However, you will lose points if you pick a cell too far from the cell that
you picked in the previous row. For every two adjacent rows `r` and `r + 1`
(where `0 <= r < m - 1`), picking cells at coordinates `(r, c1)` and `(r + 1,
c2)` will **subtract** `abs(c1 - c2)` from your score.

Return _the**maximum** number of points you can achieve_.

`abs(x)` is defined as:

  * `x` for `x >= 0`.
  * `-x` for `x < 0`.



**Example 1:******

![](https://assets.leetcode.com/uploads/2021/07/12/screenshot-2021-07-12-at-13-40-26-diagram-
drawio-diagrams-net.png)

> Input: points = [[1,2,3],[1,5,1],[3,1,1]]
> 
> Output: 9
> 
> Explanation:
> 
> The blue cells denote the optimal cells to pick, which have coordinates (0, 2), (1, 1), and (2, 0).
> 
> You add 3 + 5 + 3 = 11 to your score.
> 
> However, you must subtract abs(2 - 1) + abs(1 - 0) = 2 from your score.
> 
> Your final score is 11 - 2 = 9.

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/07/12/screenshot-2021-07-12-at-13-42-14-diagram-
drawio-diagrams-net.png)

> Input: points = [[1,5],[2,3],[4,2]]
> 
> Output: 11
> 
> Explanation:
> 
> The blue cells denote the optimal cells to pick, which have coordinates (0, 1), (1, 1), and (2, 0).
> 
> You add 5 + 3 + 4 = 12 to your score.
> 
> However, you must subtract abs(1 - 1) + abs(1 - 0) = 1 from your score.
> 
> Your final score is 12 - 1 = 11.

**Constraints:**

  * `m == points.length`
  * `n == points[r].length`
  * `1 <= m, n <= 10^5`
  * `1 <= m * n <= 10^5`
  * `0 <= points[r][c] <= 10^5`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `m x n` çš„æ•´æ•°çŸ©é˜µ `points` ï¼ˆä¸‹æ ‡ä» **0** å¼€å§‹ï¼‰ã€‚ä¸€å¼€å§‹ä½ çš„å¾—åˆ†ä¸º `0` ï¼Œä½ æƒ³æœ€å¤§åŒ–ä»çŸ©é˜µä¸­å¾—åˆ°çš„åˆ†æ•°ã€‚

ä½ çš„å¾—åˆ†æ–¹å¼ä¸ºï¼š**æ¯ä¸€è¡Œ** ä¸­é€‰å–ä¸€ä¸ªæ ¼å­ï¼Œé€‰ä¸­åæ ‡ä¸º `(r, c)` çš„æ ¼å­ä¼šç»™ä½ çš„æ€»å¾—åˆ† **å¢åŠ ** `points[r][c]` ã€‚

ç„¶è€Œï¼Œç›¸é‚»è¡Œä¹‹é—´è¢«é€‰ä¸­çš„æ ¼å­å¦‚æœéš”å¾—å¤ªè¿œï¼Œä½ ä¼šå¤±å»ä¸€äº›å¾—åˆ†ã€‚å¯¹äºç›¸é‚»è¡Œ `r` å’Œ `r + 1` ï¼ˆå…¶ä¸­ `0 <= r < m - 1`ï¼‰ï¼Œé€‰ä¸­åæ ‡ä¸º
`(r, c1)` å’Œ `(r + 1, c2)` çš„æ ¼å­ï¼Œä½ çš„æ€»å¾—åˆ† **å‡å°‘** `abs(c1 - c2)` ã€‚

è¯·ä½ è¿”å›ä½ èƒ½å¾—åˆ°çš„ **æœ€å¤§** å¾—åˆ†ã€‚

`abs(x)` å®šä¹‰ä¸ºï¼š

  * å¦‚æœ `x >= 0` ï¼Œé‚£ä¹ˆå€¼ä¸º `x` ã€‚
  * å¦‚æœ `x < 0` ï¼Œé‚£ä¹ˆå€¼ä¸º `-x` ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/07/12/screenshot-2021-07-12-at-13-40-26-diagram-
drawio-diagrams-net.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** points = [[1,2,3],[1,5,1],[3,1,1]]
> 
> **è¾“å‡ºï¼š** 9
> 
> **è§£é‡Šï¼š**
> 
> è“è‰²æ ¼å­æ˜¯æœ€ä¼˜æ–¹æ¡ˆé€‰ä¸­çš„æ ¼å­ï¼Œåæ ‡åˆ†åˆ«ä¸º (0, 2)ï¼Œ(1, 1) å’Œ (2, 0) ã€‚
> 
> ä½ çš„æ€»å¾—åˆ†å¢åŠ  3 + 5 + 3 = 11 ã€‚
> 
> ä½†æ˜¯ä½ çš„æ€»å¾—åˆ†éœ€è¦æ‰£é™¤ abs(2 - 1) + abs(1 - 0) = 2 ã€‚
> 
> ä½ çš„æœ€ç»ˆå¾—åˆ†ä¸º 11 - 2 = 9 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/07/12/screenshot-2021-07-12-at-13-42-14-diagram-
drawio-diagrams-net.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** points = [[1,5],[2,3],[4,2]]
> 
> **è¾“å‡ºï¼š** 11
> 
> **è§£é‡Šï¼š**
> 
> è“è‰²æ ¼å­æ˜¯æœ€ä¼˜æ–¹æ¡ˆé€‰ä¸­çš„æ ¼å­ï¼Œåæ ‡åˆ†åˆ«ä¸º (0, 1)ï¼Œ(1, 1) å’Œ (2, 0) ã€‚
> 
> ä½ çš„æ€»å¾—åˆ†å¢åŠ  5 + 3 + 4 = 12 ã€‚
> 
> ä½†æ˜¯ä½ çš„æ€»å¾—åˆ†éœ€è¦æ‰£é™¤ abs(1 - 1) + abs(1 - 0) = 1 ã€‚
> 
> ä½ çš„æœ€ç»ˆå¾—åˆ†ä¸º 12 - 1 = 11 ã€‚
> 
> 

**æç¤ºï¼š**

  * `m == points.length`
  * `n == points[r].length`
  * `1 <= m, n <= 10^5`
  * `1 <= m * n <= 10^5`
  * `0 <= points[r][c] <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [æœ€å°è·¯å¾„å’Œ](https://leetcode.com/problems/minimum-path-sum)
- [æœ€å°åŒ–ç›®æ ‡å€¼ä¸æ‰€é€‰å…ƒç´ çš„å·®](https://leetcode.com/problems/minimize-the-difference-between-target-and-chosen-elements)

::::
