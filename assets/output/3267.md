---
title: 3267. ç»Ÿè®¡è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹ II
description: LeetCode,3267. ç»Ÿè®¡è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹ II,ç»Ÿè®¡è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹ II,Count Almost Equal Pairs II,è§£é¢˜æ€è·¯,æ•°ç»„,å“ˆå¸Œè¡¨,è®¡æ•°,æšä¸¾,æ’åº
keywords:
  - LeetCode
  - 3267. ç»Ÿè®¡è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹ II
  - ç»Ÿè®¡è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹ II
  - Count Almost Equal Pairs II
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - è®¡æ•°
  - æšä¸¾
  - æ’åº
---

# 3267. ç»Ÿè®¡è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹ II

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`è®¡æ•°`](/tag/counting.md) [`æšä¸¾`](/tag/enumeration.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/count-almost-equal-pairs-ii) [`LeetCode`](https://leetcode.com/problems/count-almost-equal-pairs-ii)

## é¢˜ç›®

**Attention** : In this version, the number of operations that can be
performed, has been increased to **twice**.

You are given an array `nums` consisting of positive integers.

We call two integers `x` and `y` **almost equal** if both integers can become
equal after performing the following operation **at most _twice_** :

  * Choose **either** `x` or `y` and swap any two digits within the chosen number.

Return the number of indices `i` and `j` in `nums` where `i < j` such that
`nums[i]` and `nums[j]` are **almost equal**.

**Note** that it is allowed for an integer to have leading zeros after
performing an operation.



**Example 1:**

**Input:** nums = [1023,2310,2130,213]

**Output:** 4

**Explanation:**

The almost equal pairs of elements are:

  * 1023 and 2310. By swapping the digits 1 and 2, and then the digits 0 and 3 in 1023, you get 2310.
  * 1023 and 213. By swapping the digits 1 and 0, and then the digits 1 and 2 in 1023, you get 0213, which is 213.
  * 2310 and 213. By swapping the digits 2 and 0, and then the digits 3 and 2 in 2310, you get 0213, which is 213.
  * 2310 and 2130. By swapping the digits 3 and 1 in 2310, you get 2130.

**Example 2:**

**Input:** nums = [1,10,100]

**Output:** 3

**Explanation:**

The almost equal pairs of elements are:

  * 1 and 10. By swapping the digits 1 and 0 in 10, you get 01 which is 1.
  * 1 and 100. By swapping the second 0 with the digit 1 in 100, you get 001, which is 1.
  * 10 and 100. By swapping the first 0 with the digit 1 in 100, you get 010, which is 10.



**Constraints:**

  * `2 <= nums.length <= 5000`
  * `1 <= nums[i] < 10^7`


## é¢˜ç›®å¤§æ„

**æ³¨æ„ï¼š** åœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼Œæ“ä½œæ¬¡æ•°å¢åŠ ä¸ºè‡³å¤š **ä¸¤æ¬¡**  ã€‚

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `nums` ã€‚

å¦‚æœæˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹æ“ä½œ **è‡³å¤š _ä¸¤æ¬¡_**  å¯ä»¥è®©ä¸¤ä¸ªæ•´æ•° `x` å’Œ `y` ç›¸ç­‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¿™ä¸ªæ•°å¯¹æ˜¯ **è¿‘ä¼¼ç›¸ç­‰**  çš„ï¼š

  * é€‰æ‹© `x` **æˆ–è€…**  `y`  ä¹‹ä¸€ï¼Œå°†è¿™ä¸ªæ•°å­—ä¸­çš„ä¸¤ä¸ªæ•°ä½äº¤æ¢ã€‚

è¯·ä½ è¿”å› `nums` ä¸­ï¼Œä¸‹æ ‡ `i` å’Œ `j` æ»¡è¶³ `i < j` ä¸” `nums[i]` å’Œ `nums[j]` **è¿‘ä¼¼ç›¸ç­‰**  çš„æ•°å¯¹æ•°ç›®ã€‚

**æ³¨æ„**  ï¼Œæ‰§è¡Œæ“ä½œåå¾—åˆ°çš„æ•´æ•°å¯ä»¥æœ‰å‰å¯¼ 0 ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** nums = [1023,2310,2130,213]

**è¾“å‡ºï¼š** 4

**è§£é‡Šï¼š**

è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹åŒ…æ‹¬ï¼š

  * 1023 å’Œ 2310 ã€‚äº¤æ¢ 1023 ä¸­æ•°ä½ 1 å’Œ 2 ï¼Œç„¶åäº¤æ¢æ•°ä½ 0 å’Œ 3 ï¼Œå¾—åˆ° 2310 ã€‚
  * 1023 å’Œ 213 ã€‚äº¤æ¢ 1023 ä¸­æ•°ä½ 1 å’Œ 0 ï¼Œç„¶åäº¤æ¢æ•°ä½ 1 å’Œ 2 ï¼Œå¾—åˆ° 0213 ï¼Œä¹Ÿå°±æ˜¯ 213 ã€‚
  * 2310 å’Œ 213 ã€‚äº¤æ¢ 2310 ä¸­æ•°ä½ 2 å’Œ 0 ï¼Œç„¶åäº¤æ¢æ•°ä½ 3 å’Œ 2 ï¼Œå¾—åˆ° 0213 ï¼Œä¹Ÿå°±æ˜¯ 213 ã€‚
  * 2310 å’Œ 2130 ã€‚äº¤æ¢ 2310 ä¸­æ•°ä½ 3 å’Œ 1 ï¼Œå¾—åˆ° 2130 ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** nums = [1,10,100]

**è¾“å‡ºï¼š** 3

**è§£é‡Šï¼š**

è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹åŒ…æ‹¬ï¼š

  * 1 å’Œ 10 ã€‚äº¤æ¢ 10 ä¸­æ•°ä½ 1 å’Œ 0 ï¼Œå¾—åˆ° 01 ï¼Œä¹Ÿå°±æ˜¯ 1 ã€‚
  * 1 å’Œ 100 ã€‚äº¤æ¢ 100 ä¸­æ•°ä½ 1 å’Œä»å·¦å¾€å³çš„ç¬¬äºŒä¸ª 0 ï¼Œå¾—åˆ° 001 ï¼Œä¹Ÿå°±æ˜¯ 1 ã€‚
  * 10 å’Œ 100 ã€‚äº¤æ¢ 100 ä¸­æ•°ä½ 1 å’Œä»å·¦å¾€å³çš„ç¬¬ä¸€ä¸ª 0 ï¼Œå¾—åˆ° 010 ï¼Œä¹Ÿå°±æ˜¯ 10 ã€‚



**æç¤ºï¼š**

  * `2 <= nums.length <= 5000`
  * `1 <= nums[i] < 10^7`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 3303 | [ç¬¬ä¸€ä¸ªå‡ ä¹ç›¸ç­‰å­å­—ç¬¦ä¸²çš„ä¸‹æ ‡](https://leetcode.com/problems/find-the-occurrence-of-first-almost-equal-substring) |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`å­—ç¬¦ä¸²åŒ¹é…`](/tag/string-matching.md) | <font color=#ff334b>Hard</font> |