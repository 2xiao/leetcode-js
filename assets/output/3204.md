# [3204. æŒ‰ä½ç”¨æˆ·æƒé™åˆ†æ](https://leetcode.com/problems/bitwise-user-permissions-analysis)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°æ®åº“`](/tag/database.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/bitwise-user-permissions-analysis)

## é¢˜ç›®

Table: `user_permissions`

> 
> 
> 
> 
> 
> +-------------+---------+
> 
> | Column Name | Type> 
> |
> 
> +-------------+---------+
> 
> | user_id> 
>  | int> 
>  |
> 
> | permissions | int> 
>  |
> 
> +-------------+---------+
> 
> user_id is the primary key.
> 
> Each row of this table contains the user ID and their permissions encoded as an integer.
> 
> 

Consider that each bit in the `permissions` integer represents a different
access level or feature that a user has.

Write a solution to calculate the following:

  * common_perms: The access level granted to **all users**. This is computed using a **bitwise AND** operation on the `permissions` column.
  * any_perms: The access level granted to **any user**. This is computed using a **bitwise OR** operation on the `permissions` column.

Return _the result table in**any** order_.

The result format is shown in the following example.



**Example:**

**Input:**

user_permissions table:

> 
> 
> 
> 
> 
> +---------+-------------+
> 
> | user_id | permissions |
> 
> +---------+-------------+
> 
> | 1> 
>    | 5> 
> > 
>    |
> 
> | 2> 
>    | 12> 
> > 
>   |
> 
> | 3> 
>    | 7> 
> > 
>    |
> 
> | 4> 
>    | 3> 
> > 
>    |
> 
> +---------+-------------+
> 
>  

**Output:**

> 
> 
> 
> 
> 
> +-------------+--------------+
> 
> | common_perms | any_perms   |
> 
> +--------------+-------------+
> 
> | 0> 
> > 
> > 
> | 15> 
> > 
>   |
> 
> +--------------+-------------+
> 
> > 
> 

**Explanation:**

  * **common_perms:** Represents the bitwise AND result of all permissions: 
> 
> * For user 1 (5): 5 (binary 0101)
> 
> * For user 2 (12): 12 (binary 1100)
> 
> * For user 3 (7): 7 (binary 0111)
> 
> * For user 4 (3): 3 (binary 0011)
> 
> * Bitwise AND: 5 & 12 & 7 & 3 = 0 (binary 0000)
  * **any_perms:** Represents the bitwise OR result of all permissions: 
> 
> * Bitwise OR: 5 | 12 | 7 | 3 = 15 (binary 1111)


## é¢˜ç›®å¤§æ„

è¡¨ï¼š`user_permissions`

> 
> 
> 
> 
> 
> +-------------+---------+
> 
> | Column Name | Type> 
> |
> 
> +-------------+---------+
> 
> | user_id> 
>  | int> 
>  |
> 
> | permissions | int> 
>  |
> 
> +-------------+---------+
> 
> user_id æ˜¯ä¸»é”®ã€‚
> 
> è¿™å¼ è¡¨çš„æ¯ä¸€è¡ŒåŒ…å«ç”¨æˆ· ID å’Œä»–ä»¬çš„æƒé™ï¼Œç¼–ç ä¸ºä¸€ä¸ªæ•´æ•°ã€‚
> 
> 

`permissions` æ•´æ•°ä¸­çš„æ¯ä¸€ä¸ªäºŒè¿›åˆ¶ä½ä»£è¡¨ä¸€ä¸ªç”¨æˆ·æ‹¥æœ‰çš„ä¸€ä¸ªä¸åŒçš„è®¿é—®çº§åˆ«æˆ–åŠŸèƒ½ã€‚

ç¼–å†™ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ¥è®¡ç®—ä»¥ä¸‹å†…å®¹ï¼š

  * common_permsï¼šæˆäºˆ **æ‰€æœ‰ç”¨æˆ·** çš„è®¿é—®çº§åˆ«ã€‚åœ¨ `permissions` åˆ—ä¸Šä½¿ç”¨ **æŒ‰ä½ä¸  **æ“ä½œæ¥è®¡ç®—ã€‚
  * any_permsï¼šæˆäºˆ **ä»»ä¸€ç”¨æˆ·** çš„è®¿é—®çº§åˆ«ã€‚åœ¨ `permissions` åˆ—ä¸Šä½¿ç”¨ **æŒ‰ä½æˆ–** æ“ä½œæ¥è®¡ç®—ã€‚

ä»¥ **ä»»æ„  **é¡ºåºè¿”å›ç»“æœè¡¨ã€‚

ç»“æœæ ¼å¼å¦‚ä¸‹æ‰€ç¤ºã€‚



**ç¤ºä¾‹ï¼š**

**è¾“å…¥ï¼š**

user_permissions è¡¨ï¼š

> 
> 
> 
> 
> 
> +---------+-------------+
> 
> | user_id | permissions |
> 
> +---------+-------------+
> 
> | 1> 
>    | 5> 
> > 
>    |
> 
> | 2> 
>    | 12> 
> > 
>   |
> 
> | 3> 
>    | 7> 
> > 
>    |
> 
> | 4> 
>    | 3> 
> > 
>    |
> 
> +---------+-------------+
> 
>  

**è¾“å‡ºï¼š**

> 
> 
> 
> 
> 
> +-------------+--------------+
> 
> | common_perms | any_perms   |
> 
> +--------------+-------------+
> 
> | 0> 
> > 
> > 
> | 15> 
> > 
>   |
> 
> +--------------+-------------+
> 
> > 
> 

**è§£é‡Šï¼š**

  * **common_perms:** ä»£è¡¨æ‰€æœ‰æƒé™çš„æŒ‰ä½ä¸ç»“æœï¼š 
> 
> * å¯¹äºç”¨æˆ· 1 (5): 5 (äºŒè¿›åˆ¶ 0101)
> 
> * å¯¹äºç”¨æˆ· 2 (12): 12 (äºŒè¿›åˆ¶ 1100)
> 
> * å¯¹äºç”¨æˆ· 3 (7): 7 (äºŒè¿›åˆ¶ 0111)
> 
> * å¯¹äºç”¨æˆ· 4 (3): 3 (äºŒè¿›åˆ¶ 0011)
> 
> * æŒ‰ä½ä¸ï¼š5 & 12 & 7 & 3 = 0 (äºŒè¿›åˆ¶ 0000)
  * **any_perms:** ä»£è¡¨æ‰€æœ‰æƒé™çš„æŒ‰ä½æˆ–ç»“æœï¼š 
> 
> * æŒ‰ä½æˆ–ï¼š5 | 12 | 7 | 3 = 15 (äºŒè¿›åˆ¶ 1111)


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```