# [1642. å¯ä»¥åˆ°è¾¾çš„æœ€è¿œå»ºç­‘](https://leetcode.com/problems/furthest-building-you-can-reach)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/leetcode/outline/tag/greedy.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/leetcode/outline/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/furthest-building-you-can-reach)


## é¢˜ç›®

You are given an integer array `heights` representing the heights of
buildings, some `bricks`, and some `ladders`.

You start your journey from building `0` and move to the next building by
possibly using bricks or ladders.

While moving from building `i` to building `i+1` (**0-indexed**),

  * If the current building's height is **greater than or equal** to the next building's height, you do **not** need a ladder or bricks.
  * If the current building's height is **less than** the next building's height, you can either use **one ladder** or `(h[i+1] - h[i])` **bricks**.

_Return the furthest building index (0-indexed) you can reach if you use the
given ladders and bricks optimally._



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/10/27/q4.gif)

> Input: heights = [4,2,7,6,9,14,12], bricks = 5, ladders = 1
> 
> Output: 4
> 
> Explanation: Starting at building 0, you can follow these steps:
> - Go to building 1 without using ladders nor bricks since 4 >= 2.
> - Go to building 2 using 5 bricks. You must use either bricks or ladders because 2 < 7.
> - Go to building 3 without using ladders nor bricks since 7 >= 6.
> - Go to building 4 using your only ladder. You must use either bricks or ladders because 6 < 9.
> 
> It is impossible to go beyond building 4 because you do not have any more bricks or ladders.

**Example 2:**

> Input: heights = [4,12,2,7,3,18,20,3,19], bricks = 10, ladders = 2
> 
> Output: 7

**Example 3:**

> Input: heights = [14,3,19,3], bricks = 17, ladders = 0
> 
> Output: 3

**Constraints:**

  * `1 <= heights.length <= 10^5`
  * `1 <= heights[i] <= 10^6`
  * `0 <= bricks <= 10^9`
  * `0 <= ladders <= heights.length`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `heights` ï¼Œè¡¨ç¤ºå»ºç­‘ç‰©çš„é«˜åº¦ã€‚å¦æœ‰ä¸€äº›ç –å— `bricks` å’Œæ¢¯å­ `ladders` ã€‚

ä½ ä»å»ºç­‘ç‰© `0` å¼€å§‹æ—…ç¨‹ï¼Œä¸æ–­å‘åé¢çš„å»ºç­‘ç‰©ç§»åŠ¨ï¼ŒæœŸé—´å¯èƒ½ä¼šç”¨åˆ°ç –å—æˆ–æ¢¯å­ã€‚

å½“ä»å»ºç­‘ç‰© `i` ç§»åŠ¨åˆ°å»ºç­‘ç‰© `i+1`ï¼ˆä¸‹æ ‡**ä» 0 å¼€å§‹** ï¼‰æ—¶ï¼š

  * å¦‚æœå½“å‰å»ºç­‘ç‰©çš„é«˜åº¦ **å¤§äºæˆ–ç­‰äº** ä¸‹ä¸€å»ºç­‘ç‰©çš„é«˜åº¦ï¼Œåˆ™ä¸éœ€è¦æ¢¯å­æˆ–ç –å—
  * å¦‚æœå½“å‰å»ºç­‘çš„é«˜åº¦ **å°äº** ä¸‹ä¸€ä¸ªå»ºç­‘çš„é«˜åº¦ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ **ä¸€æ¶æ¢¯å­** æˆ– **`(h[i+1] - h[i])` ä¸ªç –å—**

å¦‚æœä»¥æœ€ä½³æ–¹å¼ä½¿ç”¨ç»™å®šçš„æ¢¯å­å’Œç –å—ï¼Œè¿”å›ä½ å¯ä»¥åˆ°è¾¾çš„æœ€è¿œå»ºç­‘ç‰©çš„ä¸‹æ ‡ï¼ˆä¸‹æ ‡**ä» 0 å¼€å§‹** ï¼‰ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/10/31/q4.gif)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** heights = [4,2,7,6,9,14,12], bricks = 5, ladders = 1
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** ä»å»ºç­‘ç‰© 0 å‡ºå‘ï¼Œä½ å¯ä»¥æŒ‰æ­¤æ–¹æ¡ˆå®Œæˆæ—…ç¨‹ï¼š
> - ä¸ä½¿ç”¨ç –å—æˆ–æ¢¯å­åˆ°è¾¾å»ºç­‘ç‰© 1 ï¼Œå› ä¸º 4 >= 2
> - ä½¿ç”¨ 5 ä¸ªç –å—åˆ°è¾¾å»ºç­‘ç‰© 2 ã€‚ä½ å¿…é¡»ä½¿ç”¨ç –å—æˆ–æ¢¯å­ï¼Œå› ä¸º 2 < 7
> - ä¸ä½¿ç”¨ç –å—æˆ–æ¢¯å­åˆ°è¾¾å»ºç­‘ç‰© 3 ï¼Œå› ä¸º 7 >= 6
> - ä½¿ç”¨å”¯ä¸€çš„æ¢¯å­åˆ°è¾¾å»ºç­‘ç‰© 4 ã€‚ä½ å¿…é¡»ä½¿ç”¨ç –å—æˆ–æ¢¯å­ï¼Œå› ä¸º 6 < 9
> 
> æ— æ³•è¶Šè¿‡å»ºç­‘ç‰© 4 ï¼Œå› ä¸ºæ²¡æœ‰æ›´å¤šç –å—æˆ–æ¢¯å­ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** heights = [4,12,2,7,3,18,20,3,19], bricks = 10, ladders = 2
> 
> **è¾“å‡ºï¼š** 7
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** heights = [14,3,19,3], bricks = 17, ladders = 0
> 
> **è¾“å‡ºï¼š** 3
> 
> 

**æç¤ºï¼š**

  * `1 <= heights.length <= 10^5`
  * `1 <= heights[i] <= 10^6`
  * `0 <= bricks <= 10^9`
  * `0 <= ladders <= heights.length`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2599 | [ä½¿å‰ç¼€å’Œæ•°ç»„éè´Ÿ](https://leetcode.com/problems/make-the-prefix-sum-non-negative) |  |  [`è´ªå¿ƒ`](/leetcode/outline/tag/greedy.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/leetcode/outline/tag/heap-priority-queue.md) | <font color=#ffb800>Medium</font> |
| 2940 | [æ‰¾åˆ° Alice å’Œ Bob å¯ä»¥ç›¸é‡çš„å»ºç­‘](https://leetcode.com/problems/find-building-where-alice-and-bob-can-meet) |  |  [`æ ˆ`](/leetcode/outline/tag/stack.md) [`æ ‘çŠ¶æ•°ç»„`](/leetcode/outline/tag/binary-indexed-tree.md) [`çº¿æ®µæ ‘`](/leetcode/outline/tag/segment-tree.md) `4+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
