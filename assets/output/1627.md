---
title: 1627. å¸¦é˜ˆå€¼çš„å›¾è¿é€šæ€§
description: LeetCode,1627. å¸¦é˜ˆå€¼çš„å›¾è¿é€šæ€§,å¸¦é˜ˆå€¼çš„å›¾è¿é€šæ€§,Graph Connectivity With Threshold,è§£é¢˜æ€è·¯,å¹¶æŸ¥é›†,æ•°ç»„,æ•°å­¦,æ•°è®º
keywords:
  - LeetCode
  - 1627. å¸¦é˜ˆå€¼çš„å›¾è¿é€šæ€§
  - å¸¦é˜ˆå€¼çš„å›¾è¿é€šæ€§
  - Graph Connectivity With Threshold
  - è§£é¢˜æ€è·¯
  - å¹¶æŸ¥é›†
  - æ•°ç»„
  - æ•°å­¦
  - æ•°è®º
---

# 1627. å¸¦é˜ˆå€¼çš„å›¾è¿é€šæ€§

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`æ•°è®º`](/tag/number-theory.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/graph-connectivity-with-threshold) [`LeetCode`](https://leetcode.com/problems/graph-connectivity-with-threshold)

## é¢˜ç›®

We have `n` cities labeled from `1` to `n`. Two different cities with labels
`x` and `y` are directly connected by a bidirectional road if and only if `x`
and `y` share a common divisor **strictly greater** than some `threshold`.
More formally, cities with labels `x` and `y` have a road between them if
there exists an integer `z` such that all of the following are true:

  * `x % z == 0`,
  * `y % z == 0`, and
  * `z > threshold`.

Given the two integers, `n` and `threshold`, and an array of `queries`, you
must determine for each `queries[i] = [ai, bi]` if cities `ai` and `bi` are
connected directly or indirectly. (i.e. there is some path between them).

Return _an array_`answer` _, where_`answer.length == queries.length`
_and_`answer[i]`_is_`true` _if for the_`ith` _query, there is a path
between_`ai` _and_`bi` _, or_`answer[i]`_is_`false` _if there is no path._



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/10/09/ex1.jpg)

> Input: n = 6, threshold = 2, queries = [[1,4],[2,5],[3,6]]
> 
> Output: [false,false,true]
> 
> Explanation: The divisors for each number:
> 
> 1:   1
> 
> 2:   1, 2
> 
> 3:   1, _3_
> 
> 4:   1, 2, _4_
> 
> 5:   1, _5_
> 
> 6:   1, 2, _3_ , _6_
> 
> Using the underlined divisors above the threshold, only cities 3 and 6 share a common divisor, so they are the
> 
> only ones directly connected. The result of each query:
> 
> [1,4]   1 is not connected to 4
> 
> [2,5]   2 is not connected to 5
> 
> [3,6]   3 is connected to 6 through path 3--6

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/10/10/tmp.jpg)

> Input: n = 6, threshold = 0, queries = [[4,5],[3,4],[3,2],[2,6],[1,3]]
> 
> Output: [true,true,true,true,true]
> 
> Explanation: The divisors for each number are the same as the previous example. However, since the threshold is 0,
> 
> all divisors can be used. Since all numbers share 1 as a divisor, all cities are connected.

**Example 3:**

![](https://assets.leetcode.com/uploads/2020/10/17/ex3.jpg)

> Input: n = 5, threshold = 1, queries = [[4,5],[4,5],[3,2],[2,3],[3,4]]
> 
> Output: [false,false,false,false,false]
> 
> Explanation: Only cities 2 and 4 share a common divisor 2 which is strictly greater than the threshold 1, so they are the only ones directly connected.
> 
> Please notice that there can be multiple queries for the same pair of nodes [x, y], and that the query [x, y] is equivalent to the query [y, x].

**Constraints:**

  * `2 <= n <= 10^4`
  * `0 <= threshold <= n`
  * `1 <= queries.length <= 10^5`
  * `queries[i].length == 2`
  * `1 <= ai, bi <= cities`
  * `ai != bi`


## é¢˜ç›®å¤§æ„

æœ‰ `n` åº§åŸå¸‚ï¼Œç¼–å·ä» `1` åˆ° `n` ã€‚ç¼–å·ä¸º `x` å’Œ `y` çš„ä¸¤åº§åŸå¸‚ç›´æ¥è¿é€šçš„å‰ææ˜¯ï¼š `x` å’Œ `y` çš„å…¬å› æ•°ä¸­ï¼Œè‡³å°‘æœ‰ä¸€ä¸ª
**ä¸¥æ ¼å¤§äº** æŸä¸ªé˜ˆå€¼ `threshold` ã€‚æ›´æ­£å¼åœ°è¯´ï¼Œå¦‚æœå­˜åœ¨æ•´æ•° `z` ï¼Œä¸”æ»¡è¶³ä»¥ä¸‹æ‰€æœ‰æ¡ä»¶ï¼Œåˆ™ç¼–å· `x` å’Œ `y`
çš„åŸå¸‚ä¹‹é—´æœ‰ä¸€æ¡é“è·¯ï¼š

  * `x % z == 0`
  * `y % z == 0`
  * `z > threshold`

ç»™ä½ ä¸¤ä¸ªæ•´æ•° `n` å’Œ `threshold` ï¼Œä»¥åŠä¸€ä¸ªå¾…æŸ¥è¯¢æ•°ç»„ï¼Œè¯·ä½ åˆ¤æ–­æ¯ä¸ªæŸ¥è¯¢` queries[i] = [ai, bi]` æŒ‡å‘çš„åŸå¸‚
`ai` å’Œ `bi` æ˜¯å¦è¿é€šï¼ˆå³ï¼Œå®ƒä»¬ä¹‹é—´æ˜¯å¦å­˜åœ¨ä¸€æ¡è·¯å¾„ï¼‰ã€‚

è¿”å›æ•°ç»„ `answer` ï¼Œå…¶ä¸­`answer.length == queries.length` ã€‚å¦‚æœç¬¬ `i` ä¸ªæŸ¥è¯¢ä¸­æŒ‡å‘çš„åŸå¸‚ `ai` å’Œ
`bi` è¿é€šï¼Œåˆ™ `answer[i]` ä¸º `true` ï¼›å¦‚æœä¸è¿é€šï¼Œåˆ™ `answer[i]` ä¸º `false` ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/10/18/ex1.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 6, threshold = 2, queries = [[1,4],[2,5],[3,6]]
> 
> **è¾“å‡ºï¼š**[false,false,true]
> 
> **è§£é‡Šï¼š** æ¯ä¸ªæ•°çš„å› æ•°å¦‚ä¸‹ï¼š
> 
> 1:   1
> 
> 2:   1, 2
> 
> 3:   1, **3**
> 
> 4:   1, 2, **4**
> 
> 5:   1, **5**
> 
> 6:   1, 2, **3** , **6**
> 
> æ‰€æœ‰å¤§äºé˜ˆå€¼çš„çš„å› æ•°å·²ç»åŠ ç²—æ ‡è¯†ï¼Œåªæœ‰åŸå¸‚ 3 å’Œ 6 å…±äº«å…¬çº¦æ•° 3 ï¼Œå› æ­¤ç»“æœæ˜¯ï¼š 
> 
> [1,4]   1 ä¸ 4 ä¸è¿é€š
> 
> [2,5]   2 ä¸ 5 ä¸è¿é€š
> 
> [3,6]   3 ä¸ 6 è¿é€šï¼Œå­˜åœ¨è·¯å¾„ 3--6
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/10/18/tmp.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 6, threshold = 0, queries = [[4,5],[3,4],[3,2],[2,6],[1,3]]
> 
> **è¾“å‡ºï¼š**[true,true,true,true,true]
> 
> **è§£é‡Šï¼š** æ¯ä¸ªæ•°çš„å› æ•°ä¸ä¸Šä¸€ä¸ªä¾‹å­ç›¸åŒã€‚ä½†æ˜¯ï¼Œç”±äºé˜ˆå€¼ä¸º 0 ï¼Œæ‰€æœ‰çš„å› æ•°éƒ½å¤§äºé˜ˆå€¼ã€‚å› ä¸ºæ‰€æœ‰çš„æ•°å­—å…±äº«å…¬å› æ•° 1 ï¼Œæ‰€ä»¥æ‰€æœ‰çš„åŸå¸‚éƒ½äº’ç›¸è¿é€šã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/10/16/ex3.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 5, threshold = 1, queries = [[4,5],[4,5],[3,2],[2,3],[3,4]]
> 
> **è¾“å‡ºï¼š**[false,false,false,false,false]
> 
> **è§£é‡Šï¼š** åªæœ‰åŸå¸‚ 2 å’Œ 4 å…±äº«çš„å…¬çº¦æ•° 2 ä¸¥æ ¼å¤§äºé˜ˆå€¼ 1 ï¼Œæ‰€ä»¥åªæœ‰è¿™ä¸¤åº§åŸå¸‚æ˜¯è¿é€šçš„ã€‚
> 
> æ³¨æ„ï¼ŒåŒä¸€å¯¹èŠ‚ç‚¹ [x, y] å¯ä»¥æœ‰å¤šä¸ªæŸ¥è¯¢ï¼Œå¹¶ä¸”æŸ¥è¯¢ [xï¼Œy] ç­‰åŒäºæŸ¥è¯¢ [yï¼Œx] ã€‚
> 
> 

**æç¤ºï¼š**

  * `2 <= n <= 10^4`
  * `0 <= threshold <= n`
  * `1 <= queries.length <= 10^5`
  * `queries[i].length == 2`
  * `1 <= ai, bi <= cities`
  * `ai != bi`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2709 | [æœ€å¤§å…¬çº¦æ•°éå†](https://leetcode.com/problems/greatest-common-divisor-traversal) |  |  [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) `1+` | <font color=#ff334b>Hard</font> |