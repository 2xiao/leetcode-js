---
title: 3472. è‡³å¤š K æ¬¡æ“ä½œåçš„æœ€é•¿å›æ–‡å­åºåˆ—
description: LeetCode 3472. è‡³å¤š K æ¬¡æ“ä½œåçš„æœ€é•¿å›æ–‡å­åºåˆ—é¢˜è§£ï¼ŒLongest Palindromic Subsequence After at Most K Operationsï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3472. è‡³å¤š K æ¬¡æ“ä½œåçš„æœ€é•¿å›æ–‡å­åºåˆ—
  - è‡³å¤š K æ¬¡æ“ä½œåçš„æœ€é•¿å›æ–‡å­åºåˆ—
  - Longest Palindromic Subsequence After at Most K Operations
  - è§£é¢˜æ€è·¯
  - å­—ç¬¦ä¸²
  - åŠ¨æ€è§„åˆ’
---

# 3472. è‡³å¤š K æ¬¡æ“ä½œåçš„æœ€é•¿å›æ–‡å­åºåˆ—

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/longest-palindromic-subsequence-after-at-most-k-operations) [`LeetCode`](https://leetcode.com/problems/longest-palindromic-subsequence-after-at-most-k-operations)

## é¢˜ç›®

You are given a string `s` and an integer `k`.

In one operation, you can replace the character at any position with the next
or previous letter in the alphabet (wrapping around so that `'a'` is after
`'z'`). For example, replacing `'a'` with the next letter results in `'b'`,
and replacing `'a'` with the previous letter results in `'z'`. Similarly,
replacing `'z'` with the next letter results in `'a'`, and replacing `'z'`
with the previous letter results in `'y'`.

Return the length of the **longest palindromic subsequence** of `s` that can
be obtained after performing **at most** `k` operations.



**Example 1:**

**Input:** s = "abced", k = 2

**Output:** 3

**Explanation:**

  * Replace `s[1]` with the next letter, and `s` becomes `"acced"`.
  * Replace `s[4]` with the previous letter, and `s` becomes `"accec"`.

The subsequence `"ccc"` forms a palindrome of length 3, which is the maximum.

**Example 2:**

**Input:** s = "aaazzz", k = 4

**Output:** 6

**Explanation:**

  * Replace `s[0]` with the previous letter, and `s` becomes `"zaazzz"`.
  * Replace `s[4]` with the next letter, and `s` becomes `"zaazaz"`.
  * Replace `s[3]` with the next letter, and `s` becomes `"zaaaaz"`.

The entire string forms a palindrome of length 6.



**Constraints:**

  * `1 <= s.length <= 200`
  * `1 <= k <= 200`
  * `s` consists of only lowercase English letters.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªæ•´æ•° `k`ã€‚

åœ¨ä¸€æ¬¡æ“ä½œä¸­ï¼Œä½ å¯ä»¥å°†ä»»æ„ä½ç½®çš„å­—ç¬¦æ›¿æ¢ä¸ºå­—æ¯è¡¨ä¸­ç›¸é‚»çš„å­—ç¬¦ï¼ˆå­—æ¯è¡¨æ˜¯å¾ªç¯çš„ï¼Œå› æ­¤ `'z'` çš„ä¸‹ä¸€ä¸ªå­—æ¯æ˜¯ `'a'`ï¼‰ã€‚ä¾‹å¦‚ï¼Œå°† `'a'`
æ›¿æ¢ä¸ºä¸‹ä¸€ä¸ªå­—æ¯ç»“æœæ˜¯ `'b'`ï¼Œå°† `'a'` æ›¿æ¢ä¸ºä¸Šä¸€ä¸ªå­—æ¯ç»“æœæ˜¯ `'z'`ï¼›åŒæ ·ï¼Œå°† `'z'` æ›¿æ¢ä¸ºä¸‹ä¸€ä¸ªå­—æ¯ç»“æœæ˜¯
`'a'`ï¼Œæ›¿æ¢ä¸ºä¸Šä¸€ä¸ªå­—æ¯ç»“æœæ˜¯ `'y'`ã€‚

è¿”å›åœ¨è¿›è¡Œ **æœ€å¤š** `k` æ¬¡æ“ä½œåï¼Œ`s` çš„ **æœ€é•¿å›æ–‡å­åºåˆ—  **çš„é•¿åº¦ã€‚

**å­åºåˆ—  **æ˜¯ä¸€ä¸ª **éç©º  **å­—ç¬¦ä¸²ï¼Œå¯ä»¥é€šè¿‡åˆ é™¤åŸå­—ç¬¦ä¸²ä¸­çš„æŸäº›å­—ç¬¦ï¼ˆæˆ–ä¸åˆ é™¤ä»»ä½•å­—ç¬¦ï¼‰å¹¶ä¿æŒå‰©ä½™å­—ç¬¦çš„ç›¸å¯¹é¡ºåºå¾—åˆ°ã€‚

**å›æ–‡  **æ˜¯æ­£ç€è¯»å’Œåç€è¯»éƒ½ç›¸åŒçš„å­—ç¬¦ä¸²ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥:** s = "abced", k = 2

**è¾“å‡º:** 3

**è§£é‡Š:**

  * å°† `s[1]` æ›¿æ¢ä¸ºä¸‹ä¸€ä¸ªå­—æ¯ï¼Œå¾—åˆ° `"acced"`ã€‚
  * å°† `s[4]` æ›¿æ¢ä¸ºä¸Šä¸€ä¸ªå­—æ¯ï¼Œå¾—åˆ° `"accec"`ã€‚

å­åºåˆ— `"ccc"` å½¢æˆä¸€ä¸ªé•¿åº¦ä¸º 3 çš„å›æ–‡ï¼Œè¿™æ˜¯æœ€é•¿çš„å›æ–‡å­åºåˆ—ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥:** s = "aaazzz", k = 4

**è¾“å‡º:** 6

**è§£é‡Š:**

  * å°† `s[0]` æ›¿æ¢ä¸ºä¸Šä¸€ä¸ªå­—æ¯ï¼Œå¾—åˆ° `"zaazzz"`ã€‚
  * å°† `s[4]` æ›¿æ¢ä¸ºä¸‹ä¸€ä¸ªå­—æ¯ï¼Œå¾—åˆ° `"zaazaz"`ã€‚
  * å°† `s[3]` æ›¿æ¢ä¸ºä¸‹ä¸€ä¸ªå­—æ¯ï¼Œå¾—åˆ° `"zaaaaz"`ã€‚

æ•´ä¸ªå­—ç¬¦ä¸²å½¢æˆä¸€ä¸ªé•¿åº¦ä¸º 6 çš„å›æ–‡ã€‚



**æç¤º:**

  * `1 <= s.length <= 200`
  * `1 <= k <= 200`
  * `s` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```