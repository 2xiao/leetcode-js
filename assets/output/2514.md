# [2514. ç»Ÿè®¡åŒä½å¼‚æ„å­—ç¬¦ä¸²æ•°ç›®](https://leetcode.com/problems/count-anagrams)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`æ•°å­¦`](/leetcode/outline/tag/math.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) [`ç»„åˆæ•°å­¦`](/leetcode/outline/tag/combinatorics.md) [`è®¡æ•°`](/leetcode/outline/tag/counting.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/count-anagrams)


## é¢˜ç›®

You are given a string `s` containing one or more words. Every consecutive
pair of words is separated by a single space `' '`.

A string `t` is an **anagram** of string `s` if the `ith` word of `t` is a
**permutation** of the `ith` word of `s`.

  * For example, `"acb dfe"` is an anagram of `"abc def"`, but `"def cab"` and `"adc bef"` are not.

Return _the number of**distinct anagrams** of _`s`. Since the answer may be
very large, return it **modulo** `109 + 7`.



**Example 1:**

> Input: s = "too hot"
> 
> Output: 18
> 
> Explanation: Some of the anagrams of the given string are "too hot", "oot hot", "oto toh", "too toh", and "too oht".

**Example 2:**

> Input: s = "aa"
> 
> Output: 1
> 
> Explanation: There is only one anagram possible for the given string.



**Constraints:**

  * `1 <= s.length <= 10^5`
  * `s` consists of lowercase English letters and spaces `' '`.
  * There is single space between consecutive words.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œå®ƒåŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªå•è¯ã€‚å•è¯ä¹‹é—´ç”¨å•ä¸ªç©ºæ ¼ `' '` éš”å¼€ã€‚

å¦‚æœå­—ç¬¦ä¸² `t` ä¸­ç¬¬ `i` ä¸ªå•è¯æ˜¯ `s` ä¸­ç¬¬ `i` ä¸ªå•è¯çš„ä¸€ä¸ª **æ’åˆ—**  ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°å­—ç¬¦ä¸² `t` æ˜¯å­—ç¬¦ä¸² `s`
çš„åŒä½å¼‚æ„å­—ç¬¦ä¸²ã€‚

  * æ¯”æ–¹è¯´ï¼Œ`"acb dfe"` æ˜¯ `"abc def"` çš„åŒä½å¼‚æ„å­—ç¬¦ä¸²ï¼Œä½†æ˜¯ `"def cab"` å’Œ `"adc bef"` ä¸æ˜¯ã€‚

è¯·ä½ è¿”å› _ _`s` çš„åŒä½å¼‚æ„å­—ç¬¦ä¸²çš„æ•°ç›®ï¼Œç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·ä½ å°†å®ƒå¯¹ `109 + 7` **å–ä½™** åè¿”å›ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "too hot"
> 
> **è¾“å‡ºï¼š** 18
> 
> **è§£é‡Šï¼š** è¾“å…¥å­—ç¬¦ä¸²çš„ä¸€äº›åŒä½å¼‚æ„å­—ç¬¦ä¸²ä¸º "too hot" ï¼Œ"oot hot" ï¼Œ"oto toh" ï¼Œ"too toh" ä»¥åŠ "too oht" ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "aa"
> 
> **è¾“å‡ºï¼š** 1
> 
> **è§£é‡Šï¼š** è¾“å…¥å­—ç¬¦ä¸²åªæœ‰ä¸€ä¸ªåŒä½å¼‚æ„å­—ç¬¦ä¸²ã€‚



**æç¤ºï¼š**

  * `1 <= s.length <= 10^5`
  * `s` åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯å’Œç©ºæ ¼ `' '` ã€‚
  * ç›¸é‚»å•è¯ä¹‹é—´ç”±å•ä¸ªç©ºæ ¼éš”å¼€ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 49 | [å­—æ¯å¼‚ä½è¯åˆ†ç»„](https://leetcode.com/problems/group-anagrams) | [[âœ“]](https://2xiao.github.io/leetcode-js/leetcode/problem/0049) |  [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) `1+` | <font color=#ffb800>Medium</font> |
| 1916 | [ç»Ÿè®¡ä¸ºèšç¾¤æ„ç­‘æˆ¿é—´çš„ä¸åŒé¡ºåº](https://leetcode.com/problems/count-ways-to-build-rooms-in-an-ant-colony) |  |  [`æ ‘`](/leetcode/outline/tag/tree.md) [`å›¾`](/leetcode/outline/tag/graph.md) [`æ‹“æ‰‘æ’åº`](/leetcode/outline/tag/topological-sort.md) `3+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
