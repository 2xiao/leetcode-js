# [2590. è®¾è®¡ä¸€ä¸ªå¾…åŠäº‹é¡¹æ¸…å• ğŸ”’](https://2xiao.github.io/leetcode-js/problem/2590.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/design-a-todo-list) [`LeetCode`](https://leetcode.com/problems/design-a-todo-list)

## é¢˜ç›®

Design a Todo List Where users can add **tasks** , mark them as **complete** ,
or get a list of pending tasks. Users can also add **tags** to tasks and can
filter the tasks by certain tags.

Implement the `TodoList` class:

  * `TodoList()` Initializes the object.
  * `int addTask(int userId, String taskDescription, int dueDate, List<String> tags)` Adds a task for the user with the ID `userId` with a due date equal to `dueDate` and a list of tags attached to the task. The return value is the ID of the task. This ID starts at `1` and is **sequentially** increasing. That is, the first task's id should be `1`, the second task's id should be `2`, and so on.
  * `List<String> getAllTasks(int userId)` Returns a list of all the tasks not marked as complete for the user with ID `userId`, ordered by the due date. You should return an empty list if the user has no uncompleted tasks.
  * `List<String> getTasksForTag(int userId, String tag)` Returns a list of all the tasks that are not marked as complete for the user with the ID `userId` and have `tag` as one of their tags, ordered by their due date. Return an empty list if no such task exists.
  * `void completeTask(int userId, int taskId)` Marks the task with the ID `taskId` as completed only if the task exists and the user with the ID `userId` has this task, and it is uncompleted.



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["TodoList", "addTask", "addTask", "getAllTasks", "getAllTasks", "addTask", "getTasksForTag", "completeTask", "completeTask", "getTasksForTag", "getAllTasks"]
> 
> [[], [1, "Task1", 50, []], [1, "Task2", 100, ["P1"]], [1], [5], [1, "Task3", 30, ["P1"]], [1, "P1"], [5, 1], [1, 2], [1, "P1"], [1]]
> 
> **Output**
> 
> [null, 1, 2, ["Task1", "Task2"], [], 3, ["Task3", "Task2"], null, null, ["Task3"], ["Task3", "Task1"]]
> 
> 
> 
> **Explanation**
> 
> TodoList todoList = new TodoList();
> 
> todoList.addTask(1, "Task1", 50, []); // return 1. This adds a new task for the user with id 1.
> 
> todoList.addTask(1, "Task2", 100, ["P1"]); // return 2. This adds another task for the user with id 1.
> 
> todoList.getAllTasks(1); // return ["Task1", "Task2"]. User 1 has two uncompleted tasks so far.
> 
> todoList.getAllTasks(5); // return []. User 5 does not have any tasks so far.
> 
> todoList.addTask(1, "Task3", 30, ["P1"]); // return 3. This adds another task for the user with id 1.
> 
> todoList.getTasksForTag(1, "P1"); // return ["Task3", "Task2"]. This returns the uncompleted tasks that have the tag "P1" for the user with id 1.
> 
> todoList.completeTask(5, 1); // This does nothing, since task 1 does not belong to user 5.
> 
> todoList.completeTask(1, 2); // This marks task 2 as completed.
> 
> todoList.getTasksForTag(1, "P1"); // return ["Task3"]. This returns the uncompleted tasks that have the tag "P1" for the user with id 1.
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
>   // Notice that we did not include "Task2" because it is completed now.
> 
> todoList.getAllTasks(1); // return ["Task3", "Task1"]. User 1 now has 2 uncompleted tasks.
> 
> 

**Constraints:**

  * `1 <= userId, taskId, dueDate <= 100`
  * `0 <= tags.length <= 100`
  * `1 <= taskDescription.length <= 50`
  * `1 <= tags[i].length, tag.length <= 20`
  * All `dueDate` values are unique.
  * All the strings consist of lowercase and uppercase English letters and digits.
  * At most `100` calls will be made for each method.


## é¢˜ç›®å¤§æ„

è®¾è®¡ä¸€ä¸ªå¾…åŠäº‹é¡¹æ¸…å•ï¼Œç”¨æˆ·å¯ä»¥æ·»åŠ  **ä»»åŠ¡** ï¼Œæ ‡è®°ä»»åŠ¡ä¸º **å®ŒæˆçŠ¶æ€** ï¼Œæˆ–è·å–å¾…åŠä»»åŠ¡åˆ—è¡¨ã€‚ç”¨æˆ·è¿˜å¯ä»¥ä¸ºä»»åŠ¡æ·»åŠ  **æ ‡ç­¾**
ï¼Œå¹¶å¯ä»¥æŒ‰ç…§ç‰¹å®šæ ‡ç­¾ç­›é€‰ä»»åŠ¡ã€‚

å®ç° `TodoList` ç±»ï¼š

  * `TodoList()` åˆå§‹åŒ–å¯¹è±¡ã€‚
  * `int addTask(int userId, String taskDescription, int dueDate, List<String> tags)` ä¸ºç”¨æˆ· ID ä¸º `userId` çš„ç”¨æˆ·æ·»åŠ ä¸€ä¸ªä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡çš„åˆ°æœŸæ—¥æœŸä¸º `dueDate` ï¼Œé™„å¸¦äº†ä¸€ä¸ªæ ‡ç­¾åˆ—è¡¨ `tags` ã€‚è¿”å›å€¼ä¸ºä»»åŠ¡çš„ ID ã€‚è¯¥ ID ä» `1` å¼€å§‹ï¼Œ**ä¾æ¬¡** é€’å¢ã€‚å³ï¼Œç¬¬ä¸€ä¸ªä»»åŠ¡çš„IDåº”ä¸º `1` ï¼Œç¬¬äºŒä¸ªä»»åŠ¡çš„ ID åº”ä¸º `2` ï¼Œä»¥æ­¤ç±»æ¨ã€‚
  * `List<String> getAllTasks(int userId)` è¿”å›æœªæ ‡è®°ä¸ºå®ŒæˆçŠ¶æ€çš„ ID ä¸º `userId` çš„ç”¨æˆ·çš„æ‰€æœ‰ä»»åŠ¡åˆ—è¡¨ï¼ŒæŒ‰ç…§åˆ°æœŸæ—¥æœŸæ’åºã€‚å¦‚æœç”¨æˆ·æ²¡æœ‰æœªå®Œæˆçš„ä»»åŠ¡ï¼Œåˆ™åº”è¿”å›ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚
  * `List<String> getTasksForTag(int userId, String tag)` è¿”å› ID ä¸º `userId` çš„ç”¨æˆ·æœªæ ‡è®°ä¸ºå®ŒæˆçŠ¶æ€ä¸”å…·æœ‰ `tag` æ ‡ç­¾ä¹‹ä¸€çš„æ‰€æœ‰ä»»åŠ¡åˆ—è¡¨ï¼ŒæŒ‰ç…§åˆ°æœŸæ—¥æœŸæ’åºã€‚å¦‚æœä¸å­˜åœ¨æ­¤ç±»ä»»åŠ¡ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚
  * `void completeTask(int userId, int taskId)` ä»…åœ¨ä»»åŠ¡å­˜åœ¨ä¸” ID ä¸º `userId` çš„ç”¨æˆ·æ‹¥æœ‰æ­¤ä»»åŠ¡ä¸”å®ƒæ˜¯æœªå®ŒæˆçŠ¶æ€æ—¶ï¼Œå°† ID ä¸º `taskId` çš„ä»»åŠ¡æ ‡è®°ä¸ºå·²å®ŒæˆçŠ¶æ€ã€‚



**ç¤ºä¾‹ 1 ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥**
> 
> ["TodoList", "addTask", "addTask", "getAllTasks", "getAllTasks", "addTask", "getTasksForTag", "completeTask", "completeTask", "getTasksForTag", "getAllTasks"]
> 
> [[], [1, "Task1", 50, []], [1, "Task2", 100, ["P1"]], [1], [5], [1, "Task3", 30, ["P1"]], [1, "P1"], [5, 1], [1, 2], [1, "P1"], [1]]
> 
> **è¾“å‡º**
> 
> [null, 1, 2, ["Task1", "Task2"], [], 3, ["Task3", "Task2"], null, null, ["Task3"], ["Task3", "Task1"]]
> 
> 
> 
> **è§£é‡Š**
> 
> TodoList todoList = new TodoList(); 
> 
> todoList.addTask(1, "Task1", 50, []); // è¿”å›1ã€‚ä¸ºIDä¸º1çš„ç”¨æˆ·æ·»åŠ ä¸€ä¸ªæ–°ä»»åŠ¡ã€‚ 
> 
> todoList.addTask(1, "Task2", 100, ["P1"]); // è¿”å›2ã€‚ä¸ºIDä¸º1çš„ç”¨æˆ·æ·»åŠ å¦ä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶ç»™å®ƒæ·»åŠ æ ‡ç­¾â€œP1â€ã€‚ 
> 
> todoList.getAllTasks(1); // è¿”å›["Task1", "Task2"]ã€‚ç”¨æˆ·1ç›®å‰æœ‰ä¸¤ä¸ªæœªå®Œæˆçš„ä»»åŠ¡ã€‚ 
> 
> todoList.getAllTasks(5); // è¿”å›[]ã€‚ç”¨æˆ·5ç›®å‰æ²¡æœ‰ä»»åŠ¡ã€‚ 
> 
> todoList.addTask(1, "Task3", 30, ["P1"]); // è¿”å›3ã€‚ä¸ºIDä¸º1çš„ç”¨æˆ·æ·»åŠ å¦ä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶ç»™å®ƒæ·»åŠ æ ‡ç­¾â€œP1â€ã€‚ 
> 
> todoList.getTasksForTag(1, "P1"); // è¿”å›["Task3", "Task2"]ã€‚è¿”å›IDä¸º1çš„ç”¨æˆ·æœªå®Œæˆçš„å¸¦æœ‰â€œP1â€æ ‡ç­¾çš„ä»»åŠ¡ã€‚ 
> 
> todoList.completeTask(5, 1); // ä¸åšä»»ä½•æ“ä½œï¼Œå› ä¸ºä»»åŠ¡1ä¸å±äºç”¨æˆ·5ã€‚ 
> 
> todoList.completeTask(1, 2); // å°†ä»»åŠ¡2æ ‡è®°ä¸ºå·²å®Œæˆã€‚ 
> 
> todoList.getTasksForTag(1, "P1"); // è¿”å›["Task3"]ã€‚è¿”å›IDä¸º1çš„ç”¨æˆ·æœªå®Œæˆçš„å¸¦æœ‰â€œP1â€æ ‡ç­¾çš„ä»»åŠ¡ã€‚ 
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
>   // æ³¨æ„ï¼Œç°åœ¨ä¸åŒ…æ‹¬ â€œTask2â€ ï¼Œå› ä¸ºå®ƒå·²ç»è¢«æ ‡è®°ä¸ºå·²å®Œæˆã€‚ 
> 
> todoList.getAllTasks(1); // è¿”å›["Task3", "Task1"]ã€‚ç”¨æˆ·1ç°åœ¨æœ‰ä¸¤ä¸ªæœªå®Œæˆçš„ä»»åŠ¡ã€‚
> 
> 
> 
> 



**æç¤ºï¼š**

  * `1 <= userId, taskId, dueDate <= 100`
  * `0 <= tags.length <= 100`
  * `1 <= taskDescription.length <= 50`
  * `1 <= tags[i].length, tag.length <= 20`
  * æ‰€æœ‰çš„ `dueDate` å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚
  * æ‰€æœ‰å­—ç¬¦ä¸²éƒ½ç”±å°å†™å’Œå¤§å†™è‹±æ–‡å­—æ¯å’Œæ•°å­—ç»„æˆã€‚
  * æ¯ä¸ªæ–¹æ³•æœ€å¤šè¢«è°ƒç”¨ `100` æ¬¡ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```