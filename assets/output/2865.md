# [2865. ç¾ä¸½å¡” I](https://leetcode.com/problems/beautiful-towers-i)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`å•è°ƒæ ˆ`](/tag/monotonic-stack.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/beautiful-towers-i)

## é¢˜ç›®

You are given an array `heights` of `n` integers representing the number of
bricks in `n` consecutive towers. Your task is to remove some bricks to form a
**mountain-shaped** tower arrangement. In this arrangement, the tower heights
are non-decreasing, reaching a maximum peak value with one or multiple
consecutive towers and then non-increasing.

Return the **maximum possible sum** of heights of a mountain-shaped tower
arrangement.



**Example 1:**

**Input:** heights = [5,3,4,1,1]

**Output:** 13

**Explanation:**

We remove some bricks to make `heights = [5,3,3,1,1]`, the peak is at index 0.

**Example 2:**

**Input:** heights = [6,5,3,9,2,7]

**Output:** 22

**Explanation:**

We remove some bricks to make `heights = [3,3,3,9,2,2]`, the peak is at index
3.

**Example 3:**

**Input:** heights = [3,2,5,5,2,3]

**Output:** 18

**Explanation:**

We remove some bricks to make `heights = [2,2,5,5,2,2]`, the peak is at index
2 or 3.



**Constraints:**

  * `1 <= n == heights.length <= 10^3`
  * `1 <= heights[i] <= 10^9`


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªåŒ…å« `n` ä¸ªæ•´æ•°çš„æ•°ç»„ `heights` è¡¨ç¤º `n` åº§è¿ç»­çš„å¡”ä¸­ç –å—çš„æ•°é‡ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç§»é™¤ä¸€äº›ç –å—æ¥å½¢æˆä¸€ä¸ª **å±±è„‰çŠ¶**
çš„å¡”æ’åˆ—ã€‚åœ¨è¿™ç§å¸ƒç½®ä¸­ï¼Œå¡”é«˜åº¦å…ˆæ˜¯éé€’å‡ï¼Œæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¿ç»­å¡”è¾¾åˆ°æœ€å¤§å³°å€¼ï¼Œç„¶åéé€’å¢æ’åˆ—ã€‚

è¿”å›æ»¡è¶³å±±è„‰çŠ¶å¡”æ’åˆ—çš„æ–¹æ¡ˆä¸­ï¼Œ**é«˜åº¦å’Œçš„æœ€å¤§å€¼**  ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** maxHeights = [5,3,4,1,1]
> 
> **è¾“å‡ºï¼š** 13
> 
> **è§£é‡Šï¼š** æˆ‘ä»¬ç§»é™¤ä¸€äº›ç –å—æ¥å½¢æˆ heights = [5,3,3,1,1]ï¼Œå³°å€¼ä½äºä¸‹æ ‡ 0ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** maxHeights = [6,5,3,9,2,7]
> 
> **è¾“å‡ºï¼š** 22
> 
> **è§£é‡Šï¼š** æˆ‘ä»¬ç§»é™¤ä¸€äº›ç –å—æ¥å½¢æˆ heights = [3,3,3,9,2,2]ï¼Œå³°å€¼ä½äºä¸‹æ ‡ 3ã€‚

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** maxHeights = [3,2,5,5,2,3]
> 
> **è¾“å‡ºï¼š** 18
> 
> **è§£é‡Šï¼š** æˆ‘ä»¬ç§»é™¤ä¸€äº›ç –å—æ¥å½¢æˆ heights = [2,2,5,5,2,2]ï¼Œå³°å€¼ä½äºä¸‹æ ‡ 2 æˆ– 3ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= n == heights.length <= 10^3`
  * `1 <= heights[i] <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 941 | [æœ‰æ•ˆçš„å±±è„‰æ•°ç»„](https://leetcode.com/problems/valid-mountain-array) |  |  [`æ•°ç»„`](/tag/array.md) | <font color=#15bd66>Easy</font> |
| 1671 | [å¾—åˆ°å±±å½¢æ•°ç»„çš„æœ€å°‘åˆ é™¤æ¬¡æ•°](https://leetcode.com/problems/minimum-number-of-removals-to-make-mountain-array) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `1+` | <font color=#ff334b>Hard</font> |
| 2355 | [ä½ èƒ½æ‹¿èµ°çš„æœ€å¤§å›¾ä¹¦æ•°é‡](https://leetcode.com/problems/maximum-number-of-books-you-can-take) |  |  [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) `1+` | <font color=#ff334b>Hard</font> |