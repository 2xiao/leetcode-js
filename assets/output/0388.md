# [388. æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„](https://leetcode.com/problems/longest-absolute-file-path)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/longest-absolute-file-path)

## é¢˜ç›®

Suppose we have a file system that stores both files and directories. An
example of one system is represented in the following picture:

![](https://assets.leetcode.com/uploads/2020/08/28/mdir.jpg)

Here, we have `dir` as the only directory in the root. `dir` contains two
subdirectories, `subdir1` and `subdir2`. `subdir1` contains a file `file1.ext`
and subdirectory `subsubdir1`. `subdir2` contains a subdirectory `subsubdir2`,
which contains a file `file2.ext`.

In text form, it looks like this (with âŸ¶ representing the tab character):

> 
> 
> 
> 
> 
> dir
> 
> âŸ¶ subdir1
> 
> âŸ¶ âŸ¶ file1.ext
> 
> âŸ¶ âŸ¶ subsubdir1
> 
> âŸ¶ subdir2
> 
> âŸ¶ âŸ¶ subsubdir2
> 
> âŸ¶ âŸ¶ âŸ¶ file2.ext
> 
> 

If we were to write this representation in code, it will look like this:
`"dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext"`.
Note that the `'\n'` and `'\t'` are the new-line and tab characters.

Every file and directory has a unique **absolute path** in the file system,
which is the order of directories that must be opened to reach the
file/directory itself, all concatenated by `'/'s`. Using the above example,
the **absolute path** to `file2.ext` is `"dir/subdir2/subsubdir2/file2.ext"`.
Each directory name consists of letters, digits, and/or spaces. Each file name
is of the form `name.extension`, where `name` and `extension` consist of
letters, digits, and/or spaces.

Given a string `input` representing the file system in the explained format,
return _the length of the**longest absolute path** to a **file** in the
abstracted file system_. If there is no file in the system, return `0`.

**Note** that the testcases are generated such that the file system is valid
and no file or directory name has length 0.



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/08/28/dir1.jpg)

> Input: input = "dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext"
> 
> Output: 20
> 
> Explanation: We have only one file, and the absolute path is "dir/subdir2/file.ext" of length 20.

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/08/28/dir2.jpg)

> Input: input = "dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext"
> 
> Output: 32
> 
> Explanation: We have two files:
> 
> "dir/subdir1/file1.ext" of length 21
> 
> "dir/subdir2/subsubdir2/file2.ext" of length 32.
> 
> We return 32 since it is the longest absolute path to a file.

**Example 3:**

> Input: input = "a"
> 
> Output: 0
> 
> Explanation: We do not have any files, just a single directory named "a".

**Constraints:**

  * `1 <= input.length <= 10^4`
  * `input` may contain lowercase or uppercase English letters, a new line character `'\n'`, a tab character `'\t'`, a dot `'.'`, a space `' '`, and digits.
  * All file and directory names have **positive** length.


## é¢˜ç›®å¤§æ„

å‡è®¾æœ‰ä¸€ä¸ªåŒæ—¶å­˜å‚¨æ–‡ä»¶å’Œç›®å½•çš„æ–‡ä»¶ç³»ç»Ÿã€‚ä¸‹å›¾å±•ç¤ºäº†æ–‡ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªç¤ºä¾‹ï¼š

![](https://assets.leetcode.com/uploads/2020/08/28/mdir.jpg)

è¿™é‡Œå°† `dir` ä½œä¸ºæ ¹ç›®å½•ä¸­çš„å”¯ä¸€ç›®å½•ã€‚`dir` åŒ…å«ä¸¤ä¸ªå­ç›®å½• `subdir1` å’Œ `subdir2` ã€‚`subdir1` åŒ…å«æ–‡ä»¶
`file1.ext` å’Œå­ç›®å½• `subsubdir1`ï¼›`subdir2` åŒ…å«å­ç›®å½• `subsubdir2`ï¼Œè¯¥å­ç›®å½•ä¸‹åŒ…å«æ–‡ä»¶
`file2.ext` ã€‚

åœ¨æ–‡æœ¬æ ¼å¼ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤º(âŸ¶è¡¨ç¤ºåˆ¶è¡¨ç¬¦)ï¼š

> 
> 
> 
> 
> 
> dir
> 
> âŸ¶ subdir1
> 
> âŸ¶ âŸ¶ file1.ext
> 
> âŸ¶ âŸ¶ subsubdir1
> 
> âŸ¶ subdir2
> 
> âŸ¶ âŸ¶ subsubdir2
> 
> âŸ¶ âŸ¶ âŸ¶ file2.ext
> 
> 

å¦‚æœæ˜¯ä»£ç è¡¨ç¤ºï¼Œä¸Šé¢çš„æ–‡ä»¶ç³»ç»Ÿå¯ä»¥å†™ä¸º
`"dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext"`
ã€‚`'\n'` å’Œ `'\t'` åˆ†åˆ«æ˜¯æ¢è¡Œç¬¦å’Œåˆ¶è¡¨ç¬¦ã€‚

æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ¯ä¸ªæ–‡ä»¶å’Œæ–‡ä»¶å¤¹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ **ç»å¯¹è·¯å¾„** ï¼Œå³å¿…é¡»æ‰“å¼€æ‰èƒ½åˆ°è¾¾æ–‡ä»¶/ç›®å½•æ‰€åœ¨ä½ç½®çš„ç›®å½•é¡ºåºï¼Œæ‰€æœ‰è·¯å¾„ç”¨ `'/'`
è¿æ¥ã€‚ä¸Šé¢ä¾‹å­ä¸­ï¼ŒæŒ‡å‘ `file2.ext` çš„ **ç»å¯¹è·¯å¾„** æ˜¯ `"dir/subdir2/subsubdir2/file2.ext"`
ã€‚æ¯ä¸ªç›®å½•åç”±å­—æ¯ã€æ•°å­—å’Œ/æˆ–ç©ºæ ¼ç»„æˆï¼Œæ¯ä¸ªæ–‡ä»¶åéµå¾ª `name.extension` çš„æ ¼å¼ï¼Œå…¶ä¸­ `name` å’Œ
`extension`ç”±å­—æ¯ã€æ•°å­—å’Œ/æˆ–ç©ºæ ¼ç»„æˆã€‚

ç»™å®šä¸€ä¸ªä»¥ä¸Šè¿°æ ¼å¼è¡¨ç¤ºæ–‡ä»¶ç³»ç»Ÿçš„å­—ç¬¦ä¸² `input` ï¼Œè¿”å›æ–‡ä»¶ç³»ç»Ÿä¸­ _æŒ‡å‘  **æ–‡ä»¶**  çš„ **æœ€é•¿ç»å¯¹è·¯å¾„** çš„é•¿åº¦_ ã€‚
å¦‚æœç³»ç»Ÿä¸­æ²¡æœ‰æ–‡ä»¶ï¼Œè¿”å› `0`ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2020/08/28/dir1.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** input = "dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext"
> 
> **è¾“å‡ºï¼š** 20
> 
> **è§£é‡Šï¼š** åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œç»å¯¹è·¯å¾„ä¸º "dir/subdir2/file.ext" ï¼Œè·¯å¾„é•¿åº¦ 20
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2020/08/28/dir2.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** input = "dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext"
> 
> **è¾“å‡ºï¼š** 32
> 
> **è§£é‡Šï¼š** å­˜åœ¨ä¸¤ä¸ªæ–‡ä»¶ï¼š
> 
> "dir/subdir1/file1.ext" ï¼Œè·¯å¾„é•¿åº¦ 21
> 
> "dir/subdir2/subsubdir2/file2.ext" ï¼Œè·¯å¾„é•¿åº¦ 32
> 
> è¿”å› 32 ï¼Œå› ä¸ºè¿™æ˜¯æœ€é•¿çš„è·¯å¾„

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** input = "a"
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š** ä¸å­˜åœ¨ä»»ä½•æ–‡ä»¶

**ç¤ºä¾‹ 4ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** input = "file1.txt\nfile2.txt\nlongfile.txt"
> 
> **è¾“å‡ºï¼š** 12
> 
> **è§£é‡Šï¼š** æ ¹ç›®å½•ä¸‹æœ‰ 3 ä¸ªæ–‡ä»¶ã€‚
> 
> å› ä¸ºæ ¹ç›®å½•ä¸­ä»»ä½•ä¸œè¥¿çš„ç»å¯¹è·¯å¾„åªæ˜¯åç§°æœ¬èº«ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ "longfile.txt" ï¼Œè·¯å¾„é•¿åº¦ä¸º 12
> 
> 



**æç¤ºï¼š**

  * `1 <= input.length <= 10^4`
  * `input` å¯èƒ½åŒ…å«å°å†™æˆ–å¤§å†™çš„è‹±æ–‡å­—æ¯ï¼Œä¸€ä¸ªæ¢è¡Œç¬¦ `'\n'`ï¼Œä¸€ä¸ªåˆ¶è¡¨ç¬¦ `'\t'`ï¼Œä¸€ä¸ªç‚¹ `'.'`ï¼Œä¸€ä¸ªç©ºæ ¼ `' '`ï¼Œå’Œæ•°å­—ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```