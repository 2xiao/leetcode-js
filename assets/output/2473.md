# [2473. è´­ä¹°è‹¹æœçš„æœ€ä½æˆæœ¬ ğŸ”’](https://2xiao.github.io/leetcode-js/problem/2473.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å›¾`](/tag/graph.md) [`æ•°ç»„`](/tag/array.md) [`æœ€çŸ­è·¯`](/tag/shortest-path.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minimum-cost-to-buy-apples) [`LeetCode`](https://leetcode.com/problems/minimum-cost-to-buy-apples)

## é¢˜ç›®

You are given a positive integer `n` representing `n` cities numbered from `1`
to `n`. You are also given a **2D** array `roads`, where `roads[i] = [ai, bi,
costi]` indicates that there is a **bidirectional** road between cities `ai`
and `bi` with a cost of traveling equal to `costi`.

You can buy apples in **any** city you want, but some cities have different
costs to buy apples. You are given the 1-based array `appleCost` where
`appleCost[i]` is the cost of buying one apple from city `i`.

You start at some city, traverse through various roads, and eventually buy
**exactly** one apple from **any** city. After you buy that apple, you have to
return back to the city you **started** at, but now the cost of all the roads
will be **multiplied** by a given factor `k`.

Given the integer `k`, return _a 1-based array_`answer` _of size_`n`
_where_`answer[i]`_is the**minimum** total cost to buy an apple if you start
at city _`i`.



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2400-2499/2473.Minimum%20Cost%20to%20Buy%20Apples/images/graph55.png)

> Input: n = 4, roads = [[1,2,4],[2,3,2],[2,4,5],[3,4,1],[1,3,4]], appleCost = [56,42,102,301], k = 2
> 
> Output: [54,42,48,51]
> 
> Explanation: The minimum cost for each starting city is the following:
> - Starting at city 1: You take the path 1 -> 2, buy an apple at city 2, and finally take the path 2 -> 1. The total cost is 4 + 42 + 4 * 2 = 54.
> - Starting at city 2: You directly buy an apple at city 2. The total cost is 42.
> - Starting at city 3: You take the path 3 -> 2, buy an apple at city 2, and finally take the path 2 -> 3. The total cost is 2 + 42 + 2 * 2 = 48.
> - Starting at city 4: You take the path 4 -> 3 -> 2 then you buy at city 2, and finally take the path 2 -> 3 -> 4. The total cost is 1 + 2 + 42 + 1 * 2 + 2 * 2 = 51.

**Example 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2400-2499/2473.Minimum%20Cost%20to%20Buy%20Apples/images/graph4.png)

> Input: n = 3, roads = [[1,2,5],[2,3,1],[3,1,2]], appleCost = [2,3,1], k = 3
> 
> Output: [2,3,1]
> 
> Explanation: It is always optimal to buy the apple in the starting city.

**Constraints:**

  * `2 <= n <= 1000`
  * `1 <= roads.length <= 2000`
  * `1 <= ai, bi <= n`
  * `ai != bi`
  * `1 <= costi <= 10^5`
  * `appleCost.length == n`
  * `1 <= appleCost[i] <= 10^5`
  * `1 <= k <= 100`
  * There are no repeated edges.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°  `n`ï¼Œè¡¨ç¤ºä» `1` åˆ° `n` çš„ `n` ä¸ªåŸå¸‚ã€‚è¿˜ç»™ä½ ä¸€ä¸ª **äºŒç»´  **æ•°ç»„ `roads`ï¼Œå…¶ä¸­ `roads[i] =
[ai, bi, costi]` è¡¨ç¤ºåœ¨åŸå¸‚ `ai` å’Œ `bi` ä¹‹é—´æœ‰ä¸€æ¡åŒå‘é“è·¯ï¼Œå…¶æ—…è¡Œæˆæœ¬ç­‰äº `costi`ã€‚



ä½ å¯ä»¥åœ¨ **ä»»ä½•  **åŸå¸‚ä¹°åˆ°è‹¹æœï¼Œä½†æ˜¯æœ‰äº›åŸå¸‚ä¹°è‹¹æœçš„è´¹ç”¨ä¸åŒã€‚ç»™å®šæ•°ç»„ `appleCost` ï¼Œå…¶ä¸­ `appleCost[i]` æ˜¯ä»åŸå¸‚
`i` è´­ä¹°ä¸€ä¸ªè‹¹æœçš„æˆæœ¬ã€‚

ä½ ä»æŸä¸ªåŸå¸‚å¼€å§‹ï¼Œç©¿è¶Šå„ç§é“è·¯ï¼Œæœ€ç»ˆä» **ä»»ä½•ä¸€ä¸ª  **åŸå¸‚ä¹° **ä¸€ä¸ª  **è‹¹æœã€‚åœ¨ä½ ä¹°äº†é‚£ä¸ªè‹¹æœä¹‹åï¼Œä½ å¿…é¡»å›åˆ°ä½  **å¼€å§‹çš„
**åŸå¸‚ï¼Œä½†ç°åœ¨æ‰€æœ‰é“è·¯çš„æˆæœ¬å°† **ä¹˜ä»¥  **ä¸€ä¸ªç»™å®šçš„å› å­ `k`ã€‚

ç»™å®šæ•´æ•° `k`ï¼Œè¿”å› _ä¸€ä¸ªå¤§å°ä¸º`n` çš„ä» 1 å¼€å§‹çš„æ•°ç»„ `answer`ï¼Œå…¶ä¸­ `answer[i]` æ˜¯ä»åŸå¸‚ `i` å¼€å§‹è´­ä¹°ä¸€ä¸ªè‹¹æœçš„
**æœ€å°  **æ€»æˆæœ¬ã€‚_



**ç¤ºä¾‹ 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2400-2499/2473.Minimum%20Cost%20to%20Buy%20Apples/images/graph55.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** n = 4, roads = [[1,2,4],[2,3,2],[2,4,5],[3,4,1],[1,3,4]], appleCost = [56,42,102,301], k = 2
> 
> **è¾“å‡º:** [54,42,48,51]
> 
> **è§£é‡Š:** æ¯ä¸ªèµ·å§‹åŸå¸‚çš„æœ€ä½è´¹ç”¨å¦‚ä¸‹:
> - ä»åŸå¸‚ 1 å¼€å§‹:ä½ èµ°è·¯å¾„ 1 -> 2ï¼Œåœ¨åŸå¸‚ 2 ä¹°ä¸€ä¸ªè‹¹æœï¼Œæœ€åèµ°è·¯å¾„ 2 -> 1ã€‚æ€»æˆæœ¬æ˜¯ 4 + 42 + 4 * 2 = 54ã€‚
> - ä»åŸå¸‚ 2 å¼€å§‹:ä½ ç›´æ¥åœ¨åŸå¸‚ 2 ä¹°ä¸€ä¸ªè‹¹æœã€‚æ€»è´¹ç”¨æ˜¯ 42ã€‚
> - ä»åŸå¸‚ 3 å¼€å§‹:ä½ èµ°è·¯å¾„ 3 -> 2ï¼Œåœ¨åŸå¸‚ 2 ä¹°ä¸€ä¸ªè‹¹æœï¼Œæœ€åèµ°è·¯å¾„ 2 -> 3ã€‚æ€»æˆæœ¬æ˜¯ 2 + 42 + 2 * 2 = 48ã€‚
> - ä»åŸå¸‚ 4 å¼€å§‹:ä½ èµ°è·¯å¾„ 4 -> 3 -> 2ï¼Œç„¶åä½ åœ¨åŸå¸‚ 2 è´­ä¹°ï¼Œæœ€åèµ°è·¯å¾„ 2 -> 3 -> 4ã€‚æ€»æˆæœ¬æ˜¯ 1 + 2 + 42 + 1 * 2 + 2 * 2 = 51ã€‚
> 
> 

**ç¤ºä¾‹ 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2400-2499/2473.Minimum%20Cost%20to%20Buy%20Apples/images/graph4.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** n = 3, roads = [[1,2,5],[2,3,1],[3,1,2]], appleCost = [2,3,1], k = 3
> 
> **è¾“å‡º:** [2,3,1]
> 
> **è§£é‡Š:** åœ¨èµ·å§‹åŸå¸‚ä¹°è‹¹æœæ€»æ˜¯æœ€ä¼˜çš„ã€‚



**æç¤º:**

  * `2 <= n <= 1000`
  * `1 <= roads.length <= 1000`
  * `1 <= ai, bi <= n`
  * `ai != bi`
  * `1 <= costi <= 10^5`
  * `appleCost.length == n`
  * `1 <= appleCost[i] <= 10^5`
  * `1 <= k <= 100`
  * æ²¡æœ‰é‡å¤çš„è¾¹ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```