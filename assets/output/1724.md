---
title: 1724. æ£€æŸ¥è¾¹é•¿åº¦é™åˆ¶çš„è·¯å¾„æ˜¯å¦å­˜åœ¨ II ğŸ”’
description: LeetCode,1724. æ£€æŸ¥è¾¹é•¿åº¦é™åˆ¶çš„è·¯å¾„æ˜¯å¦å­˜åœ¨ II ğŸ”’,æ£€æŸ¥è¾¹é•¿åº¦é™åˆ¶çš„è·¯å¾„æ˜¯å¦å­˜åœ¨ II,Checking Existence of Edge Length Limited Paths II,è§£é¢˜æ€è·¯,å¹¶æŸ¥é›†,å›¾,æœ€å°ç”Ÿæˆæ ‘
keywords:
  - LeetCode
  - 1724. æ£€æŸ¥è¾¹é•¿åº¦é™åˆ¶çš„è·¯å¾„æ˜¯å¦å­˜åœ¨ II ğŸ”’
  - æ£€æŸ¥è¾¹é•¿åº¦é™åˆ¶çš„è·¯å¾„æ˜¯å¦å­˜åœ¨ II
  - Checking Existence of Edge Length Limited Paths II
  - è§£é¢˜æ€è·¯
  - å¹¶æŸ¥é›†
  - å›¾
  - æœ€å°ç”Ÿæˆæ ‘
---

# 1724. æ£€æŸ¥è¾¹é•¿åº¦é™åˆ¶çš„è·¯å¾„æ˜¯å¦å­˜åœ¨ II ğŸ”’

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`å›¾`](/tag/graph.md) [`æœ€å°ç”Ÿæˆæ ‘`](/tag/minimum-spanning-tree.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/checking-existence-of-edge-length-limited-paths-ii) [`LeetCode`](https://leetcode.com/problems/checking-existence-of-edge-length-limited-paths-ii)

## é¢˜ç›®

An undirected graph of `n` nodes is defined by `edgeList`, where `edgeList[i]
= [ui, vi, disi]` denotes an edge between nodes `ui` and `vi` with distance
`disi`. Note that there may be **multiple** edges between two nodes, and the
graph may not be connected.

Implement the `DistanceLimitedPathsExist` class:

  * `DistanceLimitedPathsExist(int n, int[][] edgeList)` Initializes the class with an undirected graph.
  * `boolean query(int p, int q, int limit)` Returns `true` if there exists a path from `p` to `q` such that each edge on the path has a distance **strictly less than** `limit`, and otherwise `false`.



**Example 1:**

**![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1700-1799/1724.Checking%20Existence%20of%20Edge%20Length%20Limited%20Paths%20II/images/messed.png)**

> 
> 
> 
> 
> 
> **Input**
> 
> ["DistanceLimitedPathsExist", "query", "query", "query", "query"]
> 
> [[6, [[0, 2, 4], [0, 3, 2], [1, 2, 3], [2, 3, 1], [4, 5, 5]]], [2, 3, 2], [1, 3, 3], [2, 0, 3], [0, 5, 6]]
> 
> **Output**
> 
> [null, true, false, true, false]
> 
> 
> 
> **Explanation**
> 
> DistanceLimitedPathsExist distanceLimitedPathsExist = new DistanceLimitedPathsExist(6, [[0, 2, 4], [0, 3, 2], [1, 2, 3], [2, 3, 1], [4, 5, 5]]);
> 
> distanceLimitedPathsExist.query(2, 3, 2); // return true. There is an edge from 2 to 3 of distance 1, which is less than 2.
> 
> distanceLimitedPathsExist.query(1, 3, 3); // return false. There is no way to go from 1 to 3 with distances **strictly** less than 3.
> 
> distanceLimitedPathsExist.query(2, 0, 3); // return true. There is a way to go from 2 to 0 with distance < 3: travel from 2 to 3 to 0.
> 
> distanceLimitedPathsExist.query(0, 5, 6); // return false. There are no paths from 0 to 5.
> 
> 



`**Constraints:**`

  * `2 <= n <= 10^4`
  * `0 <= edgeList.length <= 10^4`
  * `edgeList[i].length == 3`
  * `0 <= ui, vi, p, q <= n-1`
  * `ui != vi`
  * `p != q`
  * `1 <= disi, limit <= 10^9`
  * At most `10^4` calls will be made to `query`.


## é¢˜ç›®å¤§æ„

ä¸€å¼ æœ‰ `n` ä¸ªèŠ‚ç‚¹çš„æ— å‘å›¾ä»¥è¾¹çš„åˆ—è¡¨ `edgeList` çš„å½¢å¼å®šä¹‰ï¼Œå…¶ä¸­ `edgeList[i] = [ui, vi, disi]` è¡¨ç¤ºä¸€æ¡è¿æ¥
`ui` å’Œ `vi` ï¼Œè·ç¦»ä¸º `disi` çš„è¾¹ã€‚æ³¨æ„ï¼ŒåŒä¸€å¯¹èŠ‚ç‚¹é—´å¯èƒ½æœ‰**å¤šæ¡** è¾¹ï¼Œä¸”è¯¥å›¾å¯èƒ½ä¸æ˜¯è¿é€šçš„ã€‚

å®ç° `DistanceLimitedPathsExist` ç±»ï¼š

  * `DistanceLimitedPathsExist(int n, int[][] edgeList)` ä»¥ç»™å®šçš„æ— å‘å›¾åˆå§‹åŒ–å¯¹è±¡ã€‚
  * `boolean query(int p, int q, int limit)` å½“å­˜åœ¨ä¸€æ¡ä» `p` åˆ° `q` çš„è·¯å¾„ï¼Œä¸”è·¯å¾„ä¸­æ¯æ¡è¾¹çš„è·ç¦»éƒ½**ä¸¥æ ¼å°äº** `limit` æ—¶ï¼Œè¿”å› `true` ï¼Œå¦åˆ™è¿”å› `false` ã€‚



**ç¤ºä¾‹ 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1700-1799/1724.Checking%20Existence%20of%20Edge%20Length%20Limited%20Paths%20II/images/1693449815-oSOAxI-%E6%88%AA%E5%B1%8F2023-08-31%2010.43.30.png\){:width=400})![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1700-1799/1724.Checking%20Existence%20of%20Edge%20Length%20Limited%20Paths%20II/images/1693449815-oSOAxI-%E6%88%AA%E5%B1%8F2023-08-31%2010.43.30.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> ["DistanceLimitedPathsExist", "query", "query", "query", "query"]
> 
> [[6, [[0, 2, 4], [0, 3, 2], [1, 2, 3], [2, 3, 1], [4, 5, 5]]], [2, 3, 2], [1, 3, 3], [2, 0, 3], [0, 5, 6]]
> 
> **è¾“å‡ºï¼š**
> 
> [null, true, false, true, false]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> DistanceLimitedPathsExist distanceLimitedPathsExist = new DistanceLimitedPathsExist(6, [[0, 2, 4], [0, 3, 2], [1, 2, 3], [2, 3, 1], [4, 5, 5]]);
> 
> distanceLimitedPathsExist.query(2, 3, 2); // è¿”å› trueã€‚å­˜åœ¨ä¸€æ¡ä» 2 åˆ° 3 ï¼Œè·ç¦»ä¸º 1 çš„è¾¹ï¼Œ
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
>   // è¿™æ¡è¾¹çš„è·ç¦»å°äº 2ã€‚
> 
> distanceLimitedPathsExist.query(1, 3, 3); // è¿”å› falseã€‚ä» 1 åˆ° 3 ä¹‹é—´ä¸å­˜åœ¨æ¯æ¡è¾¹çš„è·ç¦»éƒ½
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
>   // **ä¸¥æ ¼** å°äº 3 çš„è·¯å¾„ã€‚
> 
> distanceLimitedPathsExist.query(2, 0, 3); // è¿”å› trueã€‚å­˜åœ¨ä¸€æ¡ä» 2 åˆ° 0 çš„è·¯å¾„ï¼Œä½¿å¾—æ¯æ¡è¾¹çš„
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
>   // è·ç¦» < 3ï¼šä» 2 åˆ° 3 åˆ° 0 è¡Œè¿›å³å¯ã€‚
> 
> distanceLimitedPathsExist.query(0, 5, 6); // è¿”å› falseã€‚ä» 0 åˆ° 5 ä¹‹é—´ä¸å­˜åœ¨è·¯å¾„ã€‚
> 
> 



**æç¤ºï¼š**

  * `2 <= n <= 10^4`
  * `0 <= edgeList.length <= 10^4`
  * `edgeList[i].length == 3`
  * `0 <= ui, vi, p, q <= n-1`
  * `ui != vi`
  * `p != q`
  * `1 <= disi, limit <= 10^9`
  * æœ€å¤šè°ƒç”¨ `10^4` æ¬¡ `query` ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 1697 | æ£€æŸ¥è¾¹é•¿åº¦é™åˆ¶çš„è·¯å¾„æ˜¯å¦å­˜åœ¨ |  |  [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`å›¾`](/tag/graph.md) [`æ•°ç»„`](/tag/array.md) `2+` | <font color=#ff334b>Hard</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/checking-existence-of-edge-length-limited-paths) [ğŸ”—](https://leetcode.com/problems/checking-existence-of-edge-length-limited-paths) |
| 2421 | å¥½è·¯å¾„çš„æ•°ç›® |  |  [`æ ‘`](/tag/tree.md) [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`å›¾`](/tag/graph.md) `3+` | <font color=#ff334b>Hard</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/number-of-good-paths) [ğŸ”—](https://leetcode.com/problems/number-of-good-paths) |
| 2492 | ä¸¤ä¸ªåŸå¸‚é—´è·¯å¾„çš„æœ€å°åˆ†æ•° |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/tag/union-find.md) `1+` | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-score-of-a-path-between-two-cities) [ğŸ”—](https://leetcode.com/problems/minimum-score-of-a-path-between-two-cities) |