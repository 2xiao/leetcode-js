---
title: 1676. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ IV ğŸ”’
description: LeetCode,1676. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ IV ğŸ”’,äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ IV,Lowest Common Ancestor of a Binary Tree IV,è§£é¢˜æ€è·¯,æ ‘,æ·±åº¦ä¼˜å…ˆæœç´¢,å“ˆå¸Œè¡¨,äºŒå‰æ ‘
keywords:
  - LeetCode
  - 1676. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ IV ğŸ”’
  - äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ IV
  - Lowest Common Ancestor of a Binary Tree IV
  - è§£é¢˜æ€è·¯
  - æ ‘
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å“ˆå¸Œè¡¨
  - äºŒå‰æ ‘
---

# 1676. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ IV ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree-iv) [`LeetCode`](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree-iv)

## é¢˜ç›®

Given the `root` of a binary tree and an array of `TreeNode` objects `nodes`,
return _the lowest common ancestor (LCA) of**all the nodes** in _`nodes`. All
the nodes will exist in the tree, and all values of the tree's nodes are
**unique**.

Extending the **[definition of LCA on
Wikipedia](https://en.wikipedia.org/wiki/Lowest_common_ancestor)** : "The
lowest common ancestor of `n` nodes `p1`, `p2`, ..., `pn` in a binary tree `T`
is the lowest node that has every `pi` as a **descendant** (where we allow **a
node to be a descendant of itself**) for every valid `i`". A **descendant** of
a node `x` is a node `y` that is on the path from node `x` to some leaf node.



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1600-1699/1676.Lowest%20Common%20Ancestor%20of%20a%20Binary%20Tree%20IV/images/binarytree.png)

> Input: root = [3,5,1,6,2,0,8,null,null,7,4], nodes = [4,7]
> 
> Output: 2
> 
> Explanation: The lowest common ancestor of nodes 4 and 7 is node 2.

**Example 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1600-1699/1676.Lowest%20Common%20Ancestor%20of%20a%20Binary%20Tree%20IV/images/binarytree.png)

> Input: root = [3,5,1,6,2,0,8,null,null,7,4], nodes = [1]
> 
> Output: 1
> 
> Explanation: The lowest common ancestor of a single node is the node itself.
> 
> 

**Example 3:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1600-1699/1676.Lowest%20Common%20Ancestor%20of%20a%20Binary%20Tree%20IV/images/binarytree.png)

> Input: root = [3,5,1,6,2,0,8,null,null,7,4], nodes = [7,6,2,4]
> 
> Output: 5
> 
> Explanation: The lowest common ancestor of the nodes 7, 6, 2, and 4 is node 5.

**Constraints:**

  * The number of nodes in the tree is in the range `[1, 104]`.
  * `-10^9 <= Node.val <= 10^9`
  * All `Node.val` are **unique**.
  * All `nodes[i]` will exist in the tree.
  * All `nodes[i]` are distinct.


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root` å’Œ `TreeNode` ç±»å¯¹è±¡çš„æ•°ç»„ï¼ˆåˆ—è¡¨ï¼‰ `nodes`ï¼Œè¿”å› __`nodes`
ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰ã€‚æ•°ç»„ï¼ˆåˆ—è¡¨ï¼‰ä¸­æ‰€æœ‰èŠ‚ç‚¹éƒ½å­˜åœ¨äºè¯¥äºŒå‰æ ‘ä¸­ï¼Œä¸”äºŒå‰æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯äº’ä¸ç›¸åŒçš„ã€‚

æˆ‘ä»¬æ‰©å±•[äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹åœ¨ç»´åŸºç™¾ç§‘ä¸Šçš„å®šä¹‰](https://en.wikipedia.org/wiki/Lowest_common_ancestor)ï¼šâ€œå¯¹äºä»»æ„åˆç†çš„
`i` å€¼ï¼Œ `n` ä¸ªèŠ‚ç‚¹ `p1` ã€ `p2`ã€...ã€ `pn` åœ¨äºŒå‰æ ‘ `T` ä¸­çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹æ˜¯**åä»£** ä¸­åŒ…å«æ‰€æœ‰èŠ‚ç‚¹ `pi`
çš„æœ€æ·±èŠ‚ç‚¹ï¼ˆæˆ‘ä»¬å…è®¸ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å…¶è‡ªèº«çš„åä»£ï¼‰â€ã€‚ä¸€ä¸ªèŠ‚ç‚¹ `x` çš„åä»£èŠ‚ç‚¹æ˜¯èŠ‚ç‚¹ `x` åˆ°æŸä¸€å¶èŠ‚ç‚¹é—´çš„è·¯å¾„ä¸­çš„èŠ‚ç‚¹ `y`ã€‚

**ç¤ºä¾‹ 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1600-1699/1676.Lowest%20Common%20Ancestor%20of%20a%20Binary%20Tree%20IV/images/binarytree.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** root = [3,5,1,6,2,0,8,null,null,7,4], nodes = [4,7]
> 
> **è¾“å‡º:** 2
> 
> **è§£é‡Š:**Â èŠ‚ç‚¹ 4 å’Œ 7 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ 2ã€‚
> 
> 

**ç¤ºä¾‹ 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1600-1699/1676.Lowest%20Common%20Ancestor%20of%20a%20Binary%20Tree%20IV/images/binarytree.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** root = [3,5,1,6,2,0,8,null,null,7,4], nodes = [1]
> 
> **è¾“å‡º:** 1
> 
> **è§£é‡Š:**Â å•ä¸ªèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯è¯¥èŠ‚ç‚¹æœ¬èº«ã€‚
> 
> 
> 
> 

**ç¤ºä¾‹ 3:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1600-1699/1676.Lowest%20Common%20Ancestor%20of%20a%20Binary%20Tree%20IV/images/binarytree.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** root = [3,5,1,6,2,0,8,null,null,7,4], nodes = [7,6,2,4]
> 
> **è¾“å‡º:** 5
> 
> **è§£é‡Š:**Â èŠ‚ç‚¹ 7ã€6ã€2 å’Œ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹æ˜¯ 5ã€‚
> 
> 

**ç¤ºä¾‹ 4:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1600-1699/1676.Lowest%20Common%20Ancestor%20of%20a%20Binary%20Tree%20IV/images/binarytree.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** root = [3,5,1,6,2,0,8,null,null,7,4], nodes = [0,1,2,3,4,5,6,7,8]
> 
> **è¾“å‡º:** 3
> 
> **è§£é‡Š:**Â æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯æ ¹èŠ‚ç‚¹ã€‚
> 
> 

**æç¤º:**

  * æ ‘ä¸­èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ `[1, 104]` ã€‚
  * `-10^9 <= Node.val <= 10^9`
  * æ‰€æœ‰çš„ `Node.val` éƒ½æ˜¯**äº’ä¸ç›¸åŒ** çš„ã€‚
  * æ‰€æœ‰çš„ `nodes[i]` éƒ½å­˜åœ¨äºè¯¥æ ‘ä¸­ã€‚
  * æ‰€æœ‰çš„ `nodes[i]` éƒ½æ˜¯äº’ä¸ç›¸åŒçš„ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 235 | äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ | [[âœ“]](/problem/0235.md) |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æœç´¢æ ‘`](/tag/binary-search-tree.md) `1+` | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree) [ğŸ”—](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-search-tree) |
| 236 | äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ | [[âœ“]](/problem/0236.md) |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md) | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree) [ğŸ”—](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree) |
| 1123 | æœ€æ·±å¶èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ |  |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) `2+` | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/lowest-common-ancestor-of-deepest-leaves) [ğŸ”—](https://leetcode.com/problems/lowest-common-ancestor-of-deepest-leaves) |
| 1644 | äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ II ğŸ”’ |  |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md) | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree-ii) [ğŸ”—](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree-ii) |
| 1650 | äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ III ğŸ”’ |  |  [`æ ‘`](/tag/tree.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) `1+` | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree-iii) [ğŸ”—](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree-iii) |
| 1676 | äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ IV ğŸ”’ |  |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `1+` | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree-iv) [ğŸ”—](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree-iv) |