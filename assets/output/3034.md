# [3034. åŒ¹é…æ¨¡å¼æ•°ç»„çš„å­æ•°ç»„æ•°ç›® I](https://leetcode.com/problems/number-of-subarrays-that-match-a-pattern-i)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å­—ç¬¦ä¸²åŒ¹é…`](/leetcode/outline/tag/string-matching.md) [`å“ˆå¸Œå‡½æ•°`](/leetcode/outline/tag/hash-function.md) [`æ»šåŠ¨å“ˆå¸Œ`](/leetcode/outline/tag/rolling-hash.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/number-of-subarrays-that-match-a-pattern-i)


## é¢˜ç›®

You are given a **0-indexed** integer array `nums` of size `n`, and a
**0-indexed** integer array `pattern` of size `m` consisting of integers `-1`,
`0`, and `1`.

A subarray `nums[i..j]` of size `m + 1` is said to match the `pattern` if the
following conditions hold for each element `pattern[k]`:

  * `nums[i + k + 1] > nums[i + k]` if `pattern[k] == 1`.
  * `nums[i + k + 1] == nums[i + k]` if `pattern[k] == 0`.
  * `nums[i + k + 1] < nums[i + k]` if `pattern[k] == -1`.

Return _the**count** of subarrays in_ `nums` _that match the_ `pattern`.



**Example 1:**

> Input: nums = [1,2,3,4,5,6], pattern = [1,1]
> 
> Output: 4
> 
> Explanation: The pattern [1,1] indicates that we are looking for strictly increasing subarrays of size 3. In the array nums, the subarrays [1,2,3], [2,3,4], [3,4,5], and [4,5,6] match this pattern.
> 
> Hence, there are 4 subarrays in nums that match the pattern.

**Example 2:**

> Input: nums = [1,4,4,1,3,5,5,3], pattern = [1,0,-1]
> 
> Output: 2
> 
> Explanation: Here, the pattern [1,0,-1] indicates that we are looking for a sequence where the first number is smaller than the second, the second is equal to the third, and the third is greater than the fourth. In the array nums, the subarrays [1,4,4,1], and [3,5,5,3] match this pattern.
> 
> Hence, there are 2 subarrays in nums that match the pattern.

**Constraints:**

  * `2 <= n == nums.length <= 100`
  * `1 <= nums[i] <= 10^9`
  * `1 <= m == pattern.length < n`
  * `-1 <= pattern[i] <= 1`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹é•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` ï¼Œå’Œä¸€ä¸ªä¸‹æ ‡ä» `0` å¼€å§‹é•¿åº¦ä¸º `m` çš„æ•´æ•°æ•°ç»„ `pattern`
ï¼Œ`pattern` æ•°ç»„åªåŒ…å«æ•´æ•° `-1` ï¼Œ`0` å’Œ `1` ã€‚

å¤§å°ä¸º `m + 1` çš„å­æ•°ç»„ `nums[i..j]` å¦‚æœå¯¹äºæ¯ä¸ªå…ƒç´  `pattern[k]` éƒ½æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯´è¿™ä¸ªå­æ•°ç»„åŒ¹é…æ¨¡å¼æ•°ç»„
`pattern` ï¼š

  * å¦‚æœ `pattern[k] == 1` ï¼Œé‚£ä¹ˆ `nums[i + k + 1] > nums[i + k]`
  * å¦‚æœ `pattern[k] == 0` ï¼Œé‚£ä¹ˆ `nums[i + k + 1] == nums[i + k]`
  * å¦‚æœ `pattern[k] == -1` ï¼Œé‚£ä¹ˆ `nums[i + k + 1] < nums[i + k]`

è¯·ä½ è¿”å›åŒ¹é… `pattern` çš„ `nums` å­æ•°ç»„çš„ **æ•°ç›®**  ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,3,4,5,6], pattern = [1,1]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** æ¨¡å¼ [1,1] è¯´æ˜æˆ‘ä»¬è¦æ‰¾çš„å­æ•°ç»„æ˜¯é•¿åº¦ä¸º 3 ä¸”ä¸¥æ ¼ä¸Šå‡çš„ã€‚åœ¨æ•°ç»„ nums ä¸­ï¼Œå­æ•°ç»„ [1,2,3] ï¼Œ[2,3,4] ï¼Œ[3,4,5] å’Œ [4,5,6] éƒ½åŒ¹é…è¿™ä¸ªæ¨¡å¼ã€‚
> 
> æ‰€ä»¥ nums ä¸­æ€»å…±æœ‰ 4 ä¸ªå­æ•°ç»„åŒ¹é…è¿™ä¸ªæ¨¡å¼ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,4,4,1,3,5,5,3], pattern = [1,0,-1]
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š** è¿™é‡Œï¼Œæ¨¡å¼æ•°ç»„ [1,0,-1] è¯´æ˜æˆ‘ä»¬éœ€è¦æ‰¾çš„å­æ•°ç»„ä¸­ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ å°äºç¬¬äºŒä¸ªå…ƒç´ ï¼Œç¬¬äºŒä¸ªå…ƒç´ ç­‰äºç¬¬ä¸‰ä¸ªå…ƒç´ ï¼Œç¬¬ä¸‰ä¸ªå…ƒç´ å¤§äºç¬¬å››ä¸ªå…ƒç´ ã€‚åœ¨ nums ä¸­ï¼Œå­æ•°ç»„ [1,4,4,1] å’Œ [3,5,5,3] éƒ½åŒ¹é…è¿™ä¸ªæ¨¡å¼ã€‚
> 
> æ‰€ä»¥ nums ä¸­æ€»å…±æœ‰ 2 ä¸ªå­æ•°ç»„åŒ¹é…è¿™ä¸ªæ¨¡å¼ã€‚
> 
> 



**æç¤ºï¼š**

  * `2 <= n == nums.length <= 100`
  * `1 <= nums[i] <= 10^9`
  * `1 <= m == pattern.length < n`
  * `-1 <= pattern[i] <= 1`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2970 | [ç»Ÿè®¡ç§»é™¤é€’å¢å­æ•°ç»„çš„æ•°ç›® I](https://leetcode.com/problems/count-the-number-of-incremovable-subarrays-i) |  |  [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŒæŒ‡é’ˆ`](/leetcode/outline/tag/two-pointers.md) [`äºŒåˆ†æŸ¥æ‰¾`](/leetcode/outline/tag/binary-search.md) `1+` | <font color=#15bd66>Easy</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
