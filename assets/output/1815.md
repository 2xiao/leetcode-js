# [1815. å¾—åˆ°æ–°é²œç”œç”œåœˆçš„æœ€å¤šç»„æ•°](https://2xiao.github.io/leetcode-js/problem/1815.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`è®°å¿†åŒ–æœç´¢`](/tag/memoization.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`çŠ¶æ€å‹ç¼©`](/tag/bitmask.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-number-of-groups-getting-fresh-donuts) [`LeetCode`](https://leetcode.com/problems/maximum-number-of-groups-getting-fresh-donuts)

## é¢˜ç›®

There is a donuts shop that bakes donuts in batches of `batchSize`. They have
a rule where they must serve **all** of the donuts of a batch before serving
any donuts of the next batch. You are given an integer `batchSize` and an
integer array `groups`, where `groups[i]` denotes that there is a group of
`groups[i]` customers that will visit the shop. Each customer will get exactly
one donut.

When a group visits the shop, all customers of the group must be served before
serving any of the following groups. A group will be happy if they all get
fresh donuts. That is, the first customer of the group does not receive a
donut that was left over from the previous group.

You can freely rearrange the ordering of the groups. Return _the**maximum**
possible number of happy groups after rearranging the groups._



**Example 1:**

> Input: batchSize = 3, groups = [1,2,3,4,5,6]
> 
> Output: 4
> 
> Explanation: You can arrange the groups as [6,2,4,5,1,3]. Then the 1st, 2nd, 4th, and 6th groups will be happy.

**Example 2:**

> Input: batchSize = 4, groups = [1,3,2,5,2,2,1,6]
> 
> Output: 4

**Constraints:**

  * `1 <= batchSize <= 9`
  * `1 <= groups.length <= 30`
  * `1 <= groups[i] <= 10^9`


## é¢˜ç›®å¤§æ„

æœ‰ä¸€ä¸ªç”œç”œåœˆå•†åº—ï¼Œæ¯æ‰¹æ¬¡éƒ½çƒ¤ `batchSize` ä¸ªç”œç”œåœˆã€‚è¿™ä¸ªåº—é“ºæœ‰ä¸ªè§„åˆ™ï¼Œå°±æ˜¯åœ¨çƒ¤ä¸€æ‰¹æ–°çš„ç”œç”œåœˆæ—¶ï¼Œä¹‹å‰ **æ‰€æœ‰**
ç”œç”œåœˆéƒ½å¿…é¡»å·²ç»å…¨éƒ¨é”€å”®å®Œæ¯•ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•° `batchSize` å’Œä¸€ä¸ªæ•´æ•°æ•°ç»„ `groups` ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªæ•´æ•°éƒ½ä»£è¡¨ä¸€æ‰¹å‰æ¥è´­ä¹°ç”œç”œåœˆçš„é¡¾å®¢ï¼Œå…¶ä¸­
`groups[i]` è¡¨ç¤ºè¿™ä¸€æ‰¹é¡¾å®¢çš„äººæ•°ã€‚æ¯ä¸€ä½é¡¾å®¢éƒ½æ°å¥½åªè¦ä¸€ä¸ªç”œç”œåœˆã€‚

å½“æœ‰ä¸€æ‰¹é¡¾å®¢æ¥åˆ°å•†åº—æ—¶ï¼Œä»–ä»¬æ‰€æœ‰äººéƒ½å¿…é¡»åœ¨ä¸‹ä¸€æ‰¹é¡¾å®¢æ¥ä¹‹å‰è´­ä¹°å®Œç”œç”œåœˆã€‚å¦‚æœä¸€æ‰¹é¡¾å®¢ä¸­ç¬¬ä¸€ä½é¡¾å®¢å¾—åˆ°çš„ç”œç”œåœˆä¸æ˜¯ä¸Šä¸€ç»„å‰©ä¸‹çš„ï¼Œé‚£ä¹ˆè¿™ä¸€ç»„äººéƒ½ä¼šå¾ˆå¼€å¿ƒã€‚

ä½ å¯ä»¥éšæ„å®‰æ’æ¯æ‰¹é¡¾å®¢åˆ°æ¥çš„é¡ºåºã€‚è¯·ä½ è¿”å›åœ¨æ­¤å‰æä¸‹ï¼Œ**æœ€å¤š** æœ‰å¤šå°‘ç»„äººä¼šæ„Ÿåˆ°å¼€å¿ƒã€‚

**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** batchSize = 3, groups = [1,2,3,4,5,6]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** ä½ å¯ä»¥å°†è¿™äº›æ‰¹æ¬¡çš„é¡¾å®¢é¡ºåºå®‰æ’ä¸º [6,2,4,5,1,3] ã€‚é‚£ä¹ˆç¬¬ 1ï¼Œ2ï¼Œ4ï¼Œ6 ç»„éƒ½ä¼šæ„Ÿåˆ°å¼€å¿ƒã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** batchSize = 4, groups = [1,3,2,5,2,2,1,6]
> 
> **è¾“å‡ºï¼š** 4
> 
> 

**æç¤ºï¼š**

  * `1 <= batchSize <= 9`
  * `1 <= groups.length <= 30`
  * `1 <= groups[i] <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```