# [1386. å®‰æ’ç”µå½±é™¢åº§ä½](https://leetcode.com/problems/cinema-seat-allocation)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/leetcode/outline/tag/greedy.md) [`ä½è¿ç®—`](/leetcode/outline/tag/bit-manipulation.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/cinema-seat-allocation)


## é¢˜ç›®

![](https://assets.leetcode.com/uploads/2020/02/14/cinema_seats_1.png)

A cinema has `n` rows of seats, numbered from 1 to `n` and there are ten seats
in each row, labelled from 1 to 10 as shown in the figure above.

Given the array `reservedSeats` containing the numbers of seats already
reserved, for example, `reservedSeats[i] = [3,8]` means the seat located in
row **3** and labelled with **8**  is already reserved.

_Return the maximum number of four-person groups  you can assign on the cinema
seats._ A four-person group occupies four adjacent seats **in one single
row**. Seats across an aisle (such as [3,3] and [3,4]) are not considered to
be adjacent, but there is an exceptional case on which an aisle split a four-
person group, in that case, the aisle split a four-person group in the middle,
which means to have two people on each side.



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/02/14/cinema_seats_3.png)

> Input: n = 3, reservedSeats = [[1,2],[1,3],[1,8],[2,6],[3,1],[3,10]]
> 
> Output: 4
> 
> Explanation: The figure above shows the optimal allocation for four groups, where seats mark with blue are already reserved and contiguous seats mark with orange are for one group.

**Example 2:**

> Input: n = 2, reservedSeats = [[2,1],[1,8],[2,6]]
> 
> Output: 2

**Example 3:**

> Input: n = 4, reservedSeats = [[4,3],[1,4],[4,6],[1,7]]
> 
> Output: 4

**Constraints:**

  * `1 <= n <= 10^9`
  * `1 <= reservedSeats.length <= min(10*n, 10^4)`
  * `reservedSeats[i].length == 2`
  * `1 <= reservedSeats[i][0] <= n`
  * `1 <= reservedSeats[i][1] <= 10`
  * All `reservedSeats[i]` are distinct.


## é¢˜ç›®å¤§æ„

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/03/21/cinema_seats_1.png)

å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç”µå½±é™¢çš„è§‚å½±å…ä¸­æœ‰ `n` è¡Œåº§ä½ï¼Œè¡Œç¼–å·ä» 1 åˆ° `n` ï¼Œä¸”æ¯ä¸€è¡Œå†…æ€»å…±æœ‰ 10 ä¸ªåº§ä½ï¼Œåˆ—ç¼–å·ä» 1 åˆ° 10 ã€‚

ç»™ä½ æ•°ç»„ `reservedSeats` ï¼ŒåŒ…å«æ‰€æœ‰å·²ç»è¢«é¢„çº¦äº†çš„åº§ä½ã€‚æ¯”å¦‚è¯´ï¼Œ`reservedSeats[i]=[3,8]` ï¼Œå®ƒè¡¨ç¤ºç¬¬ **3**
è¡Œç¬¬ **8**  ä¸ªåº§ä½è¢«é¢„çº¦äº†ã€‚

è¯·ä½ è¿”å› **æœ€å¤šèƒ½å®‰æ’å¤šå°‘ä¸ª 4 äººå®¶åº­**  ã€‚4 äººå®¶åº­è¦å æ® **åŒä¸€è¡Œå†…è¿ç»­  **çš„ 4 ä¸ªåº§ä½ã€‚éš”ç€è¿‡é“çš„åº§ä½ï¼ˆæ¯”æ–¹è¯´ [3,3] å’Œ
[3,4]ï¼‰ä¸æ˜¯è¿ç»­çš„åº§ä½ï¼Œä½†æ˜¯å¦‚æœä½ å¯ä»¥å°† 4 äººå®¶åº­æ‹†æˆè¿‡é“ä¸¤è¾¹å„å 2 äººï¼Œè¿™æ ·å­æ˜¯å…è®¸çš„ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/03/21/cinema_seats_3.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3, reservedSeats = [[1,2],[1,3],[1,8],[2,6],[3,1],[3,10]]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** ä¸Šå›¾æ‰€ç¤ºæ˜¯æœ€ä¼˜çš„å®‰æ’æ–¹æ¡ˆï¼Œæ€»å…±å¯ä»¥å®‰æ’ 4 ä¸ªå®¶åº­ã€‚è“è‰²çš„å‰è¡¨ç¤ºè¢«é¢„çº¦çš„åº§ä½ï¼Œæ©™è‰²çš„è¿ç»­åº§ä½è¡¨ç¤ºä¸€ä¸ª 4 äººå®¶åº­ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 2, reservedSeats = [[2,1],[1,8],[2,6]]
> 
> **è¾“å‡ºï¼š** 2
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 4, reservedSeats = [[4,3],[1,4],[4,6],[1,7]]
> 
> **è¾“å‡ºï¼š** 4
> 
> 



**æç¤ºï¼š**

  * `1 <= n <= 10^9`
  * `1 <= reservedSeats.length <= min(10*n, 10^4)`
  * `reservedSeats[i].length == 2`
  * `1 <= reservedSeats[i][0] <= n`
  * `1 <= reservedSeats[i][1] <= 10`
  * æ‰€æœ‰ `reservedSeats[i]` éƒ½æ˜¯äº’ä¸ç›¸åŒçš„ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2286 | [ä»¥ç»„ä¸ºå•ä½è®¢éŸ³ä¹ä¼šçš„é—¨ç¥¨](https://leetcode.com/problems/booking-concert-tickets-in-groups) |  |  [`è®¾è®¡`](/leetcode/outline/tag/design.md) [`æ ‘çŠ¶æ•°ç»„`](/leetcode/outline/tag/binary-indexed-tree.md) [`çº¿æ®µæ ‘`](/leetcode/outline/tag/segment-tree.md) `1+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
