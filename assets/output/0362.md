---
title: 362. æ•²å‡»è®¡æ•°å™¨ ğŸ”’
description: LeetCode 362. æ•²å‡»è®¡æ•°å™¨ ğŸ”’é¢˜è§£ï¼ŒDesign Hit Counterï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 362. æ•²å‡»è®¡æ•°å™¨ ğŸ”’
  - æ•²å‡»è®¡æ•°å™¨
  - Design Hit Counter
  - è§£é¢˜æ€è·¯
  - è®¾è®¡
  - é˜Ÿåˆ—
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
  - æ•°æ®æµ
---

# 362. æ•²å‡»è®¡æ•°å™¨ ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`é˜Ÿåˆ—`](/tag/queue.md) [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`æ•°æ®æµ`](/tag/data-stream.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/design-hit-counter) [`LeetCode`](https://leetcode.com/problems/design-hit-counter)

## é¢˜ç›®

Design a hit counter which counts the number of hits received in the past `5`
minutes (i.e., the past `300` seconds).

Your system should accept a `timestamp` parameter (**in seconds**
granularity), and you may assume that calls are being made to the system in
chronological order (i.e., `timestamp` is monotonically increasing). Several
hits may arrive roughly at the same time.

Implement the `HitCounter` class:

  * `HitCounter()` Initializes the object of the hit counter system.
  * `void hit(int timestamp)` Records a hit that happened at `timestamp` (**in seconds**). Several hits may happen at the same `timestamp`.
  * `int getHits(int timestamp)` Returns the number of hits in the past 5 minutes from `timestamp` (i.e., the past `300` seconds).



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["HitCounter", "hit", "hit", "hit", "getHits", "hit", "getHits", "getHits"]
> 
> [[], [1], [2], [3], [4], [300], [300], [301]]
> 
> **Output**
> 
> [null, null, null, null, 3, null, 4, 3]
> 
> 
> 
> **Explanation**
> 
> HitCounter hitCounter = new HitCounter();
> 
> hitCounter.hit(1);> 
>    // hit at timestamp 1.
> 
> hitCounter.hit(2);> 
>    // hit at timestamp 2.
> 
> hitCounter.hit(3);> 
>    // hit at timestamp 3.
> 
> hitCounter.getHits(4);   // get hits at timestamp 4, return 3.
> 
> hitCounter.hit(300);> 
>  // hit at timestamp 300.
> 
> hitCounter.getHits(300); // get hits at timestamp 300, return 4.
> 
> hitCounter.getHits(301); // get hits at timestamp 301, return 3.

**Constraints:**

  * `1 <= timestamp <= 2 * 10^9`
  * All the calls are being made to the system in chronological order (i.e., `timestamp` is monotonically increasing).
  * At most `300` calls will be made to `hit` and `getHits`.



**Follow up:** What if the number of hits per second could be huge? Does your
design scale?


## é¢˜ç›®å¤§æ„

è®¾è®¡ä¸€ä¸ªæ•²å‡»è®¡æ•°å™¨ï¼Œä½¿å®ƒå¯ä»¥ç»Ÿè®¡åœ¨è¿‡å» `5` åˆ†é’Ÿå†…è¢«æ•²å‡»æ¬¡æ•°ã€‚ï¼ˆå³è¿‡å» `300` ç§’ï¼‰

æ‚¨çš„ç³»ç»Ÿåº”è¯¥æ¥å—ä¸€ä¸ªæ—¶é—´æˆ³å‚æ•° `timestamp` (å•ä½ä¸º **ç§’**  )ï¼Œå¹¶ä¸”æ‚¨å¯ä»¥å‡å®šå¯¹ç³»ç»Ÿçš„è°ƒç”¨æ˜¯æŒ‰æ—¶é—´é¡ºåºè¿›è¡Œçš„(å³ `timestamp`
æ˜¯å•è°ƒé€’å¢çš„)ã€‚å‡ æ¬¡æ’å‡»å¯èƒ½åŒæ—¶å‘ç”Ÿã€‚

å®ç° `HitCounter` ç±»:

  * `HitCounter()` åˆå§‹åŒ–å‘½ä¸­è®¡æ•°å™¨ç³»ç»Ÿã€‚
  * `void hit(int timestamp)` è®°å½•åœ¨ `timestamp` ( **å•ä½ä¸ºç§’**  )å‘ç”Ÿçš„ä¸€æ¬¡å‘½ä¸­ã€‚åœ¨åŒä¸€ä¸ª `timestamp` ä¸­å¯èƒ½ä¼šå‡ºç°å‡ ä¸ªç‚¹å‡»ã€‚
  * `int getHits(int timestamp)` è¿”å› `timestamp` åœ¨è¿‡å» 5 åˆ†é’Ÿå†…(å³è¿‡å» `300` ç§’)çš„å‘½ä¸­æ¬¡æ•°ã€‚



**ç¤ºä¾‹ 1:**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> ["HitCounter", "hit", "hit", "hit", "getHits", "hit", "getHits", "getHits"]
> 
> [[], [1], [2], [3], [4], [300], [300], [301]]
> 
> **è¾“å‡ºï¼š**
> 
> [null, null, null, null, 3, null, 4, 3]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> HitCounter counter = new HitCounter();
> 
> counter.hit(1);// åœ¨æ—¶åˆ» 1 æ•²å‡»ä¸€æ¬¡ã€‚
> 
> counter.hit(2);// åœ¨æ—¶åˆ» 2 æ•²å‡»ä¸€æ¬¡ã€‚
> 
> counter.hit(3);// åœ¨æ—¶åˆ» 3 æ•²å‡»ä¸€æ¬¡ã€‚
> 
> counter.getHits(4);// åœ¨æ—¶åˆ» 4 ç»Ÿè®¡è¿‡å» 5 åˆ†é’Ÿå†…çš„æ•²å‡»æ¬¡æ•°, å‡½æ•°è¿”å› 3 ã€‚
> 
> counter.hit(300);// åœ¨æ—¶åˆ» 300 æ•²å‡»ä¸€æ¬¡ã€‚
> 
> counter.getHits(300); // åœ¨æ—¶åˆ» 300 ç»Ÿè®¡è¿‡å» 5 åˆ†é’Ÿå†…çš„æ•²å‡»æ¬¡æ•°ï¼Œå‡½æ•°è¿”å› 4 ã€‚
> 
> counter.getHits(301); // åœ¨æ—¶åˆ» 301 ç»Ÿè®¡è¿‡å» 5 åˆ†é’Ÿå†…çš„æ•²å‡»æ¬¡æ•°ï¼Œå‡½æ•°è¿”å› 3 ã€‚
> 
> 



**æç¤º:**

  * `1 <= timestamp <= 2 * 10^9`
  * æ‰€æœ‰å¯¹ç³»ç»Ÿçš„è°ƒç”¨éƒ½æ˜¯æŒ‰æ—¶é—´é¡ºåºè¿›è¡Œçš„ï¼ˆå³ `timestamp` æ˜¯å•è°ƒé€’å¢çš„ï¼‰
  * `hit` and `getHits `æœ€å¤šè¢«è°ƒç”¨ `300` æ¬¡



**è¿›é˜¶:**  å¦‚æœæ¯ç§’çš„æ•²å‡»æ¬¡æ•°æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°å­—ï¼Œä½ çš„è®¡æ•°å™¨å¯ä»¥åº”å¯¹å—ï¼Ÿ


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 359 | æ—¥å¿—é€Ÿç‡é™åˆ¶å™¨ ğŸ”’ |  |  [`è®¾è®¡`](/tag/design.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ•°æ®æµ`](/tag/data-stream.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/logger-rate-limiter) [ğŸ”—](https://leetcode.com/problems/logger-rate-limiter) |