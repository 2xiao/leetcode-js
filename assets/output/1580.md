# [1580. æŠŠç®±å­æ”¾è¿›ä»“åº“é‡Œ II ğŸ”’](https://2xiao.github.io/leetcode-js/problem/1580.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/put-boxes-into-the-warehouse-ii) [`LeetCode`](https://leetcode.com/problems/put-boxes-into-the-warehouse-ii)

## é¢˜ç›®

You are given two arrays of positive integers, `boxes` and `warehouse`,
representing the heights of some boxes of unit width and the heights of `n`
rooms in a warehouse respectively. The warehouse's rooms are labeled from `0`
to `n - 1` from left to right where `warehouse[i]` (0-indexed) is the height
of the `ith` room.

Boxes are put into the warehouse by the following rules:

  * Boxes cannot be stacked.
  * You can rearrange the insertion order of the boxes.
  * Boxes can be pushed into the warehouse from **either side** (left or right)
  * If the height of some room in the warehouse is less than the height of a box, then that box and all other boxes behind it will be stopped before that room.

Return _the maximum number of boxes you can put into the warehouse._



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22.png)

> Input: boxes = [1,2,2,3,4], warehouse = [3,4,1,2]
> 
> Output: 4
> 
> Explanation:
> 
> ![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22-1.png)
> 
> We can store the boxes in the following order:
> 
> 1- Put the yellow box in room 2 from either the left or right side.
> 
> 2- Put the orange box in room 3 from the right side.
> 
> 3- Put the green box in room 1 from the left side.
> 
> 4- Put the red box in room 0 from the left side.
> 
> Notice that there are other valid ways to put 4 boxes such as swapping the red and green boxes or the red and orange boxes.

**Example 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22-2.png)

> Input: boxes = [3,5,5,2], warehouse = [2,1,3,4,5]
> 
> Output: 3
> 
> Explanation:
> 
> ![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22-3.png)
> 
> It is not possible to put the two boxes of height 5 in the warehouse since there's only 1 room of height >= 5.
> 
> Other valid solutions are to put the green box in room 2 or to put the orange box first in room 2 before putting the green and red boxes.

**Constraints:**

  * `n == warehouse.length`
  * `1 <= boxes.length, warehouse.length <= 10^5`
  * `1 <= boxes[i], warehouse[i] <= 10^9`


## é¢˜ç›®å¤§æ„

ç»™å®šä¸¤ä¸ªæ­£æ•´æ•°æ•°ç»„ `boxes` å’Œ `warehouse` ï¼Œåˆ†åˆ«åŒ…å«å•ä½å®½åº¦çš„ç®±å­çš„é«˜åº¦ï¼Œä»¥åŠä»“åº“ä¸­`n`ä¸ªæˆ¿é—´å„è‡ªçš„é«˜åº¦ã€‚ä»“åº“çš„æˆ¿é—´åˆ†åˆ«ä»`0` åˆ°
`n - 1`è‡ªå·¦å‘å³ç¼–å·ï¼Œ`warehouse[i]`ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰æ˜¯ç¬¬ `i` ä¸ªæˆ¿é—´çš„é«˜åº¦ã€‚

ç®±å­æ”¾è¿›ä»“åº“æ—¶éµå¾ªä¸‹åˆ—è§„åˆ™ï¼š

  * ç®±å­ä¸å¯å æ”¾ã€‚
  * ä½ å¯ä»¥é‡æ–°è°ƒæ•´ç®±å­çš„é¡ºåºã€‚
  * ç®±å­å¯ä»¥ä»ä»»æ„æ–¹å‘ï¼ˆå·¦è¾¹æˆ–å³è¾¹ï¼‰æ¨å…¥ä»“åº“ä¸­ã€‚
  * å¦‚æœä»“åº“ä¸­æŸæˆ¿é—´çš„é«˜åº¦å°äºæŸç®±å­çš„é«˜åº¦ï¼Œåˆ™è¿™ä¸ªç®±å­å’Œä¹‹åçš„ç®±å­éƒ½ä¼šåœåœ¨è¿™ä¸ªæˆ¿é—´çš„å‰é¢ã€‚

ä½ æœ€å¤šå¯ä»¥åœ¨ä»“åº“ä¸­æ”¾è¿›å¤šå°‘ä¸ªç®±å­ï¼Ÿ

**ç¤ºä¾‹ 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** boxes = [1,2,2,3,4], warehouse = [3,4,1,2]
> 
> **è¾“å‡º:** 4
> 
> **è§£é‡Š:![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22-1.png)
> 
> **æˆ‘ä»¬å¯ä»¥æŒ‰å¦‚ä¸‹é¡ºåºæ¨å…¥ç®±å­:
> 
> 1- ä»å·¦è¾¹æˆ–å³è¾¹æŠŠé»„è‰²ç®±å­æ¨å…¥2å·æˆ¿é—´ï¼›
> 
> 2- ä»å³è¾¹æŠŠæ©™è‰²ç®±å­æ¨å…¥3å·æˆ¿é—´ï¼›
> 
> 3- ä»å·¦è¾¹æŠŠç»¿è‰²ç®±å­æ¨å…¥1å·æˆ¿é—´ï¼›
> 
> 4- ä»å·¦è¾¹æŠŠçº¢è‰²ç®±å­æ¨å…¥0å·æˆ¿é—´ï¼›
> 
> è¿˜æœ‰å…¶ä»–æ–¹å¼æ¨å…¥4ä¸ªç®±å­ï¼Œæ¯”å¦‚äº¤æ¢çº¢è‰²ä¸ç»¿è‰²ç®±å­ï¼Œæˆ–è€…äº¤æ¢çº¢è‰²ä¸æ©™è‰²ç®±å­ã€‚
> 
> 

**ç¤ºä¾‹ 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22-2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** boxes = [3,5,5,2], warehouse = [2,1,3,4,5]
> 
> **è¾“å‡º:** 3
> 
> **è§£é‡Š:![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22-3.png)
> 
> **å› ä¸ºåªæœ‰ä¸€ä¸ªé«˜åº¦å¤§äºç­‰äº5çš„æˆ¿é—´ï¼Œæ‰€ä»¥æ— æ³•å°†ä¸¤ä¸ªé«˜åº¦ä¸º5çš„ç®±å­éƒ½æ¨å…¥ä»“åº“ã€‚
> 
> è¿˜æœ‰å…¶ä»–æ–¹å¼æ¨å…¥ç®±å­ï¼Œæ¯”å¦‚å°†ç»¿è‰²ç®±å­æ¨å…¥2å·æˆ¿é—´ï¼Œæˆ–è€…åœ¨ç»¿è‰²åŠçº¢è‰²ç®±å­ä¹‹å‰å°†æ©™è‰²ç®±å­æ¨å…¥2å·æˆ¿é—´ã€‚
> 
> 

**ç¤ºä¾‹ 3:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** boxes = [1,2,3], warehouse = [1,2,3,4]
> 
> **è¾“å‡º:** 3
> 
> 

**ç¤ºä¾‹ 4:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** boxes = [4,5,6], warehouse = [3,3,3,3,3]
> 
> **è¾“å‡º:** 0
> 
> 

**æç¤º:**

  * `n == warehouse.length`
  * `1 <= boxes.length, warehouse.length <= 10^5`
  * `1 <= boxes[i], warehouse[i] <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1564 | [æŠŠç®±å­æ”¾è¿›ä»“åº“é‡Œ I ğŸ”’](https://leetcode.com/problems/put-boxes-into-the-warehouse-i) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) | <font color=#ffb800>Medium</font> |