# [3080. æ‰§è¡Œæ“ä½œæ ‡è®°æ•°ç»„ä¸­çš„å…ƒç´ ](https://leetcode.com/problems/mark-elements-on-array-by-performing-queries)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`æ’åº`](/leetcode/outline/tag/sorting.md) [`æ¨¡æ‹Ÿ`](/leetcode/outline/tag/simulation.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/leetcode/outline/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/mark-elements-on-array-by-performing-queries)

## é¢˜ç›®

You are given a **0-indexed** array `nums` of size `n` consisting of positive
integers.

You are also given a 2D array `queries` of size `m` where `queries[i] =
[indexi, ki]`.

Initially all elements of the array are **unmarked**.

You need to apply `m` queries on the array in order, where on the `ith` query
you do the following:

  * Mark the element at index `indexi` if it is not already marked.
  * Then mark `ki` unmarked elements in the array with the **smallest** values. If multiple such elements exist, mark the ones with the smallest indices. And if less than `ki` unmarked elements exist, then mark all of them.

Return _an array answer of size_`m` _where_`answer[i]`_is the**sum** of
unmarked elements in the array after the _`ith` _query_.



**Example 1:**

**Input:** nums = [1,2,2,1,2,3,1], queries = [[1,2],[3,3],[4,2]]

**Output:**[8,3,0]

**Explanation:**

We do the following queries on the array:

  * Mark the element at index `1`, and `2` of the smallest unmarked elements with the smallest indices if they exist, the marked elements now are `nums = [**_1_** ,_**2**_ ,2,_**1**_ ,2,3,1]`. The sum of unmarked elements is `2 + 2 + 3 + 1 = 8`.
  * Mark the element at index `3`, since it is already marked we skip it. Then we mark `3` of the smallest unmarked elements with the smallest indices, the marked elements now are `nums = [**_1_** ,_**2**_ ,_**2**_ ,_**1**_ ,_**2**_ ,3,**_1_**]`. The sum of unmarked elements is `3`.
  * Mark the element at index `4`, since it is already marked we skip it. Then we mark `2` of the smallest unmarked elements with the smallest indices if they exist, the marked elements now are `nums = [**_1_** ,_**2**_ ,_**2**_ ,_**1**_ ,_**2**_ ,**_3_** ,_**1**_]`. The sum of unmarked elements is `0`.

**Example 2:**

**Input:** nums = [1,4,2,3], queries = [[0,1]]

**Output:**[7]

**Explanation:** We do one query which is mark the element at index `0` and
mark the smallest element among unmarked elements. The marked elements will be
`nums = [**_1_** ,4,_**2**_ ,3]`, and the sum of unmarked elements is `4 + 3 =
7`.



**Constraints:**

  * `n == nums.length`
  * `m == queries.length`
  * `1 <= m <= n <= 10^5`
  * `1 <= nums[i] <= 10^5`
  * `queries[i].length == 2`
  * `0 <= indexi, ki <= n - 1`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` ä¸‹æ ‡ä» **0**  å¼€å§‹çš„æ­£æ•´æ•°æ•°ç»„ `nums` ã€‚

åŒæ—¶ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `m` çš„äºŒç»´æ“ä½œæ•°ç»„ `queries` ï¼Œå…¶ä¸­ `queries[i] = [indexi, ki]` ã€‚

ä¸€å¼€å§‹ï¼Œæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½ **æœªæ ‡è®°**  ã€‚

ä½ éœ€è¦ä¾æ¬¡å¯¹æ•°ç»„æ‰§è¡Œ `m` æ¬¡æ“ä½œï¼Œç¬¬ `i` æ¬¡æ“ä½œä¸­ï¼Œä½ éœ€è¦æ‰§è¡Œï¼š

  * å¦‚æœä¸‹æ ‡ `indexi` å¯¹åº”çš„å…ƒç´ è¿˜æ²¡æ ‡è®°ï¼Œé‚£ä¹ˆæ ‡è®°è¿™ä¸ªå…ƒç´ ã€‚
  * ç„¶åæ ‡è®° `ki` ä¸ªæ•°ç»„ä¸­è¿˜æ²¡æœ‰æ ‡è®°çš„ **æœ€å°**  å…ƒç´ ã€‚å¦‚æœæœ‰å…ƒç´ çš„å€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆä¼˜å…ˆæ ‡è®°å®ƒä»¬ä¸­ä¸‹æ ‡è¾ƒå°çš„ã€‚å¦‚æœå°‘äº `ki` ä¸ªæœªæ ‡è®°å…ƒç´ å­˜åœ¨ï¼Œé‚£ä¹ˆå°†å®ƒä»¬å…¨éƒ¨æ ‡è®°ã€‚

è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º `m` çš„æ•°ç»„ `answer` ï¼Œå…¶ä¸­ _ _`answer[i]`æ˜¯ç¬¬ `i` æ¬¡æ“ä½œåæ•°ç»„ä¸­è¿˜æ²¡æ ‡è®°å…ƒç´ çš„ **å’Œ**  ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** nums = [1,2,2,1,2,3,1], queries = [[1,2],[3,3],[4,2]]

**è¾“å‡ºï¼š**[8,3,0]

**è§£é‡Šï¼š**

æˆ‘ä»¬ä¾æ¬¡å¯¹æ•°ç»„åšä»¥ä¸‹æ“ä½œï¼š

  * æ ‡è®°ä¸‹æ ‡ä¸º `1` çš„å…ƒç´ ï¼ŒåŒæ—¶æ ‡è®° `2` ä¸ªæœªæ ‡è®°çš„æœ€å°å…ƒç´ ã€‚æ ‡è®°å®Œåæ•°ç»„ä¸º `nums = [_**1**_ ,_**2**_ ,2,_**1**_ ,2,3,1]` ã€‚æœªæ ‡è®°å…ƒç´ çš„å’Œä¸º `2 + 2 + 3 + 1 = 8` ã€‚
  * æ ‡è®°ä¸‹æ ‡ä¸º `3` çš„å…ƒç´ ï¼Œç”±äºå®ƒå·²ç»è¢«æ ‡è®°è¿‡äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿½ç•¥è¿™æ¬¡æ ‡è®°ï¼ŒåŒæ—¶æ ‡è®°æœ€é å‰çš„ `3` ä¸ªæœªæ ‡è®°çš„æœ€å°å…ƒç´ ã€‚æ ‡è®°å®Œåæ•°ç»„ä¸º `nums = [_**1**_ ,_**2**_ ,_**2**_ ,_**1**_ ,_**2**_ ,3,_**1**_]` ã€‚æœªæ ‡è®°å…ƒç´ çš„å’Œä¸º `3` ã€‚
  * æ ‡è®°ä¸‹æ ‡ä¸º `4` çš„å…ƒç´ ï¼Œç”±äºå®ƒå·²ç»è¢«æ ‡è®°è¿‡äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿½ç•¥è¿™æ¬¡æ ‡è®°ï¼ŒåŒæ—¶æ ‡è®°æœ€é å‰çš„ `2` ä¸ªæœªæ ‡è®°çš„æœ€å°å…ƒç´ ã€‚æ ‡è®°å®Œåæ•°ç»„ä¸º `nums = [_**1**_ ,_**2**_ ,_**2**_ ,_**1**_ ,_**2**_ ,_**3**_ ,_**1**_]` ã€‚æœªæ ‡è®°å…ƒç´ çš„å’Œä¸º `0` ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** nums = [1,4,2,3], queries = [[0,1]]

**è¾“å‡ºï¼š**[7]

**è§£é‡Šï¼š** æˆ‘ä»¬æ‰§è¡Œä¸€æ¬¡æ“ä½œï¼Œå°†ä¸‹æ ‡ä¸º `0` å¤„çš„å…ƒç´ æ ‡è®°ï¼Œå¹¶ä¸”æ ‡è®°æœ€é å‰çš„ `1` ä¸ªæœªæ ‡è®°çš„æœ€å°å…ƒç´ ã€‚æ ‡è®°å®Œåæ•°ç»„ä¸º `nums =
[_**1**_ ,4,_**2**_ ,3]` ã€‚æœªæ ‡è®°å…ƒç´ çš„å’Œä¸º `4 + 3 = 7` ã€‚



**æç¤ºï¼š**

  * `n == nums.length`
  * `m == queries.length`
  * `1 <= m <= n <= 10^5`
  * `1 <= nums[i] <= 10^5`
  * `queries[i].length == 2`
  * `0 <= indexi, ki <= n - 1`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```