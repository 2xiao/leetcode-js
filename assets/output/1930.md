# [1930. é•¿åº¦ä¸º 3 çš„ä¸åŒå›æ–‡å­åºåˆ—](https://leetcode.com/problems/unique-length-3-palindromic-subsequences)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/unique-length-3-palindromic-subsequences)

## é¢˜ç›®

Given a string `s`, return _the number of**unique palindromes of length
three** that are a **subsequence** of _`s`.

Note that even if there are multiple ways to obtain the same subsequence, it
is still only counted **once**.

A **palindrome** is a string that reads the same forwards and backwards.

A **subsequence** of a string is a new string generated from the original
string with some characters (can be none) deleted without changing the
relative order of the remaining characters.

  * For example, `"ace"` is a subsequence of `"_a_ b _c_ d _e_ "`.



**Example 1:**

> Input: s = "aabca"
> 
> Output: 3
> 
> Explanation: The 3 palindromic subsequences of length 3 are:
> - "aba" (subsequence of "_a_ a _b_ c _a_ ")
> - "aaa" (subsequence of "_aa_ bc _a_ ")
> - "aca" (subsequence of "_a_ ab _ca_ ")

**Example 2:**

> Input: s = "adc"
> 
> Output: 0
> 
> Explanation: There are no palindromic subsequences of length 3 in "adc".

**Example 3:**

> Input: s = "bbcbaba"
> 
> Output: 4
> 
> Explanation: The 4 palindromic subsequences of length 3 are:
> - "bbb" (subsequence of "_bb_ c _b_ aba")
> - "bcb" (subsequence of "_b_ b _cb_ aba")
> - "bab" (subsequence of "_b_ bcb _ab_ a")
> - "aba" (subsequence of "bbcb _aba_ ")

**Constraints:**

  * `3 <= s.length <= 10^5`
  * `s` consists of only lowercase English letters.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¿”å› `s` ä¸­ **é•¿åº¦ä¸º 3** çš„**ä¸åŒå›æ–‡å­åºåˆ—** çš„ä¸ªæ•°ã€‚

å³ä¾¿å­˜åœ¨å¤šç§æ–¹æ³•æ¥æ„å»ºç›¸åŒçš„å­åºåˆ—ï¼Œä½†ç›¸åŒçš„å­åºåˆ—åªè®¡æ•°ä¸€æ¬¡ã€‚

**å›æ–‡** æ˜¯æ­£ç€è¯»å’Œåç€è¯»ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚

**å­åºåˆ—** æ˜¯ç”±åŸå­—ç¬¦ä¸²åˆ é™¤å…¶ä¸­éƒ¨åˆ†å­—ç¬¦ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰ä¸”ä¸æ”¹å˜å‰©ä½™å­—ç¬¦ä¹‹é—´ç›¸å¯¹é¡ºåºå½¢æˆçš„ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ã€‚

  * ä¾‹å¦‚ï¼Œ`"ace"` æ˜¯ `"**_a_** b** _c_** d** _e_** "` çš„ä¸€ä¸ªå­åºåˆ—ã€‚

**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "aabca"
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** é•¿åº¦ä¸º 3 çš„ 3 ä¸ªå›æ–‡å­åºåˆ—åˆ†åˆ«æ˜¯ï¼š
> - "aba" ("**_a_** a** _b_** c** _a_** " çš„å­åºåˆ—)
> - "aaa" ("**_aa_** bc** _a_** " çš„å­åºåˆ—)
> - "aca" ("**_a_** ab** _ca_** " çš„å­åºåˆ—)
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "adc"
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š** "adc" ä¸å­˜åœ¨é•¿åº¦ä¸º 3 çš„å›æ–‡å­åºåˆ—ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "bbcbaba"
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** é•¿åº¦ä¸º 3 çš„ 4 ä¸ªå›æ–‡å­åºåˆ—åˆ†åˆ«æ˜¯ï¼š
> - "bbb" ("**_bb_** c** _b_** aba" çš„å­åºåˆ—)
> - "bcb" ("**_b_** b** _cb_** aba" çš„å­åºåˆ—)
> - "bab" ("**_b_** bcb** _ab_** a" çš„å­åºåˆ—)
> - "aba" ("bbcb** _aba_** " çš„å­åºåˆ—)
> 
> 

**æç¤ºï¼š**

  * `3 <= s.length <= 10^5`
  * `s` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2484 | [ç»Ÿè®¡å›æ–‡å­åºåˆ—æ•°ç›®](https://leetcode.com/problems/count-palindromic-subsequences) |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
