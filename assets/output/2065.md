---
title: 2065. æœ€å¤§åŒ–ä¸€å¼ å›¾ä¸­çš„è·¯å¾„ä»·å€¼
description: LeetCode 2065. æœ€å¤§åŒ–ä¸€å¼ å›¾ä¸­çš„è·¯å¾„ä»·å€¼é¢˜è§£ï¼ŒMaximum Path Quality of a Graphï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2065. æœ€å¤§åŒ–ä¸€å¼ å›¾ä¸­çš„è·¯å¾„ä»·å€¼
  - æœ€å¤§åŒ–ä¸€å¼ å›¾ä¸­çš„è·¯å¾„ä»·å€¼
  - Maximum Path Quality of a Graph
  - è§£é¢˜æ€è·¯
  - å›¾
  - æ•°ç»„
  - å›æº¯
---

# 2065. æœ€å¤§åŒ–ä¸€å¼ å›¾ä¸­çš„è·¯å¾„ä»·å€¼

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å›¾`](/tag/graph.md) [`æ•°ç»„`](/tag/array.md) [`å›æº¯`](/tag/backtracking.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-path-quality-of-a-graph) [`LeetCode`](https://leetcode.com/problems/maximum-path-quality-of-a-graph)

## é¢˜ç›®

There is an **undirected** graph with `n` nodes numbered from `0` to `n - 1`
(**inclusive**). You are given a **0-indexed** integer array `values` where
`values[i]` is the **value** of the `ith` node. You are also given a
**0-indexed** 2D integer array `edges`, where each `edges[j] = [uj, vj,
timej]` indicates that there is an undirected edge between the nodes `uj` and
`vj`, and it takes `timej` seconds to travel between the two nodes. Finally,
you are given an integer `maxTime`.

A **valid** **path** in the graph is any path that starts at node `0`, ends at
node `0`, and takes **at most** `maxTime` seconds to complete. You may visit
the same node multiple times. The **quality** of a valid path is the **sum**
of the values of the **unique nodes** visited in the path (each node's value
is added **at most once** to the sum).

Return _the**maximum** quality of a valid path_.

**Note:** There are **at most four** edges connected to each node.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/10/19/ex1drawio.png)

> Input: values = [0,32,10,43], edges = [[0,1,10],[1,2,15],[0,3,10]], maxTime = 49
> 
> Output: 75
> 
> Explanation:
> 
> One possible path is 0 -> 1 -> 0 -> 3 -> 0. The total time taken is 10 + 10 + 10 + 10 = 40 <= 49.
> 
> The nodes visited are 0, 1, and 3, giving a maximal path quality of 0 + 32 + 43 = 75.

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/10/19/ex2drawio.png)

> Input: values = [5,10,15,20], edges = [[0,1,10],[1,2,10],[0,3,10]], maxTime = 30
> 
> Output: 25
> 
> Explanation:
> 
> One possible path is 0 -> 3 -> 0. The total time taken is 10 + 10 = 20 <= 30.
> 
> The nodes visited are 0 and 3, giving a maximal path quality of 5 + 20 = 25.

**Example 3:**

![](https://assets.leetcode.com/uploads/2021/10/19/ex31drawio.png)

> Input: values = [1,2,3,4], edges = [[0,1,10],[1,2,11],[2,3,12],[1,3,13]], maxTime = 50
> 
> Output: 7
> 
> Explanation:
> 
> One possible path is 0 -> 1 -> 3 -> 1 -> 0. The total time taken is 10 + 13 + 13 + 10 = 46 <= 50.
> 
> The nodes visited are 0, 1, and 3, giving a maximal path quality of 1 + 2 + 4 = 7.

**Constraints:**

  * `n == values.length`
  * `1 <= n <= 1000`
  * `0 <= values[i] <= 10^8`
  * `0 <= edges.length <= 2000`
  * `edges[j].length == 3 `
  * `0 <= uj < vj <= n - 1`
  * `10 <= timej, maxTime <= 100`
  * All the pairs `[uj, vj]` are **unique**.
  * There are **at most four** edges connected to each node.
  * The graph may not be connected.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€å¼  **æ— å‘**  å›¾ï¼Œå›¾ä¸­æœ‰ `n` ä¸ªèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹ç¼–å·ä» `0` åˆ° `n - 1` ï¼ˆ**éƒ½åŒ…æ‹¬** ï¼‰ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**
å¼€å§‹çš„æ•´æ•°æ•°ç»„ `values` ï¼Œå…¶ä¸­ `values[i]` æ˜¯ç¬¬ `i` ä¸ªèŠ‚ç‚¹çš„ **ä»·å€¼**  ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**
å¼€å§‹çš„äºŒç»´æ•´æ•°æ•°ç»„ `edges` ï¼Œå…¶ä¸­ `edges[j] = [uj, vj, timej]` è¡¨ç¤ºèŠ‚ç‚¹ `uj` å’Œ `vj` ä¹‹é—´æœ‰ä¸€æ¡éœ€è¦
`timej` ç§’æ‰èƒ½é€šè¿‡çš„æ— å‘è¾¹ã€‚æœ€åï¼Œç»™ä½ ä¸€ä¸ªæ•´æ•° `maxTime` ã€‚

**åˆæ³•è·¯å¾„**  æŒ‡çš„æ˜¯å›¾ä¸­ä»»æ„ä¸€æ¡ä»èŠ‚ç‚¹ `0` å¼€å§‹ï¼Œæœ€ç»ˆå›åˆ°èŠ‚ç‚¹ `0` ï¼Œä¸”èŠ±è´¹çš„æ€»æ—¶é—´ **ä¸è¶…è¿‡**  `maxTime`
ç§’çš„ä¸€æ¡è·¯å¾„ã€‚ä½ å¯ä»¥è®¿é—®ä¸€ä¸ªèŠ‚ç‚¹ä»»æ„æ¬¡ã€‚ä¸€æ¡åˆæ³•è·¯å¾„çš„ **ä»·å€¼**  å®šä¹‰ä¸ºè·¯å¾„ä¸­ **ä¸åŒèŠ‚ç‚¹**  çš„ä»·å€¼ **ä¹‹å’Œ**  ï¼ˆæ¯ä¸ªèŠ‚ç‚¹çš„ä»·å€¼
**è‡³å¤š**  ç®—å…¥ä»·å€¼æ€»å’Œä¸­ä¸€æ¬¡ï¼‰ã€‚

è¯·ä½ è¿”å›ä¸€æ¡åˆæ³•è·¯å¾„çš„ **æœ€å¤§**  ä»·å€¼ã€‚

**æ³¨æ„ï¼š** æ¯ä¸ªèŠ‚ç‚¹ **è‡³å¤š**  æœ‰ **å››æ¡**  è¾¹ä¸ä¹‹ç›¸è¿ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/10/19/ex1drawio.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** values = [0,32,10,43], edges = [[0,1,10],[1,2,15],[0,3,10]], maxTime = 49
> 
> **è¾“å‡ºï¼š** 75
> 
> **è§£é‡Šï¼š**
> 
> ä¸€æ¡å¯èƒ½çš„è·¯å¾„ä¸ºï¼š0 -> 1 -> 0 -> 3 -> 0 ã€‚æ€»èŠ±è´¹æ—¶é—´ä¸º 10 + 10 + 10 + 10 = 40 <= 49 ã€‚
> 
> è®¿é—®è¿‡çš„èŠ‚ç‚¹ä¸º 0 ï¼Œ1 å’Œ 3 ï¼Œæœ€å¤§è·¯å¾„ä»·å€¼ä¸º 0 + 32 + 43 = 75 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/10/19/ex2drawio.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** values = [5,10,15,20], edges = [[0,1,10],[1,2,10],[0,3,10]], maxTime = 30
> 
> **è¾“å‡ºï¼š** 25
> 
> **è§£é‡Šï¼š**
> 
> ä¸€æ¡å¯èƒ½çš„è·¯å¾„ä¸ºï¼š0 -> 3 -> 0 ã€‚æ€»èŠ±è´¹æ—¶é—´ä¸º 10 + 10 = 20 <= 30 ã€‚
> 
> è®¿é—®è¿‡çš„èŠ‚ç‚¹ä¸º 0 å’Œ 3 ï¼Œæœ€å¤§è·¯å¾„ä»·å€¼ä¸º 5 + 20 = 25 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode.com/uploads/2021/10/19/ex31drawio.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** values = [1,2,3,4], edges = [[0,1,10],[1,2,11],[2,3,12],[1,3,13]], maxTime = 50
> 
> **è¾“å‡ºï¼š** 7
> 
> **è§£é‡Šï¼š**
> 
> ä¸€æ¡å¯èƒ½çš„è·¯å¾„ä¸ºï¼š0 -> 1 -> 3 -> 1 -> 0 ã€‚æ€»èŠ±è´¹æ—¶é—´ä¸º 10 + 13 + 13 + 10 = 46 <= 50 ã€‚
> 
> è®¿é—®è¿‡çš„èŠ‚ç‚¹ä¸º 0 ï¼Œ1 å’Œ 3 ï¼Œæœ€å¤§è·¯å¾„ä»·å€¼ä¸º 1 + 2 + 4 = 7 ã€‚

**ç¤ºä¾‹ 4ï¼š**

**![](https://assets.leetcode.com/uploads/2021/10/21/ex4drawio.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** values = [0,1,2], edges = [[1,2,10]], maxTime = 10
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š**
> 
> å”¯ä¸€ä¸€æ¡è·¯å¾„ä¸º 0 ã€‚æ€»èŠ±è´¹æ—¶é—´ä¸º 0 ã€‚
> 
> å”¯ä¸€è®¿é—®è¿‡çš„èŠ‚ç‚¹ä¸º 0 ï¼Œæœ€å¤§è·¯å¾„ä»·å€¼ä¸º 0 ã€‚
> 
> 



**æç¤ºï¼š**

  * `n == values.length`
  * `1 <= n <= 1000`
  * `0 <= values[i] <= 10^8`
  * `0 <= edges.length <= 2000`
  * `edges[j].length == 3 `
  * `0 <= uj < vj <= n - 1`
  * `10 <= timej, maxTime <= 100`
  * `[uj, vj]` æ‰€æœ‰èŠ‚ç‚¹å¯¹ **äº’ä¸ç›¸åŒ**  ã€‚
  * æ¯ä¸ªèŠ‚ç‚¹ **è‡³å¤šæœ‰å››æ¡  **è¾¹ã€‚
  * å›¾å¯èƒ½ä¸è¿é€šã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 741 | æ‘˜æ¨±æ¡ƒ |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`çŸ©é˜µ`](/tag/matrix.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/cherry-pickup) [ğŸ”—](https://leetcode.com/problems/cherry-pickup) |
| 1928 | è§„å®šæ—¶é—´å†…åˆ°è¾¾ç»ˆç‚¹çš„æœ€å°èŠ±è´¹ |  |  [`å›¾`](/tag/graph.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-cost-to-reach-destination-in-time) [ğŸ”—](https://leetcode.com/problems/minimum-cost-to-reach-destination-in-time) |