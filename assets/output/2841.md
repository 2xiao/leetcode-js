# [2841. å‡ ä¹å”¯ä¸€å­æ•°ç»„çš„æœ€å¤§å’Œ](https://2xiao.github.io/leetcode-js/problem/2841.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-sum-of-almost-unique-subarray) [`LeetCode`](https://leetcode.com/problems/maximum-sum-of-almost-unique-subarray)

## é¢˜ç›®

You are given an integer array `nums` and two positive integers `m` and `k`.

Return _the**maximum sum** out of all **almost unique** subarrays of length
_`k` _of_ `nums`. If no such subarray exists, return `0`.

A subarray of `nums` is **almost unique** if it contains at least `m` distinct
elements.

A subarray is a contiguous **non-empty** sequence of elements within an array.



**Example 1:**

> Input: nums = [2,6,7,3,1,7], m = 3, k = 4
> 
> Output: 18
> 
> Explanation: There are 3 almost unique subarrays of size k = 4. These subarrays are [2, 6, 7, 3], [6, 7, 3, 1], and [7, 3, 1, 7]. Among these subarrays, the one with the maximum sum is [2, 6, 7, 3] which has a sum of 18.

**Example 2:**

> Input: nums = [5,9,9,2,4,5,4], m = 1, k = 3
> 
> Output: 23
> 
> Explanation: There are 5 almost unique subarrays of size k. These subarrays are [5, 9, 9], [9, 9, 2], [9, 2, 4], [2, 4, 5], and [4, 5, 4]. Among these subarrays, the one with the maximum sum is [5, 9, 9] which has a sum of 23.

**Example 3:**

> Input: nums = [1,2,1,2,1,2,1], m = 3, k = 3
> 
> Output: 0
> 
> Explanation: There are no subarrays of size k = 3 that contain at least m = 3 distinct elements in the given array [1,2,1,2,1,2,1]. Therefore, no almost unique subarrays exist, and the maximum sum is 0.

**Constraints:**

  * `1 <= nums.length <= 2 * 10^4`
  * `1 <= m <= k <= nums.length`
  * `1 <= nums[i] <= 10^9`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸¤ä¸ªæ­£æ•´æ•° `m` å’Œ `k` ã€‚

è¯·ä½ è¿”å› `nums` ä¸­é•¿åº¦ä¸º `k` çš„ **å‡ ä¹å”¯ä¸€**  å­æ•°ç»„çš„ **æœ€å¤§å’Œ**  ï¼Œå¦‚æœä¸å­˜åœ¨å‡ ä¹å”¯ä¸€å­æ•°ç»„ï¼Œè¯·ä½ è¿”å› `0` ã€‚

å¦‚æœ `nums` çš„ä¸€ä¸ªå­æ•°ç»„æœ‰è‡³å°‘ `m` ä¸ªäº’ä¸ç›¸åŒçš„å…ƒç´ ï¼Œæˆ‘ä»¬ç§°å®ƒæ˜¯ **å‡ ä¹å”¯ä¸€**  å­æ•°ç»„ã€‚

å­æ•°ç»„æŒ‡çš„æ˜¯ä¸€ä¸ªæ•°ç»„ä¸­ä¸€æ®µè¿ç»­ **éç©º**  çš„å…ƒç´ åºåˆ—ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [2,6,7,3,1,7], m = 3, k = 4
> 
> **è¾“å‡ºï¼š** 18
> 
> **è§£é‡Šï¼š** æ€»å…±æœ‰ 3 ä¸ªé•¿åº¦ä¸º k = 4 çš„å‡ ä¹å”¯ä¸€å­æ•°ç»„ã€‚åˆ†åˆ«ä¸º [2, 6, 7, 3] ï¼Œ[6, 7, 3, 1] å’Œ [7, 3, 1, 7] ã€‚è¿™äº›å­æ•°ç»„ä¸­ï¼Œå’Œæœ€å¤§çš„æ˜¯ [2, 6, 7, 3] ï¼Œå’Œä¸º 18 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [5,9,9,2,4,5,4], m = 1, k = 3
> 
> **è¾“å‡ºï¼š** 23
> 
> **è§£é‡Šï¼š** æ€»å…±æœ‰ 5 ä¸ªé•¿åº¦ä¸º k = 3 çš„å‡ ä¹å”¯ä¸€å­æ•°ç»„ã€‚åˆ†åˆ«ä¸º [5, 9, 9] ï¼Œ[9, 9, 2] ï¼Œ[9, 2, 4] ï¼Œ[2, 4, 5] å’Œ [4, 5, 4] ã€‚è¿™äº›å­æ•°ç»„ä¸­ï¼Œå’Œæœ€å¤§çš„æ˜¯ [5, 9, 9] ï¼Œå’Œä¸º 23 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,1,2,1,2,1], m = 3, k = 3
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š** è¾“å…¥æ•°ç»„ä¸­ä¸å­˜åœ¨é•¿åº¦ä¸º k = 3 çš„å­æ•°ç»„å«æœ‰è‡³å°‘  m = 3 ä¸ªäº’ä¸ç›¸åŒå…ƒç´ çš„å­æ•°ç»„ã€‚æ‰€ä»¥ä¸å­˜åœ¨å‡ ä¹å”¯ä¸€å­æ•°ç»„ï¼Œæœ€å¤§å’Œä¸º 0 ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= nums.length <= 2 * 10^4`
  * `1 <= m <= k <= nums.length`
  * `1 <= nums[i] <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```