# [2346. ä»¥ç™¾åˆ†æ¯”è®¡ç®—æ’å](https://leetcode.com/problems/compute-the-rank-as-a-percentage)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°æ®åº“`](/tag/database.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/compute-the-rank-as-a-percentage)

## é¢˜ç›®

Table: `Students`

> 
> 
> 
> 
> 
> +---------------+------+
> 
> | Column Name   | Type |
> 
> +---------------+------+
> 
> | student_id> 
> | int  |
> 
> | department_id | int  |
> 
> | mark> 
> > 
>   | int  |
> 
> +---------------+------+
> 
> student_id contains unique values.
> 
> Each row of this table indicates a student's ID, the ID of the department in which the student enrolled, and their mark in the exam.
> 
> 



Write a solution to report the rank of each student in their department as a
percentage, where the rank as a percentage is computed using the following
formula: `(student_rank_in_the_department - 1) * 100 /
(the_number_of_students_in_the_department - 1)`. The `percentage` should be
**rounded to 2 decimal places**. `student_rank_in_the_department` is
determined by **descending******`mark`, such that the student with the highest
`mark` is `rank 1`. If two students get the same mark, they also get the same
rank.

Return the result table in **any order**.

The result format is in the following example.



**Example 1:**

> Input: 
> 
> Students table:
> 
> +------------+---------------+------+
> 
> | student_id | department_id | mark |
> 
> +------------+---------------+------+
> 
> | 2> 
> > 
>   | 2> 
> > 
> > 
>  | 650  |
> 
> | 8> 
> > 
>   | 2> 
> > 
> > 
>  | 650  |
> 
> | 7> 
> > 
>   | 1> 
> > 
> > 
>  | 920  |
> 
> | 1> 
> > 
>   | 1> 
> > 
> > 
>  | 610  |
> 
> | 3> 
> > 
>   | 1> 
> > 
> > 
>  | 530  |
> 
> +------------+---------------+------+
> 
> Output: 
> 
> +------------+---------------+------------+
> 
> | student_id | department_id | percentage |
> 
> +------------+---------------+------------+
> 
> | 7> 
> > 
>   | 1> 
> > 
> > 
>  | 0.0> 
> > 
> |
> 
> | 1> 
> > 
>   | 1> 
> > 
> > 
>  | 50.0> 
>    |
> 
> | 3> 
> > 
>   | 1> 
> > 
> > 
>  | 100.0> 
>   |
> 
> | 2> 
> > 
>   | 2> 
> > 
> > 
>  | 0.0> 
> > 
> |
> 
> | 8> 
> > 
>   | 2> 
> > 
> > 
>  | 0.0> 
> > 
> |
> 
> +------------+---------------+------------+
> 
> Explanation: 
> 
> For Department 1:
 > - Student 7: percentage = (1 - 1) * 100 / (3 - 1) = 0.0
 > - Student 1: percentage = (2 - 1) * 100 / (3 - 1) = 50.0
 > - Student 3: percentage = (3 - 1) * 100 / (3 - 1) = 100.0
> 
> For Department 2:
 > - Student 2: percentage = (1 - 1) * 100 / (2 - 1) = 0.0
 > - Student 8: percentage = (1 - 1) * 100 / (2 - 1) = 0.0
> 
> 


## é¢˜ç›®å¤§æ„

è¡¨: `Students`

> 
> 
> 
> 
> 
> +---------------+------+
> 
> | Column Name   | Type |
> 
> +---------------+------+
> 
> | student_id> 
> | int  |
> 
> | department_id | int  |
> 
> | mark> 
> > 
>   | int  |
> 
> +---------------+------+
> 
> student_id åŒ…å«å”¯ä¸€å€¼ã€‚
> 
> è¯¥è¡¨çš„æ¯ä¸€è¡Œéƒ½è¡¨ç¤ºä¸€ä¸ªå­¦ç”Ÿçš„ IDï¼Œè¯¥å­¦ç”Ÿå°±è¯»çš„é™¢ç³» IDï¼Œä»¥åŠä»–ä»¬çš„è€ƒè¯•åˆ†æ•°ã€‚
> 
> 



ç¼–å†™ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œä»¥ç™¾åˆ†æ¯”çš„å½¢å¼æŠ¥å‘Šæ¯ä¸ªå­¦ç”Ÿåœ¨å…¶éƒ¨é—¨çš„æ’åï¼Œå…¶ä¸­æ’åçš„ç™¾åˆ†æ¯”ä½¿ç”¨ä»¥ä¸‹å…¬å¼è®¡ç®—:

`(student_rank_in_the_department - 1) * 100 /
(the_number_of_students_in_the_department - 1)`ã€‚ `percentage` åº”è¯¥
**å››èˆäº”å…¥åˆ°å°æ•°ç‚¹åä¸¤ä½** ã€‚

`student_rank_in_the_department` ç”±** **`mark` çš„é™åºå†³å®šï¼Œ`mark` æœ€é«˜çš„å­¦ç”Ÿæ˜¯  `rank
1`ã€‚å¦‚æœä¸¤ä¸ªå­¦ç”Ÿå¾—åˆ°ç›¸åŒçš„åˆ†æ•°ï¼Œä»–ä»¬ä¹Ÿä¼šå¾—åˆ°ç›¸åŒçš„æ’åã€‚

ä»¥ **ä»»æ„é¡ºåº** è¿”å›ç»“æœè¡¨ã€‚

ç»“æœæ ¼å¼å¦‚ä¸‹æ‰€ç¤ºã€‚



**ç¤ºä¾‹ 1:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** 
> 
> Students è¡¨:
> 
> +------------+---------------+------+
> 
> | student_id | department_id | mark |
> 
> +------------+---------------+------+
> 
> | 2> 
> > 
>   | 2> 
> > 
> > 
>  | 650  |
> 
> | 8> 
> > 
>   | 2> 
> > 
> > 
>  | 650  |
> 
> | 7> 
> > 
>   | 1> 
> > 
> > 
>  | 920  |
> 
> | 1> 
> > 
>   | 1> 
> > 
> > 
>  | 610  |
> 
> | 3> 
> > 
>   | 1> 
> > 
> > 
>  | 530  |
> 
> +------------+---------------+------+
> 
> **è¾“å‡º:** 
> 
> +------------+---------------+------------+
> 
> | student_id | department_id | percentage |
> 
> +------------+---------------+------------+
> 
> | 7> 
> > 
>   | 1> 
> > 
> > 
>  | 0.0> 
> > 
> |
> 
> | 1> 
> > 
>   | 1> 
> > 
> > 
>  | 50.0> 
>    |
> 
> | 3> 
> > 
>   | 1> 
> > 
> > 
>  | 100.0> 
>   |
> 
> | 2> 
> > 
>   | 2> 
> > 
> > 
>  | 0.0> 
> > 
> |
> 
> | 8> 
> > 
>   | 2> 
> > 
> > 
>  | 0.0> 
> > 
> |
> 
> +------------+---------------+------------+
> 
> **è§£é‡Š:** 
> 
> å¯¹äºé™¢ç³» 1:
 > - å­¦ç”Ÿ 7:percentage = (1 - 1)* 100 / (3 - 1) = 0.0
 > - å­¦ç”Ÿ 1:percentage = (2 - 1)* 100 / (3 - 1) = 50.0
 > - å­¦ç”Ÿ 3:percentage = (3 - 1)* 100 / (3 - 1) = 100.0
> 
> å¯¹äºé™¢ç³» 2:
 > - å­¦ç”Ÿ 2: percentage = (1 - 1) * 100 / (2 - 1) = 0.0
 > - å­¦ç”Ÿ 8: percentage = (1 - 1) * 100 / (2 - 1) = 0.0
> 
> 


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```