---
title: 2077. æ®Šé€”åŒå½’ ğŸ”’
description: LeetCode,2077. æ®Šé€”åŒå½’ ğŸ”’,æ®Šé€”åŒå½’,Paths in Maze That Lead to Same Room,è§£é¢˜æ€è·¯,å›¾
keywords:
  - LeetCode
  - 2077. æ®Šé€”åŒå½’ ğŸ”’
  - æ®Šé€”åŒå½’
  - Paths in Maze That Lead to Same Room
  - è§£é¢˜æ€è·¯
  - å›¾
---

# 2077. æ®Šé€”åŒå½’ ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å›¾`](/tag/graph.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/paths-in-maze-that-lead-to-same-room) [`LeetCode`](https://leetcode.com/problems/paths-in-maze-that-lead-to-same-room)

## é¢˜ç›®

A maze consists of `n` rooms numbered from `1` to `n`, and some rooms are
connected by corridors. You are given a 2D integer array `corridors` where
`corridors[i] = [room1i, room2i]` indicates that there is a corridor
connecting `room1i` and `room2i`, allowing a person in the maze to go from
`room1i` to `room2i` **and vice versa**.

The designer of the maze wants to know how confusing the maze is. The
**confusion** **score** of the maze is the number of different cycles of
**length 3**.

  * For example, `1 -> 2 -> 3 -> 1` is a cycle of length 3, but `1 -> 2 -> 3 -> 4` and `1 -> 2 -> 3 -> 2 -> 1` are not.

Two cycles are considered to be **different** if one or more of the rooms
visited in the first cycle is **not** in the second cycle.

Return _the_ _**confusion****score** of the maze._



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2077.Paths%20in%20Maze%20That%20Lead%20to%20Same%20Room/images/image-20211114164827-1.png)

> Input: n = 5, corridors = [[1,2],[5,2],[4,1],[2,4],[3,1],[3,4]]
> 
> Output: 2
> 
> Explanation:
> 
> One cycle of length 3 is 4 -> 1 -> 3 -> 4, denoted in red.
> 
> Note that this is the same cycle as 3 -> 4 -> 1 -> 3 or 1 -> 3 -> 4 -> 1 because the rooms are the same.
> 
> Another cycle of length 3 is 1 -> 2 -> 4 -> 1, denoted in blue.
> 
> Thus, there are two different cycles of length 3.

**Example 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2077.Paths%20in%20Maze%20That%20Lead%20to%20Same%20Room/images/image-20211114164851-2.png)

> Input: n = 4, corridors = [[1,2],[3,4]]
> 
> Output: 0
> 
> Explanation:
> 
> There are no cycles of length 3.

**Constraints:**

  * `2 <= n <= 1000`
  * `1 <= corridors.length <= 5 * 10^4`
  * `corridors[i].length == 2`
  * `1 <= room1i, room2i <= n`
  * `room1i != room2i`
  * There are no duplicate corridors.


## é¢˜ç›®å¤§æ„

è¿·å®«ç”± `n` ä¸ªä» `1` åˆ° `n` çš„æˆ¿é—´ç»„æˆï¼Œæœ‰äº›æˆ¿é—´ç”±èµ°å»Šè¿æ¥ã€‚ç»™å®šä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ `corridors`ï¼Œå…¶ä¸­ `corridors[i] =
[room1i, room2i]` è¡¨ç¤ºæœ‰ä¸€æ¡èµ°å»Šè¿æ¥ `room1i` å’Œ`room2i`ï¼Œå…è®¸è¿·å®«ä¸­çš„ä¸€ä¸ªäººä» `room1i` åˆ° `room2i`
ï¼Œ**åä¹‹äº¦ç„¶** ã€‚

è¿·å®«çš„è®¾è®¡è€…æƒ³çŸ¥é“è¿·å®«æœ‰å¤šè®©äººå›°æƒ‘ã€‚è¿·å®«çš„ **æ··ä¹±åˆ†æ•°  **æ˜¯ **é•¿åº¦ä¸º 3** çš„ä¸åŒçš„ç¯çš„æ•°é‡ã€‚

  * ä¾‹å¦‚, `1 â†’ 2 â†’ 3 â†’ 1` æ˜¯é•¿åº¦ä¸º 3 çš„ç¯, ä½† `1 â†’ 2 â†’ 3 â†’ 4` å’Œ `1 â†’ 2 â†’ 3 â†’ 2 â†’ 1` ä¸æ˜¯ã€‚

å¦‚æœåœ¨ç¬¬ä¸€ä¸ªç¯ä¸­è®¿é—®çš„ä¸€ä¸ªæˆ–å¤šä¸ªæˆ¿é—´ **ä¸åœ¨  **ç¬¬äºŒä¸ªç¯ä¸­ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªç¯æ˜¯ **ä¸åŒ  **çš„ã€‚

è¿”å› _è¿·å®«çš„æ··ä¹±åˆ†æ•°_ ã€‚

**ç¤ºä¾‹ 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2077.Paths%20in%20Maze%20That%20Lead%20to%20Same%20Room/images/image-20211114164827-1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** n = 5, corridors = [[1,2],[5,2],[4,1],[2,4],[3,1],[3,4]]
> 
> **è¾“å‡º:** 2
> 
> **è§£é‡Š:**
> 
> ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„ç¯ä¸º 4â†’1â†’3â†’4ï¼Œç”¨çº¢è‰²è¡¨ç¤ºã€‚
> 
> æ³¨æ„ï¼Œè¿™æ˜¯ä¸ 3â†’4â†’1â†’3 æˆ– 1â†’3â†’4â†’1 ç›¸åŒçš„ç¯ï¼Œå› ä¸ºæˆ¿é—´æ˜¯ç›¸åŒçš„ã€‚
> 
> å¦ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„ç¯ä¸º 1â†’2â†’4â†’1ï¼Œç”¨è“è‰²è¡¨ç¤ºã€‚
> 
> å› æ­¤ï¼Œæœ‰ä¸¤ä¸ªé•¿åº¦ä¸º 3 çš„ä¸åŒçš„ç¯ã€‚
> 
> 

**ç¤ºä¾‹  2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2077.Paths%20in%20Maze%20That%20Lead%20to%20Same%20Room/images/image-20211114164851-2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** n = 4, corridors = [[1,2],[3,4]]
> 
> **è¾“å‡º:** 0
> 
> **è§£é‡Š:**
> 
> æ²¡æœ‰é•¿åº¦ä¸º 3 çš„ç¯ã€‚



**æç¤º:**

  * `2 <= n <= 1000`
  * `1 <= corridors.length <= 5 * 10^4`
  * `corridors[i].length == 2`
  * `1 <= room1i, room2i <= n`
  * `room1i != room2i`
  * æ²¡æœ‰é‡å¤çš„èµ°å»Šã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 323 | æ— å‘å›¾ä¸­è¿é€šåˆ†é‡çš„æ•°ç›® ğŸ”’ |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/tag/union-find.md) `1+` | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/number-of-connected-components-in-an-undirected-graph) [ğŸ”—](https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph) |
| 882 | ç»†åˆ†å›¾ä¸­çš„å¯åˆ°è¾¾èŠ‚ç‚¹ |  |  [`å›¾`](/tag/graph.md) [`æœ€çŸ­è·¯`](/tag/shortest-path.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md) | <font color=#ff334b>Hard</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/reachable-nodes-in-subdivided-graph) [ğŸ”—](https://leetcode.com/problems/reachable-nodes-in-subdivided-graph) |
| 1971 | å¯»æ‰¾å›¾ä¸­æ˜¯å¦å­˜åœ¨è·¯å¾„ |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/tag/union-find.md) `1+` | <font color=#15bd66>Easy</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/find-if-path-exists-in-graph) [ğŸ”—](https://leetcode.com/problems/find-if-path-exists-in-graph) |
| 2204 | æ— å‘å›¾ä¸­åˆ°ç¯çš„è·ç¦» ğŸ”’ |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/tag/union-find.md) `1+` | <font color=#ff334b>Hard</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/distance-to-a-cycle-in-undirected-graph) [ğŸ”—](https://leetcode.com/problems/distance-to-a-cycle-in-undirected-graph) |