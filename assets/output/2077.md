---
title: 2077. 殊途同归 🔒
description: LeetCode 2077. 殊途同归 🔒题解，Paths in Maze That Lead to Same Room，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 2077. 殊途同归 🔒
  - 殊途同归
  - Paths in Maze That Lead to Same Room
  - 解题思路
  - 图
---

# 2077. 殊途同归 🔒

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`图`](/tag/graph.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/paths-in-maze-that-lead-to-same-room) [`LeetCode`](https://leetcode.com/problems/paths-in-maze-that-lead-to-same-room)

## 题目

A maze consists of `n` rooms numbered from `1` to `n`, and some rooms are
connected by corridors. You are given a 2D integer array `corridors` where
`corridors[i] = [room1i, room2i]` indicates that there is a corridor
connecting `room1i` and `room2i`, allowing a person in the maze to go from
`room1i` to `room2i` **and vice versa**.

The designer of the maze wants to know how confusing the maze is. The
**confusion** **score** of the maze is the number of different cycles of
**length 3**.

  * For example, `1 -> 2 -> 3 -> 1` is a cycle of length 3, but `1 -> 2 -> 3 -> 4` and `1 -> 2 -> 3 -> 2 -> 1` are not.

Two cycles are considered to be **different** if one or more of the rooms
visited in the first cycle is **not** in the second cycle.

Return _the_ _**confusion****score** of the maze._



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2077.Paths%20in%20Maze%20That%20Lead%20to%20Same%20Room/images/image-20211114164827-1.png)

> Input: n = 5, corridors = [[1,2],[5,2],[4,1],[2,4],[3,1],[3,4]]
> 
> Output: 2
> 
> Explanation:
> 
> One cycle of length 3 is 4 -> 1 -> 3 -> 4, denoted in red.
> 
> Note that this is the same cycle as 3 -> 4 -> 1 -> 3 or 1 -> 3 -> 4 -> 1 because the rooms are the same.
> 
> Another cycle of length 3 is 1 -> 2 -> 4 -> 1, denoted in blue.
> 
> Thus, there are two different cycles of length 3.

**Example 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2077.Paths%20in%20Maze%20That%20Lead%20to%20Same%20Room/images/image-20211114164851-2.png)

> Input: n = 4, corridors = [[1,2],[3,4]]
> 
> Output: 0
> 
> Explanation:
> 
> There are no cycles of length 3.

**Constraints:**

  * `2 <= n <= 1000`
  * `1 <= corridors.length <= 5 * 10^4`
  * `corridors[i].length == 2`
  * `1 <= room1i, room2i <= n`
  * `room1i != room2i`
  * There are no duplicate corridors.


## 题目大意

迷宫由 `n` 个从 `1` 到 `n` 的房间组成，有些房间由走廊连接。给定一个二维整数数组 `corridors`，其中 `corridors[i] =
[room1i, room2i]` 表示有一条走廊连接 `room1i` 和`room2i`，允许迷宫中的一个人从 `room1i` 到 `room2i`
，**反之亦然** 。

迷宫的设计者想知道迷宫有多让人困惑。迷宫的 **混乱分数  **是 **长度为 3** 的不同的环的数量。

  * 例如, `1 → 2 → 3 → 1` 是长度为 3 的环, 但 `1 → 2 → 3 → 4` 和 `1 → 2 → 3 → 2 → 1` 不是。

如果在第一个环中访问的一个或多个房间 **不在  **第二个环中，则认为两个环是 **不同  **的。

返回 _迷宫的混乱分数_ 。

**示例 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2077.Paths%20in%20Maze%20That%20Lead%20to%20Same%20Room/images/image-20211114164827-1.png)

> 
> 
> 
> 
> 
> **输入:** n = 5, corridors = [[1,2],[5,2],[4,1],[2,4],[3,1],[3,4]]
> 
> **输出:** 2
> 
> **解释:**
> 
> 一个长度为 3 的环为 4→1→3→4，用红色表示。
> 
> 注意，这是与 3→4→1→3 或 1→3→4→1 相同的环，因为房间是相同的。
> 
> 另一个长度为 3 的环为 1→2→4→1，用蓝色表示。
> 
> 因此，有两个长度为 3 的不同的环。
> 
> 

**示例  2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2077.Paths%20in%20Maze%20That%20Lead%20to%20Same%20Room/images/image-20211114164851-2.png)

> 
> 
> 
> 
> 
> **输入:** n = 4, corridors = [[1,2],[3,4]]
> 
> **输出:** 0
> 
> **解释:**
> 
> 没有长度为 3 的环。



**提示:**

  * `2 <= n <= 1000`
  * `1 <= corridors.length <= 5 * 10^4`
  * `corridors[i].length == 2`
  * `1 <= room1i, room2i <= n`
  * `room1i != room2i`
  * 没有重复的走廊。


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 323 | 无向图中连通分量的数目 🔒 |  |  [`深度优先搜索`](/tag/depth-first-search.md) [`广度优先搜索`](/tag/breadth-first-search.md) [`并查集`](/tag/union-find.md) `1+` | 🟠 | [🀄️](https://leetcode.cn/problems/number-of-connected-components-in-an-undirected-graph) [🔗](https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph) |
| 882 | 细分图中的可到达节点 |  |  [`图`](/tag/graph.md) [`最短路`](/tag/shortest-path.md) [`堆（优先队列）`](/tag/heap-priority-queue.md) | 🔴 | [🀄️](https://leetcode.cn/problems/reachable-nodes-in-subdivided-graph) [🔗](https://leetcode.com/problems/reachable-nodes-in-subdivided-graph) |
| 1971 | 寻找图中是否存在路径 | [[✓]](/problem/1971.md) |  [`深度优先搜索`](/tag/depth-first-search.md) [`广度优先搜索`](/tag/breadth-first-search.md) [`并查集`](/tag/union-find.md) `1+` | 🟢 | [🀄️](https://leetcode.cn/problems/find-if-path-exists-in-graph) [🔗](https://leetcode.com/problems/find-if-path-exists-in-graph) |
| 2204 | 无向图中到环的距离 🔒 |  |  [`深度优先搜索`](/tag/depth-first-search.md) [`广度优先搜索`](/tag/breadth-first-search.md) [`并查集`](/tag/union-find.md) `1+` | 🔴 | [🀄️](https://leetcode.cn/problems/distance-to-a-cycle-in-undirected-graph) [🔗](https://leetcode.com/problems/distance-to-a-cycle-in-undirected-graph) |