# [2147. åˆ†éš”é•¿å»Šçš„æ–¹æ¡ˆæ•°](https://leetcode.com/problems/number-of-ways-to-divide-a-long-corridor)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°å­¦`](/leetcode/outline/tag/math.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/number-of-ways-to-divide-a-long-corridor)


## é¢˜ç›®

Along a long library corridor, there is a line of seats and decorative plants.
You are given a **0-indexed** string `corridor` of length `n` consisting of
letters `'S'` and `'P'` where each `'S'` represents a seat and each `'P'`
represents a plant.

One room divider has **already** been installed to the left of index `0`, and
**another** to the right of index `n - 1`. Additional room dividers can be
installed. For each position between indices `i - 1` and `i` (`1 <= i <= n -
1`), at most one divider can be installed.

Divide the corridor into non-overlapping sections, where each section has
**exactly two seats** with any number of plants. There may be multiple ways to
perform the division. Two ways are **different** if there is a position with a
room divider installed in the first way but not in the second way.

Return _the number of ways to divide the corridor_. Since the answer may be
very large, return it **modulo** `109 + 7`. If there is no way, return `0`.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/12/04/1.png)

> Input: corridor = "SSPPSPS"
> 
> Output: 3
> 
> Explanation: There are 3 different ways to divide the corridor.
> 
> The black bars in the above image indicate the two room dividers already installed.
> 
> Note that in each of the ways, **each** section has exactly **two** seats.

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/12/04/2.png)

> Input: corridor = "PPSPSP"
> 
> Output: 1
> 
> Explanation: There is only 1 way to divide the corridor, by not installing any additional dividers.
> 
> Installing any would create some section that does not have exactly two seats.

**Example 3:**

![](https://assets.leetcode.com/uploads/2021/12/12/3.png)

> Input: corridor = "S"
> 
> Output: 0
> 
> Explanation: There is no way to divide the corridor because there will always be a section that does not have exactly two seats.

**Constraints:**

  * `n == corridor.length`
  * `1 <= n <= 10^5`
  * `corridor[i]` is either `'S'` or `'P'`.


## é¢˜ç›®å¤§æ„

åœ¨ä¸€ä¸ªå›¾ä¹¦é¦†çš„é•¿å»Šé‡Œï¼Œæœ‰ä¸€äº›åº§ä½å’Œè£…é¥°æ¤ç‰©æ’æˆä¸€åˆ—ã€‚ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹ï¼Œé•¿åº¦ä¸º `n` çš„å­—ç¬¦ä¸² `corridor` ï¼Œå®ƒåŒ…å«å­—æ¯
`'S'` å’Œ `'P'` ï¼Œå…¶ä¸­æ¯ä¸ª `'S'` è¡¨ç¤ºä¸€ä¸ªåº§ä½ï¼Œæ¯ä¸ª `'P'` è¡¨ç¤ºä¸€æ ªæ¤ç‰©ã€‚

åœ¨ä¸‹æ ‡ `0` çš„å·¦è¾¹å’Œä¸‹æ ‡ `n - 1` çš„å³è¾¹ **å·²ç»**  åˆ†åˆ«å„æ”¾äº†ä¸€ä¸ªå±é£ã€‚ä½ è¿˜éœ€è¦é¢å¤–æ”¾ç½®ä¸€äº›å±é£ã€‚æ¯ä¸€ä¸ªä½ç½® `i - 1` å’Œ `i`
ä¹‹é—´ï¼ˆ`1 <= i <= n - 1`ï¼‰ï¼Œè‡³å¤šèƒ½æ”¾ä¸€ä¸ªå±é£ã€‚

è¯·ä½ å°†èµ°å»Šç”¨å±é£åˆ’åˆ†ä¸ºè‹¥å¹²æ®µï¼Œä¸”æ¯ä¸€æ®µå†…éƒ½ **æ°å¥½æœ‰ä¸¤ä¸ªåº§ä½**
ï¼Œè€Œæ¯ä¸€æ®µå†…æ¤ç‰©çš„æ•°ç›®æ²¡æœ‰è¦æ±‚ã€‚å¯èƒ½æœ‰å¤šç§åˆ’åˆ†æ–¹æ¡ˆï¼Œå¦‚æœä¸¤ä¸ªæ–¹æ¡ˆä¸­æœ‰ä»»ä½•ä¸€ä¸ªå±é£çš„ä½ç½®ä¸åŒï¼Œé‚£ä¹ˆå®ƒä»¬è¢«è§†ä¸º **ä¸åŒ** æ–¹æ¡ˆã€‚

è¯·ä½ è¿”å›åˆ’åˆ†èµ°å»Šçš„æ–¹æ¡ˆæ•°ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·ä½ è¿”å›å®ƒå¯¹ `109 + 7` **å–ä½™**  çš„ç»“æœã€‚å¦‚æœæ²¡æœ‰ä»»ä½•æ–¹æ¡ˆï¼Œè¯·è¿”å› `0` ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/12/04/1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** corridor = "SSPPSPS"
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** æ€»å…±æœ‰ 3 ç§ä¸åŒåˆ†éš”èµ°å»Šçš„æ–¹æ¡ˆã€‚
> 
> ä¸Šå›¾ä¸­é»‘è‰²çš„ç«–çº¿è¡¨ç¤ºå·²ç»æ”¾ç½®å¥½çš„å±é£ã€‚
> 
> ä¸Šå›¾æ¯ç§æ–¹æ¡ˆä¸­ï¼Œæ¯ä¸€æ®µéƒ½æ°å¥½æœ‰ **ä¸¤ä¸ª**  åº§ä½ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/12/04/2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** corridor = "PPSPSP"
> 
> **è¾“å‡ºï¼š** 1
> 
> **è§£é‡Šï¼š** åªæœ‰ 1 ç§åˆ†éš”èµ°å»Šçš„æ–¹æ¡ˆï¼Œå°±æ˜¯ä¸æ”¾ç½®ä»»ä½•å±é£ã€‚
> 
> æ”¾ç½®ä»»ä½•çš„å±é£éƒ½ä¼šå¯¼è‡´æœ‰ä¸€æ®µæ— æ³•æ°å¥½æœ‰ 2 ä¸ªåº§ä½ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode.com/uploads/2021/12/12/3.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** corridor = "S"
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š** æ²¡æœ‰ä»»ä½•æ–¹æ¡ˆï¼Œå› ä¸ºæ€»æ˜¯æœ‰ä¸€æ®µæ— æ³•æ°å¥½æœ‰ 2 ä¸ªåº§ä½ã€‚
> 
> 



**æç¤ºï¼š**

  * `n == corridor.length`
  * `1 <= n <= 10^5`
  * `corridor[i]` è¦ä¹ˆæ˜¯ `'S'` ï¼Œè¦ä¹ˆæ˜¯ `'P'` ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 639 | [è§£ç æ–¹æ³• II](https://leetcode.com/problems/decode-ways-ii) |  |  [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> |
| 1547 | [åˆ‡æ£å­çš„æœ€å°æˆæœ¬](https://leetcode.com/problems/minimum-cost-to-cut-a-stick) |  |  [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md) [`æ’åº`](/leetcode/outline/tag/sorting.md) | <font color=#ff334b>Hard</font> |
| 1712 | [å°†æ•°ç»„åˆ†æˆä¸‰ä¸ªå­æ•°ç»„çš„æ–¹æ¡ˆæ•°](https://leetcode.com/problems/ways-to-split-array-into-three-subarrays) |  |  [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŒæŒ‡é’ˆ`](/leetcode/outline/tag/two-pointers.md) [`äºŒåˆ†æŸ¥æ‰¾`](/leetcode/outline/tag/binary-search.md) `1+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
