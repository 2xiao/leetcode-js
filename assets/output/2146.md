# [2146. ä»·æ ¼èŒƒå›´å†…æœ€é«˜æ’åçš„ K æ ·ç‰©å“](https://leetcode.com/problems/k-highest-ranked-items-within-a-price-range)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/breadth-first-search.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`çŸ©é˜µ`](/leetcode/outline/tag/matrix.md) [`æ’åº`](/leetcode/outline/tag/sorting.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/leetcode/outline/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/k-highest-ranked-items-within-a-price-range)


## é¢˜ç›®

You are given a **0-indexed** 2D integer array `grid` of size `m x n` that
represents a map of the items in a shop. The integers in the grid represent
the following:

  * `0` represents a wall that you cannot pass through.
  * `1` represents an empty cell that you can freely move to and from.
  * All other positive integers represent the price of an item in that cell. You may also freely move to and from these item cells.

It takes `1` step to travel between adjacent grid cells.

You are also given integer arrays `pricing` and `start` where `pricing = [low,
high]` and `start = [row, col]` indicates that you start at the position
`(row, col)` and are interested only in items with a price in the range of
`[low, high]` (**inclusive**). You are further given an integer `k`.

You are interested in the **positions** of the `k` **highest-ranked** items
whose prices are **within** the given price range. The rank is determined by
the **first** of these criteria that is different:

  1. Distance, defined as the length of the shortest path from the `start` (**shorter** distance has a higher rank).
  2. Price (**lower** price has a higher rank, but it must be **in the price range**).
  3. The row number (**smaller** row number has a higher rank).
  4. The column number (**smaller** column number has a higher rank).

Return _the_`k` _highest-ranked items within the price range**sorted** by
their rank (highest to lowest)_. If there are fewer than `k` reachable items
within the price range, return _**all** of them_.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/12/16/example1drawio.png)

> Input: grid = [[1,2,0,1],[1,3,0,1],[0,2,5,1]], pricing = [2,5], start = [0,0], k = 3
> 
> Output: [[0,1],[1,1],[2,1]]
> 
> Explanation: You start at (0,0).
> 
> With a price range of [2,5], we can take items from (0,1), (1,1), (2,1) and (2,2).
> 
> The ranks of these items are:
> - (0,1) with distance 1
> - (1,1) with distance 2
> - (2,1) with distance 3
> - (2,2) with distance 4
> 
> Thus, the 3 highest ranked items in the price range are (0,1), (1,1), and (2,1).

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/12/16/example2drawio1.png)

> Input: grid = [[1,2,0,1],[1,3,3,1],[0,2,5,1]], pricing = [2,3], start = [2,3], k = 2
> 
> Output: [[2,1],[1,2]]
> 
> Explanation: You start at (2,3).
> 
> With a price range of [2,3], we can take items from (0,1), (1,1), (1,2) and (2,1).
> 
> The ranks of these items are:
> - (2,1) with distance 2, price 2
> - (1,2) with distance 2, price 3
> - (1,1) with distance 3
> - (0,1) with distance 4
> 
> Thus, the 2 highest ranked items in the price range are (2,1) and (1,2).

**Example 3:**

![](https://assets.leetcode.com/uploads/2021/12/30/example3.png)

> Input: grid = [[1,1,1],[0,0,1],[2,3,4]], pricing = [2,3], start = [0,0], k = 3
> 
> Output: [[2,1],[2,0]]
> 
> Explanation: You start at (0,0).
> 
> With a price range of [2,3], we can take items from (2,0) and (2,1). 
> 
> The ranks of these items are: 
> - (2,1) with distance 5
> - (2,0) with distance 6
> 
> Thus, the 2 highest ranked items in the price range are (2,1) and (2,0). 
> 
> Note that k = 3 but there are only 2 reachable items within the price range.

**Constraints:**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m, n <= 10^5`
  * `1 <= m * n <= 10^5`
  * `0 <= grid[i][j] <= 10^5`
  * `pricing.length == 2`
  * `2 <= low <= high <= 10^5`
  * `start.length == 2`
  * `0 <= row <= m - 1`
  * `0 <= col <= n - 1`
  * `grid[row][col] > 0`
  * `1 <= k <= m * n`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹çš„äºŒç»´æ•´æ•°æ•°ç»„ `grid` ï¼Œå®ƒçš„å¤§å°ä¸º `m x n` ï¼Œè¡¨ç¤ºä¸€ä¸ªå•†åº—ä¸­ç‰©å“çš„åˆ†å¸ƒå›¾ã€‚æ•°ç»„ä¸­çš„æ•´æ•°å«ä¹‰ä¸ºï¼š

  * `0` è¡¨ç¤ºæ— æ³•ç©¿è¶Šçš„ä¸€å µå¢™ã€‚
  * `1` è¡¨ç¤ºå¯ä»¥è‡ªç”±é€šè¿‡çš„ä¸€ä¸ªç©ºæ ¼å­ã€‚
  * æ‰€æœ‰å…¶ä»–æ­£æ•´æ•°è¡¨ç¤ºè¯¥æ ¼å­å†…çš„ä¸€æ ·ç‰©å“çš„ä»·æ ¼ã€‚ä½ å¯ä»¥è‡ªç”±ç»è¿‡è¿™äº›æ ¼å­ã€‚

ä»ä¸€ä¸ªæ ¼å­èµ°åˆ°ä¸Šä¸‹å·¦å³ç›¸é‚»æ ¼å­èŠ±è´¹ `1` æ­¥ã€‚

åŒæ—¶ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `pricing` å’Œ `start` ï¼Œå…¶ä¸­ `pricing = [low, high]` ä¸” `start = [row,
col]` ï¼Œè¡¨ç¤ºä½ å¼€å§‹ä½ç½®ä¸º `(row, col)` ï¼ŒåŒæ—¶ä½ åªå¯¹ç‰©å“ä»·æ ¼åœ¨**  é—­åŒºé—´** `[low, high]`
ä¹‹å†…çš„ç‰©å“æ„Ÿå…´è¶£ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªæ•´æ•° `k` ã€‚

ä½ æƒ³çŸ¥é“ç»™å®šèŒƒå›´ **å†…**  ä¸” **æ’åæœ€é«˜**  çš„ `k` ä»¶ç‰©å“çš„ **ä½ç½®**  ã€‚æ’åæŒ‰ç…§ä¼˜å…ˆçº§ä»é«˜åˆ°ä½çš„ä»¥ä¸‹è§„åˆ™åˆ¶å®šï¼š

  1. è·ç¦»ï¼šå®šä¹‰ä¸ºä» `start` åˆ°ä¸€ä»¶ç‰©å“çš„æœ€çŸ­è·¯å¾„éœ€è¦çš„æ­¥æ•°ï¼ˆ**è¾ƒè¿‘**  è·ç¦»çš„æ’åæ›´é«˜ï¼‰ã€‚
  2. ä»·æ ¼ï¼š**è¾ƒä½**  ä»·æ ¼çš„ç‰©å“æœ‰æ›´é«˜ä¼˜å…ˆçº§ï¼Œä½†åªè€ƒè™‘åœ¨ç»™å®šèŒƒå›´ä¹‹å†…çš„ä»·æ ¼ã€‚
  3. è¡Œåæ ‡ï¼š**è¾ƒå°**  è¡Œåæ ‡çš„æœ‰æ›´é«˜ä¼˜å…ˆçº§ã€‚
  4. åˆ—åæ ‡ï¼š**è¾ƒå°**  åˆ—åæ ‡çš„æœ‰æ›´é«˜ä¼˜å…ˆçº§ã€‚

è¯·ä½ è¿”å›ç»™å®šä»·æ ¼å†…æ’åæœ€é«˜çš„ `k` ä»¶ç‰©å“çš„åæ ‡ï¼Œå°†å®ƒä»¬æŒ‰ç…§æ’åæ’åºåè¿”å›ã€‚å¦‚æœç»™å®šä»·æ ¼å†…å°‘äº `k` ä»¶ç‰©å“ï¼Œé‚£ä¹ˆè¯·å°†å®ƒä»¬çš„åæ ‡ **å…¨éƒ¨**  è¿”å›ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/12/16/example1drawio.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[1,2,0,1],[1,3,0,1],[0,2,5,1]], pricing = [2,5], start = [0,0], k = 3
> 
> **è¾“å‡ºï¼š**[[0,1],[1,1],[2,1]]
> 
> **è§£é‡Šï¼š** èµ·ç‚¹ä¸º (0,0) ã€‚
> 
> ä»·æ ¼èŒƒå›´ä¸º [2,5] ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©çš„ç‰©å“åæ ‡ä¸º (0,1)ï¼Œ(1,1)ï¼Œ(2,1) å’Œ (2,2) ã€‚
> 
> è¿™äº›ç‰©å“çš„æ’åä¸ºï¼š
> - (0,1) è·ç¦»ä¸º 1
> - (1,1) è·ç¦»ä¸º 2
> - (2,1) è·ç¦»ä¸º 3
> - (2,2) è·ç¦»ä¸º 4
> 
> æ‰€ä»¥ï¼Œç»™å®šä»·æ ¼èŒƒå›´å†…æ’åæœ€é«˜çš„ 3 ä»¶ç‰©å“çš„åæ ‡ä¸º (0,1)ï¼Œ(1,1) å’Œ (2,1) ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/12/16/example2drawio1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[1,2,0,1],[1,3,3,1],[0,2,5,1]], pricing = [2,3], start = [2,3], k = 2
> 
> **è¾“å‡ºï¼š**[[2,1],[1,2]]
> 
> **è§£é‡Šï¼š** èµ·ç‚¹ä¸º (2,3) ã€‚
> 
> ä»·æ ¼èŒƒå›´ä¸º [2,3] ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©çš„ç‰©å“åæ ‡ä¸º (0,1)ï¼Œ(1,1)ï¼Œ(1,2) å’Œ (2,1) ã€‚
> 
> è¿™äº›ç‰©å“çš„æ’åä¸ºï¼š 
> - (2,1) è·ç¦»ä¸º 2 ï¼Œä»·æ ¼ä¸º 2
> - (1,2) è·ç¦»ä¸º 2 ï¼Œä»·æ ¼ä¸º 3
> - (1,1) è·ç¦»ä¸º 3
> - (0,1) è·ç¦»ä¸º 4
> 
> æ‰€ä»¥ï¼Œç»™å®šä»·æ ¼èŒƒå›´å†…æ’åæœ€é«˜çš„ 2 ä»¶ç‰©å“çš„åæ ‡ä¸º (2,1) å’Œ (1,2) ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode.com/uploads/2021/12/30/example3.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[1,1,1],[0,0,1],[2,3,4]], pricing = [2,3], start = [0,0], k = 3
> 
> **è¾“å‡ºï¼š**[[2,1],[2,0]]
> 
> **è§£é‡Šï¼š** èµ·ç‚¹ä¸º (0,0) ã€‚
> 
> ä»·æ ¼èŒƒå›´ä¸º [2,3] ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©çš„ç‰©å“åæ ‡ä¸º (2,0) å’Œ (2,1) ã€‚
> 
> è¿™äº›ç‰©å“çš„æ’åä¸ºï¼š
> - (2,1) è·ç¦»ä¸º 5
> - (2,0) è·ç¦»ä¸º 6
> 
> æ‰€ä»¥ï¼Œç»™å®šä»·æ ¼èŒƒå›´å†…æ’åæœ€é«˜çš„ 2 ä»¶ç‰©å“çš„åæ ‡ä¸º (2,1) å’Œ (2,0) ã€‚
> 
> æ³¨æ„ï¼Œk = 3 ä½†ç»™å®šä»·æ ¼èŒƒå›´å†…åªæœ‰ 2 ä»¶ç‰©å“ã€‚
> 
> 



**æç¤ºï¼š**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m, n <= 10^5`
  * `1 <= m * n <= 10^5`
  * `0 <= grid[i][j] <= 10^5`
  * `pricing.length == 2`
  * `2 <= low <= high <= 10^5`
  * `start.length == 2`
  * `0 <= row <= m - 1`
  * `0 <= col <= n - 1`
  * `grid[row][col] > 0`
  * `1 <= k <= m * n`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ ](./0215.md)
- [1162. åœ°å›¾åˆ†æ](https://leetcode.com/problems/as-far-from-land-as-possible)
- [2512. å¥–åŠ±æœ€é¡¶å°–çš„ K åå­¦ç”Ÿ](https://leetcode.com/problems/reward-top-k-students)

::::
