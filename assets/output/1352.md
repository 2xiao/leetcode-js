# [1352. æœ€å K ä¸ªæ•°çš„ä¹˜ç§¯](https://2xiao.github.io/leetcode-js/problem/1352.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`é˜Ÿåˆ—`](/tag/queue.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`æ•°æ®æµ`](/tag/data-stream.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/product-of-the-last-k-numbers) [`LeetCode`](https://leetcode.com/problems/product-of-the-last-k-numbers)

## é¢˜ç›®

Design an algorithm that accepts a stream of integers and retrieves the
product of the last `k` integers of the stream.

Implement the `ProductOfNumbers` class:

  * `ProductOfNumbers()` Initializes the object with an empty stream.
  * `void add(int num)` Appends the integer `num` to the stream.
  * `int getProduct(int k)` Returns the product of the last `k` numbers in the current list. You can assume that always the current list has at least `k` numbers.

The test cases are generated so that, at any time, the product of any
contiguous sequence of numbers will fit into a single 32-bit integer without
overflowing.



**Example:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["ProductOfNumbers","add","add","add","add","add","getProduct","getProduct","getProduct","add","getProduct"]
> 
> [[],[3],[0],[2],[5],[4],[2],[3],[4],[8],[2]]
> 
> 
> 
> **Output**
> 
> [null,null,null,null,null,null,20,40,0,null,32]
> 
> 
> 
> **Explanation**
> 
> ProductOfNumbers productOfNumbers = new ProductOfNumbers();
> 
> productOfNumbers.add(3);> 
> > 
> // [3]
> 
> productOfNumbers.add(0);> 
> > 
> // [3,0]
> 
> productOfNumbers.add(2);> 
> > 
> // [3,0,2]
> 
> productOfNumbers.add(5);> 
> > 
> // [3,0,2,5]
> 
> productOfNumbers.add(4);> 
> > 
> // [3,0,2,5,4]
> 
> productOfNumbers.getProduct(2); // return 20. The product of the last 2 numbers is 5 * 4 = 20
> 
> productOfNumbers.getProduct(3); // return 40. The product of the last 3 numbers is 2 * 5 * 4 = 40
> 
> productOfNumbers.getProduct(4); // return 0. The product of the last 4 numbers is 0 * 2 * 5 * 4 = 0
> 
> productOfNumbers.add(8);> 
> > 
> // [3,0,2,5,4,8]
> 
> productOfNumbers.getProduct(2); // return 32. The product of the last 2 numbers is 4 * 8 = 32 

**Constraints:**

  * `0 <= num <= 100`
  * `1 <= k <= 4 * 10^4`
  * At most `4 * 10^4` calls will be made to `add` and `getProduct`.
  * The product of the stream at any point in time will fit in a **32-bit** integer.


## é¢˜ç›®å¤§æ„

è¯·ä½ å®ç°ä¸€ä¸ªã€Œæ•°å­—ä¹˜ç§¯ç±»ã€`ProductOfNumbers`ï¼Œè¦æ±‚æ”¯æŒä¸‹è¿°ä¸¤ç§æ–¹æ³•ï¼š

1.` add(int num)`

  * å°†æ•°å­— `num` æ·»åŠ åˆ°å½“å‰æ•°å­—åˆ—è¡¨çš„æœ€åé¢ã€‚

2.` getProduct(int k)`

  * è¿”å›å½“å‰æ•°å­—åˆ—è¡¨ä¸­ï¼Œæœ€å `k` ä¸ªæ•°å­—çš„ä¹˜ç§¯ã€‚
  * ä½ å¯ä»¥å‡è®¾å½“å‰åˆ—è¡¨ä¸­å§‹ç»ˆ **è‡³å°‘** åŒ…å« `k` ä¸ªæ•°å­—ã€‚

é¢˜ç›®æ•°æ®ä¿è¯ï¼šä»»ä½•æ—¶å€™ï¼Œä»»ä¸€è¿ç»­æ•°å­—åºåˆ—çš„ä¹˜ç§¯éƒ½åœ¨ 32-bit æ•´æ•°èŒƒå›´å†…ï¼Œä¸ä¼šæº¢å‡ºã€‚



**ç¤ºä¾‹ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> ["ProductOfNumbers","add","add","add","add","add","getProduct","getProduct","getProduct","add","getProduct"]
> 
> [[],[3],[0],[2],[5],[4],[2],[3],[4],[8],[2]]
> 
> 
> 
> **è¾“å‡ºï¼š**
> 
> [null,null,null,null,null,null,20,40,0,null,32]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> ProductOfNumbers productOfNumbers = new ProductOfNumbers();
> 
> productOfNumbers.add(3);> 
> > 
> // [3]
> 
> productOfNumbers.add(0);> 
> > 
> // [3,0]
> 
> productOfNumbers.add(2);> 
> > 
> // [3,0,2]
> 
> productOfNumbers.add(5);> 
> > 
> // [3,0,2,5]
> 
> productOfNumbers.add(4);> 
> > 
> // [3,0,2,5,4]
> 
> productOfNumbers.getProduct(2); // è¿”å› 20 ã€‚æœ€å 2 ä¸ªæ•°å­—çš„ä¹˜ç§¯æ˜¯ 5 * 4 = 20
> 
> productOfNumbers.getProduct(3); // è¿”å› 40 ã€‚æœ€å 3 ä¸ªæ•°å­—çš„ä¹˜ç§¯æ˜¯ 2 * 5 * 4 = 40
> 
> productOfNumbers.getProduct(4); // è¿”å›  0 ã€‚æœ€å 4 ä¸ªæ•°å­—çš„ä¹˜ç§¯æ˜¯ 0 * 2 * 5 * 4 = 0
> 
> productOfNumbers.add(8);> 
> > 
> // [3,0,2,5,4,8]
> 
> productOfNumbers.getProduct(2); // è¿”å› 32 ã€‚æœ€å 2 ä¸ªæ•°å­—çš„ä¹˜ç§¯æ˜¯ 4 * 8 = 32 
> 
> 



**æç¤ºï¼š**

  * `add` å’Œ `getProduct` ä¸¤ç§æ“ä½œåŠ èµ·æ¥æ€»å…±ä¸ä¼šè¶…è¿‡ `40000` æ¬¡ã€‚
  * `0 <= num <= 100`
  * `1 <= k <= 40000`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```