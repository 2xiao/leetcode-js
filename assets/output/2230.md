---
title: 2230. æŸ¥æ‰¾å¯äº«å—ä¼˜æƒ çš„ç”¨æˆ· ğŸ”’
description: LeetCode 2230. æŸ¥æ‰¾å¯äº«å—ä¼˜æƒ çš„ç”¨æˆ· ğŸ”’é¢˜è§£ï¼ŒThe Users That Are Eligible for Discountï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2230. æŸ¥æ‰¾å¯äº«å—ä¼˜æƒ çš„ç”¨æˆ· ğŸ”’
  - æŸ¥æ‰¾å¯äº«å—ä¼˜æƒ çš„ç”¨æˆ·
  - The Users That Are Eligible for Discount
  - è§£é¢˜æ€è·¯
  - æ•°æ®åº“
---

# 2230. æŸ¥æ‰¾å¯äº«å—ä¼˜æƒ çš„ç”¨æˆ· ğŸ”’

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°æ®åº“`](/tag/database.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/the-users-that-are-eligible-for-discount) [`LeetCode`](https://leetcode.com/problems/the-users-that-are-eligible-for-discount)

## é¢˜ç›®

Table: `Purchases`

> 
> 
> 
> 
> 
> +-------------+----------+
> 
> | Column Name | Type> 
>  |
> 
> +-------------+----------+
> 
> | user_id> 
>  | int> 
>   |
> 
> | time_stamp  | datetime |
> 
> | amount> 
>   | int> 
>   |
> 
> +-------------+----------+
> 
> (user_id, time_stamp) is the primary key (combination of columns with unique values) for this table.
> 
> Each row contains information about the purchase time and the amount paid for the user with ID user_id.
> 
> 



A user is eligible for a discount if they had a purchase in the inclusive
interval of time `[startDate, endDate]` with at least `minAmount` amount. To
convert the dates to times, both dates should be considered as the **start**
of the day (i.e., `endDate = 2022-03-05` should be considered as the time
`2022-03-05 00:00:00`).

Write a solution to report the IDs of the users that are eligible for a
discount.

Return the result table ordered by `user_id`.

The result format is in the following example.



**Example 1:**

> Input:
> 
> Purchases table:
> 
> +---------+---------------------+--------+
> 
> | user_id | time_stamp> 
> > 
>   | amount |
> 
> +---------+---------------------+--------+
> 
> | 1> 
>    | 2022-04-20 09:03:00 | 4416   |
> 
> | 2> 
>    | 2022-03-19 19:24:02 | 678> 
> |
> 
> | 3> 
>    | 2022-03-18 12:03:09 | 4523   |
> 
> | 3> 
>    | 2022-03-30 09:43:42 | 626> 
> |
> 
> +---------+---------------------+--------+
> 
> startDate = 2022-03-08, endDate = 2022-03-20, minAmount = 1000
> 
> Output:
> 
> +---------+
> 
> | user_id |
> 
> +---------+
> 
> | 3> 
>    |
> 
> +---------+
> 
> Explanation:
> 
> Out of the three users, only User 3 is eligible for a discount.
 > - User 1 had one purchase with at least minAmount amount, but not within the time interval.
 > - User 2 had one purchase within the time interval, but with less than minAmount amount.
 > - User 3 is the only user who had a purchase that satisfies both conditions.
> 
> 



**Important Note:** This problem is basically the same as [The Number of Users
That Are Eligible for Discount](https://leetcode.com/problems/the-number-of-
users-that-are-eligible-for-discount/).


## é¢˜ç›®å¤§æ„

Table: `Purchases`

> 
> 
> 
> 
> 
> +-------------+----------+
> 
> | Column Name | Type> 
>  |
> 
> +-------------+----------+
> 
> | user_id> 
>  | int> 
>   |
> 
> | time_stamp  | datetime |
> 
> | amount> 
>   | int> 
>   |
> 
> +-------------+----------+
> 
> (user_id, time_stamp)æ˜¯æ­¤è¡¨çš„ä¸»é”®ï¼ˆä¸åŒå€¼çš„åˆ—çš„ç»„åˆï¼‰ã€‚
> 
> æ¯ä¸€è¡Œéƒ½åŒ…å«æœ‰å…³è´­ä¹°æ—¶é—´å’Œç”¨æˆ· ID user_id ä»¥åŠè´­ä¹°çš„æ•°é‡çš„ä¿¡æ¯ã€‚
> 
> 

å¦‚æœç”¨æˆ·åœ¨åŒ…å«æ—¶é—´é—´éš” `[startDateï¼ŒendDate]` å†…è´­ä¹°äº†è‡³å°‘ `minAmount`
æ•°é‡çš„å•†å“ï¼Œåˆ™æœ‰èµ„æ ¼äº«å—æŠ˜æ‰£ã€‚è¦å°†æ—¥æœŸè½¬æ¢ä¸ºæ—¶é—´ï¼Œä¸¤ä¸ªæ—¥æœŸéƒ½åº”è§†ä¸ºä¸€å¤©çš„ **å¼€å§‹** ï¼ˆä¾‹å¦‚ï¼Œ`endDate = 2022-03-05` åº”è¯¥è¢«è®¤ä¸ºæ˜¯
`2022-03-05 00:00:00`ï¼‰ã€‚

ç¼–å†™ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ¥æŸ¥è¯¢ç¬¦åˆæŠ˜æ‰£æ¡ä»¶çš„ç”¨æˆ·çš„ IDã€‚

è¿”å›ç»“æœè¡¨ï¼Œä»¥ `user_id` æ’åºã€‚

æŸ¥è¯¢ç»“æœæ ¼å¼å¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚

**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> Purchases è¡¨ï¼š
> 
> +---------+---------------------+--------+
> 
> | user_id | time_stamp> 
> > 
>   | amount |
> 
> +---------+---------------------+--------+
> 
> | 1> 
>    | 2022-04-20 09:03:00 | 4416   |
> 
> | 2> 
>    | 2022-03-19 19:24:02 | 678> 
> |
> 
> | 3> 
>    | 2022-03-18 12:03:09 | 4523   |
> 
> | 3> 
>    | 2022-03-30 09:43:42 | 626> 
> |
> 
> +---------+---------------------+--------+
> 
> startDate = 2022-03-08, endDate = 2022-03-20, minAmount = 1000
> 
> **è¾“å‡ºï¼š**
> 
> +---------+
> 
> | user_id |
> 
> +---------+
> 
> | 3> 
>    |
> 
> +---------+
> 
> **è§£é‡Šï¼š**
> 
> åœ¨ä¸‰ä¸ªç”¨æˆ·ä¸­ï¼Œåªæœ‰ç”¨æˆ· 3 æœ‰èµ„æ ¼äº«å—æŠ˜æ‰£ã€‚
> - ç”¨æˆ· 1 æœ‰ä¸€æ¬¡è‡³å°‘è´­ä¹°äº† minAmount çš„æ•°é‡ï¼Œä½†ä¸åœ¨æ—¶é—´é—´éš”å†…ã€‚
> - ç”¨æˆ· 2 åœ¨æ—¶é—´é—´éš”å†…æœ‰ä¸€æ¬¡è´­ä¹°ï¼Œä½†å°‘äº minAmount æ•°é‡ã€‚
> - ç”¨æˆ· 3 æ˜¯å”¯ä¸€æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶çš„ç”¨æˆ·ã€‚
> 
> 

**é‡è¦æç¤ºï¼š** è¿™ä¸ªé—®é¢˜åŸºæœ¬ä¸Šä¸ [æœ‰èµ„æ ¼äº«å—æŠ˜æ‰£çš„ç”¨æˆ·æ•°é‡](https://leetcode.cn/problems/the-number-of-
users-that-are-eligible-for-discount/description/) ç›¸åŒã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 2205 | æœ‰èµ„æ ¼äº«å—æŠ˜æ‰£çš„ç”¨æˆ·æ•°é‡ ğŸ”’ |  |  [`æ•°æ®åº“`](/tag/database.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/the-number-of-users-that-are-eligible-for-discount) [ğŸ”—](https://leetcode.com/problems/the-number-of-users-that-are-eligible-for-discount) |