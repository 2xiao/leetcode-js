---
title: 768. æœ€å¤šèƒ½å®Œæˆæ’åºçš„å— II
description: LeetCode,768. æœ€å¤šèƒ½å®Œæˆæ’åºçš„å— II,æœ€å¤šèƒ½å®Œæˆæ’åºçš„å— II,Max Chunks To Make Sorted II,è§£é¢˜æ€è·¯,æ ˆ,è´ªå¿ƒ,æ•°ç»„,æ’åº,å•è°ƒæ ˆ
keywords:
  - LeetCode
  - 768. æœ€å¤šèƒ½å®Œæˆæ’åºçš„å— II
  - æœ€å¤šèƒ½å®Œæˆæ’åºçš„å— II
  - Max Chunks To Make Sorted II
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - è´ªå¿ƒ
  - æ•°ç»„
  - æ’åº
  - å•è°ƒæ ˆ
---

# 768. æœ€å¤šèƒ½å®Œæˆæ’åºçš„å— II

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) [`å•è°ƒæ ˆ`](/tag/monotonic-stack.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/max-chunks-to-make-sorted-ii) [`LeetCode`](https://leetcode.com/problems/max-chunks-to-make-sorted-ii)

## é¢˜ç›®

You are given an integer array `arr`.

We split `arr` into some number of **chunks** (i.e., partitions), and
individually sort each chunk. After concatenating them, the result should
equal the sorted array.

Return _the largest number of chunks we can make to sort the array_.



**Example 1:**

> Input: arr = [5,4,3,2,1]
> 
> Output: 1
> 
> Explanation:
> 
> Splitting into two or more chunks will not return the required result.
> 
> For example, splitting into [5, 4], [3, 2, 1] will result in [4, 5, 1, 2, 3], which isn't sorted.

**Example 2:**

> Input: arr = [2,1,3,4,4]
> 
> Output: 4
> 
> Explanation:
> 
> We can split into two chunks, such as [2, 1], [3, 4, 4].
> 
> However, splitting into [2, 1], [3], [4], [4] is the highest number of chunks possible.

**Constraints:**

  * `1 <= arr.length <= 2000`
  * `0 <= arr[i] <= 10^8`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `arr` ã€‚

å°† `arr` åˆ†å‰²æˆè‹¥å¹² **å—** ï¼Œå¹¶å°†è¿™äº›å—åˆ†åˆ«è¿›è¡Œæ’åºã€‚ä¹‹åå†è¿æ¥èµ·æ¥ï¼Œä½¿å¾—è¿æ¥çš„ç»“æœå’ŒæŒ‰å‡åºæ’åºåçš„åŸæ•°ç»„ç›¸åŒã€‚

è¿”å›èƒ½å°†æ•°ç»„åˆ†æˆçš„æœ€å¤šå—æ•°ï¼Ÿ



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** arr = [5,4,3,2,1]
> 
> **è¾“å‡ºï¼š** 1
> 
> **è§£é‡Šï¼š**
> 
> å°†æ•°ç»„åˆ†æˆ2å—æˆ–è€…æ›´å¤šå—ï¼Œéƒ½æ— æ³•å¾—åˆ°æ‰€éœ€çš„ç»“æœã€‚ 
> 
> ä¾‹å¦‚ï¼Œåˆ†æˆ [5, 4], [3, 2, 1] çš„ç»“æœæ˜¯ [4, 5, 1, 2, 3]ï¼Œè¿™ä¸æ˜¯æœ‰åºçš„æ•°ç»„ã€‚ 
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** arr = [2,1,3,4,4]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š**
> 
> å¯ä»¥æŠŠå®ƒåˆ†æˆä¸¤å—ï¼Œä¾‹å¦‚ [2, 1], [3, 4, 4]ã€‚ 
> 
> ç„¶è€Œï¼Œåˆ†æˆ [2, 1], [3], [4], [4] å¯ä»¥å¾—åˆ°æœ€å¤šçš„å—æ•°ã€‚ 
> 
> 



**æç¤ºï¼š**

  * `1 <= arr.length <= 2000`
  * `0 <= arr[i] <= 10^8`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 769 | æœ€å¤šèƒ½å®Œæˆæ’åºçš„å— |  |  [`æ ˆ`](/tag/stack.md) [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) `2+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/max-chunks-to-make-sorted) [ğŸ”—](https://leetcode.com/problems/max-chunks-to-make-sorted) |