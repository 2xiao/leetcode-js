# [1521. æ‰¾åˆ°æœ€æ¥è¿‘ç›®æ ‡å€¼çš„å‡½æ•°å€¼](https://leetcode.com/problems/find-a-value-of-a-mysterious-function-closest-to-target)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/find-a-value-of-a-mysterious-function-closest-to-target)

## é¢˜ç›®

![](https://assets.leetcode.com/uploads/2020/07/09/change.png)

Winston was given the above mysterious function `func`. He has an integer
array `arr` and an integer `target` and he wants to find the values `l` and
`r` that make the value `|func(arr, l, r) - target|` minimum possible.

Return _the minimum possible value_ of `|func(arr, l, r) - target|`.

Notice that `func` should be called with the values `l` and `r` where `0 <= l,
r < arr.length`.



**Example 1:**

> Input: arr = [9,12,3,7,15], target = 5
> 
> Output: 2
> 
> Explanation: Calling func with all the pairs of [l,r] = [[0,0],[1,1],[2,2],[3,3],[4,4],[0,1],[1,2],[2,3],[3,4],[0,2],[1,3],[2,4],[0,3],[1,4],[0,4]], Winston got the following results [9,12,3,7,15,8,0,3,7,0,0,3,0,0,0]. The value closest to 5 is 7 and 3, thus the minimum difference is 2.

**Example 2:**

> Input: arr = [1000000,1000000,1000000], target = 1
> 
> Output: 999999
> 
> Explanation: Winston called the func with all possible values of [l,r] and he always got 1000000, thus the min difference is 999999.

**Example 3:**

> Input: arr = [1,2,4,8,16], target = 0
> 
> Output: 0

**Constraints:**

  * `1 <= arr.length <= 10^5`
  * `1 <= arr[i] <= 10^6`
  * `0 <= target <= 10^7`


## é¢˜ç›®å¤§æ„

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/07/19/change.png)

Winston æ„é€ äº†ä¸€ä¸ªå¦‚ä¸Šæ‰€ç¤ºçš„å‡½æ•° `func` ã€‚ä»–æœ‰ä¸€ä¸ªæ•´æ•°æ•°ç»„ `arr` å’Œä¸€ä¸ªæ•´æ•° `target` ï¼Œä»–æƒ³æ‰¾åˆ°è®© `|func(arr,
l, r) - target|` æœ€å°çš„ `l` å’Œ `r` ã€‚

è¯·ä½ è¿”å› `|func(arr, l, r) - target|` çš„æœ€å°å€¼ã€‚

è¯·æ³¨æ„ï¼Œ `func` çš„è¾“å…¥å‚æ•° `l` å’Œ `r` éœ€è¦æ»¡è¶³ `0 <= l, r < arr.length` ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** arr = [9,12,3,7,15], target = 5
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š** æ‰€æœ‰å¯èƒ½çš„ [l,r] æ•°å¯¹åŒ…æ‹¬ [[0,0],[1,1],[2,2],[3,3],[4,4],[0,1],[1,2],[2,3],[3,4],[0,2],[1,3],[2,4],[0,3],[1,4],[0,4]]ï¼Œ Winston å¾—åˆ°çš„ç›¸åº”ç»“æœä¸º [9,12,3,7,15,8,0,3,7,0,0,3,0,0,0] ã€‚æœ€æ¥è¿‘ 5 çš„å€¼æ˜¯ 7 å’Œ 3ï¼Œæ‰€ä»¥æœ€å°å·®å€¼ä¸º 2 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** arr = [1000000,1000000,1000000], target = 1
> 
> **è¾“å‡ºï¼š** 999999
> 
> **è§£é‡Šï¼š** Winston è¾“å…¥å‡½æ•°çš„æ‰€æœ‰å¯èƒ½ [l,r] æ•°å¯¹å¾—åˆ°çš„å‡½æ•°å€¼éƒ½ä¸º 1000000 ï¼Œæ‰€ä»¥æœ€å°å·®å€¼ä¸º 999999 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** arr = [1,2,4,8,16], target = 0
> 
> **è¾“å‡ºï¼š** 0
> 
> 



**æç¤ºï¼š**

  * `1 <= arr.length <= 10^5`
  * `1 <= arr[i] <= 10^6`
  * `0 <= target <= 10^7`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```