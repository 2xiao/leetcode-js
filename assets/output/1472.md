# [1472. è®¾è®¡æµè§ˆå™¨å†å²è®°å½•](https://leetcode.com/problems/design-browser-history)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/leetcode/outline/tag/stack.md) [`è®¾è®¡`](/leetcode/outline/tag/design.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`é“¾è¡¨`](/leetcode/outline/tag/linked-list.md) [`æ•°æ®æµ`](/leetcode/outline/tag/data-stream.md) [`åŒå‘é“¾è¡¨`](/leetcode/outline/tag/doubly-linked-list.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/design-browser-history)


## é¢˜ç›®

You have a **browser** of one tab where you start on the `homepage` and you
can visit another `url`, get back in the history number of `steps` or move
forward in the history number of `steps`.

Implement the `BrowserHistory` class:

  * `BrowserHistory(string homepage)` Initializes the object with the `homepage` of the browser.
  * `void visit(string url)` Visits `url` from the current page. It clears up all the forward history.
  * `string back(int steps)` Move `steps` back in history. If you can only return `x` steps in the history and `steps > x`, you will return only `x` steps. Return the current `url` after moving back in history **at most** `steps`.
  * `string forward(int steps)` Move `steps` forward in history. If you can only forward `x` steps in the history and `steps > x`, you will forward only `x` steps. Return the current `url` after forwarding in history **at most** `steps`.



**Example:**

> Input:
> 
> ["BrowserHistory","visit","visit","visit","back","back","forward","visit","forward","back","back"]
> 
> [["leetcode.com"],["google.com"],["facebook.com"],["youtube.com"],[1],[1],[1],["linkedin.com"],[2],[2],[7]]
> 
> Output:
> 
> [null,null,null,null,"facebook.com","google.com","facebook.com",null,"linkedin.com","google.com","leetcode.com"]
> 
> 
> 
> Explanation:
> 
> BrowserHistory browserHistory = new BrowserHistory("leetcode.com");
> 
> browserHistory.visit("google.com");> 
>    // You are in "leetcode.com". Visit "google.com"
> 
> browserHistory.visit("facebook.com");> 
>  // You are in "google.com". Visit "facebook.com"
> 
> browserHistory.visit("youtube.com");> 
>   // You are in "facebook.com". Visit "youtube.com"
> 
> browserHistory.back(1);> 
> > 
> > 
> > 
>    // You are in "youtube.com", move back to "facebook.com" return "facebook.com"
> 
> browserHistory.back(1);> 
> > 
> > 
> > 
>    // You are in "facebook.com", move back to "google.com" return "google.com"
> 
> browserHistory.forward(1);> 
> > 
> > 
> > 
> // You are in "google.com", move forward to "facebook.com" return "facebook.com"
> 
> browserHistory.visit("linkedin.com");> 
>  // You are in "facebook.com". Visit "linkedin.com"
> 
> browserHistory.forward(2);> 
> > 
> > 
> > 
> // You are in "linkedin.com", you cannot move forward any steps.
> 
> browserHistory.back(2);> 
> > 
> > 
> > 
>    // You are in "linkedin.com", move back two steps to "facebook.com" then to "google.com". return "google.com"
> 
> browserHistory.back(7);> 
> > 
> > 
> > 
>    // You are in "google.com", you can move back only one step to "leetcode.com". return "leetcode.com"

**Constraints:**

  * `1 <= homepage.length <= 20`
  * `1 <= url.length <= 20`
  * `1 <= steps <= 100`
  * `homepage` and `url` consist of  '.' or lower case English letters.
  * At most `5000` calls will be made to `visit`, `back`, and `forward`.


## é¢˜ç›®å¤§æ„

ä½ æœ‰ä¸€ä¸ªåªæ”¯æŒå•ä¸ªæ ‡ç­¾é¡µçš„ **æµè§ˆå™¨**  ï¼Œæœ€å¼€å§‹ä½ æµè§ˆçš„ç½‘é¡µæ˜¯ `homepage` ï¼Œä½ å¯ä»¥è®¿é—®å…¶ä»–çš„ç½‘ç«™ `url` ï¼Œä¹Ÿå¯ä»¥åœ¨æµè§ˆå†å²ä¸­åé€€
`steps` æ­¥æˆ–å‰è¿› `steps` æ­¥ã€‚

è¯·ä½ å®ç° `BrowserHistory` ç±»ï¼š

  * `BrowserHistory(string homepage)` ï¼Œç”¨ `homepage` åˆå§‹åŒ–æµè§ˆå™¨ç±»ã€‚
  * `void visit(string url)` ä»å½“å‰é¡µè·³è½¬è®¿é—® `url` å¯¹åº”çš„é¡µé¢  ã€‚æ‰§è¡Œæ­¤æ“ä½œä¼šæŠŠæµè§ˆå†å²å‰è¿›çš„è®°å½•å…¨éƒ¨åˆ é™¤ã€‚
  * `string back(int steps)` åœ¨æµè§ˆå†å²ä¸­åé€€ `steps` æ­¥ã€‚å¦‚æœä½ åªèƒ½åœ¨æµè§ˆå†å²ä¸­åé€€è‡³å¤š `x` æ­¥ä¸” `steps > x` ï¼Œé‚£ä¹ˆä½ åªåé€€ `x` æ­¥ã€‚è¯·è¿”å›åé€€ **è‡³å¤š** `steps` æ­¥ä»¥åçš„ `url` ã€‚
  * `string forward(int steps)` åœ¨æµè§ˆå†å²ä¸­å‰è¿› `steps` æ­¥ã€‚å¦‚æœä½ åªèƒ½åœ¨æµè§ˆå†å²ä¸­å‰è¿›è‡³å¤š `x` æ­¥ä¸” `steps > x` ï¼Œé‚£ä¹ˆä½ åªå‰è¿› `x` æ­¥ã€‚è¯·è¿”å›å‰è¿› **è‡³å¤š**  `steps`æ­¥ä»¥åçš„ `url` ã€‚



**ç¤ºä¾‹ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> ["BrowserHistory","visit","visit","visit","back","back","forward","visit","forward","back","back"]
> 
> [["leetcode.com"],["google.com"],["facebook.com"],["youtube.com"],[1],[1],[1],["linkedin.com"],[2],[2],[7]]
> 
> **è¾“å‡ºï¼š**
> 
> [null,null,null,null,"facebook.com","google.com","facebook.com",null,"linkedin.com","google.com","leetcode.com"]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> BrowserHistory browserHistory = new BrowserHistory("leetcode.com");
> 
> browserHistory.visit("google.com");> 
>    // ä½ åŸæœ¬åœ¨æµè§ˆ "leetcode.com" ã€‚è®¿é—® "google.com"
> 
> browserHistory.visit("facebook.com");> 
>  // ä½ åŸæœ¬åœ¨æµè§ˆ "google.com" ã€‚è®¿é—® "facebook.com"
> 
> browserHistory.visit("youtube.com");> 
>   // ä½ åŸæœ¬åœ¨æµè§ˆ "facebook.com" ã€‚è®¿é—® "youtube.com"
> 
> browserHistory.back(1);> 
> > 
> > 
> > 
>    // ä½ åŸæœ¬åœ¨æµè§ˆ "youtube.com" ï¼Œåé€€åˆ° "facebook.com" å¹¶è¿”å› "facebook.com"
> 
> browserHistory.back(1);> 
> > 
> > 
> > 
>    // ä½ åŸæœ¬åœ¨æµè§ˆ "facebook.com" ï¼Œåé€€åˆ° "google.com" å¹¶è¿”å› "google.com"
> 
> browserHistory.forward(1);> 
> > 
> > 
> > 
> // ä½ åŸæœ¬åœ¨æµè§ˆ "google.com" ï¼Œå‰è¿›åˆ° "facebook.com" å¹¶è¿”å› "facebook.com"
> 
> browserHistory.visit("linkedin.com");> 
>  // ä½ åŸæœ¬åœ¨æµè§ˆ "facebook.com" ã€‚ è®¿é—® "linkedin.com"
> 
> browserHistory.forward(2);> 
> > 
> > 
> > 
> // ä½ åŸæœ¬åœ¨æµè§ˆ "linkedin.com" ï¼Œä½ æ— æ³•å‰è¿›ä»»ä½•æ­¥æ•°ã€‚
> 
> browserHistory.back(2);> 
> > 
> > 
> > 
>    // ä½ åŸæœ¬åœ¨æµè§ˆ "linkedin.com" ï¼Œåé€€ä¸¤æ­¥ä¾æ¬¡å…ˆåˆ° "facebook.com" ï¼Œç„¶ååˆ° "google.com" ï¼Œå¹¶è¿”å› "google.com"
> 
> browserHistory.back(7);> 
> > 
> > 
> > 
>    // ä½ åŸæœ¬åœ¨æµè§ˆ "google.com"ï¼Œ ä½ åªèƒ½åé€€ä¸€æ­¥åˆ° "leetcode.com" ï¼Œå¹¶è¿”å› "leetcode.com"
> 
> 



**æç¤ºï¼š**

  * `1 <= homepage.length <= 20`
  * `1 <= url.length <= 20`
  * `1 <= steps <= 100`
  * `homepage` å’Œ `url` éƒ½åªåŒ…å« '.' æˆ–è€…å°å†™è‹±æ–‡å­—æ¯ã€‚
  * æœ€å¤šè°ƒç”¨ `5000` æ¬¡ `visit`ï¼Œ `back` å’Œ `forward` å‡½æ•°ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2254 | [è®¾è®¡è§†é¢‘å…±äº«å¹³å°](https://leetcode.com/problems/design-video-sharing-platform) |  |  [`æ ˆ`](/leetcode/outline/tag/stack.md) [`è®¾è®¡`](/leetcode/outline/tag/design.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) `1+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
