# [749. éš”ç¦»ç—…æ¯’](https://leetcode.com/problems/contain-virus)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/contain-virus)

## é¢˜ç›®

A virus is spreading rapidly, and your task is to quarantine the infected area
by installing walls.

The world is modeled as an `m x n` binary grid `isInfected`, where
`isInfected[i][j] == 0` represents uninfected cells, and `isInfected[i][j] ==
1` represents cells contaminated with the virus. A wall (and only one wall)
can be installed between any two **4-directionally** adjacent cells, on the
shared boundary.

Every night, the virus spreads to all neighboring cells in all four directions
unless blocked by a wall. Resources are limited. Each day, you can install
walls around only one region (i.e., the affected area (continuous block of
infected cells) that threatens the most uninfected cells the following night).
There **will never be a tie**.

Return _the number of walls used to quarantine all the infected regions_. If
the world will become fully infected, return the number of walls used.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/06/01/virus11-grid.jpg)

> Input: isInfected = [[0,1,0,0,0,0,0,1],[0,1,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0]]
> 
> Output: 10
> 
> Explanation: There are 2 contaminated regions.
> 
> On the first day, add 5 walls to quarantine the viral region on the left. The board after the virus spreads is:
> 
> ![](https://assets.leetcode.com/uploads/2021/06/01/virus12edited-grid.jpg)
> 
> On the second day, add 5 walls to quarantine the viral region on the right. The virus is fully contained.
> 
> ![](https://assets.leetcode.com/uploads/2021/06/01/virus13edited-grid.jpg)

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/06/01/virus2-grid.jpg)

> Input: isInfected = [[1,1,1],[1,0,1],[1,1,1]]
> 
> Output: 4
> 
> Explanation: Even though there is only one cell saved, there are 4 walls built.
> 
> Notice that walls are only built on the shared boundary of two different cells.

**Example 3:**

> Input: isInfected = [[1,1,1,0,0,0,0,0,0],[1,0,1,0,1,1,1,1,1],[1,1,1,0,0,0,0,0,0]]
> 
> Output: 13
> 
> Explanation: The region on the left only builds two new walls.

**Constraints:**

  * `m == isInfected.length`
  * `n == isInfected[i].length`
  * `1 <= m, n <= 50`
  * `isInfected[i][j]` is either `0` or `1`.
  * There is always a contiguous viral region throughout the described process that will **infect strictly more uncontaminated squares** in the next round.


## é¢˜ç›®å¤§æ„

ç—…æ¯’æ‰©æ•£å¾—å¾ˆå¿«ï¼Œç°åœ¨ä½ çš„ä»»åŠ¡æ˜¯å°½å¯èƒ½åœ°é€šè¿‡å®‰è£…é˜²ç«å¢™æ¥éš”ç¦»ç—…æ¯’ã€‚

å‡è®¾ä¸–ç•Œç”± `m x n` çš„äºŒç»´çŸ©é˜µ `isInfected` ç»„æˆï¼Œ `isInfected[i][j] == 0` è¡¨ç¤ºè¯¥åŒºåŸŸæœªæ„ŸæŸ“ç—…æ¯’ï¼Œè€Œ
`isInfected[i][j] == 1` è¡¨ç¤ºè¯¥åŒºåŸŸå·²æ„ŸæŸ“ç—…æ¯’ã€‚å¯ä»¥åœ¨ä»»æ„ 2 ä¸ªç›¸é‚»å•å…ƒä¹‹é—´çš„å…±äº«è¾¹ç•Œä¸Šå®‰è£…ä¸€ä¸ªé˜²ç«å¢™ï¼ˆå¹¶ä¸”åªæœ‰ä¸€ä¸ªé˜²ç«å¢™ï¼‰ã€‚

æ¯å¤©æ™šä¸Šï¼Œç—…æ¯’ä¼šä»è¢«æ„ŸæŸ“åŒºåŸŸå‘ç›¸é‚»æœªæ„ŸæŸ“åŒºåŸŸæ‰©æ•£ï¼Œé™¤éè¢«é˜²ç«å¢™éš”ç¦»ã€‚ç°ç”±äºèµ„æºæœ‰é™ï¼Œæ¯å¤©ä½ åªèƒ½å®‰è£…ä¸€ç³»åˆ—é˜²ç«å¢™æ¥éš”ç¦»å…¶ä¸­ä¸€ä¸ªè¢«ç—…æ¯’æ„ŸæŸ“çš„åŒºåŸŸï¼ˆä¸€ä¸ªåŒºåŸŸæˆ–è¿ç»­çš„ä¸€ç‰‡åŒºåŸŸï¼‰ï¼Œä¸”è¯¥æ„ŸæŸ“åŒºåŸŸå¯¹æœªæ„ŸæŸ“åŒºåŸŸçš„å¨èƒæœ€å¤§ä¸”
**ä¿è¯å”¯ä¸€  **ã€‚

ä½ éœ€è¦åŠªåŠ›ä½¿å¾—æœ€åæœ‰éƒ¨åˆ†åŒºåŸŸä¸è¢«ç—…æ¯’æ„ŸæŸ“ï¼Œå¦‚æœå¯ä»¥æˆåŠŸï¼Œé‚£ä¹ˆè¿”å›éœ€è¦ä½¿ç”¨çš„é˜²ç«å¢™ä¸ªæ•°; å¦‚æœæ— æ³•å®ç°ï¼Œåˆ™è¿”å›åœ¨ä¸–ç•Œè¢«ç—…æ¯’å…¨éƒ¨æ„ŸæŸ“æ—¶å·²å®‰è£…çš„é˜²ç«å¢™ä¸ªæ•°ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/06/01/virus11-grid.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥:** isInfected = [[0,1,0,0,0,0,0,1],[0,1,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0]]
> 
> **è¾“å‡º:** 10
> 
> **è§£é‡Š:** ä¸€å…±æœ‰ä¸¤å—è¢«ç—…æ¯’æ„ŸæŸ“çš„åŒºåŸŸã€‚
> 
> åœ¨ç¬¬ä¸€å¤©ï¼Œæ·»åŠ  5 å¢™éš”ç¦»ç—…æ¯’åŒºåŸŸçš„å·¦ä¾§ã€‚ç—…æ¯’ä¼ æ’­åçš„çŠ¶æ€æ˜¯:
> 
> ![](https://assets.leetcode.com/uploads/2021/06/01/virus12edited-grid.jpg)
> 
> ç¬¬äºŒå¤©ï¼Œåœ¨å³ä¾§æ·»åŠ  5 ä¸ªå¢™æ¥éš”ç¦»ç—…æ¯’åŒºåŸŸã€‚æ­¤æ—¶ç—…æ¯’å·²ç»è¢«å®Œå…¨æ§åˆ¶ä½äº†ã€‚
> 
> ![](https://assets.leetcode.com/uploads/2021/06/01/virus13edited-grid.jpg)
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/06/01/virus2-grid.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥:** isInfected = [[1,1,1],[1,0,1],[1,1,1]]
> 
> **è¾“å‡º:** 4
> 
> **è§£é‡Š:** è™½ç„¶åªä¿å­˜äº†ä¸€ä¸ªå°åŒºåŸŸï¼Œä½†å´æœ‰å››é¢å¢™ã€‚
> 
> æ³¨æ„ï¼Œé˜²ç«å¢™åªå»ºç«‹åœ¨ä¸¤ä¸ªä¸åŒåŒºåŸŸçš„å…±äº«è¾¹ç•Œä¸Šã€‚
> 
> 

**ç¤ºä¾‹  3:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** isInfected = [[1,1,1,0,0,0,0,0,0],[1,0,1,0,1,1,1,1,1],[1,1,1,0,0,0,0,0,0]]
> 
> **è¾“å‡º:** 13
> 
> **è§£é‡Š:** åœ¨éš”ç¦»å³è¾¹æ„ŸæŸ“åŒºåŸŸåï¼Œéš”ç¦»å·¦è¾¹ç—…æ¯’åŒºåŸŸåªéœ€è¦ 2 ä¸ªé˜²ç«å¢™ã€‚
> 
> 



**æç¤º:**

  * `m == isInfected.length`
  * `n == isInfected[i].length`
  * `1 <= m, n <= 50`
  * `isInfected[i][j]` is either `0` or `1`
  * åœ¨æ•´ä¸ªæè¿°çš„è¿‡ç¨‹ä¸­ï¼Œæ€»æœ‰ä¸€ä¸ªç›¸é‚»çš„ç—…æ¯’åŒºåŸŸï¼Œå®ƒå°†åœ¨ä¸‹ä¸€è½® **ä¸¥æ ¼åœ°æ„ŸæŸ“æ›´å¤šæœªå—æ±¡æŸ“çš„æ–¹å—**  




## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2954 | [ç»Ÿè®¡æ„Ÿå†’åºåˆ—çš„æ•°ç›®](https://leetcode.com/problems/count-the-number-of-infection-sequences) |  |  [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`ç»„åˆæ•°å­¦`](/tag/combinatorics.md) | <font color=#ff334b>Hard</font> |