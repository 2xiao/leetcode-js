# [677. é”®å€¼æ˜ å°„](https://leetcode.com/problems/map-sum-pairs)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`å­—å…¸æ ‘`](/tag/trie.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/map-sum-pairs)

## é¢˜ç›®

Design a map that allows you to do the following:

  * Maps a string key to a given value.
  * Returns the sum of the values that have a key with a prefix equal to a given string.

Implement the `MapSum` class:

  * `MapSum()` Initializes the `MapSum` object.
  * `void insert(String key, int val)` Inserts the `key-val` pair into the map. If the `key` already existed, the original `key-value` pair will be overridden to the new one.
  * `int sum(string prefix)` Returns the sum of all the pairs' value whose `key` starts with the `prefix`.



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["MapSum", "insert", "sum", "insert", "sum"]
> 
> [[], ["apple", 3], ["ap"], ["app", 2], ["ap"]]
> 
> **Output**
> 
> [null, null, 3, null, 5]
> 
> 
> 
> **Explanation**
> 
> MapSum mapSum = new MapSum();
> 
> mapSum.insert("apple", 3);  
> 
> mapSum.sum("ap");> 
> > 
>    // return 3 (_ap_ ple = 3)
> 
> mapSum.insert("app", 2);> 
> 
> 
> mapSum.sum("ap");> 
> > 
>    // return 5 (_ap_ ple + _ap_ p = 3 + 2 = 5)

**Constraints:**

  * `1 <= key.length, prefix.length <= 50`
  * `key` and `prefix` consist of only lowercase English letters.
  * `1 <= val <= 1000`
  * At most `50` calls will be made to `insert` and `sum`.


## é¢˜ç›®å¤§æ„

è®¾è®¡ä¸€ä¸ª map ï¼Œæ»¡è¶³ä»¥ä¸‹å‡ ç‚¹:

  * å­—ç¬¦ä¸²è¡¨ç¤ºé”®ï¼Œæ•´æ•°è¡¨ç¤ºå€¼
  * è¿”å›å…·æœ‰å‰ç¼€ç­‰äºç»™å®šå­—ç¬¦ä¸²çš„é”®çš„å€¼çš„æ€»å’Œ

å®ç°ä¸€ä¸ª `MapSum` ç±»ï¼š

  * `MapSum()` åˆå§‹åŒ– `MapSum` å¯¹è±¡
  * `void insert(String key, int val)` æ’å…¥ `key-val` é”®å€¼å¯¹ï¼Œå­—ç¬¦ä¸²è¡¨ç¤ºé”® `key` ï¼Œæ•´æ•°è¡¨ç¤ºå€¼ `val` ã€‚å¦‚æœé”® `key` å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆåŸæ¥çš„é”®å€¼å¯¹ `key-value` å°†è¢«æ›¿ä»£æˆæ–°çš„é”®å€¼å¯¹ã€‚
  * `int sum(string prefix)` è¿”å›æ‰€æœ‰ä»¥è¯¥å‰ç¼€ `prefix` å¼€å¤´çš„é”® `key` çš„å€¼çš„æ€»å’Œã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> ["MapSum", "insert", "sum", "insert", "sum"]
> 
> [[], ["apple", 3], ["ap"], ["app", 2], ["ap"]]
> 
> **è¾“å‡ºï¼š**
> 
> [null, null, 3, null, 5]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> MapSum mapSum = new MapSum();
> 
> mapSum.insert("apple", 3);  
> 
> mapSum.sum("ap");> 
> > 
>    // è¿”å› 3 (_ap_ ple = 3)
> 
> mapSum.insert("app", 2);> 
> 
> 
> mapSum.sum("ap");> 
> > 
>    // è¿”å› 5 (_ap_ ple + _ap_ p = 3 + 2 = 5)
> 
> 



**æç¤ºï¼š**

  * `1 <= key.length, prefix.length <= 50`
  * `key` å’Œ `prefix` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ
  * `1 <= val <= 1000`
  * æœ€å¤šè°ƒç”¨ `50` æ¬¡ `insert` å’Œ `sum`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2191 | [å°†æ‚ä¹±æ— ç« çš„æ•°å­—æ’åº](https://leetcode.com/problems/sort-the-jumbled-numbers) |  |  [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) | <font color=#ffb800>Medium</font> |
| 2416 | [å­—ç¬¦ä¸²çš„å‰ç¼€åˆ†æ•°å’Œ](https://leetcode.com/problems/sum-of-prefix-scores-of-strings) | [[âœ“]](/problem/2416.md) |  [`å­—å…¸æ ‘`](/tag/trie.md) [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
