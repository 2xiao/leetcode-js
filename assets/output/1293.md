---
title: 1293. 网格中的最短路径
description: LeetCode 1293. 网格中的最短路径题解，Shortest Path in a Grid with Obstacles Elimination，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 1293. 网格中的最短路径
  - 网格中的最短路径
  - Shortest Path in a Grid with Obstacles Elimination
  - 解题思路
  - 广度优先搜索
  - 数组
  - 矩阵
---

# 1293. 网格中的最短路径

🔴 <font color=#ff334b>Hard</font>&emsp; 🔖&ensp; [`广度优先搜索`](/tag/breadth-first-search.md) [`数组`](/tag/array.md) [`矩阵`](/tag/matrix.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/shortest-path-in-a-grid-with-obstacles-elimination) [`LeetCode`](https://leetcode.com/problems/shortest-path-in-a-grid-with-obstacles-elimination)

## 题目

You are given an `m x n` integer matrix `grid` where each cell is either `0`
(empty) or `1` (obstacle). You can move up, down, left, or right from and to
an empty cell in **one step**.

Return _the minimum number of**steps** to walk from the upper left corner
_`(0, 0)`_to the lower right corner_`(m - 1, n - 1)`_given that you can
eliminate**at most** _`k` _obstacles_. If it is not possible to find such walk
return `-1`.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/09/30/short1-grid.jpg)

> Input: grid = [[0,0,0],[1,1,0],[0,0,0],[0,1,1],[0,0,0]], k = 1
> 
> Output: 6
> 
> Explanation: 
> 
> The shortest path without eliminating any obstacle is 10.
> 
> The shortest path with one obstacle elimination at position (3,2) is 6. Such path is (0,0) -> (0,1) -> (0,2) -> (1,2) -> (2,2) -> **(3,2)** -> (4,2).

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/09/30/short2-grid.jpg)

> Input: grid = [[0,1,1],[1,1,1],[1,0,0]], k = 1
> 
> Output: -1
> 
> Explanation: We need to eliminate at least two obstacles to find such a walk.

**Constraints:**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m, n <= 40`
  * `1 <= k <= m * n`
  * `grid[i][j]` is either `0` **or** `1`.
  * `grid[0][0] == grid[m - 1][n - 1] == 0`


## 题目大意

给你一个 `m * n` 的网格，其中每个单元格不是 `0`（空）就是 `1`（障碍物）。每一步，您都可以在空白单元格中上、下、左、右移动。

如果您 **最多** 可以消除 `k` 个障碍物，请找出从左上角 `(0, 0)` 到右下角 `(m-1, n-1)`
的最短路径，并返回通过该路径所需的步数。如果找不到这样的路径，则返回 `-1` 。



**示例 1：**

![](https://pic.leetcode.cn/1700710956-kcxqcC-
img_v3_025f_d55a658c-8f40-464b-800f-22ccd27cc9fg.jpg)

> 
> 
> 
> 
> 
> **输入：** grid = [[0,0,0],[1,1,0],[0,0,0],[0,1,1],[0,0,0]], k = 1
> 
> **输出：** 6
> 
> **解释：** 不消除任何障碍的最短路径是 10。
> 
> 消除位置 (3,2) 处的障碍后，最短路径是 6 。该路径是 (0,0) -> (0,1) -> (0,2) -> (1,2) -> (2,2) -> **(3,2)** -> (4,2).
> 
> 

**示例 2：**

![](https://pic.leetcode.cn/1700710701-uPqkZe-
img_v3_025f_0edd50fb-8a70-4a42-add0-f602caaad35g.jpg)

> 
> 
> 
> 
> 
> **输入：** grid = [[0,1,1],[1,1,1],[1,0,0]], k = 1
> 
> **输出：** -1
> 
> **解释：** 我们至少需要消除两个障碍才能找到这样的路径。
> 
> 



**提示：**

  * `grid.length == m`
  * `grid[0].length == n`
  * `1 <= m, n <= 40`
  * `1 <= k <= m*n`
  * `grid[i][j]` 是 `0` 或** **`1`
  * `grid[0][0] == grid[m-1][n-1] == 0`


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1730 | 获取食物的最短路径 🔒 |  |  [`广度优先搜索`](/tag/breadth-first-search.md) [`数组`](/tag/array.md) [`矩阵`](/tag/matrix.md) | 🟠 | [🀄️](https://leetcode.cn/problems/shortest-path-to-get-food) [🔗](https://leetcode.com/problems/shortest-path-to-get-food) |
| 2290 | 到达角落需要移除障碍物的最小数目 | [[✓]](/problem/2290.md) |  [`广度优先搜索`](/tag/breadth-first-search.md) [`图`](/tag/graph.md) [`数组`](/tag/array.md) `3+` | 🔴 | [🀄️](https://leetcode.cn/problems/minimum-obstacle-removal-to-reach-corner) [🔗](https://leetcode.com/problems/minimum-obstacle-removal-to-reach-corner) |
| 3286 | 穿越网格图的安全路径 |  |  [`广度优先搜索`](/tag/breadth-first-search.md) [`图`](/tag/graph.md) [`数组`](/tag/array.md) `3+` | 🟠 | [🀄️](https://leetcode.cn/problems/find-a-safe-walk-through-a-grid) [🔗](https://leetcode.com/problems/find-a-safe-walk-through-a-grid) |