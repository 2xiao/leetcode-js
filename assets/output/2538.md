# [2538. æœ€å¤§ä»·å€¼å’Œä¸æœ€å°ä»·å€¼å’Œçš„å·®å€¼](https://leetcode.com/problems/difference-between-maximum-and-minimum-price-sum)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/leetcode/outline/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/difference-between-maximum-and-minimum-price-sum)


## é¢˜ç›®

There exists an undirected and initially unrooted tree with `n` nodes indexed
from `0` to `n - 1`. You are given the integer `n` and a 2D integer array
`edges` of length `n - 1`, where `edges[i] = [ai, bi]` indicates that there is
an edge between nodes `ai` and `bi` in the tree.

Each node has an associated price. You are given an integer array `price`,
where `price[i]` is the price of the `ith` node.

The **price sum** of a given path is the sum of the prices of all nodes lying
on that path.

The tree can be rooted at any node `root` of your choice. The incurred
**cost** after choosing `root` is the difference between the maximum and
minimum **price sum** amongst all paths starting at `root`.

Return _the**maximum** possible **cost**_ _amongst all possible root choices_.



**Example 1:**

![](https://assets.leetcode.com/uploads/2022/12/01/example14.png)

> Input: n = 6, edges = [[0,1],[1,2],[1,3],[3,4],[3,5]], price = [9,8,7,6,10,5]
> 
> Output: 24
> 
> Explanation: The diagram above denotes the tree after rooting it at node 2. The first part (colored in red) shows the path with the maximum price sum. The second part (colored in blue) shows the path with the minimum price sum.
> - The first path contains nodes [2,1,3,4]: the prices are [7,8,6,10], and the sum of the prices is 31.
> - The second path contains the node [2] with the price [7].
> 
> The difference between the maximum and minimum price sum is 24. It can be proved that 24 is the maximum cost.

**Example 2:**

![](https://assets.leetcode.com/uploads/2022/11/24/p1_example2.png)

> Input: n = 3, edges = [[0,1],[1,2]], price = [1,1,1]
> 
> Output: 2
> 
> Explanation: The diagram above denotes the tree after rooting it at node 0. The first part (colored in red) shows the path with the maximum price sum. The second part (colored in blue) shows the path with the minimum price sum.
> - The first path contains nodes [0,1,2]: the prices are [1,1,1], and the sum of the prices is 3.
> - The second path contains node [0] with a price [1].
> 
> The difference between the maximum and minimum price sum is 2. It can be proved that 2 is the maximum cost.

**Constraints:**

  * `1 <= n <= 10^5`
  * `edges.length == n - 1`
  * `0 <= ai, bi <= n - 1`
  * `edges` represents a valid tree.
  * `price.length == n`
  * `1 <= price[i] <= 10^5`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `n` ä¸ªèŠ‚ç‚¹çš„æ— å‘æ— æ ¹å›¾ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º `0` åˆ° `n - 1` ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` å’Œä¸€ä¸ªé•¿åº¦ä¸º `n - 1` çš„äºŒç»´æ•´æ•°æ•°ç»„
`edges` ï¼Œå…¶ä¸­ `edges[i] = [ai, bi]` è¡¨ç¤ºæ ‘ä¸­èŠ‚ç‚¹ `ai` å’Œ `bi` ä¹‹é—´æœ‰ä¸€æ¡è¾¹ã€‚

æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªä»·å€¼ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `price` ï¼Œå…¶ä¸­ `price[i]` æ˜¯ç¬¬ `i` ä¸ªèŠ‚ç‚¹çš„ä»·å€¼ã€‚

ä¸€æ¡è·¯å¾„çš„ **ä»·å€¼å’Œ**  æ˜¯è¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„ä»·å€¼ä¹‹å’Œã€‚

ä½ å¯ä»¥é€‰æ‹©æ ‘ä¸­ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹ `root` ã€‚é€‰æ‹© `root` ä¸ºæ ¹çš„ **å¼€é”€**  æ˜¯ä»¥ `root` ä¸ºèµ·ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸­ï¼Œ**ä»·å€¼å’Œ**
æœ€å¤§çš„ä¸€æ¡è·¯å¾„ä¸æœ€å°çš„ä¸€æ¡è·¯å¾„çš„å·®å€¼ã€‚

è¯·ä½ è¿”å›æ‰€æœ‰èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹çš„é€‰æ‹©ä¸­ï¼Œ**æœ€å¤§**  çš„ **å¼€é”€**  ä¸ºå¤šå°‘ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2022/12/01/example14.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 6, edges = [[0,1],[1,2],[1,3],[3,4],[3,5]], price = [9,8,7,6,10,5]
> 
> **è¾“å‡ºï¼š** 24
> 
> **è§£é‡Šï¼š** ä¸Šå›¾å±•ç¤ºäº†ä»¥èŠ‚ç‚¹ 2 ä¸ºæ ¹çš„æ ‘ã€‚å·¦å›¾ï¼ˆçº¢è‰²çš„èŠ‚ç‚¹ï¼‰æ˜¯æœ€å¤§ä»·å€¼å’Œè·¯å¾„ï¼Œå³å›¾ï¼ˆè“è‰²çš„èŠ‚ç‚¹ï¼‰æ˜¯æœ€å°ä»·å€¼å’Œè·¯å¾„ã€‚
> - ç¬¬ä¸€æ¡è·¯å¾„èŠ‚ç‚¹ä¸º [2,1,3,4]ï¼šä»·å€¼ä¸º [7,8,6,10] ï¼Œä»·å€¼å’Œä¸º 31 ã€‚
> - ç¬¬äºŒæ¡è·¯å¾„èŠ‚ç‚¹ä¸º [2] ï¼Œä»·å€¼ä¸º [7] ã€‚
> 
> æœ€å¤§è·¯å¾„å’Œä¸æœ€å°è·¯å¾„å’Œçš„å·®å€¼ä¸º 24 ã€‚24 æ˜¯æ‰€æœ‰æ–¹æ¡ˆä¸­çš„æœ€å¤§å¼€é”€ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2022/11/24/p1_example2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3, edges = [[0,1],[1,2]], price = [1,1,1]
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š** ä¸Šå›¾å±•ç¤ºäº†ä»¥èŠ‚ç‚¹ 0 ä¸ºæ ¹çš„æ ‘ã€‚å·¦å›¾ï¼ˆçº¢è‰²çš„èŠ‚ç‚¹ï¼‰æ˜¯æœ€å¤§ä»·å€¼å’Œè·¯å¾„ï¼Œå³å›¾ï¼ˆè“è‰²çš„èŠ‚ç‚¹ï¼‰æ˜¯æœ€å°ä»·å€¼å’Œè·¯å¾„ã€‚
> - ç¬¬ä¸€æ¡è·¯å¾„åŒ…å«èŠ‚ç‚¹ [0,1,2]ï¼šä»·å€¼ä¸º [1,1,1] ï¼Œä»·å€¼å’Œä¸º 3 ã€‚
> - ç¬¬äºŒæ¡è·¯å¾„èŠ‚ç‚¹ä¸º [0] ï¼Œä»·å€¼ä¸º [1] ã€‚
> 
> æœ€å¤§è·¯å¾„å’Œä¸æœ€å°è·¯å¾„å’Œçš„å·®å€¼ä¸º 2 ã€‚2 æ˜¯æ‰€æœ‰æ–¹æ¡ˆä¸­çš„æœ€å¤§å¼€é”€ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= n <= 10^5`
  * `edges.length == n - 1`
  * `0 <= ai, bi <= n - 1`
  * `edges` è¡¨ç¤ºä¸€æ£µç¬¦åˆé¢˜é¢è¦æ±‚çš„æ ‘ã€‚
  * `price.length == n`
  * `1 <= price[i] <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ](./0124.md)

::::
