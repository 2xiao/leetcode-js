# [2241. è®¾è®¡ä¸€ä¸ª ATM æœºå™¨](https://2xiao.github.io/leetcode-js/problem/2241.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`è®¾è®¡`](/tag/design.md) [`æ•°ç»„`](/tag/array.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/design-an-atm-machine) [`LeetCode`](https://leetcode.com/problems/design-an-atm-machine)

## é¢˜ç›®

There is an ATM machine that stores banknotes of `5` denominations: `20`,
`50`, `100`, `200`, and `500` dollars. Initially the ATM is empty. The user
can use the machine to deposit or withdraw any amount of money.

When withdrawing, the machine prioritizes using banknotes of **larger**
values.

  * For example, if you want to withdraw `$300` and there are `2` `$50` banknotes, `1` `$100` banknote, and `1` `$200` banknote, then the machine will use the `$100` and `$200` banknotes.
  * However, if you try to withdraw `$600` and there are `3` `$200` banknotes and `1` `$500` banknote, then the withdraw request will be rejected because the machine will first try to use the `$500` banknote and then be unable to use banknotes to complete the remaining `$100`. Note that the machine is **not** allowed to use the `$200` banknotes instead of the `$500` banknote.

Implement the ATM class:

  * `ATM()` Initializes the ATM object.
  * `void deposit(int[] banknotesCount)` Deposits new banknotes in the order `$20`, `$50`, `$100`, `$200`, and `$500`.
  * `int[] withdraw(int amount)` Returns an array of length `5` of the number of banknotes that will be handed to the user in the order `$20`, `$50`, `$100`, `$200`, and `$500`, and update the number of banknotes in the ATM after withdrawing. Returns `[-1]` if it is not possible (do **not** withdraw any banknotes in this case).



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["ATM", "deposit", "withdraw", "deposit", "withdraw", "withdraw"]
> 
> [[], [[0,0,1,2,1]], [600], [[0,1,0,1,1]], [600], [550]]
> 
> **Output**
> 
> [null, null, [0,0,1,0,1], null, [-1], [0,1,0,0,1]]
> 
> 
> 
> **Explanation**
> 
> ATM atm = new ATM();
> 
> atm.deposit([0,0,1,2,1]); // Deposits 1 $100 banknote, 2 $200 banknotes,
> 
> > 
> > 
> > 
> > 
> > 
> > 
>   // and 1 $500 banknote.
> 
> atm.withdraw(600);> 
> > 
> // Returns [0,0,1,0,1]. The machine uses 1 $100 banknote
> 
> > 
> > 
> > 
> > 
> > 
> > 
>   // and 1 $500 banknote. The banknotes left over in the
> 
> > 
> > 
> > 
> > 
> > 
> > 
>   // machine are [0,0,0,2,0].
> 
> atm.deposit([0,1,0,1,1]); // Deposits 1 $50, $200, and $500 banknote.
> 
> > 
> > 
> > 
> > 
> > 
> > 
>   // The banknotes in the machine are now [0,1,0,3,1].
> 
> atm.withdraw(600);> 
> > 
> // Returns [-1]. The machine will try to use a $500 banknote
> 
> > 
> > 
> > 
> > 
> > 
> > 
>   // and then be unable to complete the remaining $100,
> 
> > 
> > 
> > 
> > 
> > 
> > 
>   // so the withdraw request will be rejected.
> 
> > 
> > 
> > 
> > 
> > 
> > 
>   // Since the request is rejected, the number of banknotes
> 
> > 
> > 
> > 
> > 
> > 
> > 
>   // in the machine is not modified.
> 
> atm.withdraw(550);> 
> > 
> // Returns [0,1,0,0,1]. The machine uses 1 $50 banknote
> 
> > 
> > 
> > 
> > 
> > 
> > 
>   // and 1 $500 banknote.



**Constraints:**

  * `banknotesCount.length == 5`
  * `0 <= banknotesCount[i] <= 10^9`
  * `1 <= amount <= 10^9`
  * At most `5000` calls **in total** will be made to `withdraw` and `deposit`.
  * At least **one** call will be made to each function `withdraw` and `deposit`.
  * Sum of `banknotesCount[i]` in all deposits doesn't exceed `10^9`


## é¢˜ç›®å¤§æ„

ä¸€ä¸ª ATM æœºå™¨ï¼Œå­˜æœ‰ `5` ç§é¢å€¼çš„é’ç¥¨ï¼š`20` ï¼Œ`50` ï¼Œ`100` ï¼Œ`200` å’Œ `500` ç¾å…ƒã€‚åˆå§‹æ—¶ï¼ŒATM
æœºæ˜¯ç©ºçš„ã€‚ç”¨æˆ·å¯ä»¥ç”¨å®ƒå­˜æˆ–è€…å–ä»»æ„æ•°ç›®çš„é’±ã€‚

å–æ¬¾æ—¶ï¼Œæœºå™¨ä¼šä¼˜å…ˆå– **è¾ƒå¤§**  æ•°é¢çš„é’±ã€‚

  * æ¯”æ–¹è¯´ï¼Œä½ æƒ³å– `$300` ï¼Œå¹¶ä¸”æœºå™¨é‡Œæœ‰ `2` å¼  `$50` çš„é’ç¥¨ï¼Œ`1` å¼  `$100` çš„é’ç¥¨å’Œ`1` å¼  `$200` çš„é’ç¥¨ï¼Œé‚£ä¹ˆæœºå™¨ä¼šå–å‡º `$100` å’Œ `$200` çš„é’ç¥¨ã€‚
  * ä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³å– `$600` ï¼Œæœºå™¨é‡Œæœ‰ `3` å¼  `$200` çš„é’ç¥¨å’Œ`1` å¼  `$500` çš„é’ç¥¨ï¼Œé‚£ä¹ˆå–æ¬¾è¯·æ±‚ä¼šè¢«æ‹’ç»ï¼Œå› ä¸ºæœºå™¨ä¼šå…ˆå–å‡º `$500` çš„é’ç¥¨ï¼Œç„¶åæ— æ³•å–å‡ºå‰©ä½™çš„ `$100` ã€‚æ³¨æ„ï¼Œå› ä¸ºæœ‰ `$500` é’ç¥¨çš„å­˜åœ¨ï¼Œæœºå™¨ **ä¸èƒ½**  å– `$200` çš„é’ç¥¨ã€‚

è¯·ä½ å®ç° ATM ç±»ï¼š

  * `ATM()` åˆå§‹åŒ– ATM å¯¹è±¡ã€‚
  * `void deposit(int[] banknotesCount)` åˆ†åˆ«å­˜å…¥ `$20` ï¼Œ`$50`ï¼Œ`$100`ï¼Œ`$200` å’Œ `$500` é’ç¥¨çš„æ•°ç›®ã€‚
  * `int[] withdraw(int amount)` è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º `5` çš„æ•°ç»„ï¼Œåˆ†åˆ«è¡¨ç¤º `$20` ï¼Œ`$50`ï¼Œ`$100` ï¼Œ`$200` å’Œ `$500` é’ç¥¨çš„æ•°ç›®ï¼Œå¹¶ä¸”æ›´æ–° ATM æœºé‡Œå–æ¬¾åé’ç¥¨çš„å‰©ä½™æ•°é‡ã€‚å¦‚æœæ— æ³•å–å‡ºæŒ‡å®šæ•°é¢çš„é’±ï¼Œè¯·è¿”å› `[-1]` ï¼ˆè¿™ç§æƒ…å†µä¸‹ **ä¸**  å–å‡ºä»»ä½•é’ç¥¨ï¼‰ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> ["ATM", "deposit", "withdraw", "deposit", "withdraw", "withdraw"]
> 
> [[], [[0,0,1,2,1]], [600], [[0,1,0,1,1]], [600], [550]]
> 
> **è¾“å‡ºï¼š**
> 
> [null, null, [0,0,1,0,1], null, [-1], [0,1,0,0,1]]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> ATM atm = new ATM();
> 
> atm.deposit([0,0,1,2,1]); // å­˜å…¥ 1 å¼  $100 ï¼Œ2 å¼  $200 å’Œ 1 å¼  $500 çš„é’ç¥¨ã€‚
> 
> atm.withdraw(600);> 
> > 
> // è¿”å› [0,0,1,0,1] ã€‚æœºå™¨è¿”å› 1 å¼  $100 å’Œ 1 å¼  $500 çš„é’ç¥¨ã€‚æœºå™¨é‡Œå‰©ä½™é’ç¥¨çš„æ•°é‡ä¸º [0,0,0,2,0] ã€‚
> 
> atm.deposit([0,1,0,1,1]); // å­˜å…¥ 1 å¼  $50 ï¼Œ1 å¼  $200 å’Œ 1 å¼  $500 çš„é’ç¥¨ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
>   // æœºå™¨ä¸­å‰©ä½™é’ç¥¨æ•°é‡ä¸º [0,1,0,3,1] ã€‚
> 
> atm.withdraw(600);> 
> > 
> // è¿”å› [-1] ã€‚æœºå™¨ä¼šå°è¯•å–å‡º $500 çš„é’ç¥¨ï¼Œç„¶åæ— æ³•å¾—åˆ°å‰©ä½™çš„ $100 ï¼Œæ‰€ä»¥å–æ¬¾è¯·æ±‚ä¼šè¢«æ‹’ç»ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
>   // ç”±äºè¯·æ±‚è¢«æ‹’ç»ï¼Œæœºå™¨ä¸­é’ç¥¨çš„æ•°é‡ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚
> 
> atm.withdraw(550);> 
> > 
> // è¿”å› [0,1,0,0,1] ï¼Œæœºå™¨ä¼šè¿”å› 1 å¼  $50 çš„é’ç¥¨å’Œ 1 å¼  $500 çš„é’ç¥¨ã€‚



**æç¤ºï¼š**

  * `banknotesCount.length == 5`
  * `0 <= banknotesCount[i] <= 10^9`
  * `1 <= amount <= 10^9`
  * **æ€»å…±**  æœ€å¤šæœ‰ `5000` æ¬¡ `withdraw` å’Œ `deposit` çš„è°ƒç”¨ã€‚
  * å‡½æ•° `withdraw` å’Œ `deposit` è‡³å°‘å„æœ‰ **ä¸€æ¬¡  **è°ƒç”¨ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2043 | [ç®€æ˜“é“¶è¡Œç³»ç»Ÿ](https://leetcode.com/problems/simple-bank-system) |  |  [`è®¾è®¡`](/tag/design.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `1+` | <font color=#ffb800>Medium</font> |
| 2224 | [è½¬åŒ–æ—¶é—´éœ€è¦çš„æœ€å°‘æ“ä½œæ•°](https://leetcode.com/problems/minimum-number-of-operations-to-convert-time) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | <font color=#15bd66>Easy</font> |