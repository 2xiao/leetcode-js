# [2368. å—é™æ¡ä»¶ä¸‹å¯åˆ°è¾¾èŠ‚ç‚¹çš„æ•°ç›®](https://leetcode.com/problems/reachable-nodes-with-restrictions)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/leetcode/outline/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/leetcode/outline/tag/union-find.md) [`å›¾`](/leetcode/outline/tag/graph.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/reachable-nodes-with-restrictions)


## é¢˜ç›®

There is an undirected tree with `n` nodes labeled from `0` to `n - 1` and `n
- 1` edges.

You are given a 2D integer array `edges` of length `n - 1` where `edges[i] =
[ai, bi]` indicates that there is an edge between nodes `ai` and `bi` in the
tree. You are also given an integer array `restricted` which represents
**restricted** nodes.

Return _the**maximum** number of nodes you can reach from node _`0` _without
visiting a restricted node._

Note that node `0` will **not** be a restricted node.



**Example 1:**

![](https://assets.leetcode.com/uploads/2022/06/15/ex1drawio.png)

> Input: n = 7, edges = [[0,1],[1,2],[3,1],[4,0],[0,5],[5,6]], restricted = [4,5]
> 
> Output: 4
> 
> Explanation: The diagram above shows the tree.
> 
> We have that [0,1,2,3] are the only nodes that can be reached from node 0 without visiting a restricted node.

**Example 2:**

![](https://assets.leetcode.com/uploads/2022/06/15/ex2drawio.png)

> Input: n = 7, edges = [[0,1],[0,2],[0,5],[0,4],[3,2],[6,5]], restricted = [4,2,1]
> 
> Output: 3
> 
> Explanation: The diagram above shows the tree.
> 
> We have that [0,5,6] are the only nodes that can be reached from node 0 without visiting a restricted node.

**Constraints:**

  * `2 <= n <= 10^5`
  * `edges.length == n - 1`
  * `edges[i].length == 2`
  * `0 <= ai, bi < n`
  * `ai != bi`
  * `edges` represents a valid tree.
  * `1 <= restricted.length < n`
  * `1 <= restricted[i] < n`
  * All the values of `restricted` are **unique**.


## é¢˜ç›®å¤§æ„

ç°æœ‰ä¸€æ£µç”± `n` ä¸ªèŠ‚ç‚¹ç»„æˆçš„æ— å‘æ ‘ï¼ŒèŠ‚ç‚¹ç¼–å·ä» `0` åˆ° `n - 1` ï¼Œå…±æœ‰ `n - 1` æ¡è¾¹ã€‚

ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ `edges` ï¼Œé•¿åº¦ä¸º `n - 1` ï¼Œå…¶ä¸­ `edges[i] = [ai, bi]` è¡¨ç¤ºæ ‘ä¸­èŠ‚ç‚¹ `ai` å’Œ `bi`
ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚å¦ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `restricted` è¡¨ç¤º **å—é™** èŠ‚ç‚¹ã€‚

åœ¨ä¸è®¿é—®å—é™èŠ‚ç‚¹çš„å‰æä¸‹ï¼Œè¿”å›ä½ å¯ä»¥ä»èŠ‚ç‚¹ __`0` __ åˆ°è¾¾çš„ **æœ€å¤š** èŠ‚ç‚¹æ•°ç›® _ã€‚_

æ³¨æ„ï¼ŒèŠ‚ç‚¹ `0` **ä¸** ä¼šæ ‡è®°ä¸ºå—é™èŠ‚ç‚¹ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2022/06/15/ex1drawio.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 7, edges = [[0,1],[1,2],[3,1],[4,0],[0,5],[5,6]], restricted = [4,5]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** ä¸Šå›¾æ‰€ç¤ºæ­£æ˜¯è¿™æ£µæ ‘ã€‚
> 
> åœ¨ä¸è®¿é—®å—é™èŠ‚ç‚¹çš„å‰æä¸‹ï¼Œåªæœ‰èŠ‚ç‚¹ [0,1,2,3] å¯ä»¥ä»èŠ‚ç‚¹ 0 åˆ°è¾¾ã€‚

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2022/06/15/ex2drawio.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 7, edges = [[0,1],[0,2],[0,5],[0,4],[3,2],[6,5]], restricted = [4,2,1]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** ä¸Šå›¾æ‰€ç¤ºæ­£æ˜¯è¿™æ£µæ ‘ã€‚
> 
> åœ¨ä¸è®¿é—®å—é™èŠ‚ç‚¹çš„å‰æä¸‹ï¼Œåªæœ‰èŠ‚ç‚¹ [0,5,6] å¯ä»¥ä»èŠ‚ç‚¹ 0 åˆ°è¾¾ã€‚
> 
> 



**æç¤ºï¼š**

  * `2 <= n <= 10^5`
  * `edges.length == n - 1`
  * `edges[i].length == 2`
  * `0 <= ai, bi < n`
  * `ai != bi`
  * `edges` è¡¨ç¤ºä¸€æ£µæœ‰æ•ˆçš„æ ‘
  * `1 <= restricted.length < n`
  * `1 <= restricted[i] < n`
  * `restricted` ä¸­çš„æ‰€æœ‰å€¼ **äº’ä¸ç›¸åŒ**


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [752. æ‰“å¼€è½¬ç›˜é”](https://leetcode.com/problems/open-the-lock)
- [1654. åˆ°å®¶çš„æœ€å°‘è·³è·ƒæ¬¡æ•°](https://leetcode.com/problems/minimum-jumps-to-reach-home)

::::
