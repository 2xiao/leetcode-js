---
title: 3387. ä¸¤å¤©è‡ªç”±å¤–æ±‡äº¤æ˜“åçš„æœ€å¤§è´§å¸æ•°
description: LeetCode 3387. ä¸¤å¤©è‡ªç”±å¤–æ±‡äº¤æ˜“åçš„æœ€å¤§è´§å¸æ•°é¢˜è§£ï¼ŒMaximize Amount After Two Days of Conversionsï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3387. ä¸¤å¤©è‡ªç”±å¤–æ±‡äº¤æ˜“åçš„æœ€å¤§è´§å¸æ•°
  - ä¸¤å¤©è‡ªç”±å¤–æ±‡äº¤æ˜“åçš„æœ€å¤§è´§å¸æ•°
  - Maximize Amount After Two Days of Conversions
  - è§£é¢˜æ€è·¯
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - å›¾
  - æ•°ç»„
  - å­—ç¬¦ä¸²
---

# 3387. ä¸¤å¤©è‡ªç”±å¤–æ±‡äº¤æ˜“åçš„æœ€å¤§è´§å¸æ•°

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å›¾`](/tag/graph.md) [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximize-amount-after-two-days-of-conversions) [`LeetCode`](https://leetcode.com/problems/maximize-amount-after-two-days-of-conversions)

## é¢˜ç›®

You are given a string `initialCurrency`, and you start with `1.0` of
`initialCurrency`.

You are also given four arrays with currency pairs (strings) and rates (real
numbers):

  * `pairs1[i] = [startCurrencyi, targetCurrencyi]` denotes that you can convert from `startCurrencyi` to `targetCurrencyi` at a rate of `rates1[i]` on **day 1**.
  * `pairs2[i] = [startCurrencyi, targetCurrencyi]` denotes that you can convert from `startCurrencyi` to `targetCurrencyi` at a rate of `rates2[i]` on **day 2**.
  * Also, each `targetCurrency` can be converted back to its corresponding `startCurrency` at a rate of `1 / rate`.

You can perform **any** number of conversions, **including zero** , using
`rates1` on day 1, **followed** by any number of additional conversions,
**including zero** , using `rates2` on day 2.

Return the **maximum** amount of `initialCurrency` you can have after
performing any number of conversions on both days **in order**.

**Note:** Conversion rates are valid, and there will be no contradictions in
the rates for either day. The rates for the days are independent of each
other.



**Example 1:**

**Input:** initialCurrency = "EUR", pairs1 = [["EUR","USD"],["USD","JPY"]],
rates1 = [2.0,3.0], pairs2 = [["JPY","USD"],["USD","CHF"],["CHF","EUR"]],
rates2 = [4.0,5.0,6.0]

**Output:** 720.00000

**Explanation:**

To get the maximum amount of **EUR** , starting with 1.0 **EUR** :

  * On Day 1: 
> 
> * Convert **EUR** to **USD** to get 2.0 **USD**.
> 
> * Convert **USD** to **JPY** to get 6.0 **JPY**.
  * On Day 2: 
> 
> * Convert **JPY** to **USD** to get 24.0 **USD**.
> 
> * Convert **USD** to **CHF** to get 120.0 **CHF**.
> 
> * Finally, convert **CHF** to **EUR** to get 720.0 **EUR**.

**Example 2:**

**Input:** initialCurrency = "NGN", pairs1 = [["NGN","EUR"]], rates1 = [9.0],
pairs2 = [["NGN","EUR"]], rates2 = [6.0]

**Output:** 1.50000

**Explanation:**

Converting **NGN** to **EUR** on day 1 and **EUR** to **NGN** using the
inverse rate on day 2 gives the maximum amount.

**Example 3:**

**Input:** initialCurrency = "USD", pairs1 = [["USD","EUR"]], rates1 = [1.0],
pairs2 = [["EUR","JPY"]], rates2 = [10.0]

**Output:** 1.00000

**Explanation:**

In this example, there is no need to make any conversions on either day.



**Constraints:**

  * `1 <= initialCurrency.length <= 3`
  * `initialCurrency` consists only of uppercase English letters.
  * `1 <= n == pairs1.length <= 10`
  * `1 <= m == pairs2.length <= 10`
  * `pairs1[i] == [startCurrencyi, targetCurrencyi]`
  * `pairs2[i] == [startCurrencyi, targetCurrencyi]`
  * `1 <= startCurrencyi.length, targetCurrencyi.length <= 3`
  * `startCurrencyi` and `targetCurrencyi` consist only of uppercase English letters.
  * `rates1.length == n`
  * `rates2.length == m`
  * `1.0 <= rates1[i], rates2[i] <= 10.0`
  * The input is generated such that there are no contradictions or cycles in the conversion graphs for either day.
  * The input is generated such that the output is **at most** `5 * 1010`.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `initialCurrency`ï¼Œè¡¨ç¤ºåˆå§‹è´§å¸ç±»å‹ï¼Œå¹¶ä¸”ä½ ä¸€å¼€å§‹æ‹¥æœ‰ `1.0` å•ä½çš„ `initialCurrency`ã€‚

å¦ç»™ä½ å››ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«è¡¨ç¤ºè´§å¸å¯¹ï¼ˆå­—ç¬¦ä¸²ï¼‰å’Œæ±‡ç‡ï¼ˆå®æ•°ï¼‰ï¼š

  * `pairs1[i] = [startCurrencyi, targetCurrencyi]` è¡¨ç¤ºåœ¨ **ç¬¬ 1 å¤©** ï¼Œå¯ä»¥æŒ‰ç…§æ±‡ç‡ `rates1[i]` å°† `startCurrencyi` è½¬æ¢ä¸º `targetCurrencyi`ã€‚
  * `pairs2[i] = [startCurrencyi, targetCurrencyi]` è¡¨ç¤ºåœ¨ **ç¬¬ 2 å¤©** ï¼Œå¯ä»¥æŒ‰ç…§æ±‡ç‡ `rates2[i]` å°† `startCurrencyi` è½¬æ¢ä¸º `targetCurrencyi`ã€‚
  * æ­¤å¤–ï¼Œæ¯ç§ `targetCurrency` éƒ½å¯ä»¥ä»¥æ±‡ç‡ `1 / rate` è½¬æ¢å›å¯¹åº”çš„ `startCurrency`ã€‚

ä½ å¯ä»¥åœ¨ **ç¬¬ 1 å¤©  **ä½¿ç”¨ `rates1` è¿›è¡Œä»»æ„æ¬¡æ•°çš„å…‘æ¢ï¼ˆåŒ…æ‹¬ 0 æ¬¡ï¼‰ï¼Œç„¶ååœ¨ **ç¬¬ 2 å¤©  **ä½¿ç”¨ `rates2`
å†è¿›è¡Œä»»æ„æ¬¡æ•°çš„å…‘æ¢ï¼ˆåŒ…æ‹¬ 0 æ¬¡ï¼‰ã€‚

è¿”å›åœ¨ä¸¤å¤©å…‘æ¢åï¼Œæœ€å¤§å¯èƒ½æ‹¥æœ‰çš„ `initialCurrency` çš„æ•°é‡ã€‚

**æ³¨æ„ï¼š** æ±‡ç‡æ˜¯æœ‰æ•ˆçš„ï¼Œå¹¶ä¸”ç¬¬ 1 å¤©å’Œç¬¬ 2 å¤©çš„æ±‡ç‡ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œä¸ä¼šäº§ç”ŸçŸ›ç›¾ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** initialCurrency = "EUR", pairs1 = [["EUR","USD"],["USD","JPY"]],
rates1 = [2.0,3.0], pairs2 = [["JPY","USD"],["USD","CHF"],["CHF","EUR"]],
rates2 = [4.0,5.0,6.0]

**è¾“å‡ºï¼š** 720.00000

**è§£é‡Šï¼š**

æ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œéœ€è¦æœ€å¤§åŒ–æœ€ç»ˆçš„ **EUR** æ•°é‡ï¼Œä» 1.0 **EUR** å¼€å§‹ï¼š

  * **ç¬¬ 1 å¤©ï¼š**
> 
> * å°† **EUR** æ¢æˆ **USD** ï¼Œå¾—åˆ° 2.0 **USD** ã€‚
> 
> * å°† **USD** æ¢æˆ **JPY** ï¼Œå¾—åˆ° 6.0 **JPY** ã€‚
  * **ç¬¬ 2 å¤©ï¼š**
> 
> * å°† **JPY** æ¢æˆ **USD** ï¼Œå¾—åˆ° 24.0 **USD** ã€‚
> 
> * å°† **USD** æ¢æˆ **CHF** ï¼Œå¾—åˆ° 120.0 **CHF** ã€‚
> 
> * æœ€åå°† **CHF** æ¢å› **EUR** ï¼Œå¾—åˆ° 720.0 **EUR** ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** initialCurrency = "NGN", pairs1 = [["NGN","EUR"]], rates1 = [9.0],
pairs2 = [["NGN","EUR"]], rates2 = [6.0]

**è¾“å‡ºï¼š** 1.50000

**è§£é‡Šï¼š**

åœ¨ç¬¬ 1 å¤©å°† **NGN** æ¢æˆ **EUR** ï¼Œå¹¶åœ¨ç¬¬ 2 å¤©ç”¨åå‘æ±‡ç‡å°† **EUR** æ¢å› **NGN** ï¼Œå¯ä»¥æœ€å¤§åŒ–æœ€ç»ˆçš„ **NGN**
æ•°é‡ã€‚

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š** initialCurrency = "USD", pairs1 = [["USD","EUR"]], rates1 = [1.0],
pairs2 = [["EUR","JPY"]], rates2 = [10.0]

**è¾“å‡ºï¼š** 1.00000

**è§£é‡Šï¼š**

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸éœ€è¦åœ¨ä»»ä½•ä¸€å¤©è¿›è¡Œä»»ä½•å…‘æ¢ã€‚



**æç¤ºï¼š**

  * `1 <= initialCurrency.length <= 3`
  * `initialCurrency` ä»…ç”±å¤§å†™è‹±æ–‡å­—æ¯ç»„æˆã€‚
  * `1 <= n == pairs1.length <= 10`
  * `1 <= m == pairs2.length <= 10`
  * `pairs1[i] == [startCurrencyi, targetCurrencyi]`
  * `pairs2[i] == [startCurrencyi, targetCurrencyi]`
  * `1 <= startCurrencyi.length, targetCurrencyi.length <= 3`
  * `startCurrencyi` å’Œ `targetCurrencyi` ä»…ç”±å¤§å†™è‹±æ–‡å­—æ¯ç»„æˆã€‚
  * `rates1.length == n`
  * `rates2.length == m`
  * `1.0 <= rates1[i], rates2[i] <= 10.0`
  * è¾“å…¥ä¿è¯ä¸¤ä¸ªè½¬æ¢å›¾åœ¨å„è‡ªçš„å¤©æ•°ä¸­æ²¡æœ‰çŸ›ç›¾æˆ–å¾ªç¯ã€‚
  * è¾“å…¥ä¿è¯è¾“å‡º **æœ€å¤§**  ä¸º `5 * 1010`ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 399 | é™¤æ³•æ±‚å€¼ | [[âœ“]](/problem/0399.md) |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/tag/union-find.md) `4+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/evaluate-division) [ğŸ”—](https://leetcode.com/problems/evaluate-division) |