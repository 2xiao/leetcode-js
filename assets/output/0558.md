# [558. å››å‰æ ‘äº¤é›†](https://leetcode.com/problems/logical-or-of-two-binary-grids-represented-as-quad-trees)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/outline/tag/tree.md) [`åˆ†æ²»`](/outline/tag/divide-and-conquer.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/logical-or-of-two-binary-grids-represented-as-quad-trees)

## é¢˜ç›®

A Binary Matrix is a matrix in which all the elements are either **0** or
**1**.

Given `quadTree1` and `quadTree2`. `quadTree1` represents a `n * n` binary
matrix and `quadTree2` represents another `n * n` binary matrix.

Return _a Quad-Tree_ representing the `n * n` binary matrix which is the
result of **logical bitwise OR** of the two binary matrixes represented by
`quadTree1` and `quadTree2`.

Notice that you can assign the value of a node to **True** or **False** when
`isLeaf` is **False** , and both are **accepted** in the answer.

A Quad-Tree is a tree data structure in which each internal node has exactly
four children. Besides, each node has two attributes:

  * `val`: True if the node represents a grid of 1's or False if the node represents a grid of 0's.
  * `isLeaf`: True if the node is leaf node on the tree or False if the node has the four children.

> 
> 
> 
> 
> 
> class Node {
> 
> > 
> public boolean val;
> 
> > 
> public boolean isLeaf;
> 
> > 
> public Node topLeft;
> 
> > 
> public Node topRight;
> 
> > 
> public Node bottomLeft;
> 
> > 
> public Node bottomRight;
> 
> }

We can construct a Quad-Tree from a two-dimensional area using the following
steps:

  1. If the current grid has the same value (i.e all `1's` or all `0's`) set `isLeaf` True and set `val` to the value of the grid and set the four children to Null and stop.
  2. If the current grid has different values, set `isLeaf` to False and set `val` to any value and divide the current grid into four sub-grids as shown in the photo.
  3. Recurse for each of the children with the proper sub-grid.

![](https://assets.leetcode.com/uploads/2020/02/11/new_top.png)

If you want to know more about the Quad-Tree, you can refer to the
[wiki](https://en.wikipedia.org/wiki/Quadtree).

**Quad-Tree format:**

The input/output represents the serialized format of a Quad-Tree using level
order traversal, where `null` signifies a path terminator where no node exists
below.

It is very similar to the serialization of the binary tree. The only
difference is that the node is represented as a list `[isLeaf, val]`.

If the value of `isLeaf` or `val` is True we represent it as **1** in the list
`[isLeaf, val]` and if the value of `isLeaf` or `val` is False we represent it
as **0**.



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/02/11/qt1.png)
![](https://assets.leetcode.com/uploads/2020/02/11/qt2.png)

> Input: quadTree1 = [[0,1],[1,1],[1,1],[1,0],[1,0]]
> 
> , quadTree2 = [[0,1],[1,1],[0,1],[1,1],[1,0],null,null,null,null,[1,0],[1,0],[1,1],[1,1]]
> 
> Output: [[0,0],[1,1],[1,1],[1,1],[1,0]]
> 
> Explanation: quadTree1 and quadTree2 are shown above. You can see the binary matrix which is represented by each Quad-Tree.
> 
> If we apply logical bitwise OR on the two binary matrices we get the binary matrix below which is represented by the result Quad-Tree.
> 
> Notice that the binary matrices shown are only for illustration, you don't have to construct the binary matrix to get the result tree.
> 
> ![](https://assets.leetcode.com/uploads/2020/02/11/qtr.png)

**Example 2:**

> Input: quadTree1 = [[1,0]], quadTree2 = [[1,0]]
> 
> Output: [[1,0]]
> 
> Explanation: Each tree represents a binary matrix of size 1*1. Each matrix contains only zero.
> 
> The resulting matrix is of size 1*1 with also zero.

**Constraints:**

  * `quadTree1` and `quadTree2` are both **valid** Quad-Trees each representing a `n * n` grid.
  * `n == 2x` where `0 <= x <= 9`.


## é¢˜ç›®å¤§æ„

äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ä¸æ˜¯ **0** å°±æ˜¯ **1** ã€‚

ç»™ä½ ä¸¤ä¸ªå››å‰æ ‘ï¼Œ`quadTree1` å’Œ `quadTree2`ã€‚å…¶ä¸­ `quadTree1` è¡¨ç¤ºä¸€ä¸ª `n * n` äºŒè¿›åˆ¶çŸ©é˜µï¼Œè€Œ
`quadTree2` è¡¨ç¤ºå¦ä¸€ä¸ª `n * n` äºŒè¿›åˆ¶çŸ©é˜µã€‚

è¯·ä½ è¿”å›ä¸€ä¸ªè¡¨ç¤º `n * n` äºŒè¿›åˆ¶çŸ©é˜µçš„å››å‰æ ‘ï¼Œå®ƒæ˜¯ `quadTree1` å’Œ `quadTree2` æ‰€è¡¨ç¤ºçš„ä¸¤ä¸ªäºŒè¿›åˆ¶çŸ©é˜µè¿›è¡Œ
**æŒ‰ä½é€»è¾‘æˆ–è¿ç®—** çš„ç»“æœã€‚

æ³¨æ„ï¼Œå½“ `isLeaf` ä¸º **False** æ—¶ï¼Œä½ å¯ä»¥æŠŠ **True** æˆ–è€… **False** èµ‹å€¼ç»™èŠ‚ç‚¹ï¼Œä¸¤ç§å€¼éƒ½ä¼šè¢«åˆ¤é¢˜æœºåˆ¶ **æ¥å—**
ã€‚

å››å‰æ ‘æ•°æ®ç»“æ„ä¸­ï¼Œæ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹åªæœ‰å››ä¸ªå­èŠ‚ç‚¹ã€‚æ­¤å¤–ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå±æ€§ï¼š

  * `val`ï¼šå‚¨å­˜å¶å­ç»“ç‚¹æ‰€ä»£è¡¨çš„åŒºåŸŸçš„å€¼ã€‚1 å¯¹åº” **True** ï¼Œ0 å¯¹åº” **False** ï¼›
  * `isLeaf`: å½“è¿™ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ªå¶å­ç»“ç‚¹æ—¶ä¸º **True** ï¼Œå¦‚æœå®ƒæœ‰ 4 ä¸ªå­èŠ‚ç‚¹åˆ™ä¸º **False** ã€‚

> 
> 
> 
> 
> 
> class Node {
> 
> > 
> public boolean val;
> 
> > 
> public boolean isLeaf;
> 
> > 
> public Node topLeft;
> 
> > 
> public Node topRight;
> 
> > 
> public Node bottomLeft;
> 
> > 
> public Node bottomRight;
> 
> }

æˆ‘ä»¬å¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤ä¸ºäºŒç»´åŒºåŸŸæ„å»ºå››å‰æ ‘ï¼š

  1. å¦‚æœå½“å‰ç½‘æ ¼çš„å€¼ç›¸åŒï¼ˆå³ï¼Œå…¨ä¸º `0` æˆ–è€…å…¨ä¸º `1`ï¼‰ï¼Œå°† `isLeaf` è®¾ä¸º True ï¼Œå°† `val` è®¾ä¸ºç½‘æ ¼ç›¸åº”çš„å€¼ï¼Œå¹¶å°†å››ä¸ªå­èŠ‚ç‚¹éƒ½è®¾ä¸º Null ç„¶ååœæ­¢ã€‚
  2. å¦‚æœå½“å‰ç½‘æ ¼çš„å€¼ä¸åŒï¼Œå°† `isLeaf` è®¾ä¸º Falseï¼Œ å°† `val` è®¾ä¸ºä»»æ„å€¼ï¼Œç„¶åå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°†å½“å‰ç½‘æ ¼åˆ’åˆ†ä¸ºå››ä¸ªå­ç½‘æ ¼ã€‚
  3. ä½¿ç”¨é€‚å½“çš„å­ç½‘æ ¼é€’å½’æ¯ä¸ªå­èŠ‚ç‚¹ã€‚

![](https://assets.leetcode.com/uploads/2020/02/11/new_top.png)

å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºå››å‰æ ‘çš„å†…å®¹ï¼Œå¯ä»¥å‚è€ƒ
[ç™¾ç§‘](https://baike.baidu.com/item/%E5%9B%9B%E5%8F%89%E6%A0%91/8557650)ã€‚

**å››å‰æ ‘æ ¼å¼ï¼š**

è¾“å‡ºä¸ºä½¿ç”¨å±‚åºéå†åå››å‰æ ‘çš„åºåˆ—åŒ–å½¢å¼ï¼Œå…¶ä¸­ `null` è¡¨ç¤ºè·¯å¾„ç»ˆæ­¢ç¬¦ï¼Œå…¶ä¸‹é¢ä¸å­˜åœ¨èŠ‚ç‚¹ã€‚

å®ƒä¸äºŒå‰æ ‘çš„åºåˆ—åŒ–éå¸¸ç›¸ä¼¼ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯èŠ‚ç‚¹ä»¥åˆ—è¡¨å½¢å¼è¡¨ç¤º `[isLeaf, val]` ã€‚

å¦‚æœ `isLeaf` æˆ–è€… `val` çš„å€¼ä¸º True ï¼Œåˆ™è¡¨ç¤ºå®ƒåœ¨åˆ—è¡¨ `[isLeaf, val]` ä¸­çš„å€¼ä¸º **1** ï¼›å¦‚æœ `isLeaf`
æˆ–è€… `val` çš„å€¼ä¸º False ï¼Œåˆ™è¡¨ç¤ºå€¼ä¸º **0** ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2020/02/11/qt1.png)
![](https://assets.leetcode.com/uploads/2020/02/11/qt2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** quadTree1 = [[0,1],[1,1],[1,1],[1,0],[1,0]]
> 
> , quadTree2 = [[0,1],[1,1],[0,1],[1,1],[1,0],null,null,null,null,[1,0],[1,0],[1,1],[1,1]]
> 
> **è¾“å‡ºï¼š**[[0,0],[1,1],[1,1],[1,1],[1,0]]
> 
> **è§£é‡Šï¼š** quadTree1 å’Œ quadTree2 å¦‚ä¸Šæ‰€ç¤ºã€‚ç”±å››å‰æ ‘æ‰€è¡¨ç¤ºçš„äºŒè¿›åˆ¶çŸ©é˜µä¹Ÿå·²ç»ç»™å‡ºã€‚
> 
> å¦‚æœæˆ‘ä»¬å¯¹è¿™ä¸¤ä¸ªçŸ©é˜µè¿›è¡ŒæŒ‰ä½é€»è¾‘æˆ–è¿ç®—ï¼Œåˆ™å¯ä»¥å¾—åˆ°ä¸‹é¢çš„äºŒè¿›åˆ¶çŸ©é˜µï¼Œç”±ä¸€ä¸ªä½œä¸ºç»“æœçš„å››å‰æ ‘è¡¨ç¤ºã€‚
> 
> æ³¨æ„ï¼Œæˆ‘ä»¬å±•ç¤ºçš„äºŒè¿›åˆ¶çŸ©é˜µä»…ä»…æ˜¯ä¸ºäº†æ›´å¥½åœ°è¯´æ˜é¢˜æ„ï¼Œä½ æ— éœ€æ„é€ äºŒè¿›åˆ¶çŸ©é˜µæ¥è·å¾—ç»“æœå››å‰æ ‘ã€‚
> 
> ![](https://assets.leetcode.com/uploads/2020/02/11/qtr.png)
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** quadTree1 = [[1,0]]
> 
> , quadTree2 = [[1,0]]
> 
> **è¾“å‡ºï¼š**[[1,0]]
> 
> **è§£é‡Šï¼š** ä¸¤ä¸ªæ•°æ‰€è¡¨ç¤ºçš„çŸ©é˜µå¤§å°éƒ½ä¸º 1*1ï¼Œå€¼å…¨ä¸º 0 
> 
> ç»“æœçŸ©é˜µå¤§å°ä¸º 1*1ï¼Œå€¼å…¨ä¸º 0 ã€‚
> 
> 



**æç¤ºï¼š**

  * `quadTree1` å’Œ `quadTree2` éƒ½æ˜¯ç¬¦åˆé¢˜ç›®è¦æ±‚çš„å››å‰æ ‘ï¼Œæ¯ä¸ªéƒ½ä»£è¡¨ä¸€ä¸ª `n * n` çš„çŸ©é˜µã€‚
  * `n == 2x` ï¼Œå…¶ä¸­ `0 <= x <= 9`.


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```