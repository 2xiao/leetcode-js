---
title: 417. å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜
description: LeetCode 417. å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜é¢˜è§£ï¼ŒPacific Atlantic Water Flowï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 417. å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜
  - å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜
  - Pacific Atlantic Water Flow
  - è§£é¢˜æ€è·¯
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - æ•°ç»„
  - çŸ©é˜µ
---

# 417. å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/pacific-atlantic-water-flow) [`LeetCode`](https://leetcode.com/problems/pacific-atlantic-water-flow)

## é¢˜ç›®

There is an `m x n` rectangular island that borders both the **Pacific Ocean**
and **Atlantic Ocean**. The **Pacific Ocean** touches the island's left and
top edges, and the **Atlantic Ocean** touches the island's right and bottom
edges.

The island is partitioned into a grid of square cells. You are given an `m x
n` integer matrix `heights` where `heights[r][c]` represents the **height
above sea level** of the cell at coordinate `(r, c)`.

The island receives a lot of rain, and the rain water can flow to neighboring
cells directly north, south, east, and west if the neighboring cell's height
is **less than or equal to** the current cell's height. Water can flow from
any cell adjacent to an ocean into the ocean.

Return _a**2D list** of grid coordinates _`result` _where_`result[i] = [ri,
ci]`_denotes that rain water can flow from cell_`(ri, ci)`_to**both** the
Pacific and Atlantic oceans_.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/06/08/waterflow-grid.jpg)

> Input: heights = [[1,2,2,3,5],[3,2,3,4,4],[2,4,5,3,1],[6,7,1,4,5],[5,1,1,2,4]]
> 
> Output: [[0,4],[1,3],[1,4],[2,2],[3,0],[3,1],[4,0]]
> 
> Explanation: The following cells can flow to the Pacific and Atlantic oceans, as shown below:
> 
> [0,4]: [0,4] -> Pacific Ocean 
> 
> > 
>    [0,4] -> Atlantic Ocean
> 
> [1,3]: [1,3] -> [0,3] -> Pacific Ocean 
> 
> > 
>    [1,3] -> [1,4] -> Atlantic Ocean
> 
> [1,4]: [1,4] -> [1,3] -> [0,3] -> Pacific Ocean 
> 
> > 
>    [1,4] -> Atlantic Ocean
> 
> [2,2]: [2,2] -> [1,2] -> [0,2] -> Pacific Ocean 
> 
> > 
>    [2,2] -> [2,3] -> [2,4] -> Atlantic Ocean
> 
> [3,0]: [3,0] -> Pacific Ocean 
> 
> > 
>    [3,0] -> [4,0] -> Atlantic Ocean
> 
> [3,1]: [3,1] -> [3,0] -> Pacific Ocean 
> 
> > 
>    [3,1] -> [4,1] -> Atlantic Ocean
> 
> [4,0]: [4,0] -> Pacific Ocean 
> 
> > 
>    [4,0] -> Atlantic Ocean
> 
> Note that there are other possible paths for these cells to flow to the Pacific and Atlantic oceans.

**Example 2:**

> Input: heights = [[1]]
> 
> Output: [[0,0]]
> 
> Explanation: The water can flow from the only cell to the Pacific and Atlantic oceans.

**Constraints:**

  * `m == heights.length`
  * `n == heights[r].length`
  * `1 <= m, n <= 200`
  * `0 <= heights[r][c] <= 10^5`


## é¢˜ç›®å¤§æ„

æœ‰ä¸€ä¸ª `m Ã— n` çš„çŸ©å½¢å²›å±¿ï¼Œä¸ **å¤ªå¹³æ´‹** å’Œ **å¤§è¥¿æ´‹** ç›¸é‚»ã€‚ **â€œå¤ªå¹³æ´‹â€  **å¤„äºå¤§é™†çš„å·¦è¾¹ç•Œå’Œä¸Šè¾¹ç•Œï¼Œè€Œ **â€œå¤§è¥¿æ´‹â€**
å¤„äºå¤§é™†çš„å³è¾¹ç•Œå’Œä¸‹è¾¹ç•Œã€‚

è¿™ä¸ªå²›è¢«åˆ†å‰²æˆä¸€ä¸ªç”±è‹¥å¹²æ–¹å½¢å•å…ƒæ ¼ç»„æˆçš„ç½‘æ ¼ã€‚ç»™å®šä¸€ä¸ª `m x n` çš„æ•´æ•°çŸ©é˜µ `heights` ï¼Œ `heights[r][c]` è¡¨ç¤ºåæ ‡
`(r, c)` ä¸Šå•å…ƒæ ¼ **é«˜äºæµ·å¹³é¢çš„é«˜åº¦** ã€‚

å²›ä¸Šé›¨æ°´è¾ƒå¤šï¼Œå¦‚æœç›¸é‚»å•å…ƒæ ¼çš„é«˜åº¦ **å°äºæˆ–ç­‰äº** å½“å‰å•å…ƒæ ¼çš„é«˜åº¦ï¼Œé›¨æ°´å¯ä»¥ç›´æ¥å‘åŒ—ã€å—ã€ä¸œã€è¥¿æµå‘ç›¸é‚»å•å…ƒæ ¼ã€‚æ°´å¯ä»¥ä»æµ·æ´‹é™„è¿‘çš„ä»»ä½•å•å…ƒæ ¼æµå…¥æµ·æ´‹ã€‚

è¿”å›ç½‘æ ¼åæ ‡ `result` çš„ **2D åˆ—è¡¨** ï¼Œå…¶ä¸­ `result[i] = [ri, ci]` è¡¨ç¤ºé›¨æ°´ä»å•å…ƒæ ¼ `(ri, ci)` æµåŠ¨
**æ—¢å¯æµå‘å¤ªå¹³æ´‹ä¹Ÿå¯æµå‘å¤§è¥¿æ´‹** ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/06/08/waterflow-grid.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥:** heights = [[1,2,2,3,5],[3,2,3,4,4],[2,4,5,3,1],[6,7,1,4,5],[5,1,1,2,4]]
> 
> **è¾“å‡º:** [[0,4],[1,3],[1,4],[2,2],[3,0],[3,1],[4,0]]
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥:** heights = [[2,1],[1,2]]
> 
> **è¾“å‡º:** [[0,0],[0,1],[1,0],[1,1]]
> 
> 



**æç¤ºï¼š**

  * `m == heights.length`
  * `n == heights[r].length`
  * `1 <= m, n <= 200`
  * `0 <= heights[r][c] <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```