---
title: 1203. é¡¹ç›®ç®¡ç†
description: LeetCode 1203. é¡¹ç›®ç®¡ç†é¢˜è§£ï¼ŒSort Items by Groups Respecting Dependenciesï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1203. é¡¹ç›®ç®¡ç†
  - é¡¹ç›®ç®¡ç†
  - Sort Items by Groups Respecting Dependencies
  - è§£é¢˜æ€è·¯
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - å›¾
  - æ‹“æ‰‘æ’åº
---

# 1203. é¡¹ç›®ç®¡ç†

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å›¾`](/tag/graph.md) [`æ‹“æ‰‘æ’åº`](/tag/topological-sort.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/sort-items-by-groups-respecting-dependencies) [`LeetCode`](https://leetcode.com/problems/sort-items-by-groups-respecting-dependencies)

## é¢˜ç›®

There are `n` items each belonging to zero or one of `m` groups where
`group[i]` is the group that the `i`-th item belongs to and it's equal to `-1`
if the `i`-th item belongs to no group. The items and the groups are zero
indexed. A group can have no item belonging to it.

Return a sorted list of the items such that:

  * The items that belong to the same group are next to each other in the sorted list.
  * There are some relations between these items where `beforeItems[i]` is a list containing all the items that should come before the `i`-th item in the sorted array (to the left of the `i`-th item).

Return any solution if there is more than one solution and return an **empty
list**  if there is no solution.



**Example 1:**

**![](https://assets.leetcode.com/uploads/2019/09/11/1359_ex1.png)**

> Input: n = 8, m = 2, group = [-1,-1,1,0,0,1,0,-1], beforeItems = [[],[6],[5],[6],[3,6],[],[],[]]
> 
> Output: [6,3,4,1,5,2,0,7]

**Example 2:**

> Input: n = 8, m = 2, group = [-1,-1,1,0,0,1,0,-1], beforeItems = [[],[6],[5],[6],[3],[],[4],[]]
> 
> Output: []
> 
> Explanation:  This is the same as example 1 except that 4 needs to be before 6 in the sorted list.

**Constraints:**

  * `1 <= m <= n <= 3 * 10^4`
  * `group.length == beforeItems.length == n`
  * `-1 <= group[i] <= m - 1`
  * `0 <= beforeItems[i].length <= n - 1`
  * `0 <= beforeItems[i][j] <= n - 1`
  * `i != beforeItems[i][j]`
  * `beforeItems[i] `does not contain duplicates elements.


## é¢˜ç›®å¤§æ„

æœ‰ `n` ä¸ªé¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®æˆ–è€…ä¸å±äºä»»ä½•å°ç»„ï¼Œæˆ–è€…å±äº `m` ä¸ªå°ç»„ä¹‹ä¸€ã€‚`group[i]` è¡¨ç¤ºç¬¬ `i` ä¸ªé¡¹ç›®æ‰€å±çš„å°ç»„ï¼Œå¦‚æœç¬¬ `i`
ä¸ªé¡¹ç›®ä¸å±äºä»»ä½•å°ç»„ï¼Œåˆ™ `group[i]` ç­‰äº `-1`ã€‚é¡¹ç›®å’Œå°ç»„éƒ½æ˜¯ä»é›¶å¼€å§‹ç¼–å·çš„ã€‚å¯èƒ½å­˜åœ¨å°ç»„ä¸è´Ÿè´£ä»»ä½•é¡¹ç›®ï¼Œå³æ²¡æœ‰ä»»ä½•é¡¹ç›®å±äºè¿™ä¸ªå°ç»„ã€‚

è¯·ä½ å¸®å¿™æŒ‰è¦æ±‚å®‰æ’è¿™äº›é¡¹ç›®çš„è¿›åº¦ï¼Œå¹¶è¿”å›æ’åºåçš„é¡¹ç›®åˆ—è¡¨ï¼š

  * åŒä¸€å°ç»„çš„é¡¹ç›®ï¼Œæ’åºååœ¨åˆ—è¡¨ä¸­å½¼æ­¤ç›¸é‚»ã€‚
  * é¡¹ç›®ä¹‹é—´å­˜åœ¨ä¸€å®šçš„ä¾èµ–å…³ç³»ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåˆ—è¡¨ `beforeItems` æ¥è¡¨ç¤ºï¼Œå…¶ä¸­ `beforeItems[i]` è¡¨ç¤ºåœ¨è¿›è¡Œç¬¬ `i` ä¸ªé¡¹ç›®å‰ï¼ˆä½äºç¬¬ `i` ä¸ªé¡¹ç›®å·¦ä¾§ï¼‰åº”è¯¥å®Œæˆçš„æ‰€æœ‰é¡¹ç›®ã€‚

å¦‚æœå­˜åœ¨å¤šä¸ªè§£å†³æ–¹æ¡ˆï¼Œåªéœ€è¦è¿”å›å…¶ä¸­ä»»æ„ä¸€ä¸ªå³å¯ã€‚å¦‚æœæ²¡æœ‰åˆé€‚çš„è§£å†³æ–¹æ¡ˆï¼Œå°±è¯·è¿”å›ä¸€ä¸ª **ç©ºåˆ—è¡¨** ã€‚

**ç¤ºä¾‹ 1ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2019/09/22/1359_ex1.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 8, m = 2, group = [-1,-1,1,0,0,1,0,-1], beforeItems = [[],[6],[5],[6],[3,6],[],[],[]]
> 
> **è¾“å‡ºï¼š**[6,3,4,1,5,2,0,7]
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 8, m = 2, group = [-1,-1,1,0,0,1,0,-1], beforeItems = [[],[6],[5],[6],[3],[],[4],[]]
> 
> **è¾“å‡ºï¼š**[]
> 
> **è§£é‡Šï¼š** ä¸ç¤ºä¾‹ 1 å¤§è‡´ç›¸åŒï¼Œä½†æ˜¯åœ¨æ’åºåçš„åˆ—è¡¨ä¸­ï¼Œ4 å¿…é¡»æ”¾åœ¨ 6 çš„å‰é¢ã€‚
> 
> 

**æç¤ºï¼š**

  * `1 <= m <= n <= 3 * 10^4`
  * `group.length == beforeItems.length == n`
  * `-1 <= group[i] <= m - 1`
  * `0 <= beforeItems[i].length <= n - 1`
  * `0 <= beforeItems[i][j] <= n - 1`
  * `i != beforeItems[i][j]`
  * `beforeItems[i]` ä¸å«é‡å¤å…ƒç´ 


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```