---
title: 2172. æ•°ç»„çš„æœ€å¤§ä¸å’Œ
description: LeetCode,2172. æ•°ç»„çš„æœ€å¤§ä¸å’Œ,æ•°ç»„çš„æœ€å¤§ä¸å’Œ,Maximum AND Sum of Array,è§£é¢˜æ€è·¯,ä½è¿ç®—,æ•°ç»„,åŠ¨æ€è§„åˆ’,çŠ¶æ€å‹ç¼©
keywords:
  - LeetCode
  - 2172. æ•°ç»„çš„æœ€å¤§ä¸å’Œ
  - æ•°ç»„çš„æœ€å¤§ä¸å’Œ
  - Maximum AND Sum of Array
  - è§£é¢˜æ€è·¯
  - ä½è¿ç®—
  - æ•°ç»„
  - åŠ¨æ€è§„åˆ’
  - çŠ¶æ€å‹ç¼©
---

# 2172. æ•°ç»„çš„æœ€å¤§ä¸å’Œ

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`çŠ¶æ€å‹ç¼©`](/tag/bitmask.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-and-sum-of-array) [`LeetCode`](https://leetcode.com/problems/maximum-and-sum-of-array)

## é¢˜ç›®

You are given an integer array `nums` of length `n` and an integer `numSlots`
such that `2 * numSlots >= n`. There are `numSlots` slots numbered from `1` to
`numSlots`.

You have to place all `n` integers into the slots such that each slot contains
at **most** two numbers. The **AND sum** of a given placement is the sum of
the **bitwise** `AND` of every number with its respective slot number.

  * For example, the **AND sum** of placing the numbers `[1, 3]` into slot _`1`_ and `[4, 6]` into slot _`2`_ is equal to `(1 AND _1_) + (3 AND _1_) + (4 AND _2_) + (6 AND _2_) = 1 + 1 + 0 + 2 = 4`.

Return _the maximum possible**AND sum** of _`nums` _given_`numSlots` _slots._



**Example 1:**

> Input: nums = [1,2,3,4,5,6], numSlots = 3
> 
> Output: 9
> 
> Explanation: One possible placement is [1, 4] into slot _1_ , [2, 6] into slot _2_ , and [3, 5] into slot _3_. 
> 
> This gives the maximum AND sum of (1 AND _1_) + (4 AND _1_) + (2 AND _2_) + (6 AND _2_) + (3 AND _3_) + (5 AND _3_) = 1 + 0 + 2 + 2 + 3 + 1 = 9.

**Example 2:**

> Input: nums = [1,3,10,4,7,1], numSlots = 9
> 
> Output: 24
> 
> Explanation: One possible placement is [1, 1] into slot _1_ , [3] into slot _3_ , [4] into slot _4_ , [7] into slot _7_ , and [10] into slot _9_.
> 
> This gives the maximum AND sum of (1 AND _1_) + (1 AND _1_) + (3 AND _3_) + (4 AND _4_) + (7 AND _7_) + (10 AND _9_) = 1 + 1 + 3 + 4 + 7 + 8 = 24.
> 
> Note that slots 2, 5, 6, and 8 are empty which is permitted.

**Constraints:**

  * `n == nums.length`
  * `1 <= numSlots <= 9`
  * `1 <= n <= 2 * numSlots`
  * `1 <= nums[i] <= 15`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `numSlots` ï¼Œæ»¡è¶³`2 * numSlots >= n` ã€‚æ€»å…±æœ‰
`numSlots` ä¸ªç¯®å­ï¼Œç¼–å·ä¸º `1` åˆ° `numSlots` ã€‚

ä½ éœ€è¦æŠŠæ‰€æœ‰ `n` ä¸ªæ•´æ•°åˆ†åˆ°è¿™äº›ç¯®å­ä¸­ï¼Œä¸”æ¯ä¸ªç¯®å­ **è‡³å¤š**  æœ‰ 2 ä¸ªæ•´æ•°ã€‚ä¸€ç§åˆ†é…æ–¹æ¡ˆçš„ **ä¸å’Œ**  å®šä¹‰ä¸ºæ¯ä¸ªæ•°ä¸å®ƒæ‰€åœ¨ç¯®å­ç¼–å·çš„
**æŒ‰ä½ä¸è¿ç®—**  ç»“æœä¹‹å’Œã€‚

  * æ¯”æ–¹è¯´ï¼Œå°†æ•°å­— `[1, 3]` æ”¾å…¥ç¯®å­ **_`1`_**  ä¸­ï¼Œ`[4, 6]` æ”¾å…¥ç¯®å­ **_`2`_**  ä¸­ï¼Œè¿™ä¸ªæ–¹æ¡ˆçš„ä¸å’Œä¸º `(1 AND **_1_**) + (3 AND **_1_**) + (4 AND _**2**_) + (6 AND _**2**_) = 1 + 1 + 0 + 2 = 4` ã€‚

è¯·ä½ è¿”å›å°† `nums` ä¸­æ‰€æœ‰æ•°æ”¾å…¥ _ _`numSlots` ä¸ªç¯®å­ä¸­çš„æœ€å¤§ä¸å’Œã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,3,4,5,6], numSlots = 3
> 
> **è¾“å‡ºï¼š** 9
> 
> **è§£é‡Šï¼š** ä¸€ä¸ªå¯è¡Œçš„æ–¹æ¡ˆæ˜¯ [1, 4] æ”¾å…¥ç¯®å­ _**1**_  ä¸­ï¼Œ[2, 6] æ”¾å…¥ç¯®å­ **_2_**  ä¸­ï¼Œ[3, 5] æ”¾å…¥ç¯®å­ **_3_** ä¸­ã€‚
> 
> æœ€å¤§ä¸å’Œä¸º (1 AND **_1_**) + (4 AND **_1_**) + (2 AND **_2_**) + (6 AND **_2_**) + (3 AND **_3_**) + (5 AND _**3**_) = 1 + 0 + 2 + 2 + 3 + 1 = 9 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,3,10,4,7,1], numSlots = 9
> 
> **è¾“å‡ºï¼š** 24
> 
> **è§£é‡Šï¼š** ä¸€ä¸ªå¯è¡Œçš„æ–¹æ¡ˆæ˜¯ [1, 1] æ”¾å…¥ç¯®å­ _**1**_ ä¸­ï¼Œ[3] æ”¾å…¥ç¯®å­ _**3**_ ä¸­ï¼Œ[4] æ”¾å…¥ç¯®å­ **_4_** ä¸­ï¼Œ[7] æ”¾å…¥ç¯®å­ **_7_** ä¸­ï¼Œ[10] æ”¾å…¥ç¯®å­ **_9_**  ä¸­ã€‚
> 
> æœ€å¤§ä¸å’Œä¸º (1 AND **_1_**) + (1 AND **_1_**) + (3 AND **_3_**) + (4 AND **_4_**) + (7 AND **_7_**) + (10 AND **_9_**) = 1 + 1 + 3 + 4 + 7 + 8 = 24 ã€‚
> 
> æ³¨æ„ï¼Œç¯®å­ 2 ï¼Œ5 ï¼Œ6 å’Œ 8 æ˜¯ç©ºçš„ï¼Œè¿™æ˜¯å…è®¸çš„ã€‚
> 
> 



**æç¤ºï¼š**

  * `n == nums.length`
  * `1 <= numSlots <= 9`
  * `1 <= n <= 2 * numSlots`
  * `1 <= nums[i] <= 15`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 1879 | ä¸¤ä¸ªæ•°ç»„æœ€å°çš„å¼‚æˆ–å€¼ä¹‹å’Œ |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) `1+` | <font color=#ff334b>Hard</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-xor-sum-of-two-arrays) [ğŸ”—](https://leetcode.com/problems/minimum-xor-sum-of-two-arrays) |