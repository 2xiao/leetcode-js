# [353. è´ªåƒè›‡](https://leetcode.com/problems/design-snake-game)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`é˜Ÿåˆ—`](/tag/queue.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/design-snake-game)

## é¢˜ç›®

Design a [Snake game](https://en.wikipedia.org/wiki/Snake_\(video_game\)) that
is played on a device with screen size `height x width`. [Play the game
online](http://patorjk.com/games/snake/) if you are not familiar with the
game.

The snake is initially positioned at the top left corner `(0, 0)` with a
length of `1` unit.

You are given an array `food` where `food[i] = (ri, ci)` is the row and column
position of a piece of food that the snake can eat. When a snake eats a piece
of food, its length and the game's score both increase by `1`.

Each piece of food appears one by one on the screen, meaning the second piece
of food will not appear until the snake eats the first piece of food.

When a piece of food appears on the screen, it is **guaranteed** that it will
not appear on a block occupied by the snake.

The game is over if the snake goes out of bounds (hits a wall) or if its head
occupies a space that its body occupies **after** moving (i.e. a snake of
length 4 cannot run into itself).

Implement the `SnakeGame` class:

  * `SnakeGame(int width, int height, int[][] food)` Initializes the object with a screen of size `height x width` and the positions of the `food`.
  * `int move(String direction)` Returns the score of the game after applying one `direction` move by the snake. If the game is over, return `-1`.



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0300-0399/0353.Design%20Snake%20Game/images/snake.jpg)

> 
> 
> 
> 
> 
> **Input**
> 
> ["SnakeGame", "move", "move", "move", "move", "move", "move"]
> 
> [[3, 2, [[1, 2], [0, 1]]], ["R"], ["D"], ["R"], ["U"], ["L"], ["U"]]
> 
> **Output**
> 
> [null, 0, 0, 1, 1, 2, -1]
> 
> 
> 
> **Explanation**
> 
> SnakeGame snakeGame = new SnakeGame(3, 2, [[1, 2], [0, 1]]);
> 
> snakeGame.move("R"); // return 0
> 
> snakeGame.move("D"); // return 0
> 
> snakeGame.move("R"); // return 1, snake eats the first piece of food. The second piece of food appears at (0, 1).
> 
> snakeGame.move("U"); // return 1
> 
> snakeGame.move("L"); // return 2, snake eats the second food. No more food appears.
> 
> snakeGame.move("U"); // return -1, game over because snake collides with border
> 
> 

**Constraints:**

  * `1 <= width, height <= 10^4`
  * `1 <= food.length <= 50`
  * `food[i].length == 2`
  * `0 <= ri < height`
  * `0 <= ci < width`
  * `direction.length == 1`
  * `direction` is `'U'`, `'D'`, `'L'`, or `'R'`.
  * At most `10^4` calls will be made to `move`.


## é¢˜ç›®å¤§æ„

è¯·ä½ è®¾è®¡ä¸€ä¸ª
[è´ªåƒè›‡æ¸¸æˆ](https://baike.baidu.com/item/%E8%B4%AA%E5%90%83%E8%9B%87/9510203?fr=aladdin)ï¼Œè¯¥æ¸¸æˆå°†ä¼šåœ¨ä¸€ä¸ª
**å±å¹•å°ºå¯¸ = å®½åº¦ x é«˜åº¦** çš„å±å¹•ä¸Šè¿è¡Œã€‚å¦‚æœä½ ä¸ç†Ÿæ‚‰è¿™ä¸ªæ¸¸æˆï¼Œå¯ä»¥
[ç‚¹å‡»è¿™é‡Œ](http://patorjk.com/games/snake/) åœ¨çº¿è¯•ç©ã€‚

èµ·åˆæ—¶ï¼Œè›‡åœ¨å·¦ä¸Šè§’çš„ `(0, 0)`**** ä½ç½®ï¼Œèº«ä½“é•¿åº¦ä¸º `1` ä¸ªå•ä½ã€‚

ä½ å°†ä¼šè¢«ç»™å‡ºä¸€ä¸ªæ•°ç»„å½¢å¼çš„é£Ÿç‰©ä½ç½®åºåˆ— `food` ï¼Œå…¶ä¸­ `food[i] = (ri, ci)` ã€‚å½“è›‡åƒåˆ°é£Ÿç‰©æ—¶ï¼Œèº«å­çš„é•¿åº¦ä¼šå¢åŠ  `1`
ä¸ªå•ä½ï¼Œå¾—åˆ†ä¹Ÿä¼š `+1` ã€‚

é£Ÿç‰©ä¸ä¼šåŒæ—¶å‡ºç°ï¼Œä¼šæŒ‰åˆ—è¡¨çš„é¡ºåºé€ä¸€æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚æ¯”æ–¹è®²ï¼Œç¬¬ä¸€ä¸ªé£Ÿç‰©è¢«è›‡åƒæ‰åï¼Œç¬¬äºŒä¸ªé£Ÿç‰©æ‰ä¼šå‡ºç°ã€‚

å½“ä¸€ä¸ªé£Ÿç‰©åœ¨å±å¹•ä¸Šå‡ºç°æ—¶ï¼Œä¿è¯ **ä¸ä¼š** å‡ºç°åœ¨è¢«è›‡èº«ä½“å æ®çš„æ ¼å­é‡Œã€‚

å¦‚æœè›‡è¶Šç•Œï¼ˆä¸è¾¹ç•Œç›¸æ’ï¼‰æˆ–è€…å¤´ä¸ **ç§»åŠ¨å** çš„èº«ä½“ç›¸æ’ï¼ˆå³ï¼Œèº«é•¿ä¸º `4` çš„è›‡æ— æ³•ä¸è‡ªå·±ç›¸æ’ï¼‰ï¼Œæ¸¸æˆç»“æŸã€‚

å®ç° `SnakeGame` ç±»ï¼š

  * `SnakeGame(int width, int height, int[][] food)` åˆå§‹åŒ–å¯¹è±¡ï¼Œå±å¹•å¤§å°ä¸º `height x width` ï¼Œé£Ÿç‰©ä½ç½®åºåˆ—ä¸º `food`
  * `int move(String direction)` è¿”å›è›‡åœ¨æ–¹å‘ `direction` ä¸Šç§»åŠ¨åçš„å¾—åˆ†ã€‚å¦‚æœæ¸¸æˆç»“æŸï¼Œè¿”å› `-1` ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0300-0399/0353.Design%20Snake%20Game/images/snake.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> ["SnakeGame", "move", "move", "move", "move", "move", "move"]
> 
> [[3, 2, [[1, 2], [0, 1]]], ["R"], ["D"], ["R"], ["U"], ["L"], ["U"]]
> 
> **è¾“å‡ºï¼š**
> 
> [null, 0, 0, 1, 1, 2, -1]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> SnakeGame snakeGame = new SnakeGame(3, 2, [[1, 2], [0, 1]]);
> 
> snakeGame.move("R"); // è¿”å› 0
> 
> snakeGame.move("D"); // è¿”å› 0
> 
> snakeGame.move("R"); // è¿”å› 1 ï¼Œè›‡åƒæ‰äº†ç¬¬ä¸€ä¸ªé£Ÿç‰©ï¼ŒåŒæ—¶ç¬¬äºŒä¸ªé£Ÿç‰©å‡ºç°åœ¨ (0, 1)
> 
> snakeGame.move("U"); // è¿”å› 1
> 
> snakeGame.move("L"); // è¿”å› 2 ï¼Œè›‡åƒæ‰äº†ç¬¬äºŒä¸ªé£Ÿç‰©ï¼Œæ²¡æœ‰å‡ºç°æ›´å¤šé£Ÿç‰©
> 
> snakeGame.move("U"); // è¿”å› -1 ï¼Œè›‡ä¸è¾¹ç•Œç›¸æ’ï¼Œæ¸¸æˆç»“æŸ
> 
> 
> 
> 

**æç¤ºï¼š**

  * `1 <= width, height <= 10^4`
  * `1 <= food.length <= 50`
  * `food[i].length == 2`
  * `0 <= ri < height`
  * `0 <= ci < width`
  * `direction.length == 1`
  * `direction` is `'U'`, `'D'`, `'L'`, or `'R'`.
  * æœ€å¤šè°ƒç”¨ `10^4` æ¬¡ `move` æ–¹æ³•


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```