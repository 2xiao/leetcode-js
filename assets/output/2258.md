# [2258. é€ƒç¦»ç«ç¾](https://leetcode.com/problems/escape-the-spreading-fire)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/breadth-first-search.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/leetcode/outline/tag/binary-search.md) [`çŸ©é˜µ`](/leetcode/outline/tag/matrix.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/escape-the-spreading-fire)


## é¢˜ç›®

You are given a **0-indexed** 2D integer array `grid` of size `m x n` which
represents a field. Each cell has one of three values:

  * `0` represents grass,
  * `1` represents fire,
  * `2` represents a wall that you and fire cannot pass through.

You are situated in the top-left cell, `(0, 0)`, and you want to travel to the
safehouse at the bottom-right cell, `(m - 1, n - 1)`. Every minute, you may
move to an **adjacent** grass cell. **After** your move, every fire cell will
spread to all **adjacent** cells that are not walls.

Return _the**maximum** number of minutes that you can stay in your initial
position before moving while still safely reaching the safehouse_. If this is
impossible, return `-1`. If you can **always** reach the safehouse regardless
of the minutes stayed, return `10^9`.

Note that even if the fire spreads to the safehouse immediately after you have
reached it, it will be counted as safely reaching the safehouse.

A cell is **adjacent** to another cell if the former is directly north, east,
south, or west of the latter (i.e., their sides are touching).



**Example 1:**

![](https://assets.leetcode.com/uploads/2022/03/10/ex1new.jpg)

> Input: grid = [[0,2,0,0,0,0,0],[0,0,0,2,2,1,0],[0,2,0,0,1,2,0],[0,0,2,2,2,0,2],[0,0,0,0,0,0,0]]
> 
> Output: 3
> 
> Explanation: The figure above shows the scenario where you stay in the initial position for 3 minutes.
> 
> You will still be able to safely reach the safehouse.
> 
> Staying for more than 3 minutes will not allow you to safely reach the safehouse.

**Example 2:**

![](https://assets.leetcode.com/uploads/2022/03/10/ex2new2.jpg)

> Input: grid = [[0,0,0,0],[0,1,2,0],[0,2,0,0]]
> 
> Output: -1
> 
> Explanation: The figure above shows the scenario where you immediately move towards the safehouse.
> 
> Fire will spread to any cell you move towards and it is impossible to safely reach the safehouse.
> 
> Thus, -1 is returned.

**Example 3:**

![](https://assets.leetcode.com/uploads/2022/03/10/ex3new.jpg)

> Input: grid = [[0,0,0],[2,2,0],[1,2,0]]
> 
> Output: 1000000000
> 
> Explanation: The figure above shows the initial grid.
> 
> Notice that the fire is contained by walls and you will always be able to safely reach the safehouse.
> 
> Thus, 109 is returned.

**Constraints:**

  * `m == grid.length`
  * `n == grid[i].length`
  * `2 <= m, n <= 300`
  * `4 <= m * n <= 2 * 10^4`
  * `grid[i][j]` is either `0`, `1`, or `2`.
  * `grid[0][0] == grid[m - 1][n - 1] == 0`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹å¤§å°ä¸º `m x n` çš„äºŒç»´æ•´æ•°æ•°ç»„ `grid` ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªç½‘æ ¼å›¾ã€‚æ¯ä¸ªæ ¼å­ä¸ºä¸‹é¢ 3 ä¸ªå€¼ä¹‹ä¸€ï¼š

  * `0` è¡¨ç¤ºè‰åœ°ã€‚
  * `1` è¡¨ç¤ºç€ç«çš„æ ¼å­ã€‚
  * `2` è¡¨ç¤ºä¸€åº§å¢™ï¼Œä½ è·Ÿç«éƒ½ä¸èƒ½é€šè¿‡è¿™ä¸ªæ ¼å­ã€‚

ä¸€å¼€å§‹ä½ åœ¨æœ€å·¦ä¸Šè§’çš„æ ¼å­ `(0, 0)` ï¼Œä½ æƒ³è¦åˆ°è¾¾æœ€å³ä¸‹è§’çš„å®‰å…¨å±‹æ ¼å­ `(m - 1, n - 1)` ã€‚æ¯ä¸€åˆ†é’Ÿï¼Œä½ å¯ä»¥ç§»åŠ¨åˆ° **ç›¸é‚»**
çš„è‰åœ°æ ¼å­ã€‚æ¯æ¬¡ä½ ç§»åŠ¨ **ä¹‹å**  ï¼Œç€ç«çš„æ ¼å­ä¼šæ‰©æ•£åˆ°æ‰€æœ‰ä¸æ˜¯å¢™çš„ **ç›¸é‚»**  æ ¼å­ã€‚

è¯·ä½ è¿”å›ä½ åœ¨åˆå§‹ä½ç½®å¯ä»¥åœç•™çš„ **æœ€å¤š** åˆ†é’Ÿæ•°ï¼Œä¸”åœç•™å®Œè¿™æ®µæ—¶é—´åä½ è¿˜èƒ½å®‰å…¨åˆ°è¾¾å®‰å…¨å±‹ã€‚å¦‚æœæ— æ³•å®ç°ï¼Œè¯·ä½ è¿”å› `-1`
ã€‚å¦‚æœä¸ç®¡ä½ åœ¨åˆå§‹ä½ç½®åœç•™å¤šä¹…ï¼Œä½  **æ€»æ˜¯**  èƒ½åˆ°è¾¾å®‰å…¨å±‹ï¼Œè¯·ä½ è¿”å› `10^9` ã€‚

æ³¨æ„ï¼Œå¦‚æœä½ åˆ°è¾¾å®‰å…¨å±‹åï¼Œç«é©¬ä¸Šåˆ°äº†å®‰å…¨å±‹ï¼Œè¿™è§†ä¸ºä½ èƒ½å¤Ÿå®‰å…¨åˆ°è¾¾å®‰å…¨å±‹ã€‚

å¦‚æœä¸¤ä¸ªæ ¼å­æœ‰å…±åŒè¾¹ï¼Œé‚£ä¹ˆå®ƒä»¬ä¸º **ç›¸é‚»**  æ ¼å­ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2022/03/10/ex1new.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[0,2,0,0,0,0,0],[0,0,0,2,2,1,0],[0,2,0,0,1,2,0],[0,0,2,2,2,0,2],[0,0,0,0,0,0,0]]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** ä¸Šå›¾å±•ç¤ºäº†ä½ åœ¨åˆå§‹ä½ç½®åœç•™ 3 åˆ†é’Ÿåçš„æƒ…å½¢ã€‚
> 
> ä½ ä»ç„¶å¯ä»¥å®‰å…¨åˆ°è¾¾å®‰å…¨å±‹ã€‚
> 
> åœç•™è¶…è¿‡ 3 åˆ†é’Ÿä¼šè®©ä½ æ— æ³•å®‰å…¨åˆ°è¾¾å®‰å…¨å±‹ã€‚

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2022/03/10/ex2new2.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[0,0,0,0],[0,1,2,0],[0,2,0,0]]
> 
> **è¾“å‡ºï¼š** -1
> 
> **è§£é‡Šï¼š** ä¸Šå›¾å±•ç¤ºäº†ä½ é©¬ä¸Šå¼€å§‹æœå®‰å…¨å±‹ç§»åŠ¨çš„æƒ…å½¢ã€‚
> 
> ç«ä¼šè”“å»¶åˆ°ä½ å¯ä»¥ç§»åŠ¨çš„æ‰€æœ‰æ ¼å­ï¼Œæ‰€ä»¥æ— æ³•å®‰å…¨åˆ°è¾¾å®‰å…¨å±‹ã€‚
> 
> æ‰€ä»¥è¿”å› -1 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode.com/uploads/2022/03/10/ex3new.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[0,0,0],[2,2,0],[1,2,0]]
> 
> **è¾“å‡ºï¼š** 1000000000
> 
> **è§£é‡Šï¼š** ä¸Šå›¾å±•ç¤ºäº†åˆå§‹ç½‘æ ¼å›¾ã€‚
> 
> æ³¨æ„ï¼Œç”±äºç«è¢«å¢™å›´äº†èµ·æ¥ï¼Œæ‰€ä»¥æ— è®ºå¦‚ä½•ä½ éƒ½èƒ½å®‰å…¨åˆ°è¾¾å®‰å…¨å±‹ã€‚
> 
> æ‰€ä»¥è¿”å› 109 ã€‚
> 
> 



**æç¤ºï¼š**

  * `m == grid.length`
  * `n == grid[i].length`
  * `2 <= m, n <= 300`
  * `4 <= m * n <= 2 * 10^4`
  * `grid[i][j]` æ˜¯ `0` ï¼Œ`1` æˆ–è€… `2` ã€‚
  * `grid[0][0] == grid[m - 1][n - 1] == 0`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 994 | [è…çƒ‚çš„æ©˜å­](https://leetcode.com/problems/rotting-oranges) |  |  [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/breadth-first-search.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`çŸ©é˜µ`](/leetcode/outline/tag/matrix.md) | <font color=#ffb800>Medium</font> |
| 1970 | [ä½ èƒ½ç©¿è¿‡çŸ©é˜µçš„æœ€åä¸€å¤©](https://leetcode.com/problems/last-day-where-you-can-still-cross) |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/leetcode/outline/tag/union-find.md) `3+` | <font color=#ff334b>Hard</font> |
| 2203 | [å¾—åˆ°è¦æ±‚è·¯å¾„çš„æœ€å°å¸¦æƒå­å›¾](https://leetcode.com/problems/minimum-weighted-subgraph-with-the-required-paths) |  |  [`å›¾`](/leetcode/outline/tag/graph.md) [`æœ€çŸ­è·¯`](/leetcode/outline/tag/shortest-path.md) | <font color=#ff334b>Hard</font> |
| 2503 | [çŸ©é˜µæŸ¥è¯¢å¯è·å¾—çš„æœ€å¤§åˆ†æ•°](https://leetcode.com/problems/maximum-number-of-points-from-grid-queries) |  |  [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/leetcode/outline/tag/union-find.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) `4+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
