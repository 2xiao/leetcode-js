---
title: 3466. æœ€å¤§ç¡¬å¸æ”¶é›†é‡ ğŸ”’
description: LeetCode 3466. æœ€å¤§ç¡¬å¸æ”¶é›†é‡ ğŸ”’é¢˜è§£ï¼ŒMaximum Coin Collectionï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3466. æœ€å¤§ç¡¬å¸æ”¶é›†é‡ ğŸ”’
  - æœ€å¤§ç¡¬å¸æ”¶é›†é‡
  - Maximum Coin Collection
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - åŠ¨æ€è§„åˆ’
---

# 3466. æœ€å¤§ç¡¬å¸æ”¶é›†é‡ ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-coin-collection) [`LeetCode`](https://leetcode.com/problems/maximum-coin-collection)

## é¢˜ç›®

Mario drives on a two-lane freeway with coins every mile. You are given two
integer arrays, `lane1` and `lane2`, where the value at the `ith` index
represents the number of coins he _gains or loses_ in the `ith` mile in that
lane.

  * If Mario is in lane 1 at mile `i` and `lane1[i] > 0`, Mario gains `lane1[i]` coins.
  * If Mario is in lane 1 at mile `i` and `lane1[i] < 0`, Mario pays a toll and loses `abs(lane1[i])` coins.
  * The same rules apply for `lane2`.

Mario can enter the freeway anywhere and exit anytime after traveling **at
least** one mile. Mario always enters the freeway on lane 1 but can switch
lanes **at most** 2 times.

A **lane switch** is when Mario goes from lane 1 to lane 2 or vice versa.

Return the **maximum** number of coins Mario can earn after performing **at
most 2 lane switches**.

**Note:** Mario can switch lanes immediately upon entering or just before
exiting the freeway.



**Example 1:**

**Input:** lane1 = [1,-2,-10,3], lane2 = [-5,10,0,1]

**Output:** 14

**Explanation:**

  * Mario drives the first mile on lane 1.
  * He then changes to lane 2 and drives for two miles.
  * He changes back to lane 1 for the last mile.

Mario collects `1 + 10 + 0 + 3 = 14` coins.

**Example 2:**

**Input:** lane1 = [1,-1,-1,-1], lane2 = [0,3,4,-5]

**Output:** 8

**Explanation:**

  * Mario starts at mile 0 in lane 1 and drives one mile.
  * He then changes to lane 2 and drives for two more miles. He exits the freeway before mile 3.

He collects `1 + 3 + 4 = 8` coins.

**Example 3:**

**Input:** lane1 = [-5,-4,-3], lane2 = [-1,2,3]

**Output:** 5

**Explanation:**

  * Mario enters at mile 1 and immediately switches to lane 2. He stays here the entire way.

He collects a total of `2 + 3 = 5` coins.

**Example 4:**

**Input:** lane1 = [-3,-3,-3], lane2 = [9,-2,4]

**Output:** 11

**Explanation:**

  * Mario starts at the beginning of the freeway and immediately switches to lane 2. He stays here the whole way.

He collects a total of `9 + (-2) + 4 = 11` coins.

**Example 5:**

**Input:** lane1 = [-10], lane2 = [-2]

**Output:** -2

**Explanation:**

  * Since Mario must ride on the freeway for at least one mile, he rides just one mile in lane 2.

He collects a total of -2 coins.



**Constraints:**

  * `1 <= lane1.length == lane2.length <= 10^5`
  * `-10^9 <= lane1[i], lane2[i] <= 10^9`


## é¢˜ç›®å¤§æ„

é©¬é‡Œå¥¥åœ¨åŒè½¦é“é«˜é€Ÿå…¬è·¯ä¸Šè¡Œé©¶ï¼Œæ¯è‹±é‡Œéƒ½æœ‰ç¡¬å¸ã€‚ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„ï¼Œ`lane1` å’Œ `lane2`ï¼Œå…¶ä¸­ç¬¬ `i` ä¸ªä¸‹æ ‡çš„å€¼è¡¨ç¤ºä»–åœ¨è½¦é“ä¸Šå¤„äºç¬¬ `i`
è‹±é‡Œæ—¶è·å¾—æˆ–å¤±å»çš„ç¡¬å¸æ•°é‡ã€‚

  * å¦‚æœé©¬é‡Œå¥¥åœ¨è½¦é“ 1 ä¸Šå¤„äº `i` è‹±é‡Œå¤„ï¼Œå¹¶ä¸” `lane1[i] > 0`ï¼Œé©¬é‡Œå¥¥è·å¾— `lane1[i]` ç¡¬å¸ã€‚
  * å¦‚æœé©¬é‡Œå¥¥åœ¨è½¦é“ 1 ä¸Šå¤„äº `i` è‹±é‡Œå¤„ï¼Œå¹¶ä¸” `lane1[i] < 0`ï¼Œé©¬é‡Œå¥¥æ”¯ä»˜é€šè¡Œè´¹å¹¶å¤±å» `abs(lane1[i])` ä¸ªç¡¬å¸ã€‚
  * è§„åˆ™åŒæ ·å¯¹ `lane2` é€‚ç”¨ã€‚

é©¬é‡Œå¥¥å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿›å…¥é«˜é€Ÿå…¬è·¯ï¼Œå¹¶åœ¨è¡Œé©¶ **è‡³å°‘** ä¸€è‹±é‡Œåéšæ—¶é€€å‡ºã€‚é©¬é‡Œå¥¥æ€»æ˜¯ä» 1 å·è½¦é“è¿›å…¥é«˜é€Ÿå…¬è·¯ï¼Œä½† **æœ€å¤š** å¯ä»¥æ¢é“ 2 æ¬¡ã€‚

**æ¢é“**  æ˜¯æŒ‡é©¬é‡Œå¥¥ä»è½¦é“ 1 æ¢åˆ°è½¦é“ 2ï¼Œåä¹‹äº¦ç„¶ã€‚

è¿”å›é©¬é‡Œå¥¥åœ¨è¿›è¡Œ **æœ€å¤š 2 æ¬¡æ¢é“**  å **æœ€å¤š**  å¯ä»¥è·å¾—çš„ç¡¬å¸æ•°ã€‚

**æ³¨æ„ï¼š** é©¬é‡Œå¥¥å¯ä»¥åœ¨è¿›å…¥é«˜é€Ÿå…¬è·¯æˆ–é€€å‡ºé«˜é€Ÿå…¬è·¯ä¹‹å‰ç«‹å³åˆ‡æ¢è½¦é“ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** lane1 = [1,-2,-10,3], lane2 = [-5,10,0,1]

**è¾“å‡ºï¼š** 14

**è§£é‡Šï¼š**

  * é©¬é‡Œå¥¥åœ¨è½¦é“ 1 ä¸Šè¡Œé©¶äº†ç¬¬ 1 è‹±é‡Œã€‚
  * æ¥ç€ï¼Œä»–åˆ‡æ¢åˆ°è½¦é“ 2 å¹¶ç»§ç»­è¡Œé©¶ 2 è‹±é‡Œã€‚
  * æœ€å 1 è‹±é‡Œä»–åˆ‡æ¢å›äº†è½¦é“ 1ã€‚

é©¬é‡Œå¥¥æ”¶é›†äº† `1 + 10 + 0 + 3 = 14` ç¡¬å¸ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** lane1 = [1,-1,-1,-1], lane2 = [0,3,4,-5]

**è¾“å‡ºï¼š** 8

**è§£é‡Šï¼š**

  * é©¬é‡Œå¥¥ä» 0 è‹±é‡Œå¤„è¿›å…¥è½¦é“ 1 å¹¶è¡Œé©¶äº† 1 è‹±é‡Œã€‚
  * æ¥ç€ï¼Œä»–åˆ‡æ¢åˆ°è½¦é“ 2 å¹¶ç»§ç»­è¡Œé©¶äº† 2 è‹±é‡Œã€‚ä»–åœ¨ 3 è‹±é‡Œå¤„ç¦»å¼€é«˜é€Ÿå…¬è·¯ã€‚

ä»–æ€»å…±æ”¶é›†äº† `1 + 3 + 4 = 8` ç¡¬å¸ã€‚

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š** lane1 = [-5,-4,-3], lane2 = [-1,2,3]

**è¾“å‡ºï¼š** 5

**è§£é‡Šï¼š**

  * é©¬é‡Œå¥¥ä» 1 è‹±é‡Œå¤„è¿›å…¥å¹¶ç«‹å³åˆ‡æ¢åˆ°è½¦é“ 2ã€‚ä»–å…¨ç¨‹ä¿æŒåœ¨è¿™æ ¹è½¦é“ä¸Šã€‚

ä»–æ€»å…±æ”¶é›†äº† `2 + 3 = 5` ç¡¬å¸ã€‚

**ç¤ºä¾‹ 4ï¼š**

**è¾“å…¥ï¼š** lane1 = [-3,-3,-3], lane2 = [9,-2,4]

**è¾“å‡ºï¼š** 11

**è§£é‡Šï¼š**

  * é©¬é‡Œå¥¥ä»é«˜é€Ÿå…¬è·¯çš„å¼€å¤´è¿›å…¥å¹¶ç«‹å³åˆ‡æ¢åˆ°è½¦é“ 2ã€‚ä»–å…¨ç¨‹ä¿æŒåœ¨è¿™æ ¹è½¦é“ä¸Šã€‚

ä»–æ€»å…±è·å¾—äº† `9 + (-2) + 4 = 11` ç¡¬å¸ã€‚

**ç¤ºä¾‹ 5ï¼š**

**è¾“å…¥ï¼š** lane1 = [-10], lane2 = [-2]

**è¾“å‡ºï¼š** -2

**è§£é‡Šï¼š**

  * ç”±äºé©¬é‡Œå¥¥å¿…é¡»åœ¨é«˜é€Ÿå…¬è·¯ä¸Šè¡Œé©¶è‡³å°‘ 1 è‹±é‡Œï¼Œä»–åªåœ¨è½¦é“ 2 ä¸Šè¡Œé©¶äº† 1 è‹±é‡Œã€‚

ä»–æ€»å…±è·å¾—äº† -2 ç¡¬å¸ã€‚



**æç¤ºï¼š**

  * `1 <= lane1.length == lane2.length <= 10^5`
  * `-10^9 <= lane1[i], lane2[i] <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```