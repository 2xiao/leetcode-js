---
title: 2489. å›ºå®šæ¯”ç‡çš„å­å­—ç¬¦ä¸²æ•° ğŸ”’
description: LeetCode 2489. å›ºå®šæ¯”ç‡çš„å­å­—ç¬¦ä¸²æ•° ğŸ”’é¢˜è§£ï¼ŒNumber of Substrings With Fixed Ratioï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2489. å›ºå®šæ¯”ç‡çš„å­å­—ç¬¦ä¸²æ•° ğŸ”’
  - å›ºå®šæ¯”ç‡çš„å­å­—ç¬¦ä¸²æ•°
  - Number of Substrings With Fixed Ratio
  - è§£é¢˜æ€è·¯
  - å“ˆå¸Œè¡¨
  - æ•°å­¦
  - å­—ç¬¦ä¸²
  - å‰ç¼€å’Œ
---

# 2489. å›ºå®šæ¯”ç‡çš„å­å­—ç¬¦ä¸²æ•° ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ•°å­¦`](/tag/math.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/number-of-substrings-with-fixed-ratio) [`LeetCode`](https://leetcode.com/problems/number-of-substrings-with-fixed-ratio)

## é¢˜ç›®

You are given a binary string `s`, and two integers `num1` and `num2`. `num1`
and `num2` are coprime numbers.

A **ratio substring** is a substring of s where the ratio between the number
of `0`'s and the number of `1`'s in the substring is exactly `num1 : num2`.

  * For example, if `num1 = 2` and `num2 = 3`, then `"01011"` and `"1110000111"` are ratio substrings, while `"11000"` is not.

Return _the number of**non-empty** ratio substrings of _`s`.

**Note** that:

  * A **substring** is a contiguous sequence of characters within a string.
  * Two values `x` and `y` are **coprime** if `gcd(x, y) == 1` where `gcd(x, y)` is the greatest common divisor of `x` and `y`.



**Example 1:**

> Input: s = "0110011", num1 = 1, num2 = 2
> 
> Output: 4
> 
> Explanation: There exist 4 non-empty ratio substrings.
> - The substring s[0..2]: "_011_ 0011". It contains one 0 and two 1's. The ratio is 1 : 2.
> - The substring s[1..4]: "0 _110_ 011". It contains one 0 and two 1's. The ratio is 1 : 2.
> - The substring s[4..6]: "0110 _011_ ". It contains one 0 and two 1's. The ratio is 1 : 2.
> - The substring s[1..6]: "0 _110011_ ". It contains two 0's and four 1's. The ratio is 2 : 4 == 1 : 2.
> 
> It can be shown that there are no more ratio substrings.

**Example 2:**

> Input: s = "10101", num1 = 3, num2 = 1
> 
> Output: 0
> 
> Explanation: There is no ratio substrings of s. We return 0.

**Constraints:**

  * `1 <= s.length <= 10^5`
  * `1 <= num1, num2 <= s.length`
  * `num1` and `num2` are coprime integers.


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸² `s` å’Œä¸¤ä¸ªæ•´æ•° `num1` å’Œ `num2`ã€‚`num1` å’Œ `num2` ä¸ºäº’è´¨ã€‚

**æ¯”ç‡å­ä¸²  **æ˜¯ s çš„å­ä¸²ï¼Œå…¶ä¸­å­ä¸²ä¸­ `0` çš„æ•°é‡ä¸ `1` çš„æ•°é‡ä¹‹æ¯”æ­£å¥½æ˜¯ `num1 : num2`ã€‚

  * ä¾‹å¦‚ï¼Œå¦‚æœ `num1 = 2` å’Œ `num2 = 3`ï¼Œé‚£ä¹ˆ `"01011"` å’Œ `"1110000111"` æ˜¯æ¯”ç‡å­ä¸²ï¼Œè€Œ `"11000"` ä¸æ˜¯ã€‚

è¿”å› _`s` çš„ **éç©º  **æ¯”ç‡å­ä¸²çš„ä¸ªæ•°ã€‚_

**æ³¨æ„** :

  * **å­ä¸²  **æ˜¯å­—ç¬¦ä¸²ä¸­è¿ç»­çš„å­—ç¬¦åºåˆ—ã€‚
  * å¦‚æœ `gcd(x, y) == 1`ï¼Œåˆ™ `x` å’Œ `y` ä¸º **äº’è´¨** ï¼Œå…¶ä¸­ `gcd(x, y)` ä¸º `x` å’Œ `y` çš„æœ€å¤§å…¬çº¦æ•°ã€‚



**ç¤ºä¾‹ 1:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** s = "0110011", num1 = 1, num2 = 2
> 
> **è¾“å‡º:** 4
> 
> **è§£é‡Š:** æœ‰ 4 ä¸ªéç©ºçš„æ¯”ç‡å­ä¸²ã€‚
> - å­å­—ç¬¦ä¸² s[0..2]: "_011_ 0011"ã€‚å®ƒåŒ…å«ä¸€ä¸ª 0 å’Œä¸¤ä¸ª 1ã€‚æ¯”ä¾‹æ˜¯ 1:2ã€‚
> - å­å­—ç¬¦ä¸² s[1..4]: "0 _110_ 011"ã€‚å®ƒåŒ…å«ä¸€ä¸ª 0 å’Œä¸¤ä¸ª 1ã€‚æ¯”ä¾‹æ˜¯ 1:2ã€‚
> - å­å­—ç¬¦ä¸² s[4..6]: "0110 _011_ "ã€‚å®ƒåŒ…å«ä¸€ä¸ª 0 å’Œä¸¤ä¸ª 1ã€‚æ¯”ä¾‹æ˜¯ 1:2ã€‚
> - å­å­—ç¬¦ä¸² s[1..6]: "0 _110011_ "ã€‚å®ƒåŒ…å«ä¸¤ä¸ª 0 å’Œå››ä¸ª 1ã€‚æ¯”ä¾‹æ˜¯ 2:4 == 1:2ã€‚
> 
> å®ƒå¯ä»¥æ˜¾ç¤ºæ²¡æœ‰æ›´å¤šçš„æ¯”ç‡å­ä¸²ã€‚
> 
> 

**ç¤ºä¾‹ 2:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** s = "10101", num1 = 3, num2 = 1
> 
> **è¾“å‡º:** 0
> 
> **è§£é‡Š:** s æ²¡æœ‰æ¯”ç‡å­ä¸²ï¼Œè¿”å› 0ã€‚
> 
> 



**æç¤º:**

  * `1 <= s.length <= 10^5`
  * `1 <= num1, num2 <= s.length`
  * `num1` å’Œ `num2` äº’è´¨ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 696 | è®¡æ•°äºŒè¿›åˆ¶å­ä¸² |  |  [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/count-binary-substrings) [ğŸ”—](https://leetcode.com/problems/count-binary-substrings) |