---
title: 3147. ä»é­”æ³•å¸ˆèº«ä¸Šå¸å–çš„æœ€å¤§èƒ½é‡
description: LeetCode 3147. ä»é­”æ³•å¸ˆèº«ä¸Šå¸å–çš„æœ€å¤§èƒ½é‡é¢˜è§£ï¼ŒTaking Maximum Energy From the Mystic Dungeonï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3147. ä»é­”æ³•å¸ˆèº«ä¸Šå¸å–çš„æœ€å¤§èƒ½é‡
  - ä»é­”æ³•å¸ˆèº«ä¸Šå¸å–çš„æœ€å¤§èƒ½é‡
  - Taking Maximum Energy From the Mystic Dungeon
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å‰ç¼€å’Œ
---

# 3147. ä»é­”æ³•å¸ˆèº«ä¸Šå¸å–çš„æœ€å¤§èƒ½é‡

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/taking-maximum-energy-from-the-mystic-dungeon) [`LeetCode`](https://leetcode.com/problems/taking-maximum-energy-from-the-mystic-dungeon)

## é¢˜ç›®

In a mystic dungeon, `n` magicians are standing in a line. Each magician has
an attribute that gives you energy. Some magicians can give you negative
energy, which means taking energy from you.

You have been cursed in such a way that after absorbing energy from magician
`i`, you will be instantly transported to magician `(i + k)`. This process
will be repeated until you reach the magician where `(i + k)` does not exist.

In other words, you will choose a starting point and then teleport with `k`
jumps until you reach the end of the magicians' sequence, **absorbing all the
energy** during the journey.

You are given an array `energy` and an integer `k`. Return the **maximum**
possible energy you can gain.



**Example 1:**

**Input:** energy = [5,2,-10,-5,1], k = 3

**Output:** 3

**Explanation:** We can gain a total energy of 3 by starting from magician 1
absorbing 2 + 1 = 3.

**Example 2:**

**Input:** energy = [-2,-3,-1], k = 2

**Output:** -1

**Explanation:** We can gain a total energy of -1 by starting from magician 2.



**Constraints:**

  * `1 <= energy.length <= 10^5`
  * `-1000 <= energy[i] <= 1000`
  * `1 <= k <= energy.length - 1`



â€‹â€‹â€‹â€‹â€‹â€‹


## é¢˜ç›®å¤§æ„

åœ¨ç¥ç§˜çš„åœ°ç‰¢ä¸­ï¼Œ`n` ä¸ªé­”æ³•å¸ˆç«™æˆä¸€æ’ã€‚æ¯ä¸ªé­”æ³•å¸ˆéƒ½æ‹¥æœ‰ä¸€ä¸ªå±æ€§ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥ç»™ä½ æä¾›èƒ½é‡ã€‚æœ‰äº›é­”æ³•å¸ˆå¯èƒ½ä¼šç»™ä½ è´Ÿèƒ½é‡ï¼Œå³ä»ä½ èº«ä¸Šå¸å–èƒ½é‡ã€‚

ä½ è¢«æ–½åŠ äº†ä¸€ç§è¯…å’’ï¼Œå½“ä½ ä»é­”æ³•å¸ˆ `i` å¤„å¸æ”¶èƒ½é‡åï¼Œä½ å°†è¢«ç«‹å³ä¼ é€åˆ°é­”æ³•å¸ˆ `(i + k)` å¤„ã€‚è¿™ä¸€è¿‡ç¨‹å°†é‡å¤è¿›è¡Œï¼Œç›´åˆ°ä½ åˆ°è¾¾ä¸€ä¸ªä¸å­˜åœ¨ `(i +
k)` çš„é­”æ³•å¸ˆä¸ºæ­¢ã€‚

æ¢å¥è¯è¯´ï¼Œä½ å°†é€‰æ‹©ä¸€ä¸ªèµ·ç‚¹ï¼Œç„¶åä»¥ `k` ä¸ºé—´éš”è·³è·ƒï¼Œç›´åˆ°åˆ°è¾¾é­”æ³•å¸ˆåºåˆ—çš„æœ«ç«¯ï¼Œ**åœ¨è¿‡ç¨‹ä¸­å¸æ”¶æ‰€æœ‰çš„èƒ½é‡** ã€‚

ç»™å®šä¸€ä¸ªæ•°ç»„ `energy` å’Œä¸€ä¸ªæ•´æ•°`k`ï¼Œè¿”å›ä½ èƒ½è·å¾—çš„**æœ€å¤§** èƒ½é‡ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** energy = [5,2,-10,-5,1], k = 3

**è¾“å‡ºï¼š** 3

**è§£é‡Šï¼š** å¯ä»¥ä»é­”æ³•å¸ˆ 1 å¼€å§‹ï¼Œå¸æ”¶èƒ½é‡ 2 + 1 = 3ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** energy = [-2,-3,-1], k = 2

**è¾“å‡ºï¼š** -1

**è§£é‡Šï¼š** å¯ä»¥ä»é­”æ³•å¸ˆ 2 å¼€å§‹ï¼Œå¸æ”¶èƒ½é‡ -1ã€‚



**æç¤ºï¼š**

  * `1 <= energy.length <= 10^5`
  * `-1000 <= energy[i] <= 1000`
  * `1 <= k <= energy.length - 1`




## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```