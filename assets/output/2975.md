# [2975. ç§»é™¤æ …æ å¾—åˆ°çš„æ­£æ–¹å½¢ç”°åœ°çš„æœ€å¤§é¢ç§¯](https://2xiao.github.io/leetcode-js/problem/2975.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æšä¸¾`](/tag/enumeration.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-square-area-by-removing-fences-from-a-field) [`LeetCode`](https://leetcode.com/problems/maximum-square-area-by-removing-fences-from-a-field)

## é¢˜ç›®

There is a large `(m - 1) x (n - 1)` rectangular field with corners at `(1,
1)` and `(m, n)` containing some horizontal and vertical fences given in
arrays `hFences` and `vFences` respectively.

Horizontal fences are from the coordinates `(hFences[i], 1)` to `(hFences[i],
n)` and vertical fences are from the coordinates `(1, vFences[i])` to `(m,
vFences[i])`.

Return _the**maximum** area of a **square** field that can be formed by
**removing** some fences (**possibly none**) or _`-1` _if it is impossible to
make a square field_.

Since the answer may be large, return it **modulo** `109 + 7`.

**Note:** The field is surrounded by two horizontal fences from the
coordinates `(1, 1)` to `(1, n)` and `(m, 1)` to `(m, n)` and two vertical
fences from the coordinates `(1, 1)` to `(m, 1)` and `(1, n)` to `(m, n)`.
These fences **cannot** be removed.



**Example 1:**

![](https://assets.leetcode.com/uploads/2023/11/05/screenshot-
from-2023-11-05-22-40-25.png)

> Input: m = 4, n = 3, hFences = [2,3], vFences = [2]
> 
> Output: 4
> 
> Explanation: Removing the horizontal fence at 2 and the vertical fence at 2 will give a square field of area 4.

**Example 2:**

![](https://assets.leetcode.com/uploads/2023/11/22/maxsquareareaexample1.png)

> Input: m = 6, n = 7, hFences = [2], vFences = [4]
> 
> Output: -1
> 
> Explanation: It can be proved that there is no way to create a square field by removing fences.

**Constraints:**

  * `3 <= m, n <= 10^9`
  * `1 <= hFences.length, vFences.length <= 600`
  * `1 < hFences[i] < m`
  * `1 < vFences[i] < n`
  * `hFences` and `vFences` are unique.


## é¢˜ç›®å¤§æ„

æœ‰ä¸€ä¸ªå¤§å‹çš„ `(m - 1) x (n - 1)` çŸ©å½¢ç”°åœ°ï¼Œå…¶ä¸¤ä¸ªå¯¹è§’åˆ†åˆ«æ˜¯ `(1, 1)` å’Œ `(m, n)`
ï¼Œç”°åœ°å†…éƒ¨æœ‰ä¸€äº›æ°´å¹³æ …æ å’Œå‚ç›´æ …æ ï¼Œåˆ†åˆ«ç”±æ•°ç»„ `hFences` å’Œ `vFences` ç»™å‡ºã€‚

æ°´å¹³æ …æ ä¸ºåæ ‡ `(hFences[i], 1)` åˆ° `(hFences[i], n)`ï¼Œå‚ç›´æ …æ ä¸ºåæ ‡ `(1, vFences[i])` åˆ° `(m,
vFences[i])` ã€‚

è¿”å›é€šè¿‡**ç§»é™¤** ä¸€äº›æ …æ ï¼ˆ**å¯èƒ½ä¸ç§»é™¤** ï¼‰æ‰€èƒ½å½¢æˆçš„æœ€å¤§é¢ç§¯çš„**æ­£æ–¹å½¢** ç”°åœ°çš„é¢ç§¯ï¼Œæˆ–è€…å¦‚æœæ— æ³•å½¢æˆæ­£æ–¹å½¢ç”°åœ°åˆ™è¿”å› `-1`ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œæ‰€ä»¥è¯·è¿”å›ç»“æœå¯¹ `109 + 7` **å–ä½™** åçš„å€¼ã€‚

**æ³¨æ„ï¼š** ç”°åœ°å¤–å›´ä¸¤ä¸ªæ°´å¹³æ …æ ï¼ˆåæ ‡ `(1, 1)` åˆ° `(1, n)` å’Œåæ ‡ `(m, 1)` åˆ° `(m, n)` ï¼‰ä»¥åŠä¸¤ä¸ªå‚ç›´æ …æ ï¼ˆåæ ‡
`(1, 1)` åˆ° `(m, 1)` å’Œåæ ‡ `(1, n)` åˆ° `(m, n)` ï¼‰æ‰€åŒ…å›´ã€‚è¿™äº›æ …æ **ä¸èƒ½** è¢«ç§»é™¤ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2023/11/05/screenshot-
from-2023-11-05-22-40-25.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** m = 4, n = 3, hFences = [2,3], vFences = [2]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** ç§»é™¤ä½äº 2 çš„æ°´å¹³æ …æ å’Œä½äº 2 çš„å‚ç›´æ …æ å°†å¾—åˆ°ä¸€ä¸ªé¢ç§¯ä¸º 4 çš„æ­£æ–¹å½¢ç”°åœ°ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2023/11/22/maxsquareareaexample1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** m = 6, n = 7, hFences = [2], vFences = [4]
> 
> **è¾“å‡ºï¼š** -1
> 
> **è§£é‡Šï¼š** å¯ä»¥è¯æ˜æ— æ³•é€šè¿‡ç§»é™¤æ …æ å½¢æˆæ­£æ–¹å½¢ç”°åœ°ã€‚
> 
> 



**æç¤ºï¼š**

  * `3 <= m, n <= 10^9`
  * `1 <= hFences.length, vFences.length <= 600`
  * `1 < hFences[i] < m`
  * `1 < vFences[i] < n`
  * `hFences` å’Œ `vFences` ä¸­çš„å…ƒç´ æ˜¯å”¯ä¸€çš„ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2943 | [æœ€å¤§åŒ–ç½‘æ ¼å›¾ä¸­æ­£æ–¹å½¢ç©ºæ´çš„é¢ç§¯](https://leetcode.com/problems/maximize-area-of-square-hole-in-grid) |  |  [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) | <font color=#ffb800>Medium</font> |