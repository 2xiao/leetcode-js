# [2359. æ‰¾åˆ°ç¦»ç»™å®šä¸¤ä¸ªèŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹](https://leetcode.com/problems/find-closest-node-to-given-two-nodes)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å›¾`](/tag/graph.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/find-closest-node-to-given-two-nodes)

## é¢˜ç›®

You are given a **directed** graph of `n` nodes numbered from `0` to `n - 1`,
where each node has **at most one** outgoing edge.

The graph is represented with a given **0-indexed** array `edges` of size `n`,
indicating that there is a directed edge from node `i` to node `edges[i]`. If
there is no outgoing edge from `i`, then `edges[i] == -1`.

You are also given two integers `node1` and `node2`.

Return _the**index** of the node that can be reached from both _`node1`
_and_`node2` _, such that the**maximum** between the distance from _`node1`
_to that node, and from_`node2` _to that node is**minimized**_. If there are
multiple answers, return the node with the **smallest** index, and if no
possible answer exists, return `-1`.

Note that `edges` may contain cycles.



**Example 1:**

![](https://assets.leetcode.com/uploads/2022/06/07/graph4drawio-2.png)

> Input: edges = [2,2,3,-1], node1 = 0, node2 = 1
> 
> Output: 2
> 
> Explanation: The distance from node 0 to node 2 is 1, and the distance from node 1 to node 2 is 1.
> 
> The maximum of those two distances is 1. It can be proven that we cannot get a node with a smaller maximum distance than 1, so we return node 2.

**Example 2:**

![](https://assets.leetcode.com/uploads/2022/06/07/graph4drawio-4.png)

> Input: edges = [1,2,-1], node1 = 0, node2 = 2
> 
> Output: 2
> 
> Explanation: The distance from node 0 to node 2 is 2, and the distance from node 2 to itself is 0.
> 
> The maximum of those two distances is 2. It can be proven that we cannot get a node with a smaller maximum distance than 2, so we return node 2.

**Constraints:**

  * `n == edges.length`
  * `2 <= n <= 10^5`
  * `-1 <= edges[i] < n`
  * `edges[i] != i`
  * `0 <= node1, node2 < n`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `n` ä¸ªèŠ‚ç‚¹çš„ **æœ‰å‘å›¾**  ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º `0` åˆ° `n - 1` ï¼Œæ¯ä¸ªèŠ‚ç‚¹ **è‡³å¤š**  æœ‰ä¸€æ¡å‡ºè¾¹ã€‚

æœ‰å‘å›¾ç”¨å¤§å°ä¸º `n` ä¸‹æ ‡ä» **0**  å¼€å§‹çš„æ•°ç»„ `edges` è¡¨ç¤ºï¼Œè¡¨ç¤ºèŠ‚ç‚¹ `i` æœ‰ä¸€æ¡æœ‰å‘è¾¹æŒ‡å‘ `edges[i]` ã€‚å¦‚æœèŠ‚ç‚¹ `i`
æ²¡æœ‰å‡ºè¾¹ï¼Œé‚£ä¹ˆ `edges[i] == -1` ã€‚

åŒæ—¶ç»™ä½ ä¸¤ä¸ªèŠ‚ç‚¹ `node1` å’Œ `node2` ã€‚

è¯·ä½ è¿”å›ä¸€ä¸ªä» `node1` å’Œ `node2` éƒ½èƒ½åˆ°è¾¾èŠ‚ç‚¹çš„ç¼–å·ï¼Œä½¿èŠ‚ç‚¹ `node1` å’ŒèŠ‚ç‚¹ `node2` åˆ°è¿™ä¸ªèŠ‚ç‚¹çš„è·ç¦»
**è¾ƒå¤§å€¼æœ€å°åŒ–** ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¯·è¿”å› **æœ€å°**  çš„èŠ‚ç‚¹ç¼–å·ã€‚å¦‚æœç­”æ¡ˆä¸å­˜åœ¨ï¼Œè¿”å› `-1` ã€‚

æ³¨æ„ `edges` å¯èƒ½åŒ…å«ç¯ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2022/06/07/graph4drawio-2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** edges = [2,2,3,-1], node1 = 0, node2 = 1
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š** ä»èŠ‚ç‚¹ 0 åˆ°èŠ‚ç‚¹ 2 çš„è·ç¦»ä¸º 1 ï¼Œä»èŠ‚ç‚¹ 1 åˆ°èŠ‚ç‚¹ 2 çš„è·ç¦»ä¸º 1 ã€‚
> 
> ä¸¤ä¸ªè·ç¦»çš„è¾ƒå¤§å€¼ä¸º 1 ã€‚æˆ‘ä»¬æ— æ³•å¾—åˆ°ä¸€ä¸ªæ¯” 1 æ›´å°çš„è¾ƒå¤§å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å›èŠ‚ç‚¹ 2 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2022/06/07/graph4drawio-4.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** edges = [1,2,-1], node1 = 0, node2 = 2
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š** èŠ‚ç‚¹ 0 åˆ°èŠ‚ç‚¹ 2 çš„è·ç¦»ä¸º 2 ï¼ŒèŠ‚ç‚¹ 2 åˆ°å®ƒè‡ªå·±çš„è·ç¦»ä¸º 0 ã€‚
> 
> ä¸¤ä¸ªè·ç¦»çš„è¾ƒå¤§å€¼ä¸º 2 ã€‚æˆ‘ä»¬æ— æ³•å¾—åˆ°ä¸€ä¸ªæ¯” 2 æ›´å°çš„è¾ƒå¤§å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å›èŠ‚ç‚¹ 2 ã€‚
> 
> 



**æç¤ºï¼š**

  * `n == edges.length`
  * `2 <= n <= 10^5`
  * `-1 <= edges[i] < n`
  * `edges[i] != i`
  * `0 <= node1, node2 < n`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```