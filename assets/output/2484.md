---
title: 2484. ç»Ÿè®¡å›æ–‡å­åºåˆ—æ•°ç›®
description: LeetCode 2484. ç»Ÿè®¡å›æ–‡å­åºåˆ—æ•°ç›®é¢˜è§£ï¼ŒCount Palindromic Subsequencesï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2484. ç»Ÿè®¡å›æ–‡å­åºåˆ—æ•°ç›®
  - ç»Ÿè®¡å›æ–‡å­åºåˆ—æ•°ç›®
  - Count Palindromic Subsequences
  - è§£é¢˜æ€è·¯
  - å­—ç¬¦ä¸²
  - åŠ¨æ€è§„åˆ’
---

# 2484. ç»Ÿè®¡å›æ–‡å­åºåˆ—æ•°ç›®

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/count-palindromic-subsequences) [`LeetCode`](https://leetcode.com/problems/count-palindromic-subsequences)

## é¢˜ç›®

Given a string of digits `s`, return _the number of**palindromic
subsequences** of_ `s` _having length_`5`. Since the answer may be very large,
return it **modulo** `109 + 7`.

**Note:**

  * A string is **palindromic** if it reads the same forward and backward.
  * A **subsequence** is a string that can be derived from another string by deleting some or no characters without changing the order of the remaining characters.



**Example 1:**

> Input: s = "103301"
> 
> Output: 2
> 
> Explanation: 
> 
> There are 6 possible subsequences of length 5: "10330","10331","10301","10301","13301","03301". 
> 
> Two of them (both equal to "10301") are palindromic.

**Example 2:**

> Input: s = "0000000"
> 
> Output: 21
> 
> Explanation: All 21 subsequences are "00000", which is palindromic.

**Example 3:**

> Input: s = "9999900000"
> 
> Output: 2
> 
> Explanation: The only two palindromic subsequences are "99999" and "00000".

**Constraints:**

  * `1 <= s.length <= 10^4`
  * `s` consists of digits.


## é¢˜ç›®å¤§æ„

ç»™ä½ æ•°å­—å­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ è¿”å› `s` ä¸­é•¿åº¦ä¸º `5` çš„ **å›æ–‡å­åºåˆ—**  æ•°ç›®ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·ä½ å°†ç­”æ¡ˆå¯¹ `109 + 7`
**å–ä½™**  åè¿”å›ã€‚

**æç¤ºï¼š**

  * å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²ä»å‰å¾€åå’Œä»åå¾€å‰è¯»ç›¸åŒï¼Œé‚£ä¹ˆå®ƒæ˜¯ **å›æ–‡å­—ç¬¦ä¸²**  ã€‚
  * å­åºåˆ—æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­åˆ é™¤è‹¥å¹²ä¸ªå­—ç¬¦åï¼Œä¸æ”¹å˜å­—ç¬¦é¡ºåºï¼Œå‰©ä½™å­—ç¬¦æ„æˆçš„å­—ç¬¦ä¸²ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "103301"
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š**
> 
> æ€»å…±æœ‰ 6 é•¿åº¦ä¸º 5 çš„å­åºåˆ—ï¼š"10330" ï¼Œ"10331" ï¼Œ"10301" ï¼Œ"10301" ï¼Œ"13301" ï¼Œ"03301" ã€‚
> 
> å®ƒä»¬ä¸­æœ‰ä¸¤ä¸ªï¼ˆéƒ½æ˜¯ "10301"ï¼‰æ˜¯å›æ–‡çš„ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "0000000"
> 
> **è¾“å‡ºï¼š** 21
> 
> **è§£é‡Šï¼š** æ‰€æœ‰ 21 ä¸ªé•¿åº¦ä¸º 5 çš„å­åºåˆ—éƒ½æ˜¯ "00000" ï¼Œéƒ½æ˜¯å›æ–‡çš„ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "9999900000"
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š** ä»…æœ‰çš„ä¸¤ä¸ªå›æ–‡å­åºåˆ—æ˜¯ "99999" å’Œ "00000" ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= s.length <= 10^4`
  * `s` åªåŒ…å«æ•°å­—å­—ç¬¦ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 446 | ç­‰å·®æ•°åˆ—åˆ’åˆ† II - å­åºåˆ— |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/arithmetic-slices-ii-subsequence) [ğŸ”—](https://leetcode.com/problems/arithmetic-slices-ii-subsequence) |
| 730 | ç»Ÿè®¡ä¸åŒå›æ–‡å­åºåˆ— |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/count-different-palindromic-subsequences) [ğŸ”—](https://leetcode.com/problems/count-different-palindromic-subsequences) |
| 1930 | é•¿åº¦ä¸º 3 çš„ä¸åŒå›æ–‡å­åºåˆ— | [[âœ“]](/problem/1930.md) |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/unique-length-3-palindromic-subsequences) [ğŸ”—](https://leetcode.com/problems/unique-length-3-palindromic-subsequences) |