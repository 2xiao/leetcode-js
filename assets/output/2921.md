# [2921. ä»·æ ¼é€’å¢çš„æœ€å¤§åˆ©æ¶¦ä¸‰å…ƒç»„ II ğŸ”’](https://2xiao.github.io/leetcode-js/problem/2921.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ‘çŠ¶æ•°ç»„`](/tag/binary-indexed-tree.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æ•°ç»„`](/tag/array.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-profitable-triplets-with-increasing-prices-ii) [`LeetCode`](https://leetcode.com/problems/maximum-profitable-triplets-with-increasing-prices-ii)

## é¢˜ç›®

Given the **0-indexed** arrays `prices` and `profits` of length `n`. There are
`n` items in an store where the `ith` item has a price of `prices[i]` and a
profit of `profits[i]`.

We have to pick three items with the following condition:

  * `prices[i] < prices[j] < prices[k]` where `i < j < k`.

If we pick items with indices `i`, `j` and `k` satisfying the above condition,
the profit would be `profits[i] + profits[j] + profits[k]`.

Return _the**maximum profit** we can get, and _`-1` _if it 's not possible to
pick three items with the given condition._



**Example 1:**

> Input: prices = [10,2,3,4], profits = [100,2,7,10]
> 
> Output: 19
> 
> Explanation: We can't pick the item with index i=0 since there are no indices j and k such that the condition holds.
> 
> So the only triplet we can pick, are the items with indices 1, 2 and 3 and it's a valid pick since prices[1] < prices[2] < prices[3].
> 
> The answer would be sum of their profits which is 2 + 7 + 10 = 19.

**Example 2:**

> Input: prices = [1,2,3,4,5], profits = [1,5,3,4,6]
> 
> Output: 15
> 
> Explanation: We can select any triplet of items since for each triplet of indices i, j and k such that i < j < k, the condition holds.
> 
> Therefore the maximum profit we can get would be the 3 most profitable items which are indices 1, 3 and 4.
> 
> The answer would be sum of their profits which is 5 + 4 + 6 = 15.

**Example 3:**

> Input: prices = [4,3,2,1], profits = [33,20,19,87]
> 
> Output: -1
> 
> Explanation: We can't select any triplet of indices such that the condition holds, so we return -1.

**Constraints:**

  * `3 <= prices.length == profits.length <= 50000`
  * `1 <= prices[i] <= 5000`
  * `1 <= profits[i] <= 10^6`


## é¢˜ç›®å¤§æ„

ç»™å®šé•¿åº¦ä¸º `n`  çš„æ•°ç»„ `prices` å’Œ `profits` ï¼ˆ**ä¸‹æ ‡ä» 0 å¼€å§‹** ï¼‰ã€‚ä¸€ä¸ªå•†åº—æœ‰ `n` ä¸ªå•†å“ï¼Œç¬¬ `i`
ä¸ªå•†å“çš„ä»·æ ¼ä¸º `prices[i]`ï¼Œåˆ©æ¶¦ä¸º `profits[i]`ã€‚

éœ€è¦é€‰æ‹©ä¸‰ä¸ªå•†å“ï¼Œæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

  * `prices[i] < prices[j] < prices[k]`ï¼Œå…¶ä¸­ `i < j < k`ã€‚

å¦‚æœé€‰æ‹©çš„å•†å“ `i`, `j` å’Œ `k` æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œé‚£ä¹ˆåˆ©æ¶¦å°†ç­‰äº `profits[i] + profits[j] + profits[k]`ã€‚

è¿”å›èƒ½å¤Ÿè·å¾—çš„ _ **æœ€å¤§åˆ©æ¶¦** ï¼Œå¦‚æœä¸å¯èƒ½æ»¡è¶³ç»™å®šæ¡ä»¶ï¼Œ_è¿”å› _ _`-1` _ã€‚_



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** prices = [10,2,3,4], profits = [100,2,7,10]
> 
> **è¾“å‡ºï¼š** 19
> 
> **è§£é‡Šï¼š** ä¸èƒ½é€‰æ‹©ä¸‹æ ‡ i=0 çš„å•†å“ï¼Œå› ä¸ºæ²¡æœ‰ä¸‹æ ‡ j å’Œ k çš„å•†å“æ»¡è¶³æ¡ä»¶ã€‚
> 
> åªèƒ½é€‰æ‹©ä¸‹æ ‡ä¸º 1ã€2ã€3 çš„ä¸‰ä¸ªå•†å“ï¼Œè¿™æ˜¯æœ‰æ•ˆçš„é€‰æ‹©ï¼Œå› ä¸º prices[1] < prices[2] < prices[3]ã€‚
> 
> ç­”æ¡ˆæ˜¯å®ƒä»¬çš„åˆ©æ¶¦ä¹‹å’Œï¼Œå³ 2 + 7 + 10 = 19ã€‚

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** prices = [1,2,3,4,5], profits = [1,5,3,4,6]
> 
> **è¾“å‡ºï¼š** 15
> 
> **è§£é‡Šï¼š** å¯ä»¥é€‰æ‹©ä»»æ„ä¸‰ä¸ªå•†å“ï¼Œå› ä¸ºå¯¹äºæ¯ç»„æ»¡è¶³ä¸‹æ ‡ä¸º i < j < k çš„ä¸‰ä¸ªå•†å“ï¼Œæ¡ä»¶éƒ½æˆç«‹ã€‚
> 
> å› æ­¤ï¼Œèƒ½å¾—åˆ°çš„æœ€å¤§åˆ©æ¶¦å°±æ˜¯åˆ©æ¶¦å’Œæœ€å¤§çš„ä¸‰ä¸ªå•†å“ï¼Œå³ä¸‹æ ‡ä¸º 1ï¼Œ3 å’Œ 4 çš„å•†å“ã€‚
> 
> ç­”æ¡ˆå°±æ˜¯å®ƒä»¬çš„åˆ©æ¶¦ä¹‹å’Œï¼Œå³ 5 + 4 + 6 = 15ã€‚

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** prices = [4,3,2,1], profits = [33,20,19,87]
> 
> **è¾“å‡ºï¼š** -1
> 
> **è§£é‡Šï¼š** æ‰¾ä¸åˆ°ä»»ä½•å¯ä»¥æ»¡è¶³æ¡ä»¶çš„ä¸‰ä¸ªå•†å“ï¼Œæ‰€ä»¥è¿”å› -1.
> 
> 



**æç¤ºï¼š**

  * `3 <= prices.length == profits.length <= 50000`
  * `1 <= prices[i] <= 5000`
  * `1 <= profits[i] <= 10^6`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```