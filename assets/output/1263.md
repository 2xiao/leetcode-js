# [1263. æ¨ç®±å­](https://leetcode.com/problems/minimum-moves-to-move-a-box-to-their-target-location)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/outline/tag/breadth-first-search.md) [`æ•°ç»„`](/outline/tag/array.md) [`çŸ©é˜µ`](/outline/tag/matrix.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/outline/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/minimum-moves-to-move-a-box-to-their-target-location)

## é¢˜ç›®

A storekeeper is a game in which the player pushes boxes around in a warehouse
trying to get them to target locations.

The game is represented by an `m x n` grid of characters `grid` where each
element is a wall, floor, or box.

Your task is to move the box `'B'` to the target position `'T'` under the
following rules:

  * The character `'S'` represents the player. The player can move up, down, left, right in `grid` if it is a floor (empty cell).
  * The character `'.'` represents the floor which means a free cell to walk.
  * The character `'#'` represents the wall which means an obstacle (impossible to walk there).
  * There is only one box `'B'` and one target cell `'T'` in the `grid`.
  * The box can be moved to an adjacent free cell by standing next to the box and then moving in the direction of the box. This is a **push**.
  * The player cannot walk through the box.

Return _the minimum number of**pushes** to move the box to the target_. If
there is no way to reach the target, return `-1`.



**Example 1:**

![](https://assets.leetcode.com/uploads/2019/11/06/sample_1_1620.png)

> Input: grid = [["#","#","#","#","#","#"],
> 
> > 
> > 
> > 
>    ["#","T","#","#","#","#"],
> 
> > 
> > 
> > 
>    ["#",".",".","B",".","#"],
> 
> > 
> > 
> > 
>    ["#",".","#","#",".","#"],
> 
> > 
> > 
> > 
>    ["#",".",".",".","S","#"],
> 
> > 
> > 
> > 
>    ["#","#","#","#","#","#"]]
> 
> Output: 3
> 
> Explanation: We return only the number of times the box is pushed.

**Example 2:**

> Input: grid = [["#","#","#","#","#","#"],
> 
> > 
> > 
> > 
>    ["#","T","#","#","#","#"],
> 
> > 
> > 
> > 
>    ["#",".",".","B",".","#"],
> 
> > 
> > 
> > 
>    ["#","#","#","#",".","#"],
> 
> > 
> > 
> > 
>    ["#",".",".",".","S","#"],
> 
> > 
> > 
> > 
>    ["#","#","#","#","#","#"]]
> 
> Output: -1

**Example 3:**

> Input: grid = [["#","#","#","#","#","#"],
> 
> > 
> > 
> > 
>    ["#","T",".",".","#","#"],
> 
> > 
> > 
> > 
>    ["#",".","#","B",".","#"],
> 
> > 
> > 
> > 
>    ["#",".",".",".",".","#"],
> 
> > 
> > 
> > 
>    ["#",".",".",".","S","#"],
> 
> > 
> > 
> > 
>    ["#","#","#","#","#","#"]]
> 
> Output: 5
> 
> Explanation: push the box down, left, left, up and up.

**Constraints:**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m, n <= 20`
  * `grid` contains only characters `'.'`, `'#'`, `'S'`, `'T'`, or `'B'`.
  * There is only one character `'S'`, `'B'`, and `'T'` in the `grid`.


## é¢˜ç›®å¤§æ„

ã€Œæ¨ç®±å­ã€æ˜¯ä¸€æ¬¾é£é¡å…¨çƒçš„ç›Šæ™ºå°æ¸¸æˆï¼Œç©å®¶éœ€è¦å°†ç®±å­æ¨åˆ°ä»“åº“ä¸­çš„ç›®æ ‡ä½ç½®ã€‚

æ¸¸æˆåœ°å›¾ç”¨å¤§å°ä¸º `m x n` çš„ç½‘æ ¼ `grid` è¡¨ç¤ºï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ å¯ä»¥æ˜¯å¢™ã€åœ°æ¿æˆ–è€…æ˜¯ç®±å­ã€‚

ç°åœ¨ä½ å°†ä½œä¸ºç©å®¶å‚ä¸æ¸¸æˆï¼ŒæŒ‰è§„åˆ™å°†ç®±å­ `'B'` ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½® `'T'` ï¼š

  * ç©å®¶ç”¨å­—ç¬¦ `'S'` è¡¨ç¤ºï¼Œåªè¦ä»–åœ¨åœ°æ¿ä¸Šï¼Œå°±å¯ä»¥åœ¨ç½‘æ ¼ä¸­å‘ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚
  * åœ°æ¿ç”¨å­—ç¬¦ `'.'` è¡¨ç¤ºï¼Œæ„å‘³ç€å¯ä»¥è‡ªç”±è¡Œèµ°ã€‚
  * å¢™ç”¨å­—ç¬¦ `'#'` è¡¨ç¤ºï¼Œæ„å‘³ç€éšœç¢ç‰©ï¼Œä¸èƒ½é€šè¡Œã€‚ 
  * ç®±å­ä»…æœ‰ä¸€ä¸ªï¼Œç”¨å­—ç¬¦ `'B'` è¡¨ç¤ºã€‚ç›¸åº”åœ°ï¼Œç½‘æ ¼ä¸Šæœ‰ä¸€ä¸ªç›®æ ‡ä½ç½® `'T'`ã€‚
  * ç©å®¶éœ€è¦ç«™åœ¨ç®±å­æ—è¾¹ï¼Œç„¶åæ²¿ç€ç®±å­çš„æ–¹å‘è¿›è¡Œç§»åŠ¨ï¼Œæ­¤æ—¶ç®±å­ä¼šè¢«ç§»åŠ¨åˆ°ç›¸é‚»çš„åœ°æ¿å•å…ƒæ ¼ã€‚è®°ä½œä¸€æ¬¡ã€Œæ¨åŠ¨ã€ã€‚
  * ç©å®¶æ— æ³•è¶Šè¿‡ç®±å­ã€‚

è¿”å›å°†ç®±å­æ¨åˆ°ç›®æ ‡ä½ç½®çš„æœ€å° **æ¨åŠ¨** æ¬¡æ•°ï¼Œå¦‚æœæ— æ³•åšåˆ°ï¼Œè¯·è¿”å› `-1`ã€‚



**ç¤ºä¾‹ 1ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2019/11/16/sample_1_1620.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [["#","#","#","#","#","#"],
> 
> > 
> > 
> > 
>  ["#","T","#","#","#","#"],
> 
> > 
> > 
> > 
>  ["#",".",".","B",".","#"],
> 
> > 
> > 
> > 
>  ["#",".","#","#",".","#"],
> 
> > 
> > 
> > 
>  ["#",".",".",".","S","#"],
> 
> > 
> > 
> > 
>  ["#","#","#","#","#","#"]]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** æˆ‘ä»¬åªéœ€è¦è¿”å›æ¨ç®±å­çš„æ¬¡æ•°ã€‚

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [["#","#","#","#","#","#"],
> 
> > 
> > 
> > 
>  ["#","T","#","#","#","#"],
> 
> > 
> > 
> > 
>  ["#",".",".","B",".","#"],
> 
> > 
> > 
> > 
>  ["#","#","#","#",".","#"],
> 
> > 
> > 
> > 
>  ["#",".",".",".","S","#"],
> 
> > 
> > 
> > 
>  ["#","#","#","#","#","#"]]
> 
> **è¾“å‡ºï¼š** -1
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [["#","#","#","#","#","#"],
> 
> > 
> > 
> > 
>  ["#","T",".",".","#","#"],
> 
> > 
> > 
> > 
>  ["#",".","#","B",".","#"],
> 
> > 
> > 
> > 
>  ["#",".",".",".",".","#"],
> 
> > 
> > 
> > 
>  ["#",".",".",".","S","#"],
> 
> > 
> > 
> > 
>  ["#","#","#","#","#","#"]]
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š** å‘ä¸‹ã€å‘å·¦ã€å‘å·¦ã€å‘ä¸Šå†å‘ä¸Šã€‚
> 
> 



**æç¤ºï¼š**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m, n <= 20`
  * `grid` ä»…åŒ…å«å­—ç¬¦ `'.'`, `'#'`,  `'S'` , `'T'`, ä»¥åŠ `'B'`ã€‚
  * `grid` ä¸­ `'S'`, `'B'` å’Œ `'T'` å„åªèƒ½å‡ºç°ä¸€ä¸ªã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```