---
title: 2832. æ¯ä¸ªå…ƒç´ ä¸ºæœ€å¤§å€¼çš„æœ€å¤§èŒƒå›´ ğŸ”’
description: LeetCode,2832. æ¯ä¸ªå…ƒç´ ä¸ºæœ€å¤§å€¼çš„æœ€å¤§èŒƒå›´ ğŸ”’,æ¯ä¸ªå…ƒç´ ä¸ºæœ€å¤§å€¼çš„æœ€å¤§èŒƒå›´,Maximal Range That Each Element Is Maximum in It,è§£é¢˜æ€è·¯,æ ˆ,æ•°ç»„,å•è°ƒæ ˆ
keywords:
  - LeetCode
  - 2832. æ¯ä¸ªå…ƒç´ ä¸ºæœ€å¤§å€¼çš„æœ€å¤§èŒƒå›´ ğŸ”’
  - æ¯ä¸ªå…ƒç´ ä¸ºæœ€å¤§å€¼çš„æœ€å¤§èŒƒå›´
  - Maximal Range That Each Element Is Maximum in It
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - æ•°ç»„
  - å•è°ƒæ ˆ
---

# 2832. æ¯ä¸ªå…ƒç´ ä¸ºæœ€å¤§å€¼çš„æœ€å¤§èŒƒå›´ ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`å•è°ƒæ ˆ`](/tag/monotonic-stack.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximal-range-that-each-element-is-maximum-in-it) [`LeetCode`](https://leetcode.com/problems/maximal-range-that-each-element-is-maximum-in-it)

## é¢˜ç›®

You are given a **0-indexed** array `nums` of **distinct** integers.

Let us define a **0-indexed** array `ans` of the same length as `nums` in the
following way:

  * `ans[i]` is the **maximum** length of a subarray `nums[l..r]`, such that the maximum element in that subarray is equal to `nums[i]`.

Return _the array_`ans`.

**Note** that a **subarray** is a contiguous part of the array.



**Example 1:**

> Input: nums = [1,5,4,3,6]
> 
> Output: [1,4,2,1,5]
> 
> Explanation: For nums[0] the longest subarray in which 1 is the maximum is nums[0..0] so ans[0] = 1.
> 
> For nums[1] the longest subarray in which 5 is the maximum is nums[0..3] so ans[1] = 4.
> 
> For nums[2] the longest subarray in which 4 is the maximum is nums[2..3] so ans[2] = 2.
> 
> For nums[3] the longest subarray in which 3 is the maximum is nums[3..3] so ans[3] = 1.
> 
> For nums[4] the longest subarray in which 6 is the maximum is nums[0..4] so ans[4] = 5.

**Example 2:**

> Input: nums = [1,2,3,4,5]
> 
> Output: [1,2,3,4,5]
> 
> Explanation: For nums[i] the longest subarray in which it's the maximum is nums[0..i] so ans[i] = i + 1.

**Constraints:**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^5`
  * All elements in `nums` are distinct.


## é¢˜ç›®å¤§æ„

ç°ç»™å®šä¸€ä¸ªç”± **ä¸åŒ** æ•´æ•°æ„æˆçš„ **0** ç´¢å¼•æ•°ç»„ `nums` ã€‚

æˆ‘ä»¬ç”¨ä»¥ä¸‹æ–¹å¼å®šä¹‰ä¸ `nums` é•¿åº¦ç›¸åŒçš„ **0** ç´¢å¼•æ•°ç»„ `ans` ï¼š

  * `ans[i]` æ˜¯å­æ•°ç»„ `nums[l..r]` çš„ **æœ€å¤§** é•¿åº¦ï¼Œè¯¥å­æ•°ç»„ä¸­çš„æœ€å¤§å…ƒç´ ç­‰äº `nums[i]` ã€‚

è¿”å›æ•°ç»„ `ans` ã€‚

**æ³¨æ„** ï¼Œ**å­æ•°ç»„** æ˜¯æ•°ç»„çš„è¿ç»­éƒ¨åˆ†ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,5,4,3,6]
> 
> **è¾“å‡ºï¼š**[1,4,2,1,5]
> 
> **è§£é‡Šï¼š** å¯¹äº nums[0]ï¼Œæœ€é•¿çš„å­æ•°ç»„ï¼Œå…¶ä¸­æœ€å¤§å€¼ä¸º 1ï¼Œæ˜¯ nums[0..0]ï¼Œæ‰€ä»¥ ans[0] = 1ã€‚ 
> 
> å¯¹äº nums[1]ï¼Œæœ€é•¿çš„å­æ•°ç»„ï¼Œæ˜¯ nums[0..3]ï¼Œå…¶ä¸­æœ€å¤§å€¼ä¸º 5ï¼Œæ‰€ä»¥ ans[1] = 4ã€‚ 
> 
> å¯¹äº nums[2]ï¼Œæœ€é•¿çš„å­æ•°ç»„ï¼Œæ˜¯ nums[2..3]ï¼Œå…¶ä¸­æœ€å¤§å€¼ä¸º 4ï¼Œæ‰€ä»¥ ans[2] = 2ã€‚ 
> 
> å¯¹äº nums[3]ï¼Œæœ€é•¿çš„å­æ•°ç»„ï¼Œæ˜¯ nums[3..3]ï¼Œå…¶ä¸­æœ€å¤§å€¼ä¸º 3ï¼Œæ‰€ä»¥ ans[3] = 1ã€‚ 
> 
> å¯¹äº nums[4]ï¼Œæœ€é•¿çš„å­æ•°ç»„ï¼Œæ˜¯ nums[0..4]ï¼Œå…¶ä¸­æœ€å¤§å€¼ä¸º 6ï¼Œæ‰€ä»¥ ans[4] = 5ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,3,4,5]
> 
> **è¾“å‡ºï¼š**[1,2,3,4,5]
> 
> **è§£é‡Šï¼š** å¯¹äº nums[i]ï¼Œæœ€é•¿çš„å­æ•°ç»„ï¼Œæ˜¯ nums[0..i]ï¼Œå…¶ä¸­æœ€å¤§å€¼ä¸ nums[i] ç›¸ç­‰ï¼Œæ‰€ä»¥ ans[i] = i + 1ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^5`
  * æ‰€æœ‰ `nums` ä¸­çš„å…ƒç´ éƒ½æ˜¯ä¸é‡å¤çš„ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```