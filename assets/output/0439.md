---
title: 439. ä¸‰å…ƒè¡¨è¾¾å¼è§£æå™¨ ğŸ”’
description: LeetCode,439. ä¸‰å…ƒè¡¨è¾¾å¼è§£æå™¨ ğŸ”’,ä¸‰å…ƒè¡¨è¾¾å¼è§£æå™¨,Ternary Expression Parser,è§£é¢˜æ€è·¯,æ ˆ,é€’å½’,å­—ç¬¦ä¸²
keywords:
  - LeetCode
  - 439. ä¸‰å…ƒè¡¨è¾¾å¼è§£æå™¨ ğŸ”’
  - ä¸‰å…ƒè¡¨è¾¾å¼è§£æå™¨
  - Ternary Expression Parser
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - é€’å½’
  - å­—ç¬¦ä¸²
---

# 439. ä¸‰å…ƒè¡¨è¾¾å¼è§£æå™¨ ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`é€’å½’`](/tag/recursion.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/ternary-expression-parser) [`LeetCode`](https://leetcode.com/problems/ternary-expression-parser)

## é¢˜ç›®

Given a string `expression` representing arbitrarily nested ternary
expressions, evaluate the expression, and return _the result of it_.

You can always assume that the given expression is valid and only contains
digits, `'?'`, `':'`, `'T'`, and `'F'` where `'T'` is true and `'F'` is false.
All the numbers in the expression are **one-digit** numbers (i.e., in the
range `[0, 9]`).

The conditional expressions group right-to-left (as usual in most languages),
and the result of the expression will always evaluate to either a digit, `'T'`
or `'F'`.



**Example 1:**

> Input: expression = "T?2:3"
> 
> Output: "2"
> 
> Explanation: If true, then result is 2; otherwise result is 3.

**Example 2:**

> Input: expression = "F?1:T?4:5"
> 
> Output: "4"
> 
> Explanation: The conditional expressions group right-to-left. Using parenthesis, it is read/evaluated as:
> 
> "(F ? 1 : (T ? 4 : 5))" --> "(F ? 1 : 4)" --> "4"
> 
> or "(F ? 1 : (T ? 4 : 5))" --> "(T ? 4 : 5)" --> "4"

**Example 3:**

> Input: expression = "T?T?F:5:3"
> 
> Output: "F"
> 
> Explanation: The conditional expressions group right-to-left. Using parenthesis, it is read/evaluated as:
> 
> "(T ? (T ? F : 5) : 3)" --> "(T ? F : 3)" --> "F"
> 
> "(T ? (T ? F : 5) : 3)" --> "(T ? F : 5)" --> "F"

**Constraints:**

  * `5 <= expression.length <= 10^4`
  * `expression` consists of digits, `'T'`, `'F'`, `'?'`, and `':'`.
  * It is **guaranteed** that `expression` is a valid ternary expression and that each number is a **one-digit number**.


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªè¡¨ç¤ºä»»æ„åµŒå¥—ä¸‰å…ƒè¡¨è¾¾å¼çš„å­—ç¬¦ä¸² `expression` ï¼Œæ±‚å€¼å¹¶è¿”å›å…¶ç»“æœã€‚

ä½ å¯ä»¥æ€»æ˜¯å‡è®¾ç»™å®šçš„è¡¨è¾¾å¼æ˜¯æœ‰æ•ˆçš„ï¼Œå¹¶ä¸”åªåŒ…å«æ•°å­—ï¼Œ `'?'` ï¼Œ  `':'` ï¼Œ  `'T'` å’Œ `'F'` ï¼Œå…¶ä¸­ `'T'` ä¸ºçœŸï¼Œ `'F'`
ä¸ºå‡ã€‚è¡¨è¾¾å¼ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯ **ä¸€ä½** æ•°(å³åœ¨ **[0,9]** èŒƒå›´å†…)ã€‚

æ¡ä»¶è¡¨è¾¾å¼ä»å³åˆ°å·¦åˆ†ç»„(å¤§å¤šæ•°è¯­è¨€ä¸­éƒ½æ˜¯è¿™æ ·)ï¼Œè¡¨è¾¾å¼çš„ç»“æœæ€»æ˜¯ä¸ºæ•°å­— `'T'` æˆ– `'F'` ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** expression = "T?2:3"
> 
> **è¾“å‡ºï¼š** "2"
> 
> **è§£é‡Šï¼š** å¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œç»“æœä¸º 2ï¼›å¦åˆ™ï¼Œç»“æœä¸º 3ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** expression = "F?1:T?4:5"
> 
> **è¾“å‡ºï¼š** "4"
> 
> **è§£é‡Šï¼š** æ¡ä»¶è¡¨è¾¾å¼è‡ªå³å‘å·¦ç»“åˆã€‚ä½¿ç”¨æ‹¬å·çš„è¯ï¼Œç›¸å½“äºï¼š
> 
>  "(F ? 1 : (T ? 4 : 5))" --> "(F ? 1 : 4)" --> "4"
> 
> or "(F ? 1 : (T ? 4 : 5))" --> "(T ? 4 : 5)" --> "4"
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** expression = "T?T?F:5:3"
> 
> **è¾“å‡ºï¼š** "F"
> 
> **è§£é‡Šï¼š** æ¡ä»¶è¡¨è¾¾å¼è‡ªå³å‘å·¦ç»“åˆã€‚ä½¿ç”¨æ‹¬å·çš„è¯ï¼Œç›¸å½“äºï¼š
> 
> "(T ? (T ? F : 5) : 3)" --> "(T ? F : 3)" --> "F"
> 
> "(T ? (T ? F : 5) : 3)" --> "(T ? F : 5)" --> "F"



**æç¤º:**

  * `5 <= expression.length <= 10^4`
  * `expression` ç”±æ•°å­—, `'T'`, `'F'`, `'?'` å’Œ `':'` ç»„æˆ
  * **ä¿è¯  **äº†è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ä¸‰å…ƒè¡¨è¾¾å¼ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°å­—éƒ½æ˜¯ **ä¸€ä½æ•°**  


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 385 | è¿·ä½ è¯­æ³•åˆ†æå™¨ |  |  [`æ ˆ`](/tag/stack.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/mini-parser) [ğŸ”—](https://leetcode.com/problems/mini-parser) |
| 722 | åˆ é™¤æ³¨é‡Š |  |  [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/remove-comments) [ğŸ”—](https://leetcode.com/problems/remove-comments) |
| 736 | Lisp è¯­æ³•è§£æ |  |  [`æ ˆ`](/tag/stack.md) [`é€’å½’`](/tag/recursion.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `1+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/parse-lisp-expression) [ğŸ”—](https://leetcode.com/problems/parse-lisp-expression) |