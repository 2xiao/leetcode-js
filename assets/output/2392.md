# [2392. ç»™å®šæ¡ä»¶ä¸‹æ„é€ çŸ©é˜µ](https://leetcode.com/problems/build-a-matrix-with-conditions)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å›¾`](/tag/graph.md) [`æ‹“æ‰‘æ’åº`](/tag/topological-sort.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/build-a-matrix-with-conditions)

## é¢˜ç›®

You are given a **positive** integer `k`. You are also given:

  * a 2D integer array `rowConditions` of size `n` where `rowConditions[i] = [abovei, belowi]`, and
  * a 2D integer array `colConditions` of size `m` where `colConditions[i] = [lefti, righti]`.

The two arrays contain integers from `1` to `k`.

You have to build a `k x k` matrix that contains each of the numbers from `1`
to `k` **exactly once**. The remaining cells should have the value `0`.

The matrix should also satisfy the following conditions:

  * The number `abovei` should appear in a **row** that is strictly **above** the row at which the number `belowi` appears for all `i` from `0` to `n - 1`.
  * The number `lefti` should appear in a **column** that is strictly **left** of the column at which the number `righti` appears for all `i` from `0` to `m - 1`.

Return _**any** matrix that satisfies the conditions_. If no answer exists,
return an empty matrix.



**Example 1:**

![](https://assets.leetcode.com/uploads/2022/07/06/gridosdrawio.png)

> Input: k = 3, rowConditions = [[1,2],[3,2]], colConditions = [[2,1],[3,2]]
> 
> Output: [[3,0,0],[0,0,1],[0,2,0]]
> 
> Explanation: The diagram above shows a valid example of a matrix that satisfies all the conditions.
> 
> The row conditions are the following:
> - Number 1 is in row _1_ , and number 2 is in row _2_ , so 1 is above 2 in the matrix.
> - Number 3 is in row _0_ , and number 2 is in row _2_ , so 3 is above 2 in the matrix.
> 
> The column conditions are the following:
> - Number 2 is in column _1_ , and number 1 is in column _2_ , so 2 is left of 1 in the matrix.
> - Number 3 is in column _0_ , and number 2 is in column _1_ , so 3 is left of 2 in the matrix.
> 
> Note that there may be multiple correct answers.

**Example 2:**

> Input: k = 3, rowConditions = [[1,2],[2,3],[3,1],[2,3]], colConditions = [[2,1]]
> 
> Output: []
> 
> Explanation: From the first two conditions, 3 has to be below 1 but the third conditions needs 3 to be above 1 to be satisfied.
> 
> No matrix can satisfy all the conditions, so we return the empty matrix.

**Constraints:**

  * `2 <= k <= 400`
  * `1 <= rowConditions.length, colConditions.length <= 10^4`
  * `rowConditions[i].length == colConditions[i].length == 2`
  * `1 <= abovei, belowi, lefti, righti <= k`
  * `abovei != belowi`
  * `lefti != righti`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª **æ­£**  æ•´æ•° `k` ï¼ŒåŒæ—¶ç»™ä½ ï¼š

  * ä¸€ä¸ªå¤§å°ä¸º `n` çš„äºŒç»´æ•´æ•°æ•°ç»„ `rowConditions` ï¼Œå…¶ä¸­ `rowConditions[i] = [abovei, belowi]` å’Œ
  * ä¸€ä¸ªå¤§å°ä¸º `m` çš„äºŒç»´æ•´æ•°æ•°ç»„ `colConditions` ï¼Œå…¶ä¸­ `colConditions[i] = [lefti, righti]` ã€‚

ä¸¤ä¸ªæ•°ç»„é‡Œçš„æ•´æ•°éƒ½æ˜¯ `1` åˆ° `k` ä¹‹é—´çš„æ•°å­—ã€‚

ä½ éœ€è¦æ„é€ ä¸€ä¸ª `k x k` çš„çŸ©é˜µï¼Œ`1` åˆ° `k` æ¯ä¸ªæ•°å­—éœ€è¦ **æ°å¥½å‡ºç°ä¸€æ¬¡**  ã€‚å‰©ä½™çš„æ•°å­—éƒ½æ˜¯** **`0` ã€‚

çŸ©é˜µè¿˜éœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

  * å¯¹äºæ‰€æœ‰ `0` åˆ° `n - 1` ä¹‹é—´çš„ä¸‹æ ‡ `i` ï¼Œæ•°å­— `abovei` æ‰€åœ¨çš„ **è¡Œ**  å¿…é¡»åœ¨æ•°å­— `belowi` æ‰€åœ¨è¡Œçš„ä¸Šé¢ã€‚
  * å¯¹äºæ‰€æœ‰ `0` åˆ° `m - 1` ä¹‹é—´çš„ä¸‹æ ‡ `i` ï¼Œæ•°å­— `lefti` æ‰€åœ¨çš„ **åˆ—**  å¿…é¡»åœ¨æ•°å­— `righti` æ‰€åœ¨åˆ—çš„å·¦è¾¹ã€‚

è¿”å›æ»¡è¶³ä¸Šè¿°è¦æ±‚çš„ **ä»»æ„**  çŸ©é˜µã€‚å¦‚æœä¸å­˜åœ¨ç­”æ¡ˆï¼Œè¿”å›ä¸€ä¸ªç©ºçš„çŸ©é˜µã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2022/07/06/gridosdrawio.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** k = 3, rowConditions = [[1,2],[3,2]], colConditions = [[2,1],[3,2]]
> 
> **è¾“å‡ºï¼š**[[3,0,0],[0,0,1],[0,2,0]]
> 
> **è§£é‡Šï¼š** ä¸Šå›¾ä¸ºä¸€ä¸ªç¬¦åˆæ‰€æœ‰æ¡ä»¶çš„çŸ©é˜µã€‚
> 
> è¡Œè¦æ±‚å¦‚ä¸‹ï¼š
> - æ•°å­— 1 åœ¨ç¬¬ **1** è¡Œï¼Œæ•°å­— 2 åœ¨ç¬¬ **2**  è¡Œï¼Œ1 åœ¨ 2 çš„ä¸Šé¢ã€‚
> - æ•°å­— 3 åœ¨ç¬¬ **0**  è¡Œï¼Œæ•°å­— 2 åœ¨ç¬¬ **2**  è¡Œï¼Œ3 åœ¨ 2 çš„ä¸Šé¢ã€‚
> 
> åˆ—è¦æ±‚å¦‚ä¸‹ï¼š
> - æ•°å­— 2 åœ¨ç¬¬ **1**  åˆ—ï¼Œæ•°å­— 1 åœ¨ç¬¬ **2**  åˆ—ï¼Œ2 åœ¨ 1 çš„å·¦è¾¹ã€‚
> - æ•°å­— 3 åœ¨ç¬¬ **0**  åˆ—ï¼Œæ•°å­— 2 åœ¨ç¬¬ **1**  åˆ—ï¼Œ3 åœ¨ 2 çš„å·¦è¾¹ã€‚
> 
> æ³¨æ„ï¼Œå¯èƒ½æœ‰å¤šç§æ­£ç¡®çš„ç­”æ¡ˆã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** k = 3, rowConditions = [[1,2],[2,3],[3,1],[2,3]], colConditions = [[2,1]]
> 
> **è¾“å‡ºï¼š**[]
> 
> **è§£é‡Šï¼š** ç”±å‰ä¸¤ä¸ªæ¡ä»¶å¯ä»¥å¾—åˆ° 3 åœ¨ 1 çš„ä¸‹é¢ï¼Œä½†ç¬¬ä¸‰ä¸ªæ¡ä»¶æ˜¯ 3 åœ¨ 1 çš„ä¸Šé¢ã€‚
> 
> æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„çŸ©é˜µå­˜åœ¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å›ç©ºçŸ©é˜µã€‚
> 
> 



**æç¤ºï¼š**

  * `2 <= k <= 400`
  * `1 <= rowConditions.length, colConditions.length <= 10^4`
  * `rowConditions[i].length == colConditions[i].length == 2`
  * `1 <= abovei, belowi, lefti, righti <= k`
  * `abovei != belowi`
  * `lefti != righti`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 207 | [è¯¾ç¨‹è¡¨](https://leetcode.com/problems/course-schedule) | [[âœ“]](/problem/0207.md) |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å›¾`](/tag/graph.md) `1+` | <font color=#ffb800>Medium</font> |
| 210 | [è¯¾ç¨‹è¡¨ II](https://leetcode.com/problems/course-schedule-ii) | [[âœ“]](/problem/0210.md) |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å›¾`](/tag/graph.md) `1+` | <font color=#ffb800>Medium</font> |
| 802 | [æ‰¾åˆ°æœ€ç»ˆçš„å®‰å…¨çŠ¶æ€](https://leetcode.com/problems/find-eventual-safe-states) |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å›¾`](/tag/graph.md) `1+` | <font color=#ffb800>Medium</font> |
| 851 | [å–§é—¹å’Œå¯Œæœ‰](https://leetcode.com/problems/loud-and-rich) |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å›¾`](/tag/graph.md) [`æ‹“æ‰‘æ’åº`](/tag/topological-sort.md) `1+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
