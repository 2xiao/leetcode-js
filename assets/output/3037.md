---
title: 3037. åœ¨æ— é™æµä¸­å¯»æ‰¾æ¨¡å¼ II ğŸ”’
description: LeetCode,3037. åœ¨æ— é™æµä¸­å¯»æ‰¾æ¨¡å¼ II ğŸ”’,åœ¨æ— é™æµä¸­å¯»æ‰¾æ¨¡å¼ II,Find Pattern in Infinite Stream II,è§£é¢˜æ€è·¯,æ•°ç»„,å­—ç¬¦ä¸²åŒ¹é…,æ»‘åŠ¨çª—å£,å“ˆå¸Œå‡½æ•°,æ»šåŠ¨å“ˆå¸Œ
keywords:
  - LeetCode
  - 3037. åœ¨æ— é™æµä¸­å¯»æ‰¾æ¨¡å¼ II ğŸ”’
  - åœ¨æ— é™æµä¸­å¯»æ‰¾æ¨¡å¼ II
  - Find Pattern in Infinite Stream II
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å­—ç¬¦ä¸²åŒ¹é…
  - æ»‘åŠ¨çª—å£
  - å“ˆå¸Œå‡½æ•°
  - æ»šåŠ¨å“ˆå¸Œ
---

# 3037. åœ¨æ— é™æµä¸­å¯»æ‰¾æ¨¡å¼ II ğŸ”’

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²åŒ¹é…`](/tag/string-matching.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) [`å“ˆå¸Œå‡½æ•°`](/tag/hash-function.md) [`æ»šåŠ¨å“ˆå¸Œ`](/tag/rolling-hash.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/find-pattern-in-infinite-stream-ii) [`LeetCode`](https://leetcode.com/problems/find-pattern-in-infinite-stream-ii)

## é¢˜ç›®

You are given a binary array `pattern` and an object `stream` of class
`InfiniteStream` representing a **0-indexed** infinite stream of bits.

The class `InfiniteStream` contains the following function:

  * `int next()`: Reads a **single** bit (which is either `0` or `1`) from the stream and returns it.

Return _the**first starting** index where the pattern matches the bits read
from the stream_. For example, if the pattern is `[1, 0]`, the first match is
the highlighted part in the stream `[0, **_1, 0_** , 1, ...]`.



**Example 1:**

> Input: stream = [1,1,1,0,1,1,1,...], pattern = [0,1]
> 
> Output: 3
> 
> Explanation: The first occurrence of the pattern [0,1] is highlighted in the stream [1,1,1,**_0,1_** ,...], which starts at index 3.

**Example 2:**

> Input: stream = [0,0,0,0,...], pattern = [0]
> 
> Output: 0
> 
> Explanation: The first occurrence of the pattern [0] is highlighted in the stream [**_0_** ,...], which starts at index 0.

**Example 3:**

> Input: stream = [1,0,1,1,0,1,1,0,1,...], pattern = [1,1,0,1]
> 
> Output: 2
> 
> Explanation: The first occurrence of the pattern [1,1,0,1] is highlighted in the stream [1,0,**_1,1,0,1_** ,...], which starts at index 2.

**Constraints:**

  * `1 <= pattern.length <= 10^4`
  * `pattern` consists only of `0` and `1`.
  * `stream` consists only of `0` and `1`.
  * The input is generated such that the pattern's start index exists in the first `10^5` bits of the stream.


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ `pattern` å’Œä¸€ä¸ªç±» `InfiniteStream` çš„å¯¹è±¡ `stream` è¡¨ç¤ºä¸€ä¸ªä¸‹æ ‡ä» **0**
å¼€å§‹çš„äºŒè¿›åˆ¶ä½æ— é™æµã€‚

ç±» `InfiniteStream` åŒ…å«ä¸‹åˆ—å‡½æ•°ï¼š

  * `int next()`ï¼šä»æµä¸­è¯»å– **ä¸€ä¸ª**  äºŒè¿›åˆ¶ä½ ï¼ˆæ˜¯ `0` æˆ– `1`ï¼‰å¹¶è¿”å›ã€‚

è¿”å› _ **ç¬¬ä¸€ä¸ªä½¿å¾—æ¨¡å¼åŒ¹é…æµä¸­è¯»å–çš„äºŒè¿›åˆ¶ä½çš„** å¼€å§‹ä¸‹æ ‡_ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ¨¡å¼æ˜¯ `[1, 0]`ï¼Œç¬¬ä¸€ä¸ªåŒ¹é…æ˜¯æµä¸­çš„é«˜äº®éƒ¨åˆ† `[0, **_1,
0_** , 1, ...]`ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥:** stream = [1,1,1,0,1,1,1,...], pattern = [0,1]
> 
> **è¾“å‡º:** 3
> 
> **è§£é‡Š:** æ¨¡å¼ [0,1] çš„ç¬¬ä¸€æ¬¡å‡ºç°åœ¨æµä¸­é«˜äº® [1,1,1,**_0,1_** ,...]ï¼Œä»ä¸‹æ ‡ 3 å¼€å§‹ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥:** stream = [0,0,0,0,...], pattern = [0]
> 
> **è¾“å‡º:** 0
> 
> **è§£é‡Š:** æ¨¡å¼ [0] çš„ç¬¬ä¸€æ¬¡å‡ºç°åœ¨æµä¸­é«˜äº® [**_0_** ,...]ï¼Œä»ä¸‹æ ‡ 0 å¼€å§‹ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥:** stream = [1,0,1,1,0,1,1,0,1,...], pattern = [1,1,0,1]
> 
> **è¾“å‡º:** 2
> 
> **è§£é‡Š:** æ¨¡å¼ [1,1,0,1] çš„ç¬¬ä¸€æ¬¡å‡ºç°åœ¨æµä¸­é«˜äº® [1,0,**_1,1,0,1_** ,...]ï¼Œä»ä¸‹æ ‡ 2 å¼€å§‹ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= pattern.length <= 10^4`
  * `pattern` åªåŒ…å« `0` æˆ– `1`ã€‚
  * `stream` åªåŒ…å« `0` æˆ– `1`ã€‚
  * ç”Ÿæˆçš„è¾“å…¥ä½¿æ¨¡å¼çš„å¼€å§‹ä¸‹æ ‡åœ¨æµçš„å‰ `10^5` ä¸ªäºŒè¿›åˆ¶ä½ä¸­ã€‚




## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```