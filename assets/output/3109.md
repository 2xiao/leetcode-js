---
title: 3109. æŸ¥æ‰¾æ’åˆ—çš„ä¸‹æ ‡ ğŸ”’
description: LeetCode 3109. æŸ¥æ‰¾æ’åˆ—çš„ä¸‹æ ‡ ğŸ”’é¢˜è§£ï¼ŒFind the Index of Permutationï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3109. æŸ¥æ‰¾æ’åˆ—çš„ä¸‹æ ‡ ğŸ”’
  - æŸ¥æ‰¾æ’åˆ—çš„ä¸‹æ ‡
  - Find the Index of Permutation
  - è§£é¢˜æ€è·¯
  - æ ‘çŠ¶æ•°ç»„
  - çº¿æ®µæ ‘
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
  - åˆ†æ²»
  - æœ‰åºé›†åˆ
  - å½’å¹¶æ’åº
---

# 3109. æŸ¥æ‰¾æ’åˆ—çš„ä¸‹æ ‡ ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘çŠ¶æ•°ç»„`](/tag/binary-indexed-tree.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`åˆ†æ²»`](/tag/divide-and-conquer.md) [`æœ‰åºé›†åˆ`](/tag/ordered-set.md) [`å½’å¹¶æ’åº`](/tag/merge-sort.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/find-the-index-of-permutation) [`LeetCode`](https://leetcode.com/problems/find-the-index-of-permutation)

## é¢˜ç›®

Given an array `perm` of length `n` which is a permutation of `[1, 2, ...,
n]`, return the index of `perm` in the lexicographically sorted array of all
of the permutations of `[1, 2, ..., n]`.

Since the answer may be very large, return it **modulo** `109 + 7`.



**Example 1:**

**Input:** perm = [1,2]

**Output:** 0

**Explanation:**

There are only two permutations in the following order:

`[1,2]`, `[2,1]`  
  
And `[1,2]` is at index 0.

**Example 2:**

**Input:** perm = [3,1,2]

**Output:** 4

**Explanation:**

There are only six permutations in the following order:

`[1,2,3]`, `[1,3,2]`, `[2,1,3]`, `[2,3,1]`, `[3,1,2]`, `[3,2,1]`  
  
And `[3,1,2]` is at index 4.



**Constraints:**

  * `1 <= n == perm.length <= 10^5`
  * `perm` is a permutation of `[1, 2, ..., n]`.


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ `perm`ï¼Œå®ƒæ˜¯ `[1, 2, ..., n]` çš„ä¸€ä¸ªæ’åˆ—ï¼Œå°† `[1, 2, ..., n]`
æ‰€æœ‰çš„æ’åˆ—æ”¾åœ¨æ•°ç»„ä¸­ï¼Œå¹¶ä»¥ å­—å…¸åº æ’åºï¼Œè¿”å›è¿™ä¸ªæ•°ç»„ä¸­ `perm` çš„ä¸‹æ ‡ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤§ï¼Œè¿”å›å€¼å¯¹ `109 + 7` **å–æ¨¡** ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** perm = [1,2]

**è¾“å‡ºï¼š** 0

**è§£é‡Šï¼š**

æŒ‰ä»¥ä¸‹é¡ºåºåªæœ‰ 2 ç§æ’åˆ—ï¼š

`[1,2]`, `[2,1]`  
  
å¹¶ä¸” `[1,2]` åœ¨ä¸‹æ ‡ 0ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** perm = [3,1,2]

**è¾“å‡ºï¼š** 4

**è§£é‡Šï¼š**

æŒ‰ä»¥ä¸‹é¡ºåºåªæœ‰ 6 ç§æ’åˆ—ï¼š

`[1,2,3]`, `[1,3,2]`, `[2,1,3]`, `[2,3,1]`, `[3,1,2]`, `[3,2,1]`  
  
å¹¶ä¸” `[3,1,2]` åœ¨ä¸‹æ ‡ 4ã€‚



**æç¤ºï¼š**

  * `1 <= n == perm.length <= 10^5`
  * `perm` æ˜¯ `[1, 2, ..., n]` çš„ä¸€ä¸ªæ’åˆ—ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```