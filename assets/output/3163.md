# [3163. å‹ç¼©å­—ç¬¦ä¸² III](https://leetcode.com/problems/string-compression-iii)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/string-compression-iii)

## é¢˜ç›®

Given a string `word`, compress it using the following algorithm:

  * Begin with an empty string `comp`. While `word` is **not** empty, use the following operation: 
> 
> * Remove a maximum length prefix of `word` made of a _single character_ `c` repeating **at most** 9 times.
> 
> * Append the length of the prefix followed by `c` to `comp`.

Return the string `comp`.



**Example 1:**

**Input:** word = "abcde"

**Output:** "1a1b1c1d1e"

**Explanation:**

Initially, `comp = ""`. Apply the operation 5 times, choosing `"a"`, `"b"`,
`"c"`, `"d"`, and `"e"` as the prefix in each operation.

For each prefix, append `"1"` followed by the character to `comp`.

**Example 2:**

**Input:** word = "aaaaaaaaaaaaaabb"

**Output:** "9a5a2b"

**Explanation:**

Initially, `comp = ""`. Apply the operation 3 times, choosing `"aaaaaaaaa"`,
`"aaaaa"`, and `"bb"` as the prefix in each operation.

  * For prefix `"aaaaaaaaa"`, append `"9"` followed by `"a"` to `comp`.
  * For prefix `"aaaaa"`, append `"5"` followed by `"a"` to `comp`.
  * For prefix `"bb"`, append `"2"` followed by `"b"` to `comp`.



**Constraints:**

  * `1 <= word.length <= 2 * 10^5`
  * `word` consists only of lowercase English letters.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `word`ï¼Œè¯·ä½ ä½¿ç”¨ä»¥ä¸‹ç®—æ³•è¿›è¡Œå‹ç¼©ï¼š

  * ä»ç©ºå­—ç¬¦ä¸² `comp` å¼€å§‹ã€‚å½“ `word` **ä¸ä¸ºç©º** æ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š 
> 
> * ç§»é™¤ `word` çš„æœ€é•¿å•å­—ç¬¦å‰ç¼€ï¼Œè¯¥å‰ç¼€ç”±å•ä¸€å­—ç¬¦ `c` é‡å¤å¤šæ¬¡ç»„æˆï¼Œä¸”è¯¥å‰ç¼€é•¿åº¦ **æœ€å¤š** ä¸º 9 ã€‚
> 
> * å°†å‰ç¼€çš„é•¿åº¦å’Œå­—ç¬¦ `c` è¿½åŠ åˆ° `comp` ã€‚

è¿”å›å­—ç¬¦ä¸² `comp` ã€‚





**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** word = "abcde"

**è¾“å‡ºï¼š** "1a1b1c1d1e"

**è§£é‡Šï¼š**

åˆå§‹æ—¶ï¼Œ`comp = ""` ã€‚è¿›è¡Œ 5 æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œåˆ†åˆ«é€‰æ‹© `"a"`ã€`"b"`ã€`"c"`ã€`"d"` å’Œ `"e"` ä½œä¸ºå‰ç¼€ã€‚

å¯¹æ¯ä¸ªå‰ç¼€ï¼Œå°† `"1"` å’Œå¯¹åº”çš„å­—ç¬¦è¿½åŠ åˆ° `comp`ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** word = "aaaaaaaaaaaaaabb"

**è¾“å‡ºï¼š** "9a5a2b"

**è§£é‡Šï¼š**

åˆå§‹æ—¶ï¼Œ`comp = ""`ã€‚è¿›è¡Œ 3 æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œåˆ†åˆ«é€‰æ‹© `"aaaaaaaaa"`ã€`"aaaaa"` å’Œ `"bb"` ä½œä¸ºå‰ç¼€ã€‚

  * å¯¹äºå‰ç¼€ `"aaaaaaaaa"`ï¼Œå°† `"9"` å’Œ `"a"` è¿½åŠ åˆ° `comp`ã€‚
  * å¯¹äºå‰ç¼€ `"aaaaa"`ï¼Œå°† `"5"` å’Œ `"a"` è¿½åŠ åˆ° `comp`ã€‚
  * å¯¹äºå‰ç¼€ `"bb"`ï¼Œå°† `"2"` å’Œ `"b"` è¿½åŠ åˆ° `comp`ã€‚



**æç¤ºï¼š**

  * `1 <= word.length <= 2 * 10^5`
  * `word` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 443 | [å‹ç¼©å­—ç¬¦ä¸²](https://leetcode.com/problems/string-compression) |  |  [`åŒæŒ‡é’ˆ`](/leetcode/outline/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) | <font color=#ffb800>Medium</font> |
| 1531 | [å‹ç¼©å­—ç¬¦ä¸² II](https://leetcode.com/problems/string-compression-ii) |  |  [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
