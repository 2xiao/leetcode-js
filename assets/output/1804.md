# [1804. å®ç° Trie ï¼ˆå‰ç¼€æ ‘ï¼‰ II ğŸ”’](https://2xiao.github.io/leetcode-js/problem/1804.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`å­—å…¸æ ‘`](/tag/trie.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/implement-trie-ii-prefix-tree) [`LeetCode`](https://leetcode.com/problems/implement-trie-ii-prefix-tree)

## é¢˜ç›®

A [**trie**](https://en.wikipedia.org/wiki/Trie) (pronounced as "try") or
**prefix tree** is a tree data structure used to efficiently store and
retrieve keys in a dataset of strings. There are various applications of this
data structure, such as autocomplete and spellchecker.

Implement the Trie class:

  * `Trie()` Initializes the trie object.
  * `void insert(String word)` Inserts the string `word` into the trie.
  * `int countWordsEqualTo(String word)` Returns the number of instances of the string `word` in the trie.
  * `int countWordsStartingWith(String prefix)` Returns the number of strings in the trie that have the string `prefix` as a prefix.
  * `void erase(String word)` Erases the string `word` from the trie.



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["Trie", "insert", "insert", "countWordsEqualTo", "countWordsStartingWith", "erase", "countWordsEqualTo", "countWordsStartingWith", "erase", "countWordsStartingWith"]
> 
> [[], ["apple"], ["apple"], ["apple"], ["app"], ["apple"], ["apple"], ["app"], ["apple"], ["app"]]
> 
> **Output**
> 
> [null, null, null, 2, 2, null, 1, 1, null, 0]
> 
> 
> 
> **Explanation**
> 
> Trie trie = new Trie();
> 
> trie.insert("apple");> 
> > 
> > 
>    // Inserts "apple".
> 
> trie.insert("apple");> 
> > 
> > 
>    // Inserts another "apple".
> 
> trie.countWordsEqualTo("apple");> 
> // There are two instances of "apple" so return 2.
> 
> trie.countWordsStartingWith("app"); // "app" is a prefix of "apple" so return 2.
> 
> trie.erase("apple");> 
> > 
> > 
> > 
> // Erases one "apple".
> 
> trie.countWordsEqualTo("apple");> 
> // Now there is only one instance of "apple" so return 1.
> 
> trie.countWordsStartingWith("app"); // return 1
> 
> trie.erase("apple");> 
> > 
> > 
> > 
> // Erases "apple". Now the trie is empty.
> 
> trie.countWordsStartingWith("app"); // return 0

**Constraints:**

  * `1 <= word.length, prefix.length <= 2000`
  * `word` and `prefix` consist only of lowercase English letters.
  * At most `3 * 10^4` calls **in total** will be made to `insert`, `countWordsEqualTo`, `countWordsStartingWith`, and `erase`.
  * It is guaranteed that for any function call to `erase`, the string `word` will exist in the trie.


## é¢˜ç›®å¤§æ„

å‰ç¼€æ ‘ï¼ˆ**[trie](https://en.wikipedia.org/wiki/Trie)** ï¼Œå‘éŸ³ä¸º
"try"ï¼‰æ˜¯ä¸€ä¸ªæ ‘çŠ¶çš„æ•°æ®ç»“æ„ï¼Œç”¨äºé«˜æ•ˆåœ°å­˜å‚¨å’Œæ£€ç´¢ä¸€ç³»åˆ—å­—ç¬¦ä¸²çš„å‰ç¼€ã€‚å‰ç¼€æ ‘æœ‰è®¸å¤šåº”ç”¨ï¼Œå¦‚è‡ªåŠ¨è¡¥å…¨å’Œæ‹¼å†™æ£€æŸ¥ã€‚

å®ç°å‰ç¼€æ ‘ Trie ç±»ï¼š

  * `Trie()` åˆå§‹åŒ–å‰ç¼€æ ‘å¯¹è±¡ã€‚
  * `void insert(String word)` å°†å­—ç¬¦ä¸² `word` æ’å…¥å‰ç¼€æ ‘ä¸­ã€‚
  * `int countWordsEqualTo(String word)` è¿”å›å‰ç¼€æ ‘ä¸­å­—ç¬¦ä¸² `word` çš„å®ä¾‹ä¸ªæ•°ã€‚
  * `int countWordsStartingWith(String prefix)` è¿”å›å‰ç¼€æ ‘ä¸­ä»¥ `prefix` ä¸ºå‰ç¼€çš„å­—ç¬¦ä¸²ä¸ªæ•°ã€‚
  * `void erase(String word)` ä»å‰ç¼€æ ‘ä¸­ç§»é™¤å­—ç¬¦ä¸² `word` ã€‚

**ç¤ºä¾‹ 1:**

> 
> 
> 
> 
> 
> **è¾“å…¥**
> 
> ["Trie", "insert", "insert", "countWordsEqualTo", "countWordsStartingWith", "erase", "countWordsEqualTo", "countWordsStartingWith", "erase", "countWordsStartingWith"]
> 
> [[], ["apple"], ["apple"], ["apple"], ["app"], ["apple"], ["apple"], ["app"], ["apple"], ["app"]]
> 
> **è¾“å‡º**
> 
> [null, null, null, 2, 2, null, 1, 1, null, 0]
> 
> 
> 
> **è§£é‡Š**
> 
> Trie trie = new Trie();
> 
> trie.insert("apple");> 
> > 
> > 
>    // æ’å…¥ "apple"ã€‚
> 
> trie.insert("apple");> 
> > 
> > 
>    // æ’å…¥å¦ä¸€ä¸ª "apple"ã€‚
> 
> trie.countWordsEqualTo("apple");> 
> // æœ‰ä¸¤ä¸ª "apple" å®ä¾‹ï¼Œæ‰€ä»¥è¿”å› 2ã€‚
> 
> trie.countWordsStartingWith("app"); // "app" æ˜¯ "apple" çš„å‰ç¼€ï¼Œæ‰€ä»¥è¿”å› 2ã€‚
> 
> trie.erase("apple");> 
> > 
> > 
> > 
> // ç§»é™¤ä¸€ä¸ª "apple"ã€‚
> 
> trie.countWordsEqualTo("apple");> 
> // ç°åœ¨åªæœ‰ä¸€ä¸ª "apple" å®ä¾‹ï¼Œæ‰€ä»¥è¿”å› 1ã€‚
> 
> trie.countWordsStartingWith("app"); // è¿”å› 1
> 
> trie.erase("apple");> 
> > 
> > 
> > 
> // ç§»é™¤ "apple"ã€‚ç°åœ¨å‰ç¼€æ ‘æ˜¯ç©ºçš„ã€‚
> 
> trie.countWordsStartingWith("app"); // è¿”å› 0
> 
> 

**æç¤ºï¼š**

  * `1 <= word.length, prefix.length <= 2000`
  * `word` å’Œ `prefix` åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚
  * `insert`ã€ `countWordsEqualTo`ã€ `countWordsStartingWith` å’Œ `erase` **æ€»å…±** è°ƒç”¨æœ€å¤š `3 * 10^4` æ¬¡ã€‚
  * ä¿è¯æ¯æ¬¡è°ƒç”¨ `erase` æ—¶ï¼Œå­—ç¬¦ä¸² `word` æ€»æ˜¯å­˜åœ¨äºå‰ç¼€æ ‘ä¸­ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 208 | [å®ç° Trie (å‰ç¼€æ ‘)](https://leetcode.com/problems/implement-trie-prefix-tree) | [[âœ“]](/problem/0208.md) |  [`è®¾è®¡`](/tag/design.md) [`å­—å…¸æ ‘`](/tag/trie.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `1+` | <font color=#ffb800>Medium</font> |
| 2227 | [åŠ å¯†è§£å¯†å­—ç¬¦ä¸²](https://leetcode.com/problems/encrypt-and-decrypt-strings) |  |  [`è®¾è®¡`](/tag/design.md) [`å­—å…¸æ ‘`](/tag/trie.md) [`æ•°ç»„`](/tag/array.md) `2+` | <font color=#ff334b>Hard</font> |