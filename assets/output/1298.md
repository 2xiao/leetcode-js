---
title: 1298. ä½ èƒ½ä»ç›’å­é‡Œè·å¾—çš„æœ€å¤§ç³–æœæ•°
description: LeetCode,1298. ä½ èƒ½ä»ç›’å­é‡Œè·å¾—çš„æœ€å¤§ç³–æœæ•°,ä½ èƒ½ä»ç›’å­é‡Œè·å¾—çš„æœ€å¤§ç³–æœæ•°,Maximum Candies You Can Get from Boxes,è§£é¢˜æ€è·¯,å¹¿åº¦ä¼˜å…ˆæœç´¢,å›¾,æ•°ç»„
keywords:
  - LeetCode
  - 1298. ä½ èƒ½ä»ç›’å­é‡Œè·å¾—çš„æœ€å¤§ç³–æœæ•°
  - ä½ èƒ½ä»ç›’å­é‡Œè·å¾—çš„æœ€å¤§ç³–æœæ•°
  - Maximum Candies You Can Get from Boxes
  - è§£é¢˜æ€è·¯
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - å›¾
  - æ•°ç»„
---

# 1298. ä½ èƒ½ä»ç›’å­é‡Œè·å¾—çš„æœ€å¤§ç³–æœæ•°

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å›¾`](/tag/graph.md) [`æ•°ç»„`](/tag/array.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-candies-you-can-get-from-boxes) [`LeetCode`](https://leetcode.com/problems/maximum-candies-you-can-get-from-boxes)

## é¢˜ç›®

You have `n` boxes labeled from `0` to `n - 1`. You are given four arrays:
`status`, `candies`, `keys`, and `containedBoxes` where:

  * `status[i]` is `1` if the `ith` box is open and `0` if the `ith` box is closed,
  * `candies[i]` is the number of candies in the `ith` box,
  * `keys[i]` is a list of the labels of the boxes you can open after opening the `ith` box.
  * `containedBoxes[i]` is a list of the boxes you found inside the `ith` box.

You are given an integer array `initialBoxes` that contains the labels of the
boxes you initially have. You can take all the candies in **any open box** and
you can use the keys in it to open new boxes and you also can use the boxes
you find in it.

Return _the maximum number of candies you can get following the rules above_.



**Example 1:**

> Input: status = [1,0,1,0], candies = [7,5,4,100], keys = [[],[],[1],[]], containedBoxes = [[1,2],[3],[],[]], initialBoxes = [0]
> 
> Output: 16
> 
> Explanation: You will be initially given box 0. You will find 7 candies in it and boxes 1 and 2.
> 
> Box 1 is closed and you do not have a key for it so you will open box 2. You will find 4 candies and a key to box 1 in box 2.
> 
> In box 1, you will find 5 candies and box 3 but you will not find a key to box 3 so box 3 will remain closed.
> 
> Total number of candies collected = 7 + 4 + 5 = 16 candy.

**Example 2:**

> Input: status = [1,0,0,0,0,0], candies = [1,1,1,1,1,1], keys = [[1,2,3,4,5],[],[],[],[],[]], containedBoxes = [[1,2,3,4,5],[],[],[],[],[]], initialBoxes = [0]
> 
> Output: 6
> 
> Explanation: You have initially box 0. Opening it you can find boxes 1,2,3,4 and 5 and their keys.
> 
> The total number of candies will be 6.

**Constraints:**

  * `n == status.length == candies.length == keys.length == containedBoxes.length`
  * `1 <= n <= 1000`
  * `status[i]` is either `0` or `1`.
  * `1 <= candies[i] <= 1000`
  * `0 <= keys[i].length <= n`
  * `0 <= keys[i][j] < n`
  * All values of `keys[i]` are **unique**.
  * `0 <= containedBoxes[i].length <= n`
  * `0 <= containedBoxes[i][j] < n`
  * All values of `containedBoxes[i]` are unique.
  * Each box is contained in one box at most.
  * `0 <= initialBoxes.length <= n`
  * `0 <= initialBoxes[i] < n`


## é¢˜ç›®å¤§æ„

ç»™ä½  `n` ä¸ªç›’å­ï¼Œæ¯ä¸ªç›’å­çš„æ ¼å¼ä¸º `[status, candies, keys, containedBoxes]` ï¼Œå…¶ä¸­ï¼š

  * çŠ¶æ€å­— `status[i]`ï¼šæ•´æ•°ï¼Œå¦‚æœ `box[i]` æ˜¯å¼€çš„ï¼Œé‚£ä¹ˆæ˜¯ **1  **ï¼Œå¦åˆ™æ˜¯ **0  **ã€‚
  * ç³–æœæ•° `candies[i]`: æ•´æ•°ï¼Œè¡¨ç¤º `box[i]` ä¸­ç³–æœçš„æ•°ç›®ã€‚
  * é’¥åŒ™ `keys[i]`ï¼šæ•°ç»„ï¼Œè¡¨ç¤ºä½ æ‰“å¼€ `box[i]` åï¼Œå¯ä»¥å¾—åˆ°ä¸€äº›ç›’å­çš„é’¥åŒ™ï¼Œæ¯ä¸ªå…ƒç´ åˆ†åˆ«ä¸ºè¯¥é’¥åŒ™å¯¹åº”ç›’å­çš„ä¸‹æ ‡ã€‚
  * å†…å«çš„ç›’å­ `containedBoxes[i]`ï¼šæ•´æ•°ï¼Œè¡¨ç¤ºæ”¾åœ¨ `box[i]` é‡Œçš„ç›’å­æ‰€å¯¹åº”çš„ä¸‹æ ‡ã€‚

ç»™ä½ ä¸€ä¸ª `initialBoxes`
æ•°ç»„ï¼Œè¡¨ç¤ºä½ ç°åœ¨å¾—åˆ°çš„ç›’å­ï¼Œä½ å¯ä»¥è·å¾—é‡Œé¢çš„ç³–æœï¼Œä¹Ÿå¯ä»¥ç”¨ç›’å­é‡Œçš„é’¥åŒ™æ‰“å¼€æ–°çš„ç›’å­ï¼Œè¿˜å¯ä»¥ç»§ç»­æ¢ç´¢ä»è¿™ä¸ªç›’å­é‡Œæ‰¾åˆ°çš„å…¶ä»–ç›’å­ã€‚

è¯·ä½ æŒ‰ç…§ä¸Šè¿°è§„åˆ™ï¼Œè¿”å›å¯ä»¥è·å¾—ç³–æœçš„ **æœ€å¤§æ•°ç›®  **ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** status = [1,0,1,0], candies = [7,5,4,100], keys = [[],[],[1],[]], containedBoxes = [[1,2],[3],[],[]], initialBoxes = [0]
> 
> **è¾“å‡ºï¼š** 16
> 
> **è§£é‡Šï¼š** ä¸€å¼€å§‹ä½ æœ‰ç›’å­ 0 ã€‚ä½ å°†è·å¾—å®ƒé‡Œé¢çš„ 7 ä¸ªç³–æœå’Œç›’å­ 1 å’Œ 2ã€‚
> 
> ç›’å­ 1 ç›®å‰çŠ¶æ€æ˜¯å…³é—­çš„ï¼Œè€Œä¸”ä½ è¿˜æ²¡æœ‰å¯¹åº”å®ƒçš„é’¥åŒ™ã€‚æ‰€ä»¥ä½ å°†ä¼šæ‰“å¼€ç›’å­ 2 ï¼Œå¹¶å¾—åˆ°é‡Œé¢çš„ 4 ä¸ªç³–æœå’Œç›’å­ 1 çš„é’¥åŒ™ã€‚
> 
> åœ¨ç›’å­ 1 ä¸­ï¼Œä½ ä¼šè·å¾— 5 ä¸ªç³–æœå’Œç›’å­ 3 ï¼Œä½†æ˜¯ä½ æ²¡æ³•è·å¾—ç›’å­ 3 çš„é’¥åŒ™æ‰€ä»¥ç›’å­ 3 ä¼šä¿æŒå…³é—­çŠ¶æ€ã€‚
> 
> ä½ æ€»å…±å¯ä»¥è·å¾—çš„ç³–æœæ•°ç›® = 7 + 4 + 5 = 16 ä¸ªã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** status = [1,0,0,0,0,0], candies = [1,1,1,1,1,1], keys = [[1,2,3,4,5],[],[],[],[],[]], containedBoxes = [[1,2,3,4,5],[],[],[],[],[]], initialBoxes = [0]
> 
> **è¾“å‡ºï¼š** 6
> 
> **è§£é‡Šï¼š** ä½ ä¸€å¼€å§‹æ‹¥æœ‰ç›’å­ 0 ã€‚æ‰“å¼€å®ƒä½ å¯ä»¥æ‰¾åˆ°ç›’å­ 1,2,3,4,5 å’Œå®ƒä»¬å¯¹åº”çš„é’¥åŒ™ã€‚
> 
> æ‰“å¼€è¿™äº›ç›’å­ï¼Œä½ å°†è·å¾—æ‰€æœ‰ç›’å­çš„ç³–æœï¼Œæ‰€ä»¥æ€»ç³–æœæ•°ä¸º 6 ä¸ªã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** status = [1,1,1], candies = [100,1,100], keys = [[],[0,2],[]], containedBoxes = [[],[],[]], initialBoxes = [1]
> 
> **è¾“å‡ºï¼š** 1
> 
> 

**ç¤ºä¾‹ 4ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** status = [1], candies = [100], keys = [[]], containedBoxes = [[]], initialBoxes = []
> 
> **è¾“å‡ºï¼š** 0
> 
> 

**ç¤ºä¾‹ 5ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** status = [1,1,1], candies = [2,3,2], keys = [[],[],[]], containedBoxes = [[],[],[]], initialBoxes = [2,1,0]
> 
> **è¾“å‡ºï¼š** 7
> 
> 



**æç¤ºï¼š**

  * `1 <= status.length <= 1000`
  * `status.length == candies.length == keys.length == containedBoxes.length == n`
  * `status[i]` è¦ä¹ˆæ˜¯ `0` è¦ä¹ˆæ˜¯ `1` ã€‚
  * `1 <= candies[i] <= 1000`
  * `0 <= keys[i].length <= status.length`
  * `0 <= keys[i][j] < status.length`
  * `keys[i]` ä¸­çš„å€¼éƒ½æ˜¯äº’ä¸ç›¸åŒçš„ã€‚
  * `0 <= containedBoxes[i].length <= status.length`
  * `0 <= containedBoxes[i][j] < status.length`
  * `containedBoxes[i]` ä¸­çš„å€¼éƒ½æ˜¯äº’ä¸ç›¸åŒçš„ã€‚
  * æ¯ä¸ªç›’å­æœ€å¤šè¢«ä¸€ä¸ªç›’å­åŒ…å«ã€‚
  * `0 <= initialBoxes.length <= status.length`
  * `0 <= initialBoxes[i] < status.length`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```