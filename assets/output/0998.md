# [998. æœ€å¤§äºŒå‰æ ‘ II](https://leetcode.com/problems/maximum-binary-tree-ii)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/outline/tag/tree.md) [`äºŒå‰æ ‘`](/outline/tag/binary-tree.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-binary-tree-ii)

## é¢˜ç›®

A **maximum tree** is a tree where every node has a value greater than any
other value in its subtree.

You are given the `root` of a maximum binary tree and an integer `val`.

Just as in the [previous problem](https://leetcode.com/problems/maximum-
binary-tree/), the given tree was constructed from a list `a` (`root =
Construct(a)`) recursively with the following `Construct(a)` routine:

  * If `a` is empty, return `null`.
  * Otherwise, let `a[i]` be the largest element of `a`. Create a `root` node with the value `a[i]`.
  * The left child of `root` will be `Construct([a[0], a[1], ..., a[i - 1]])`.
  * The right child of `root` will be `Construct([a[i + 1], a[i + 2], ..., a[a.length - 1]])`.
  * Return `root`.

Note that we were not given `a` directly, only a root node `root =
Construct(a)`.

Suppose `b` is a copy of `a` with the value `val` appended to it. It is
guaranteed that `b` has unique values.

Return `Construct(b)`.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/08/09/maxtree1.JPG)

> Input: root = [4,1,3,null,null,2], val = 5
> 
> Output: [5,4,null,1,3,null,null,2]
> 
> Explanation: a = [1,4,2,3], b = [1,4,2,3,5]

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/08/09/maxtree21.JPG)

> Input: root = [5,2,4,null,1], val = 3
> 
> Output: [5,2,4,null,1,null,3]
> 
> Explanation: a = [2,1,5,4], b = [2,1,5,4,3]

**Example 3:**

![](https://assets.leetcode.com/uploads/2021/08/09/maxtree3.JPG)

> Input: root = [5,2,3,null,1], val = 4
> 
> Output: [5,2,4,null,1,3]
> 
> Explanation: a = [2,1,5,3], b = [2,1,5,3,4]

**Constraints:**

  * The number of nodes in the tree is in the range `[1, 100]`.
  * `1 <= Node.val <= 100`
  * All the values of the tree are **unique**.
  * `1 <= val <= 100`


## é¢˜ç›®å¤§æ„

**æœ€å¤§æ ‘** å®šä¹‰ï¼šä¸€æ£µæ ‘ï¼Œå¹¶æ»¡è¶³ï¼šå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºå…¶å­æ ‘ä¸­çš„ä»»ä½•å…¶ä»–å€¼ã€‚

ç»™ä½ æœ€å¤§æ ‘çš„æ ¹èŠ‚ç‚¹ `root` å’Œä¸€ä¸ªæ•´æ•° `val` ã€‚

å°±åƒ [ä¹‹å‰çš„é—®é¢˜](https://leetcode.cn/problems/maximum-binary-tree/) é‚£æ ·ï¼Œç»™å®šçš„æ ‘æ˜¯åˆ©ç”¨
`Construct(a)` ä¾‹ç¨‹ä»åˆ—è¡¨ `a`ï¼ˆ`root = Construct(a)`ï¼‰é€’å½’åœ°æ„å»ºçš„ï¼š

  * å¦‚æœ `a` ä¸ºç©ºï¼Œè¿”å› `null` ã€‚
  * å¦åˆ™ï¼Œä»¤ `a[i]` ä½œä¸º `a` çš„æœ€å¤§å…ƒç´ ã€‚åˆ›å»ºä¸€ä¸ªå€¼ä¸º `a[i]` çš„æ ¹èŠ‚ç‚¹ `root` ã€‚
  * `root` çš„å·¦å­æ ‘å°†è¢«æ„å»ºä¸º `Construct([a[0], a[1], ..., a[i - 1]])` ã€‚
  * `root` çš„å³å­æ ‘å°†è¢«æ„å»ºä¸º `Construct([a[i + 1], a[i + 2], ..., a[a.length - 1]])` ã€‚
  * è¿”å› `root` ã€‚

è¯·æ³¨æ„ï¼Œé¢˜ç›®æ²¡æœ‰ç›´æ¥ç»™å‡º `a` ï¼Œåªæ˜¯ç»™å‡ºä¸€ä¸ªæ ¹èŠ‚ç‚¹ `root = Construct(a)` ã€‚

å‡è®¾ `b` æ˜¯ `a` çš„å‰¯æœ¬ï¼Œå¹¶åœ¨æœ«å°¾é™„åŠ å€¼ `val`ã€‚é¢˜ç›®æ•°æ®ä¿è¯ `b` ä¸­çš„å€¼äº’ä¸ç›¸åŒã€‚

è¿”å› `Construct(b)` ã€‚



**ç¤ºä¾‹ 1ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2019/02/23/maximum-binary-
tree-1-1.png)![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2019/02/23/maximum-binary-tree-1-2.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** root = [4,1,3,null,null,2], val = 5
> 
> **è¾“å‡ºï¼š**[5,4,null,1,3,null,null,2]
> 
> **è§£é‡Šï¼š** a = [1,4,2,3], b = [1,4,2,3,5]

**ç¤ºä¾‹ 2ï¼š  
![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2019/02/23/maximum-binary-
tree-2-1.png)![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2019/02/23/maximum-binary-tree-2-2.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** root = [5,2,4,null,1], val = 3
> 
> **è¾“å‡ºï¼š**[5,2,4,null,1,null,3]
> 
> **è§£é‡Šï¼š** a = [2,1,5,4], b = [2,1,5,4,3]

**ç¤ºä¾‹ 3ï¼š  
![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2019/02/23/maximum-binary-
tree-3-1.png)![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2019/02/23/maximum-binary-tree-3-2.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** root = [5,2,3,null,1], val = 4
> 
> **è¾“å‡ºï¼š**[5,2,4,null,1,3]
> 
> **è§£é‡Šï¼š** a = [2,1,5,3], b = [2,1,5,3,4]
> 
> 



**æç¤ºï¼š**

  * æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ `[1, 100]` å†…
  * `1 <= Node.val <= 100`
  * æ ‘ä¸­çš„æ‰€æœ‰å€¼ **äº’ä¸ç›¸åŒ**
  * `1 <= val <= 100`




## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 654 | [æœ€å¤§äºŒå‰æ ‘](https://leetcode.com/problems/maximum-binary-tree) | [[âœ“]](/problem/0654) |  [`æ ˆ`](/outline/tag/stack.md) [`æ ‘`](/outline/tag/tree.md) [`æ•°ç»„`](/outline/tag/array.md) `3+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
