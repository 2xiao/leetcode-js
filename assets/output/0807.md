# [807. ä¿æŒåŸå¸‚å¤©é™…çº¿](https://leetcode.com/problems/max-increase-to-keep-city-skyline)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/max-increase-to-keep-city-skyline)

## é¢˜ç›®

There is a city composed of `n x n` blocks, where each block contains a single
building shaped like a vertical square prism. You are given a **0-indexed** `n
x n` integer matrix `grid` where `grid[r][c]` represents the **height** of the
building located in the block at row `r` and column `c`.

A city's **skyline** is the outer contour formed by all the building when
viewing the side of the city from a distance. The **skyline** from each
cardinal direction north, east, south, and west may be different.

We are allowed to increase the height of **any number of buildings by any
amount** (the amount can be different per building). The height of a
`0`-height building can also be increased. However, increasing the height of a
building should **not** affect the city's **skyline** from any cardinal
direction.

Return _the**maximum total sum** that the height of the buildings can be
increased by **without** changing the city's **skyline** from any cardinal
direction_.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/06/21/807-ex1.png)

> Input: grid = [[3,0,8,4],[2,4,5,7],[9,2,6,3],[0,3,1,0]]
> 
> Output: 35
> 
> Explanation: The building heights are shown in the center of the above image.
> 
> The skylines when viewed from each cardinal direction are drawn in red.
> 
> The grid after increasing the height of buildings without affecting skylines is:
> 
> gridNew = [ [8, 4, 8, 7],
> 
> > 
> > 
> > 
> [7, 4, 7, 7],
> 
> > 
> > 
> > 
> [9, 4, 8, 7],
> 
> > 
> > 
> > 
> [3, 3, 3, 3] ]

**Example 2:**

> Input: grid = [[0,0,0],[0,0,0],[0,0,0]]
> 
> Output: 0
> 
> Explanation: Increasing the height of any building will result in the skyline changing.

**Constraints:**

  * `n == grid.length`
  * `n == grid[r].length`
  * `2 <= n <= 50`
  * `0 <= grid[r][c] <= 100`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€åº§ç”± `n x n` ä¸ªè¡—åŒºç»„æˆçš„åŸå¸‚ï¼Œæ¯ä¸ªè¡—åŒºéƒ½åŒ…å«ä¸€åº§ç«‹æ–¹ä½“å»ºç­‘ã€‚ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„ `n x n` æ•´æ•°çŸ©é˜µ `grid`
ï¼Œå…¶ä¸­ `grid[r][c]` è¡¨ç¤ºåè½äº `r` è¡Œ `c` åˆ—çš„å»ºç­‘ç‰©çš„ **é«˜åº¦** ã€‚

åŸå¸‚çš„ **å¤©é™…çº¿** æ˜¯ä»è¿œå¤„è§‚å¯ŸåŸå¸‚æ—¶ï¼Œæ‰€æœ‰å»ºç­‘ç‰©å½¢æˆçš„å¤–éƒ¨è½®å»“ã€‚ä»ä¸œã€å—ã€è¥¿ã€åŒ—å››ä¸ªä¸»è¦æ–¹å‘è§‚æµ‹åˆ°çš„ **å¤©é™…çº¿** å¯èƒ½ä¸åŒã€‚

æˆ‘ä»¬è¢«å…è®¸ä¸º **ä»»æ„æ•°é‡çš„å»ºç­‘ç‰©** çš„é«˜åº¦å¢åŠ **ä»»æ„å¢é‡ï¼ˆä¸åŒå»ºç­‘ç‰©çš„å¢é‡å¯èƒ½ä¸åŒï¼‰** ã€‚ é«˜åº¦ä¸º `0`
çš„å»ºç­‘ç‰©çš„é«˜åº¦ä¹Ÿå¯ä»¥å¢åŠ ã€‚ç„¶è€Œï¼Œå¢åŠ çš„å»ºç­‘ç‰©é«˜åº¦ **ä¸èƒ½å½±å“** ä»ä»»ä½•ä¸»è¦æ–¹å‘è§‚å¯ŸåŸå¸‚å¾—åˆ°çš„ **å¤©é™…çº¿** ã€‚

åœ¨ **ä¸æ”¹å˜** ä»ä»»ä½•ä¸»è¦æ–¹å‘è§‚æµ‹åˆ°çš„åŸå¸‚ **å¤©é™…çº¿** çš„å‰æä¸‹ï¼Œè¿”å›å»ºç­‘ç‰©å¯ä»¥å¢åŠ çš„ **æœ€å¤§é«˜åº¦å¢é‡æ€»å’Œ** ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/06/21/807-ex1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[3,0,8,4],[2,4,5,7],[9,2,6,3],[0,3,1,0]]
> 
> **è¾“å‡ºï¼š** 35
> 
> **è§£é‡Šï¼š** å»ºç­‘ç‰©çš„é«˜åº¦å¦‚ä¸Šå›¾ä¸­å¿ƒæ‰€ç¤ºã€‚
> 
> ç”¨çº¢è‰²ç»˜åˆ¶ä»ä¸åŒæ–¹å‘è§‚çœ‹å¾—åˆ°çš„å¤©é™…çº¿ã€‚
> 
> åœ¨ä¸å½±å“å¤©é™…çº¿çš„æƒ…å†µä¸‹ï¼Œå¢åŠ å»ºç­‘ç‰©çš„é«˜åº¦ï¼š
> 
> gridNew = [ [8, 4, 8, 7],
> 
> > 
> > 
> > 
> [7, 4, 7, 7],
> 
> > 
> > 
> > 
> [9, 4, 8, 7],
> 
> > 
> > 
> > 
> [3, 3, 3, 3] ]
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[0,0,0],[0,0,0],[0,0,0]]
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š** å¢åŠ ä»»ä½•å»ºç­‘ç‰©çš„é«˜åº¦éƒ½ä¼šå¯¼è‡´å¤©é™…çº¿çš„å˜åŒ–ã€‚
> 
> 



**æç¤ºï¼š**

  * `n == grid.length`
  * `n == grid[r].length`
  * `2 <= n <= 50`
  * `0 <= grid[r][c] <= 100`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```