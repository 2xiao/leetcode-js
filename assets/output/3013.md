# [3013. å°†æ•°ç»„åˆ†æˆæœ€å°æ€»ä»£ä»·çš„å­æ•°ç»„ II](https://leetcode.com/problems/divide-an-array-into-subarrays-with-minimum-cost-ii)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/outline/tag/hash-table.md) [`æ»‘åŠ¨çª—å£`](/outline/tag/sliding-window.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/outline/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/divide-an-array-into-subarrays-with-minimum-cost-ii)

## é¢˜ç›®

You are given a **0-indexed** array of integers `nums` of length `n`, and two
**positive** integers `k` and `dist`.

The **cost** of an array is the value of its **first** element. For example,
the cost of `[1,2,3]` is `1` while the cost of `[3,4,1]` is `3`.

You need to divide `nums` into `k` **disjoint contiguous** subarrays, such
that the difference between the starting index of the **second** subarray and
the starting index of the `kth` subarray should be **less than or equal to**
`dist`. In other words, if you divide `nums` into the subarrays `nums[0..(i1 -
1)], nums[i1..(i2 - 1)], ..., nums[ik-1..(n - 1)]`, then `ik-1 - i1 <= dist`.

Return _the**minimum** possible sum of the cost of these_ _subarrays_.



**Example 1:**

> Input: nums = [1,3,2,6,4,2], k = 3, dist = 3
> 
> Output: 5
> 
> Explanation: The best possible way to divide nums into 3 subarrays is: [1,3], [2,6,4], and [2]. This choice is valid because ik-1 - i1 is 5 - 2 = 3 which is equal to dist. The total cost is nums[0] + nums[2] + nums[5] which is 1 + 2 + 2 = 5.
> 
> It can be shown that there is no possible way to divide nums into 3 subarrays at a cost lower than 5.

**Example 2:**

> Input: nums = [10,1,2,2,2,1], k = 4, dist = 3
> 
> Output: 15
> 
> Explanation: The best possible way to divide nums into 4 subarrays is: [10], [1], [2], and [2,2,1]. This choice is valid because ik-1 - i1 is 3 - 1 = 2 which is less than dist. The total cost is nums[0] + nums[1] + nums[2] + nums[3] which is 10 + 1 + 2 + 2 = 15.
> 
> The division [10], [1], [2,2,2], and [1] is not valid, because the difference between ik-1 and i1 is 5 - 1 = 4, which is greater than dist.
> 
> It can be shown that there is no possible way to divide nums into 4 subarrays at a cost lower than 15.

**Example 3:**

> Input: nums = [10,8,18,9], k = 3, dist = 1
> 
> Output: 36
> 
> Explanation: The best possible way to divide nums into 4 subarrays is: [10], [8], and [18,9]. This choice is valid because ik-1 - i1 is 2 - 1 = 1 which is equal to dist.The total cost is nums[0] + nums[1] + nums[2] which is 10 + 8 + 18 = 36.
> 
> The division [10], [8,18], and [9] is not valid, because the difference between ik-1 and i1 is 3 - 1 = 2, which is greater than dist.
> 
> It can be shown that there is no possible way to divide nums into 3 subarrays at a cost lower than 36.

**Constraints:**

  * `3 <= n <= 10^5`
  * `1 <= nums[i] <= 10^9`
  * `3 <= k <= n`
  * `k - 2 <= dist <= n - 2`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹é•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` å’Œä¸¤ä¸ª **æ­£**  æ•´æ•° `k` å’Œ `dist` ã€‚

ä¸€ä¸ªæ•°ç»„çš„ **ä»£ä»·**  æ˜¯æ•°ç»„ä¸­çš„ **ç¬¬ä¸€ä¸ª**  å…ƒç´ ã€‚æ¯”æ–¹è¯´ï¼Œ`[1,2,3]` çš„ä»£ä»·ä¸º `1` ï¼Œ`[3,4,1]` çš„ä»£ä»·ä¸º `3` ã€‚

ä½ éœ€è¦å°† `nums` åˆ†å‰²æˆ `k` ä¸ª **è¿ç»­ä¸”äº’ä¸ç›¸äº¤**  çš„å­æ•°ç»„ï¼Œæ»¡è¶³ **ç¬¬äºŒ**  ä¸ªå­æ•°ç»„ä¸ç¬¬ `k` ä¸ªå­æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡è·ç¦»
**ä¸è¶…è¿‡**  `dist` ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ å°† `nums` åˆ†å‰²æˆå­æ•°ç»„ `nums[0..(i1 - 1)], nums[i1..(i2 -
1)], ..., nums[ik-1..(n - 1)]` ï¼Œé‚£ä¹ˆå®ƒéœ€è¦æ»¡è¶³ `ik-1 - i1 <= dist` ã€‚

è¯·ä½ è¿”å›è¿™äº›å­æ•°ç»„çš„ **æœ€å°**  æ€»ä»£ä»·ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,3,2,6,4,2], k = 3, dist = 3
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š** å°†æ•°ç»„åˆ†å‰²æˆ 3 ä¸ªå­æ•°ç»„çš„æœ€ä¼˜æ–¹æ¡ˆæ˜¯ï¼š[1,3] ï¼Œ[2,6,4] å’Œ [2] ã€‚è¿™æ˜¯ä¸€ä¸ªåˆæ³•åˆ†å‰²ï¼Œå› ä¸º ik-1 - i1 ç­‰äº 5 - 2 = 3 ï¼Œç­‰äº dist ã€‚æ€»ä»£ä»·ä¸º nums[0] + nums[2] + nums[5] ï¼Œä¹Ÿå°±æ˜¯ 1 + 2 + 2 = 5 ã€‚
> 
> 5 æ˜¯åˆ†å‰²æˆ 3 ä¸ªå­æ•°ç»„çš„æœ€å°æ€»ä»£ä»·ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [10,1,2,2,2,1], k = 4, dist = 3
> 
> **è¾“å‡ºï¼š** 15
> 
> **è§£é‡Šï¼š** å°†æ•°ç»„åˆ†å‰²æˆ 4 ä¸ªå­æ•°ç»„çš„æœ€ä¼˜æ–¹æ¡ˆæ˜¯ï¼š[10] ï¼Œ[1] ï¼Œ[2] å’Œ [2,2,1] ã€‚è¿™æ˜¯ä¸€ä¸ªåˆæ³•åˆ†å‰²ï¼Œå› ä¸º ik-1 - i1 ç­‰äº 3 - 1 = 2 ï¼Œå°äº dist ã€‚æ€»ä»£ä»·ä¸º nums[0] + nums[1] + nums[2] + nums[3] ï¼Œä¹Ÿå°±æ˜¯ 10 + 1 + 2 + 2 = 15 ã€‚
> 
> åˆ†å‰² [10] ï¼Œ[1] ï¼Œ[2,2,2] å’Œ [1] ä¸æ˜¯ä¸€ä¸ªåˆæ³•åˆ†å‰²ï¼Œå› ä¸º ik-1 å’Œ i1 çš„å·®ä¸º 5 - 1 = 4 ï¼Œå¤§äº dist ã€‚
> 
> 15 æ˜¯åˆ†å‰²æˆ 4 ä¸ªå­æ•°ç»„çš„æœ€å°æ€»ä»£ä»·ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [10,8,18,9], k = 3, dist = 1
> 
> **è¾“å‡ºï¼š** 36
> 
> **è§£é‡Šï¼š** å°†æ•°ç»„åˆ†å‰²æˆ 4 ä¸ªå­æ•°ç»„çš„æœ€ä¼˜æ–¹æ¡ˆæ˜¯ï¼š[10] ï¼Œ[8] å’Œ [18,9] ã€‚è¿™æ˜¯ä¸€ä¸ªåˆæ³•åˆ†å‰²ï¼Œå› ä¸º ik-1 - i1 ç­‰äº 2 - 1 = 1 ï¼Œç­‰äº dist ã€‚æ€»ä»£ä»·ä¸º nums[0] + nums[1] + nums[2] ï¼Œä¹Ÿå°±æ˜¯ 10 + 8 + 18 = 36 ã€‚
> 
> åˆ†å‰² [10] ï¼Œ[8,18] å’Œ [9] ä¸æ˜¯ä¸€ä¸ªåˆæ³•åˆ†å‰²ï¼Œå› ä¸º ik-1 å’Œ i1 çš„å·®ä¸º 3 - 1 = 2 ï¼Œå¤§äº dist ã€‚
> 
> 36 æ˜¯åˆ†å‰²æˆ 3 ä¸ªå­æ•°ç»„çš„æœ€å°æ€»ä»£ä»·ã€‚
> 
> 



**æç¤ºï¼š**

  * `3 <= n <= 10^5`
  * `1 <= nums[i] <= 10^9`
  * `3 <= k <= n`
  * `k - 2 <= dist <= n - 2`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1547 | [åˆ‡æ£å­çš„æœ€å°æˆæœ¬](https://leetcode.com/problems/minimum-cost-to-cut-a-stick) |  |  [`æ•°ç»„`](/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md) [`æ’åº`](/outline/tag/sorting.md) | <font color=#ff334b>Hard</font> |
| 2547 | [æ‹†åˆ†æ•°ç»„çš„æœ€å°ä»£ä»·](https://leetcode.com/problems/minimum-cost-to-split-an-array) |  |  [`æ•°ç»„`](/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/outline/tag/hash-table.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md) `1+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
