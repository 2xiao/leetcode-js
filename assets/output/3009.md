---
title: 3009. æŠ˜çº¿å›¾ä¸Šçš„æœ€å¤§äº¤ç‚¹æ•°é‡ ğŸ”’
description: LeetCode 3009. æŠ˜çº¿å›¾ä¸Šçš„æœ€å¤§äº¤ç‚¹æ•°é‡ ğŸ”’é¢˜è§£ï¼ŒMaximum Number of Intersections on the Chartï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3009. æŠ˜çº¿å›¾ä¸Šçš„æœ€å¤§äº¤ç‚¹æ•°é‡ ğŸ”’
  - æŠ˜çº¿å›¾ä¸Šçš„æœ€å¤§äº¤ç‚¹æ•°é‡
  - Maximum Number of Intersections on the Chart
  - è§£é¢˜æ€è·¯
  - æ ‘çŠ¶æ•°ç»„
  - å‡ ä½•
  - æ•°ç»„
  - æ•°å­¦
---

# 3009. æŠ˜çº¿å›¾ä¸Šçš„æœ€å¤§äº¤ç‚¹æ•°é‡ ğŸ”’

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ‘çŠ¶æ•°ç»„`](/tag/binary-indexed-tree.md) [`å‡ ä½•`](/tag/geometry.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-number-of-intersections-on-the-chart) [`LeetCode`](https://leetcode.com/problems/maximum-number-of-intersections-on-the-chart)

## é¢˜ç›®

There is a line chart consisting of `n` points connected by line segments. You
are given a **1-indexed** integer array `y`. The `kth` point has coordinates
`(k, y[k])`. There are no horizontal lines; that is, no two consecutive points
have the same y-coordinate.

We can draw an infinitely long horizontal line. Return _the**maximum** number
of points of intersection of the line with the chart_.



**Example 1:**

**![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/3000-3099/3009.Maximum%20Number%20of%20Intersections%20on%20the%20Chart/images/20231208-020549.jpeg)**

> Input: y = [1,2,1,2,1,3,2]
> 
> Output: 5
> 
> Explanation: As you can see in the image above, the line y = 1.5 has 5 intersections with the chart (in red crosses). You can also see the line y = 2 which intersects the chart in 4 points (in red crosses). It can be shown that there is no horizontal line intersecting the chart at more than 5 points. So the answer would be 5.

**Example 2:**

**![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/3000-3099/3009.Maximum%20Number%20of%20Intersections%20on%20the%20Chart/images/20231208-020557.jpeg)**

> Input: y = [2,1,3,4,5]
> 
> Output: 2
> 
> Explanation: As you can see in the image above, the line y = 1.5 has 2 intersections with the chart (in red crosses). You can also see the line y = 2 which intersects the chart in 2 points (in red crosses). It can be shown that there is no horizontal line intersecting the chart at more than 2 points. So the answer would be 2.

**Constraints:**

  * `2 <= y.length <= 10^5`
  * `1 <= y[i] <= 10^9`
  * `y[i] != y[i + 1]` for `i` in range `[1, n - 1]`


## é¢˜ç›®å¤§æ„

æœ‰ä¸€æ¡ç”± `n` ä¸ªç‚¹è¿æ¥è€Œæˆçš„æŠ˜çº¿å›¾ã€‚ç»™å®šä¸€ä¸ª **ä¸‹æ ‡ä» 1 å¼€å§‹  **çš„æ•´æ•°æ•°ç»„ `y`ï¼Œç¬¬ `k` ä¸ªç‚¹çš„åæ ‡æ˜¯ `(k,
y[k])`ã€‚å›¾ä¸­æ²¡æœ‰æ°´å¹³çº¿ï¼Œå³æ²¡æœ‰ä¸¤ä¸ªç›¸é‚»çš„ç‚¹æœ‰ç›¸åŒçš„ y åæ ‡ã€‚

å‡è®¾åœ¨å›¾ä¸­ä»»æ„ç”»ä¸€æ¡æ— é™é•¿çš„æ°´å¹³çº¿ã€‚è¯·è¿”å›è¿™æ¡æ°´å¹³çº¿ä¸æŠ˜çº¿ç›¸äº¤çš„æœ€å¤šäº¤ç‚¹æ•°ã€‚



**ç¤ºä¾‹ 1ï¼š**

**[![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/3000-3099/3009.Maximum%20Number%20of%20Intersections%20on%20the%20Chart/images/20231208-020549.jpeg)](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/3000-3099/3009.Maximum%20Number%20of%20Intersections%20on%20the%20Chart/images/20231208-020549.jpeg)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** y = [1,2,1,2,1,3,2]
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š** å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ°´å¹³çº¿ y = 1.5 ä¸æŠ˜çº¿ç›¸äº¤äº† 5 æ¬¡ï¼ˆç”¨çº¢å‰è¡¨ç¤ºï¼‰ã€‚æ°´å¹³çº¿ y = 2 ä¸æŠ˜çº¿ç›¸äº¤äº† 4 æ¬¡ï¼ˆç”¨çº¢å‰è¡¨ç¤ºï¼‰ã€‚å¯ä»¥è¯æ˜æ²¡æœ‰å…¶ä»–æ°´å¹³çº¿å¯ä»¥ä¸æŠ˜çº¿æœ‰è¶…è¿‡ 5 ä¸ªç‚¹ç›¸äº¤ã€‚å› æ­¤ï¼Œç­”æ¡ˆæ˜¯ 5ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

**![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/3000-3099/3009.Maximum%20Number%20of%20Intersections%20on%20the%20Chart/images/20231208-020557.jpeg)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** y = [2,1,3,4,5]
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š** å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ°´å¹³çº¿ y=1.5 ä¸æŠ˜çº¿ç›¸äº¤äº† 2 æ¬¡ï¼ˆç”¨çº¢å‰è¡¨ç¤ºï¼‰ã€‚æ°´å¹³çº¿ y=2 ä¸æŠ˜çº¿ç›¸äº¤äº† 2 æ¬¡ï¼ˆç”¨çº¢å‰è¡¨ç¤ºï¼‰ã€‚å¯ä»¥è¯æ˜æ²¡æœ‰å…¶ä»–æ°´å¹³çº¿å¯ä»¥ä¸æŠ˜çº¿æœ‰è¶…è¿‡ 2 ä¸ªç‚¹ç›¸äº¤ã€‚å› æ­¤ï¼Œç­”æ¡ˆæ˜¯ 2ã€‚
> 
> 



**æç¤ºï¼š**

  * `2 <= y.length <= 10^5`
  * `1 <= y[i] <= 10^9`
  * å¯¹äºèŒƒå›´ `[1, n - 1]` å†…çš„æ‰€æœ‰ `i`ï¼Œéƒ½æœ‰ `y[i] != y[i + 1]`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```