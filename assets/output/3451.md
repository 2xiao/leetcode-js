---
title: 3451. 查找无效的 IP 地址
description: LeetCode 3451. 查找无效的 IP 地址题解，Find Invalid IP Addresses，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 3451. 查找无效的 IP 地址
  - 查找无效的 IP 地址
  - Find Invalid IP Addresses
  - 解题思路
  - 数据库
---

# 3451. 查找无效的 IP 地址

🔴 <font color=#ff334b>Hard</font>&emsp; 🔖&ensp; [`数据库`](/tag/database.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/find-invalid-ip-addresses) [`LeetCode`](https://leetcode.com/problems/find-invalid-ip-addresses)

## 题目

Table: ` logs`

> 
> 
> 
> 
> 
> +-------------+---------+
> 
> | Column Name | Type> 
> |
> 
> +-------------+---------+
> 
> | log_id> 
>   | int> 
>  |
> 
> | ip> 
> > 
>   | varchar |
> 
> | status_code | int> 
>  |
> 
> +-------------+---------+
> 
> log_id is the unique key for this table.
> 
> Each row contains server access log information including IP address and HTTP status code.
> 
> 

Write a solution to find **invalid IP addresses**. An IPv4 address is invalid
if it meets any of these conditions:

  * Contains numbers **greater than** `255` in any octet
  * Has **leading zeros** in any octet (like `01.02.03.04`)
  * Has **less or more** than `4` octets

Return _the result table_ _ordered by_ `invalid_count`, `ip` _in**descending**
order respectively_.

The result format is in the following example.



**Example:**

**Input:**

logs table:

> 
> 
> 
> 
> 
> +--------+---------------+-------------+
> 
> | log_id | ip> 
> > 
> > 
> | status_code | 
> 
> +--------+---------------+-------------+
> 
> | 1> 
>   | 192.168.1.1   | 200> 
> > 
>  | 
> 
> | 2> 
>   | 256.1.2.3> 
>  | 404> 
> > 
>  | 
> 
> | 3> 
>   | 192.168.001.1 | 200> 
> > 
>  | 
> 
> | 4> 
>   | 192.168.1.1   | 200> 
> > 
>  | 
> 
> | 5> 
>   | 192.168.1> 
>  | 500> 
> > 
>  | 
> 
> | 6> 
>   | 256.1.2.3> 
>  | 404> 
> > 
>  | 
> 
> | 7> 
>   | 192.168.001.1 | 200> 
> > 
>  | 
> 
> +--------+---------------+-------------+
> 
> 

**Output:**

> 
> 
> 
> 
> 
> +---------------+--------------+
> 
> | ip> 
> > 
> > 
> | invalid_count|
> 
> +---------------+--------------+
> 
> | 256.1.2.3> 
>  | 2> 
> > 
> > 
> |
> 
> | 192.168.001.1 | 2> 
> > 
> > 
> |
> 
> | 192.168.1> 
>  | 1> 
> > 
> > 
> |
> 
> +---------------+--------------+
> 
> 

**Explanation:**

  * 256.1.2.3 is invalid because 256 > 255
  * 192.168.001.1 is invalid because of leading zeros
  * 192.168.1 is invalid because it has only 3 octets

The output table is ordered by invalid_count, ip in descending order
respectively.


## 题目大意

表：`logs`

> 
> 
> 
> 
> 
> +-------------+---------+
> 
> | Column Name | Type> 
> |
> 
> +-------------+---------+
> 
> | log_id> 
>   | int> 
>  |
> 
> | ip> 
> > 
>   | varchar |
> 
> | status_code | int> 
>  |
> 
> +-------------+---------+
> 
> log_id 是这张表的唯一主键。
> 
> 每一行包含服务器访问日志信息，包括 IP 地址和 HTTP 状态码。
> 
> 

编写一个解决方案来查找 **无效的 IP 地址** 。一个 IPv4 地址如果满足以下任何条件之一，则无效：

  * 任何 8 位字节中包含大于 255 的数字
  * 任何 8 位字节中含有 **前导零** （如 `01.02.03.04`）
  * **少于或多于**  `4` 个 8 位字节

返回结果表分别以 `invalid_count`，`ip` **降序**  排序。

结果格式如下所示。



**示例：**

**输入：**

logs 表：

> 
> 
> 
> 
> 
> +--------+---------------+-------------+
> 
> | log_id | ip> 
> > 
> > 
> | status_code | 
> 
> +--------+---------------+-------------+
> 
> | 1> 
>   | 192.168.1.1   | 200> 
> > 
>  | 
> 
> | 2> 
>   | 256.1.2.3> 
>  | 404> 
> > 
>  | 
> 
> | 3> 
>   | 192.168.001.1 | 200> 
> > 
>  | 
> 
> | 4> 
>   | 192.168.1.1   | 200> 
> > 
>  | 
> 
> | 5> 
>   | 192.168.1> 
>  | 500> 
> > 
>  | 
> 
> | 6> 
>   | 256.1.2.3> 
>  | 404> 
> > 
>  | 
> 
> | 7> 
>   | 192.168.001.1 | 200> 
> > 
>  | 
> 
> +--------+---------------+-------------+
> 
> 

**输出：**

> 
> 
> 
> 
> 
> +---------------+--------------+
> 
> | ip> 
> > 
> > 
> | invalid_count|
> 
> +---------------+--------------+
> 
> | 256.1.2.3> 
>  | 2> 
> > 
> > 
> |
> 
> | 192.168.001.1 | 2> 
> > 
> > 
> |
> 
> | 192.168.1> 
>  | 1> 
> > 
> > 
> |
> 
> +---------------+--------------+
> 
> 

**解释：**

  * 256.1.2.3 是无效的，因为 256 > 255
  * 192.168.001.1 是无效的，因为有前导零
  * 192.168.1 是非法的，因为只有 3 个 8 位字节

输出表分别以 `invalid_count`，`ip` 降序排序。


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```