# [LCP 46. å¿—æ„¿è€…è°ƒé…](https://2xiao.github.io/leetcode-js/lcp/LCP_46.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å›¾`](/tag/graph.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/05ZEDJ)

## é¢˜ç›®

English description is not available for the problem. Please switch to
Chinese.


## é¢˜ç›®å¤§æ„

ã€ŒåŠ›æ‰£æŒ‘æˆ˜èµ›ã€æœ‰ `n` ä¸ªæ¯”èµ›åœºé¦†ï¼ˆåœºé¦†ç¼–å·ä» `0` å¼€å§‹ï¼‰ï¼Œåœºé¦†ä¹‹é—´çš„é€šé“åˆ†å¸ƒæƒ…å†µè®°å½•äºäºŒç»´æ•°ç»„ `edges` ä¸­ï¼Œ`edges[i]= [x,
y]` è¡¨ç¤ºç¬¬ `i` æ¡é€šé“è¿æ¥åœºé¦† `x` å’Œåœºé¦† `y`(å³ä¸¤ä¸ªåœºé¦†ç›¸é‚»)ã€‚åˆå§‹æ¯ä¸ªåœºé¦†ä¸­éƒ½æœ‰ä¸€å®šäººæ•°çš„å¿—æ„¿è€…ï¼ˆä¸åŒåœºé¦†äººæ•°å¯èƒ½ä¸åŒï¼‰ï¼Œåç»­ `m`
å¤©æ¯å¤©å‡ä¼šæ ¹æ®èµ›äº‹çƒ­åº¦è¿›è¡Œå¿—æ„¿è€…äººæ•°è°ƒé…ã€‚è°ƒé…æ–¹æ¡ˆåˆ†ä¸ºå¦‚ä¸‹ä¸‰ç§ï¼š 1\. å°†ç¼–å·ä¸º `idx` çš„åœºé¦†å†…çš„å¿—æ„¿è€…äººæ•°å‡åŠï¼› 2\. å°†ç¼–å·ä¸º `idx`
çš„åœºé¦†ç›¸é‚»çš„åœºé¦†çš„å¿—æ„¿è€…äººæ•°éƒ½åŠ ä¸Šç¼–å·ä¸º `idx` çš„åœºé¦†çš„å¿—æ„¿è€…äººæ•°ï¼› 3\. å°†ç¼–å·ä¸º `idx` çš„åœºé¦†ç›¸é‚»çš„åœºé¦†çš„å¿—æ„¿è€…äººæ•°éƒ½å‡å»ç¼–å·ä¸º
`idx` çš„åœºé¦†çš„å¿—æ„¿è€…äººæ•°ã€‚ æ‰€æœ‰çš„è°ƒé…ä¿¡æ¯è®°å½•äºæ•°ç»„ `plans` ä¸­ï¼Œ`plans[i] = [num,idx]` è¡¨ç¤ºç¬¬ `i` å¤©å¯¹ç¼–å·
`idx` çš„åœºé¦†æ‰§è¡Œäº†ç¬¬ `num` ç§è°ƒé…æ–¹æ¡ˆã€‚ åœ¨æ¯”èµ›ç»“æŸåå¯¹è°ƒé…æ–¹æ¡ˆè¿›è¡Œå¤ç›˜æ—¶ï¼Œä¸æ…å°†ç¬¬ `0`
ä¸ªåœºé¦†çš„**æœ€ç»ˆ**å¿—æ„¿è€…äººæ•°ä¸¢å¤±ï¼Œåªä¿ç•™äº†**åˆå§‹**æ‰€æœ‰åœºé¦†çš„å¿—æ„¿è€…æ€»äººæ•° `totalNum` ï¼Œä»¥åŠè®°å½•äº†ç¬¬ `1 ~ n-1`
ä¸ªåœºé¦†çš„**æœ€ç»ˆ**å¿—æ„¿è€…äººæ•°çš„ä¸€ç»´æ•°ç»„ `finalCnt`ã€‚è¯·ä½ æ ¹æ®ç°æœ‰çš„ä¿¡æ¯æ±‚å‡ºåˆå§‹æ¯ä¸ªåœºé¦†çš„å¿—æ„¿è€…äººæ•°ï¼Œå¹¶æŒ‰åœºé¦†ç¼–å·é¡ºåºè¿”å›å¿—æ„¿è€…äººæ•°åˆ—è¡¨ã€‚
**æ³¨æ„ï¼š** \- æµ‹è¯•æ•°æ®ä¿è¯å½“æŸåœºé¦†è¿›è¡Œç¬¬ä¸€ç§è°ƒé…æ—¶ï¼Œè¯¥åœºé¦†çš„å¿—æ„¿è€…äººæ•°ä¸€å®šä¸ºå¶æ•°ï¼› \-
æµ‹è¯•æ•°æ®ä¿è¯å½“æŸåœºé¦†è¿›è¡Œç¬¬ä¸‰ç§è°ƒé…æ—¶ï¼Œè¯¥åœºé¦†çš„ç›¸é‚»åœºé¦†å¿—æ„¿è€…äººæ•°ä¸ä¸ºè´Ÿæ•°ï¼› \- æµ‹è¯•æ•°æ®ä¿è¯æ¯”èµ›å¼€å§‹æ—¶æ¯ä¸ªåœºé¦†çš„å¿—æ„¿è€…äººæ•°éƒ½ä¸è¶…è¿‡ `10^9`ï¼› \-
æµ‹è¯•æ•°æ®ä¿è¯ç»™å®šçš„åœºé¦†é—´çš„é“è·¯åˆ†å¸ƒæƒ…å†µä¸­ä¸ä¼šå‡ºç°è‡ªç¯ã€é‡è¾¹çš„æƒ…å†µã€‚ **ç¤ºä¾‹ 1ï¼š**
>![image.png](https://pic.leetcode-cn.com/1630061228-gnZsOz-image.png) > è¾“å…¥ï¼š
>`finalCnt = [1,16], totalNum = 21, edges = [[0,1],[1,2]], plans =
[[2,1],[1,0],[3,0]]` > > è¾“å‡ºï¼š`[5,7,9]` > > è§£é‡Šï¼š >
![image.png](https://pic.leetcode-cn.com/1630061300-WuVkeF-
image.png){:height=200} **ç¤ºä¾‹ 2 ï¼š** > è¾“å…¥ï¼š >`finalCnt = [4,13,4,3,8], totalNum =
54, edges = [[0,3],[1,3],[4,3],[2,3],[2,5]], plans =
[[1,1],[3,3],[2,5],[1,0]]` > > è¾“å‡ºï¼š`[10,16,9,4,7,8]` **æç¤ºï¼š** \- `2 <= n <=
5*10^4` \- `1 <= edges.length <= min((n * (n - 1)) / 2, 5*10^4)` \- `0 <=
edges[i][0], edges[i][1] < n` \- `1 <= plans.length <= 10` \- `1 <=
plans[i][0] <=3` \- `0 <= plans[i][1] < n` \- `finalCnt.length = n-1` \- `0 <=
finalCnt[i] < 10^9` \- `0 <= totalNum < 5*10^13`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```