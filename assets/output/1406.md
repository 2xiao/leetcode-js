# [1406. çŸ³å­æ¸¸æˆ III](https://leetcode.com/problems/stone-game-iii)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/outline/tag/array.md) [`æ•°å­¦`](/outline/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md) [`åšå¼ˆ`](/outline/tag/game-theory.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/stone-game-iii)

## é¢˜ç›®

Alice and Bob continue their games with piles of stones. There are several
stones **arranged in a row** , and each stone has an associated value which is
an integer given in the array `stoneValue`.

Alice and Bob take turns, with Alice starting first. On each player's turn,
that player can take `1`, `2`, or `3` stones from the **first** remaining
stones in the row.

The score of each player is the sum of the values of the stones taken. The
score of each player is `0` initially.

The objective of the game is to end with the highest score, and the winner is
the player with the highest score and there could be a tie. The game continues
until all the stones have been taken.

Assume Alice and Bob **play optimally**.

Return `"Alice"`_if Alice will win,_`"Bob"`_if Bob will win, or_`"Tie"`_if
they will end the game with the same score_.



**Example 1:**

> Input: stoneValue = [1,2,3,7]
> 
> Output: "Bob"
> 
> Explanation: Alice will always lose. Her best move will be to take three piles and the score become 6. Now the score of Bob is 7 and Bob wins.

**Example 2:**

> Input: stoneValue = [1,2,3,-9]
> 
> Output: "Alice"
> 
> Explanation: Alice must choose all the three piles at the first move to win and leave Bob with negative score.
> 
> If Alice chooses one pile her score will be 1 and the next move Bob's score becomes 5. In the next move, Alice will take the pile with value = -9 and lose.
> 
> If Alice chooses two piles her score will be 3 and the next move Bob's score becomes 3. In the next move, Alice will take the pile with value = -9 and also lose.
> 
> Remember that both play optimally so here Alice will choose the scenario that makes her win.

**Example 3:**

> Input: stoneValue = [1,2,3,6]
> 
> Output: "Tie"
> 
> Explanation: Alice cannot win this game. She can end the game in a draw if she decided to choose all the first three piles, otherwise she will lose.

**Constraints:**

  * `1 <= stoneValue.length <= 5 * 10^4`
  * `-1000 <= stoneValue[i] <= 1000`


## é¢˜ç›®å¤§æ„

Alice å’Œ Bob ç»§ç»­ä»–ä»¬çš„çŸ³å­æ¸¸æˆã€‚å‡ å †çŸ³å­ **æ’æˆä¸€è¡Œ** ï¼Œæ¯å †çŸ³å­éƒ½å¯¹åº”ä¸€ä¸ªå¾—åˆ†ï¼Œç”±æ•°ç»„ `stoneValue` ç»™å‡ºã€‚

Alice å’Œ Bob è½®æµå–çŸ³å­ï¼Œ**Alice** æ€»æ˜¯å…ˆå¼€å§‹ã€‚åœ¨æ¯ä¸ªç©å®¶çš„å›åˆä¸­ï¼Œè¯¥ç©å®¶å¯ä»¥æ‹¿èµ°å‰©ä¸‹çŸ³å­ä¸­çš„çš„å‰ **1ã€2 æˆ– 3 å †çŸ³å­**
ã€‚æ¯”èµ›ä¸€ç›´æŒç»­åˆ°æ‰€æœ‰çŸ³å¤´éƒ½è¢«æ‹¿èµ°ã€‚

æ¯ä¸ªç©å®¶çš„æœ€ç»ˆå¾—åˆ†ä¸ºä»–æ‰€æ‹¿åˆ°çš„æ¯å †çŸ³å­çš„å¯¹åº”å¾—åˆ†ä¹‹å’Œã€‚æ¯ä¸ªç©å®¶çš„åˆå§‹åˆ†æ•°éƒ½æ˜¯ **0** ã€‚

æ¯”èµ›çš„ç›®æ ‡æ˜¯å†³å‡ºæœ€é«˜åˆ†ï¼Œå¾—åˆ†æœ€é«˜çš„é€‰æ‰‹å°†ä¼šèµ¢å¾—æ¯”èµ›ï¼Œæ¯”èµ›ä¹Ÿå¯èƒ½ä¼šå‡ºç°å¹³å±€ã€‚

å‡è®¾ Alice å’Œ Bob éƒ½é‡‡å– **æœ€ä¼˜ç­–ç•¥** ã€‚

å¦‚æœ Alice èµ¢äº†å°±è¿”å› `"Alice"` _ï¼Œ_ Bob èµ¢äº†å°±è¿”å› __`"Bob"`_ï¼Œ_ åˆ†æ•°ç›¸åŒè¿”å› `"Tie"` ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** values = [1,2,3,7]
> 
> **è¾“å‡ºï¼š** "Bob"
> 
> **è§£é‡Šï¼š** Alice æ€»æ˜¯ä¼šè¾“ï¼Œå¥¹çš„æœ€ä½³é€‰æ‹©æ˜¯æ‹¿èµ°å‰ä¸‰å †ï¼Œå¾—åˆ†å˜æˆ 6 ã€‚ä½†æ˜¯ Bob çš„å¾—åˆ†ä¸º 7ï¼ŒBob è·èƒœã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** values = [1,2,3,-9]
> 
> **è¾“å‡ºï¼š** "Alice"
> 
> **è§£é‡Šï¼š** Alice è¦æƒ³è·èƒœå°±å¿…é¡»åœ¨ç¬¬ä¸€ä¸ªå›åˆæ‹¿èµ°å‰ä¸‰å †çŸ³å­ï¼Œç»™ Bob ç•™ä¸‹è´Ÿåˆ†ã€‚
> 
> å¦‚æœ Alice åªæ‹¿èµ°ç¬¬ä¸€å †ï¼Œé‚£ä¹ˆå¥¹çš„å¾—åˆ†ä¸º 1ï¼Œæ¥ä¸‹æ¥ Bob æ‹¿èµ°ç¬¬äºŒã€ä¸‰å †ï¼Œå¾—åˆ†ä¸º 5 ã€‚ä¹‹å Alice åªèƒ½æ‹¿åˆ°åˆ†æ•° -9 çš„çŸ³å­å †ï¼Œè¾“æ‰æ¯”èµ›ã€‚
> 
> å¦‚æœ Alice æ‹¿èµ°å‰ä¸¤å †ï¼Œé‚£ä¹ˆå¥¹çš„å¾—åˆ†ä¸º 3ï¼Œæ¥ä¸‹æ¥ Bob æ‹¿èµ°ç¬¬ä¸‰å †ï¼Œå¾—åˆ†ä¸º 3 ã€‚ä¹‹å Alice åªèƒ½æ‹¿åˆ°åˆ†æ•° -9 çš„çŸ³å­å †ï¼ŒåŒæ ·ä¼šè¾“æ‰æ¯”èµ›ã€‚
> 
> æ³¨æ„ï¼Œä»–ä»¬éƒ½åº”è¯¥é‡‡å– **æœ€ä¼˜ç­–ç•¥** ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œ Alice å°†é€‰æ‹©èƒ½å¤Ÿä½¿å¥¹è·èƒœçš„æ–¹æ¡ˆã€‚

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** values = [1,2,3,6]
> 
> **è¾“å‡ºï¼š** "Tie"
> 
> **è§£é‡Šï¼š** Alice æ— æ³•èµ¢å¾—æ¯”èµ›ã€‚å¦‚æœå¥¹å†³å®šé€‰æ‹©å‰ä¸‰å †ï¼Œå¥¹å¯ä»¥ä»¥å¹³å±€ç»“æŸæ¯”èµ›ï¼Œå¦åˆ™å¥¹å°±ä¼šè¾“ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= stoneValue.length <= 5 * 10^4`
  * `-1000 <= stoneValue[i] <= 1000`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1563 | [çŸ³å­æ¸¸æˆ V](https://leetcode.com/problems/stone-game-v) |  |  [`æ•°ç»„`](/outline/tag/array.md) [`æ•°å­¦`](/outline/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md) `1+` | <font color=#ff334b>Hard</font> |
| 1686 | [çŸ³å­æ¸¸æˆ VI](https://leetcode.com/problems/stone-game-vi) |  |  [`è´ªå¿ƒ`](/outline/tag/greedy.md) [`æ•°ç»„`](/outline/tag/array.md) [`æ•°å­¦`](/outline/tag/math.md) `3+` | <font color=#ffb800>Medium</font> |
| 1690 | [çŸ³å­æ¸¸æˆ VII](https://leetcode.com/problems/stone-game-vii) |  |  [`æ•°ç»„`](/outline/tag/array.md) [`æ•°å­¦`](/outline/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md) `1+` | <font color=#ffb800>Medium</font> |
| 1872 | [çŸ³å­æ¸¸æˆ VIII](https://leetcode.com/problems/stone-game-viii) |  |  [`æ•°ç»„`](/outline/tag/array.md) [`æ•°å­¦`](/outline/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md) `2+` | <font color=#ff334b>Hard</font> |
| 2029 | [çŸ³å­æ¸¸æˆ IX](https://leetcode.com/problems/stone-game-ix) |  |  [`è´ªå¿ƒ`](/outline/tag/greedy.md) [`æ•°ç»„`](/outline/tag/array.md) [`æ•°å­¦`](/outline/tag/math.md) `2+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
