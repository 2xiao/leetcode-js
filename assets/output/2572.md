# [2572. æ— å¹³æ–¹å­é›†è®¡æ•°](https://leetcode.com/problems/count-the-number-of-square-free-subsets)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`çŠ¶æ€å‹ç¼©`](/tag/bitmask.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/count-the-number-of-square-free-subsets)

## é¢˜ç›®

You are given a positive integer **0-indexed**  array `nums`.

A subset of the array `nums` is **square-free** if the product of its elements
is a **square-free integer**.

A **square-free integer** is an integer that is divisible by no square number
other than `1`.

Return _the number of square-free non-empty subsets of the array_ **nums**.
Since the answer may be too large, return it **modulo** `109 + 7`.

A **non-empty**  **subset** of `nums` is an array that can be obtained by
deleting some (possibly none but not all) elements from `nums`. Two subsets
are different if and only if the chosen indices to delete are different.



**Example 1:**

> Input: nums = [3,4,4,5]
> 
> Output: 3
> 
> Explanation: There are 3 square-free subsets in this example:
> - The subset consisting of the 0th element [3]. The product of its elements is 3, which is a square-free integer.
> - The subset consisting of the 3rd element [5]. The product of its elements is 5, which is a square-free integer.
> - The subset consisting of 0th and 3rd elements [3,5]. The product of its elements is 15, which is a square-free integer.
> 
> It can be proven that there are no more than 3 square-free subsets in the given array.

**Example 2:**

> Input: nums = [1]
> 
> Output: 1
> 
> Explanation: There is 1 square-free subset in this example:
> - The subset consisting of the 0th element [1]. The product of its elements is 1, which is a square-free integer.
> 
> It can be proven that there is no more than 1 square-free subset in the given array.

**Constraints:**

  * `1 <= nums.length <= 1000`
  * `1 <= nums[i] <= 30`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `nums` ã€‚

å¦‚æœæ•°ç»„ `nums` çš„å­é›†ä¸­çš„å…ƒç´ ä¹˜ç§¯æ˜¯ä¸€ä¸ª **æ— å¹³æ–¹å› å­æ•°** ï¼Œåˆ™è®¤ä¸ºè¯¥å­é›†æ˜¯ä¸€ä¸ª **æ— å¹³æ–¹** å­é›†ã€‚

**æ— å¹³æ–¹å› å­æ•°** æ˜¯æ— æ³•è¢«é™¤ `1` ä¹‹å¤–ä»»ä½•å¹³æ–¹æ•°æ•´é™¤çš„æ•°å­—ã€‚

è¿”å›æ•°ç»„ `nums` ä¸­ **æ— å¹³æ–¹** ä¸” **éç©º** çš„å­é›†æ•°ç›®ã€‚å› ä¸ºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¿”å›å¯¹ `109 + 7` å–ä½™çš„ç»“æœã€‚

`nums` çš„ **éç©ºå­é›†** æ˜¯å¯ä»¥ç”±åˆ é™¤ `nums`
ä¸­ä¸€äº›å…ƒç´ ï¼ˆå¯ä»¥ä¸åˆ é™¤ï¼Œä½†ä¸èƒ½å…¨éƒ¨åˆ é™¤ï¼‰å¾—åˆ°çš„ä¸€ä¸ªæ•°ç»„ã€‚å¦‚æœæ„æˆä¸¤ä¸ªå­é›†æ—¶é€‰æ‹©åˆ é™¤çš„ä¸‹æ ‡ä¸åŒï¼Œåˆ™è®¤ä¸ºè¿™ä¸¤ä¸ªå­é›†ä¸åŒã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [3,4,4,5]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** ç¤ºä¾‹ä¸­æœ‰ 3 ä¸ªæ— å¹³æ–¹å­é›†ï¼š
> - ç”±ç¬¬ 0 ä¸ªå…ƒç´  [3] ç»„æˆçš„å­é›†ã€‚å…¶å…ƒç´ çš„ä¹˜ç§¯æ˜¯ 3 ï¼Œè¿™æ˜¯ä¸€ä¸ªæ— å¹³æ–¹å› å­æ•°ã€‚
> - ç”±ç¬¬ 3 ä¸ªå…ƒç´  [5] ç»„æˆçš„å­é›†ã€‚å…¶å…ƒç´ çš„ä¹˜ç§¯æ˜¯ 5 ï¼Œè¿™æ˜¯ä¸€ä¸ªæ— å¹³æ–¹å› å­æ•°ã€‚
> - ç”±ç¬¬ 0 ä¸ªå’Œç¬¬ 3 ä¸ªå…ƒç´  [3,5] ç»„æˆçš„å­é›†ã€‚å…¶å…ƒç´ çš„ä¹˜ç§¯æ˜¯ 15 ï¼Œè¿™æ˜¯ä¸€ä¸ªæ— å¹³æ–¹å› å­æ•°ã€‚
> 
> å¯ä»¥è¯æ˜ç»™å®šæ•°ç»„ä¸­ä¸å­˜åœ¨è¶…è¿‡ 3 ä¸ªæ— å¹³æ–¹å­é›†ã€‚

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1]
> 
> **è¾“å‡ºï¼š** 1
> 
> **è§£é‡Šï¼š** ç¤ºä¾‹ä¸­æœ‰ 1 ä¸ªæ— å¹³æ–¹å­é›†ï¼š
> - ç”±ç¬¬ 0 ä¸ªå…ƒç´  [1] ç»„æˆçš„å­é›†ã€‚å…¶å…ƒç´ çš„ä¹˜ç§¯æ˜¯ 1 ï¼Œè¿™æ˜¯ä¸€ä¸ªæ— å¹³æ–¹å› å­æ•°ã€‚
> 
> å¯ä»¥è¯æ˜ç»™å®šæ•°ç»„ä¸­ä¸å­˜åœ¨è¶…è¿‡ 1 ä¸ªæ— å¹³æ–¹å­é›†ã€‚



**æç¤ºï¼š**

  * `1 <= nums.length <= 1000`
  * `1 <= nums[i] <= 30`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2521 | [æ•°ç»„ä¹˜ç§¯ä¸­çš„ä¸åŒè´¨å› æ•°æ•°ç›®](https://leetcode.com/problems/distinct-prime-factors-of-product-of-array) |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ•°å­¦`](/tag/math.md) `1+` | <font color=#ffb800>Medium</font> |