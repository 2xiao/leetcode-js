---
title: 286. 墙与门 🔒
description: LeetCode 286. 墙与门 🔒题解，Walls and Gates，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 286. 墙与门 🔒
  - 墙与门
  - Walls and Gates
  - 解题思路
  - 广度优先搜索
  - 数组
  - 矩阵
---

# 286. 墙与门 🔒

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`广度优先搜索`](/tag/breadth-first-search.md) [`数组`](/tag/array.md) [`矩阵`](/tag/matrix.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/walls-and-gates) [`LeetCode`](https://leetcode.com/problems/walls-and-gates)

## 题目

You are given an `m x n` grid `rooms` initialized with these three possible
values.

  * `-1` A wall or an obstacle.
  * `0` A gate.
  * `INF` Infinity means an empty room. We use the value `231 - 1 = 2147483647` to represent `INF` as you may assume that the distance to a gate is less than `2147483647`.

Fill each empty room with the distance to _its nearest gate_. If it is
impossible to reach a gate, it should be filled with `INF`.



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0200-0299/0286.Walls%20and%20Gates/images/grid.jpg)

> Input: rooms = [[2147483647,-1,0,2147483647],[2147483647,2147483647,2147483647,-1],[2147483647,-1,2147483647,-1],[0,-1,2147483647,2147483647]]
> 
> Output: [[3,-1,0,1],[2,2,1,-1],[1,-1,2,-1],[0,-1,3,4]]

**Example 2:**

> Input: rooms = [[-1]]
> 
> Output: [[-1]]

**Constraints:**

  * `m == rooms.length`
  * `n == rooms[i].length`
  * `1 <= m, n <= 250`
  * `rooms[i][j]` is `-1`, `0`, or `231 - 1`.


## 题目大意

你被给定一个 `m × n` 的二维网格 `rooms` ，网格中有以下三种可能的初始化值：

  1. `-1` 表示墙或是障碍物
  2. `0` 表示一扇门
  3. `INF` 无限表示一个空的房间。然后，我们用 `231 - 1 = 2147483647` 代表 `INF`。你可以认为通往门的距离总是小于 `2147483647` 的。

你要给每个空房间位上填上该房间到 **最近门的距离** ，如果无法到达门，则填 `INF` 即可。

**示例 1：**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0200-0299/0286.Walls%20and%20Gates/images/grid.jpg)

> 
> 
> 
> 
> 
> **输入：** rooms = [[2147483647,-1,0,2147483647],[2147483647,2147483647,2147483647,-1],[2147483647,-1,2147483647,-1],[0,-1,2147483647,2147483647]]
> 
> **输出：**[[3,-1,0,1],[2,2,1,-1],[1,-1,2,-1],[0,-1,3,4]]
> 
> 

**示例 2：**

> 
> 
> 
> 
> 
> **输入：** rooms = [[-1]]
> 
> **输出：**[[-1]]
> 
> 

**示例 3：**

> 
> 
> 
> 
> 
> **输入：** rooms = [[2147483647]]
> 
> **输出：**[[2147483647]]
> 
> 

**示例 4：**

> 
> 
> 
> 
> 
> **输入：** rooms = [[0]]
> 
> **输出：**[[0]]
> 
> 

**提示：**

  * `m == rooms.length`
  * `n == rooms[i].length`
  * `1 <= m, n <= 250`
  * `rooms[i][j]` 是 `-1`、`0` 或 `231 - 1`


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 130 | 被围绕的区域 | [[✓]](/problem/0130.md) |  [`深度优先搜索`](/tag/depth-first-search.md) [`广度优先搜索`](/tag/breadth-first-search.md) [`并查集`](/tag/union-find.md) `2+` | 🟠 | [🀄️](https://leetcode.cn/problems/surrounded-regions) [🔗](https://leetcode.com/problems/surrounded-regions) |
| 200 | 岛屿数量 | [[✓]](/problem/0200.md) |  [`深度优先搜索`](/tag/depth-first-search.md) [`广度优先搜索`](/tag/breadth-first-search.md) [`并查集`](/tag/union-find.md) `2+` | 🟠 | [🀄️](https://leetcode.cn/problems/number-of-islands) [🔗](https://leetcode.com/problems/number-of-islands) |
| 317 | 离建筑物最近的距离 🔒 |  |  [`广度优先搜索`](/tag/breadth-first-search.md) [`数组`](/tag/array.md) [`矩阵`](/tag/matrix.md) | 🔴 | [🀄️](https://leetcode.cn/problems/shortest-distance-from-all-buildings) [🔗](https://leetcode.com/problems/shortest-distance-from-all-buildings) |
| 419 | 棋盘上的战舰 | [[✓]](/problem/0419.md) |  [`深度优先搜索`](/tag/depth-first-search.md) [`数组`](/tag/array.md) [`矩阵`](/tag/matrix.md) | 🟠 | [🀄️](https://leetcode.cn/problems/battleships-in-a-board) [🔗](https://leetcode.com/problems/battleships-in-a-board) |
| 489 | 扫地机器人 🔒 |  |  [`回溯`](/tag/backtracking.md) [`交互`](/tag/interactive.md) | 🔴 | [🀄️](https://leetcode.cn/problems/robot-room-cleaner) [🔗](https://leetcode.com/problems/robot-room-cleaner) |
| 994 | 腐烂的橘子 | [[✓]](/problem/0994.md) |  [`广度优先搜索`](/tag/breadth-first-search.md) [`数组`](/tag/array.md) [`矩阵`](/tag/matrix.md) | 🟠 | [🀄️](https://leetcode.cn/problems/rotting-oranges) [🔗](https://leetcode.com/problems/rotting-oranges) |
| 3015 | 按距离统计房屋对数目 I |  |  [`广度优先搜索`](/tag/breadth-first-search.md) [`图`](/tag/graph.md) [`前缀和`](/tag/prefix-sum.md) | 🟠 | [🀄️](https://leetcode.cn/problems/count-the-number-of-houses-at-a-certain-distance-i) [🔗](https://leetcode.com/problems/count-the-number-of-houses-at-a-certain-distance-i) |
| 3017 | 按距离统计房屋对数目 II |  |  [`图`](/tag/graph.md) [`前缀和`](/tag/prefix-sum.md) | 🔴 | [🀄️](https://leetcode.cn/problems/count-the-number-of-houses-at-a-certain-distance-ii) [🔗](https://leetcode.com/problems/count-the-number-of-houses-at-a-certain-distance-ii) |