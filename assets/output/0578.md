# [578. æŸ¥è¯¢å›ç­”ç‡æœ€é«˜çš„é—®é¢˜](https://leetcode.com/problems/get-highest-answer-rate-question)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°æ®åº“`](/tag/database.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/get-highest-answer-rate-question)

## é¢˜ç›®

Table: `SurveyLog`

> 
> 
> 
> 
> 
> +-------------+------+
> 
> | Column Name | Type |
> 
> +-------------+------+
> 
> | id> 
> > 
>   | int  |
> 
> | action> 
>   | ENUM |
> 
> | question_id | int  |
> 
> | answer_id   | int  |
> 
> | q_num> 
>    | int  |
> 
> | timestamp   | int  |
> 
> +-------------+------+
> 
> This table may contain duplicate rows.
> 
> action is an ENUM (category) of the type: "show", "answer", or "skip".
> 
> Each row of this table indicates the user with ID = id has taken an action with the question question_id at time timestamp.
> 
> If the action taken by the user is "answer", answer_id will contain the id of that answer, otherwise, it will be null.
> 
> q_num is the numeral order of the question in the current session.
> 
> 



The **answer rate** for a question is the number of times a user answered the
question by the number of times a user showed the question.

Write a solution to report the question that has the highest **answer rate**.
If multiple questions have the same maximum **answer rate** , report the
question with the smallest `question_id`.

The result format is in the following example.



**Example 1:**

> Input: 
> 
> SurveyLog table:
> 
> +----+--------+-------------+-----------+-------+-----------+
> 
> | id | action | question_id | answer_id | q_num | timestamp |
> 
> +----+--------+-------------+-----------+-------+-----------+
> 
> | 5  | show   | 285> 
> > 
>  | null> 
>   | 1> 
>  | 123> 
>    |
> 
> | 5  | answer | 285> 
> > 
>  | 124124> 
> | 1> 
>  | 124> 
>    |
> 
> | 5  | show   | 369> 
> > 
>  | null> 
>   | 2> 
>  | 125> 
>    |
> 
> | 5  | skip   | 369> 
> > 
>  | null> 
>   | 2> 
>  | 126> 
>    |
> 
> +----+--------+-------------+-----------+-------+-----------+
> 
> Output: 
> 
> +------------+
> 
> | survey_log |
> 
> +------------+
> 
> | 285> 
> > 
> |
> 
> +------------+
> 
> Explanation: 
> 
> Question 285 was showed 1 time and answered 1 time. The answer rate of question 285 is 1.0
> 
> Question 369 was showed 1 time and was not answered. The answer rate of question 369 is 0.0
> 
> Question 285 has the highest answer rate.


## é¢˜ç›®å¤§æ„

`SurveyLog` è¡¨ï¼š

> 
> 
> 
> 
> 
> +-------------+------+
> 
> | Column Name | Type |
> 
> +-------------+------+
> 
> | id> 
> > 
>   | int  |
> 
> | action> 
>   | ENUM |
> 
> | question_id | int  |
> 
> | answer_id   | int  |
> 
> | q_num> 
>    | int  |
> 
> | timestamp   | int  |
> 
> +-------------+------+
> 
> è¿™å¼ è¡¨å¯èƒ½åŒ…å«é‡å¤é¡¹ã€‚
> 
> action æ˜¯ä¸€ä¸ª ENUM(category) æ•°æ®ï¼Œå¯ä»¥æ˜¯ "show"ã€"answer" æˆ–è€… "skip" ã€‚
> 
> è¿™å¼ è¡¨çš„æ¯ä¸€è¡Œè¡¨ç¤ºï¼šID = id çš„ç”¨æˆ·å¯¹ question_id çš„é—®é¢˜åœ¨ timestamp æ—¶é—´è¿›è¡Œäº† action æ“ä½œã€‚
> 
> å¦‚æœç”¨æˆ·å¯¹åº”çš„æ“ä½œæ˜¯ "answer" ï¼Œanswer_id å°†ä¼šæ˜¯å¯¹åº”ç­”æ¡ˆçš„ id ï¼Œå¦åˆ™ï¼Œå€¼ä¸º null ã€‚
> 
> q_num æ˜¯è¯¥é—®é¢˜åœ¨å½“å‰ä¼šè¯ä¸­çš„æ•°å­—é¡ºåºã€‚
> 
> 



**å›ç­”ç‡** æ˜¯æŒ‡ï¼šåŒä¸€é—®é¢˜ç¼–å·ä¸­å›ç­”æ¬¡æ•°å æ˜¾ç¤ºæ¬¡æ•°çš„æ¯”ç‡ã€‚

ç¼–å†™ä¸€ä¸ªè§£å†³æ–¹æ¡ˆä»¥æŠ¥å‘Š **å›ç­”ç‡** æœ€é«˜çš„é—®é¢˜ã€‚å¦‚æœæœ‰å¤šä¸ªé—®é¢˜å…·æœ‰ç›¸åŒçš„æœ€å¤§ **å›ç­”ç‡** ï¼Œè¿”å› `question_id` æœ€å°çš„é‚£ä¸ªã€‚

æŸ¥è¯¢ç»“æœå¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> SurveyLog table:
> 
> +----+--------+-------------+-----------+-------+-----------+
> 
> | id | action | question_id | answer_id | q_num | timestamp |
> 
> +----+--------+-------------+-----------+-------+-----------+
> 
> | 5  | show   | 285> 
> > 
>  | null> 
>   | 1> 
>  | 123> 
>    |
> 
> | 5  | answer | 285> 
> > 
>  | 124124> 
> | 1> 
>  | 124> 
>    |
> 
> | 5  | show   | 369> 
> > 
>  | null> 
>   | 2> 
>  | 125> 
>    |
> 
> | 5  | skip   | 369> 
> > 
>  | null> 
>   | 2> 
>  | 126> 
>    |
> 
> +----+--------+-------------+-----------+-------+-----------+
> 
> **è¾“å‡ºï¼š**
> 
> +------------+
> 
> | survey_log |
> 
> +------------+
> 
> | 285> 
> > 
> |
> 
> +------------+
> 
> **è§£é‡Šï¼š**
> 
> é—®é¢˜ 285 æ˜¾ç¤º 1 æ¬¡ã€å›ç­” 1 æ¬¡ã€‚å›ç­”ç‡ä¸º 1.0 ã€‚
> 
> é—®é¢˜ 369 æ˜¾ç¤º 1 æ¬¡ã€å›ç­” 0 æ¬¡ã€‚å›ç­”ç‡ä¸º 0.0 ã€‚
> 
> é—®é¢˜ 285 å›ç­”ç‡æœ€é«˜ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```