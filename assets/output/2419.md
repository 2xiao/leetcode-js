# [2419. æŒ‰ä½ä¸æœ€å¤§çš„æœ€é•¿å­æ•°ç»„](https://leetcode.com/problems/longest-subarray-with-maximum-bitwise-and)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/leetcode/outline/tag/bit-manipulation.md) [`è„‘ç­‹æ€¥è½¬å¼¯`](/leetcode/outline/tag/brainteaser.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/longest-subarray-with-maximum-bitwise-and)

## é¢˜ç›®

You are given an integer array `nums` of size `n`.

Consider a **non-empty** subarray from `nums` that has the **maximum**
possible **bitwise AND**.

  * In other words, let `k` be the maximum value of the bitwise AND of **any** subarray of `nums`. Then, only subarrays with a bitwise AND equal to `k` should be considered.

Return _the length of the**longest** such subarray_.

The bitwise AND of an array is the bitwise AND of all the numbers in it.

A **subarray** is a contiguous sequence of elements within an array.



**Example 1:**

> Input: nums = [1,2,3,3,2,2]
> 
> Output: 2
> 
> Explanation:
> 
> The maximum possible bitwise AND of a subarray is 3.
> 
> The longest subarray with that value is [3,3], so we return 2.

**Example 2:**

> Input: nums = [1,2,3,4]
> 
> Output: 1
> 
> Explanation:
> 
> The maximum possible bitwise AND of a subarray is 4.
> 
> The longest subarray with that value is [4], so we return 1.

**Constraints:**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^6`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` ã€‚

è€ƒè™‘ `nums` ä¸­è¿›è¡Œ **æŒ‰ä½ä¸ï¼ˆbitwise ANDï¼‰** è¿ç®—å¾—åˆ°çš„å€¼ **æœ€å¤§** çš„ **éç©º** å­æ•°ç»„ã€‚

  * æ¢å¥è¯è¯´ï¼Œä»¤ `k` æ˜¯ `nums` **ä»»æ„** å­æ•°ç»„æ‰§è¡ŒæŒ‰ä½ä¸è¿ç®—æ‰€èƒ½å¾—åˆ°çš„æœ€å¤§å€¼ã€‚é‚£ä¹ˆï¼Œåªéœ€è¦è€ƒè™‘é‚£äº›æ‰§è¡Œä¸€æ¬¡æŒ‰ä½ä¸è¿ç®—åç­‰äº `k` çš„å­æ•°ç»„ã€‚

è¿”å›æ»¡è¶³è¦æ±‚çš„ **æœ€é•¿** å­æ•°ç»„çš„é•¿åº¦ã€‚

æ•°ç»„çš„æŒ‰ä½ä¸å°±æ˜¯å¯¹æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—è¿›è¡ŒæŒ‰ä½ä¸è¿ç®—ã€‚

**å­æ•°ç»„** æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­å…ƒç´ åºåˆ—ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,3,3,2,2]
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š**
> 
> å­æ•°ç»„æŒ‰ä½ä¸è¿ç®—çš„æœ€å¤§å€¼æ˜¯ 3 ã€‚
> 
> èƒ½å¾—åˆ°æ­¤ç»“æœçš„æœ€é•¿å­æ•°ç»„æ˜¯ [3,3]ï¼Œæ‰€ä»¥è¿”å› 2 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,3,4]
> 
> **è¾“å‡ºï¼š** 1
> 
> **è§£é‡Šï¼š**
> 
> å­æ•°ç»„æŒ‰ä½ä¸è¿ç®—çš„æœ€å¤§å€¼æ˜¯ 4 ã€‚ 
> 
> èƒ½å¾—åˆ°æ­¤ç»“æœçš„æœ€é•¿å­æ•°ç»„æ˜¯ [4]ï¼Œæ‰€ä»¥è¿”å› 1 ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^6`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1805 | [å­—ç¬¦ä¸²ä¸­ä¸åŒæ•´æ•°çš„æ•°ç›®](https://leetcode.com/problems/number-of-different-integers-in-a-string) |  |  [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) | <font color=#15bd66>Easy</font> |
| 2038 | [å¦‚æœç›¸é‚»ä¸¤ä¸ªé¢œè‰²å‡ç›¸åŒåˆ™åˆ é™¤å½“å‰é¢œè‰²](https://leetcode.com/problems/remove-colored-pieces-if-both-neighbors-are-the-same-color) |  |  [`è´ªå¿ƒ`](/leetcode/outline/tag/greedy.md) [`æ•°å­¦`](/leetcode/outline/tag/math.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) `1+` | <font color=#ffb800>Medium</font> |
| 2044 | [ç»Ÿè®¡æŒ‰ä½æˆ–èƒ½å¾—åˆ°æœ€å¤§å€¼çš„å­é›†æ•°ç›®](https://leetcode.com/problems/count-number-of-maximum-bitwise-or-subsets) | [[âœ“]](https://2xiao.github.io/leetcode-js/leetcode/problem/2044) |  [`ä½è¿ç®—`](/leetcode/outline/tag/bit-manipulation.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å›æº¯`](/leetcode/outline/tag/backtracking.md) `1+` | <font color=#ffb800>Medium</font> |
| 2411 | [æŒ‰ä½æˆ–æœ€å¤§çš„æœ€å°å­æ•°ç»„é•¿åº¦](https://leetcode.com/problems/smallest-subarrays-with-maximum-bitwise-or) |  |  [`ä½è¿ç®—`](/leetcode/outline/tag/bit-manipulation.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/leetcode/outline/tag/binary-search.md) `1+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
