---
title: 975. å¥‡å¶è·³
description: LeetCode 975. å¥‡å¶è·³é¢˜è§£ï¼ŒOdd Even Jumpï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 975. å¥‡å¶è·³
  - å¥‡å¶è·³
  - Odd Even Jump
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - æ•°ç»„
  - åŠ¨æ€è§„åˆ’
  - æœ‰åºé›†åˆ
  - å•è°ƒæ ˆ
---

# 975. å¥‡å¶è·³

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`æœ‰åºé›†åˆ`](/tag/ordered-set.md) [`å•è°ƒæ ˆ`](/tag/monotonic-stack.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/odd-even-jump) [`LeetCode`](https://leetcode.com/problems/odd-even-jump)

## é¢˜ç›®

You are given an integer array `arr`. From some starting index, you can make a
series of jumps. The (1st, 3rd, 5th, ...) jumps in the series are called
**odd-numbered jumps** , and the (2nd, 4th, 6th, ...) jumps in the series are
called **even-numbered jumps**. Note that the **jumps** are numbered, not the
indices.

You may jump forward from index `i` to index `j` (with `i < j`) in the
following way:

  * During **odd-numbered jumps** (i.e., jumps 1, 3, 5, ...), you jump to the index `j` such that `arr[i] <= arr[j]` and `arr[j]` is the smallest possible value. If there are multiple such indices `j`, you can only jump to the **smallest** such index `j`.
  * During **even-numbered jumps** (i.e., jumps 2, 4, 6, ...), you jump to the index `j` such that `arr[i] >= arr[j]` and `arr[j]` is the largest possible value. If there are multiple such indices `j`, you can only jump to the **smallest** such index `j`.
  * It may be the case that for some index `i`, there are no legal jumps.

A starting index is **good** if, starting from that index, you can reach the
end of the array (index `arr.length - 1`) by jumping some number of times
(possibly 0 or more than once).

Return _the number of**good** starting indices_.



**Example 1:**

> Input: arr = [10,13,12,14,15]
> 
> Output: 2
> 
> Explanation: 
> 
> From starting index i = 0, we can make our 1st jump to i = 2 (since arr[2] is the smallest among arr[1], arr[2], arr[3], arr[4] that is greater or equal to arr[0]), then we cannot jump any more.
> 
> From starting index i = 1 and i = 2, we can make our 1st jump to i = 3, then we cannot jump any more.
> 
> From starting index i = 3, we can make our 1st jump to i = 4, so we have reached the end.
> 
> From starting index i = 4, we have reached the end already.
> 
> In total, there are 2 different starting indices i = 3 and i = 4, where we can reach the end with some number of
> 
> jumps.

**Example 2:**

> Input: arr = [2,3,1,1,4]
> 
> Output: 3
> 
> Explanation: 
> 
> From starting index i = 0, we make jumps to i = 1, i = 2, i = 3:
> 
> During our 1st jump (odd-numbered), we first jump to i = 1 because arr[1] is the smallest value in [arr[1], arr[2], arr[3], arr[4]] that is greater than or equal to arr[0].
> 
> During our 2nd jump (even-numbered), we jump from i = 1 to i = 2 because arr[2] is the largest value in [arr[2], arr[3], arr[4]] that is less than or equal to arr[1]. arr[3] is also the largest value, but 2 is a smaller index, so we can only jump to i = 2 and not i = 3
> 
> During our 3rd jump (odd-numbered), we jump from i = 2 to i = 3 because arr[3] is the smallest value in [arr[3], arr[4]] that is greater than or equal to arr[2].
> 
> We can't jump from i = 3 to i = 4, so the starting index i = 0 is not good.
> 
> In a similar manner, we can deduce that:
> 
> From starting index i = 1, we jump to i = 4, so we reach the end.
> 
> From starting index i = 2, we jump to i = 3, and then we can't jump anymore.
> 
> From starting index i = 3, we jump to i = 4, so we reach the end.
> 
> From starting index i = 4, we are already at the end.
> 
> In total, there are 3 different starting indices i = 1, i = 3, and i = 4, where we can reach the end with some
> 
> number of jumps.

**Example 3:**

> Input: arr = [5,1,3,4,2]
> 
> Output: 3
> 
> Explanation: We can reach the end from starting indices 1, 2, and 4.

**Constraints:**

  * `1 <= arr.length <= 2 * 10^4`
  * `0 <= arr[i] < 10^5`


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `arr`ï¼Œä½ å¯ä»¥ä»æŸä¸€èµ·å§‹ç´¢å¼•å‡ºå‘ï¼Œè·³è·ƒä¸€å®šæ¬¡æ•°ã€‚åœ¨ä½ è·³è·ƒçš„è¿‡ç¨‹ä¸­ï¼Œç¬¬ 1ã€3ã€5... æ¬¡è·³è·ƒç§°ä¸ºå¥‡æ•°è·³è·ƒï¼Œè€Œç¬¬ 2ã€4ã€6...
æ¬¡è·³è·ƒç§°ä¸ºå¶æ•°è·³è·ƒã€‚

ä½ å¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼ä»ç´¢å¼• `i` å‘åè·³è½¬åˆ°ç´¢å¼• `j`ï¼ˆå…¶ä¸­ `i < j`ï¼‰ï¼š

  * åœ¨è¿›è¡Œå¥‡æ•°è·³è·ƒæ—¶ï¼ˆå¦‚ï¼Œç¬¬ 1ï¼Œ3ï¼Œ5... æ¬¡è·³è·ƒï¼‰ï¼Œä½ å°†ä¼šè·³åˆ°ç´¢å¼• `j`ï¼Œä½¿å¾— `arr[i] <= arr[j]`ï¼Œä¸” `arr[j]` çš„å€¼å°½å¯èƒ½å°ã€‚å¦‚æœå­˜åœ¨å¤šä¸ªè¿™æ ·çš„ç´¢å¼• `j`ï¼Œä½ åªèƒ½è·³åˆ°æ»¡è¶³è¦æ±‚çš„**æœ€å°** ç´¢å¼• `j` ä¸Šã€‚
  * åœ¨è¿›è¡Œå¶æ•°è·³è·ƒæ—¶ï¼ˆå¦‚ï¼Œç¬¬ 2ï¼Œ4ï¼Œ6... æ¬¡è·³è·ƒï¼‰ï¼Œä½ å°†ä¼šè·³åˆ°ç´¢å¼• `j`ï¼Œä½¿å¾— `arr[i] >= arr[j]`ï¼Œä¸” `arr[j]` çš„å€¼å°½å¯èƒ½å¤§ã€‚å¦‚æœå­˜åœ¨å¤šä¸ªè¿™æ ·çš„ç´¢å¼• `j`ï¼Œä½ åªèƒ½è·³åˆ°æ»¡è¶³è¦æ±‚çš„**æœ€å°** ç´¢å¼• `j` ä¸Šã€‚
  * ï¼ˆå¯¹äºæŸäº›ç´¢å¼• `i`ï¼Œå¯èƒ½æ— æ³•è¿›è¡Œåˆä¹è¦æ±‚çš„è·³è·ƒã€‚ï¼‰

å¦‚æœä»æŸä¸€ç´¢å¼•å¼€å§‹è·³è·ƒä¸€å®šæ¬¡æ•°ï¼ˆå¯èƒ½æ˜¯ 0 æ¬¡æˆ–å¤šæ¬¡ï¼‰ï¼Œå°±å¯ä»¥åˆ°è¾¾æ•°ç»„çš„æœ«å°¾ï¼ˆç´¢å¼• `arr.length - 1`ï¼‰ï¼Œé‚£ä¹ˆè¯¥ç´¢å¼•å°±ä¼šè¢«è®¤ä¸ºæ˜¯å¥½çš„èµ·å§‹ç´¢å¼•ã€‚

è¿”å›å¥½çš„èµ·å§‹ç´¢å¼•çš„æ•°é‡ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**[10,13,12,14,15]
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š**
> 
> ä»èµ·å§‹ç´¢å¼• i = 0 å‡ºå‘ï¼Œæˆ‘ä»¬å¯ä»¥è·³åˆ° i = 2ï¼Œï¼ˆå› ä¸º arr[2] æ˜¯ arr[1]ï¼Œarr[2]ï¼Œarr[3]ï¼Œarr[4] ä¸­å¤§äºæˆ–ç­‰äº arr[0] çš„æœ€å°å€¼ï¼‰ï¼Œç„¶åæˆ‘ä»¬å°±æ— æ³•ç»§ç»­è·³ä¸‹å»äº†ã€‚
> 
> ä»èµ·å§‹ç´¢å¼• i = 1 å’Œ i = 2 å‡ºå‘ï¼Œæˆ‘ä»¬å¯ä»¥è·³åˆ° i = 3ï¼Œç„¶åæˆ‘ä»¬å°±æ— æ³•ç»§ç»­è·³ä¸‹å»äº†ã€‚
> 
> ä»èµ·å§‹ç´¢å¼• i = 3 å‡ºå‘ï¼Œæˆ‘ä»¬å¯ä»¥è·³åˆ° i = 4ï¼Œåˆ°è¾¾æ•°ç»„æœ«å°¾ã€‚
> 
> ä»èµ·å§‹ç´¢å¼• i = 4 å‡ºå‘ï¼Œæˆ‘ä»¬å·²ç»åˆ°è¾¾æ•°ç»„æœ«å°¾ã€‚
> 
> æ€»ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥ä» 2 ä¸ªä¸åŒçš„èµ·å§‹ç´¢å¼•ï¼ˆi = 3, i = 4ï¼‰å‡ºå‘ï¼Œé€šè¿‡ä¸€å®šæ•°é‡çš„è·³è·ƒåˆ°è¾¾æ•°ç»„æœ«å°¾ã€‚
> 
> 

**ç¤ºä¾‹  2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**[2,3,1,1,4]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š**
> 
> ä»èµ·å§‹ç´¢å¼• i=0 å‡ºå‘ï¼Œæˆ‘ä»¬ä¾æ¬¡å¯ä»¥è·³åˆ° i = 1ï¼Œi = 2ï¼Œi = 3ï¼š
> 
> 
> 
> åœ¨æˆ‘ä»¬çš„ç¬¬ä¸€æ¬¡è·³è·ƒï¼ˆå¥‡æ•°ï¼‰ä¸­ï¼Œæˆ‘ä»¬å…ˆè·³åˆ° i = 1ï¼Œå› ä¸º arr[1] æ˜¯ï¼ˆarr[1]ï¼Œarr[2]ï¼Œarr[3]ï¼Œarr[4]ï¼‰ä¸­å¤§äºæˆ–ç­‰äº arr[0] çš„æœ€å°å€¼ã€‚
> 
> 
> 
> åœ¨æˆ‘ä»¬çš„ç¬¬äºŒæ¬¡è·³è·ƒï¼ˆå¶æ•°ï¼‰ä¸­ï¼Œæˆ‘ä»¬ä» i = 1 è·³åˆ° i = 2ï¼Œå› ä¸º arr[2] æ˜¯ï¼ˆarr[2]ï¼Œarr[3]ï¼Œarr[4]ï¼‰ä¸­å°äºæˆ–ç­‰äº arr[1] çš„æœ€å¤§å€¼ã€‚arr[3] ä¹Ÿæ˜¯æœ€å¤§çš„å€¼ï¼Œä½† 2 æ˜¯ä¸€ä¸ªè¾ƒå°çš„ç´¢å¼•ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½è·³åˆ° i = 2ï¼Œè€Œä¸èƒ½è·³åˆ° i = 3ã€‚
> 
> 
> 
> åœ¨æˆ‘ä»¬çš„ç¬¬ä¸‰æ¬¡è·³è·ƒï¼ˆå¥‡æ•°ï¼‰ä¸­ï¼Œæˆ‘ä»¬ä» i = 2 è·³åˆ° i = 3ï¼Œå› ä¸º arr[3] æ˜¯ï¼ˆarr[3]ï¼Œarr[4]ï¼‰ä¸­å¤§äºæˆ–ç­‰äº arr[2] çš„æœ€å°å€¼ã€‚
> 
> 
> 
> æˆ‘ä»¬ä¸èƒ½ä» i = 3 è·³åˆ° i = 4ï¼Œæ‰€ä»¥èµ·å§‹ç´¢å¼• i = 0 ä¸æ˜¯å¥½çš„èµ·å§‹ç´¢å¼•ã€‚
> 
> 
> 
> ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬å¯ä»¥æ¨æ–­ï¼š
> 
> ä»èµ·å§‹ç´¢å¼• i = 1 å‡ºå‘ï¼Œ æˆ‘ä»¬è·³åˆ° i = 4ï¼Œè¿™æ ·æˆ‘ä»¬å°±åˆ°è¾¾æ•°ç»„æœ«å°¾ã€‚
> 
> ä»èµ·å§‹ç´¢å¼• i = 2 å‡ºå‘ï¼Œ æˆ‘ä»¬è·³åˆ° i = 3ï¼Œç„¶åæˆ‘ä»¬å°±ä¸èƒ½å†è·³äº†ã€‚
> 
> ä»èµ·å§‹ç´¢å¼• i = 3 å‡ºå‘ï¼Œ æˆ‘ä»¬è·³åˆ° i = 4ï¼Œè¿™æ ·æˆ‘ä»¬å°±åˆ°è¾¾æ•°ç»„æœ«å°¾ã€‚
> 
> ä»èµ·å§‹ç´¢å¼• i = 4 å‡ºå‘ï¼Œæˆ‘ä»¬å·²ç»åˆ°è¾¾æ•°ç»„æœ«å°¾ã€‚
> 
> æ€»ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥ä» 3 ä¸ªä¸åŒçš„èµ·å§‹ç´¢å¼•ï¼ˆi = 1, i = 3, i = 4ï¼‰å‡ºå‘ï¼Œé€šè¿‡ä¸€å®šæ•°é‡çš„è·³è·ƒåˆ°è¾¾æ•°ç»„æœ«å°¾ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**[5,1,3,4,2]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š**
> 
> æˆ‘ä»¬å¯ä»¥ä»èµ·å§‹ç´¢å¼• 1ï¼Œ2ï¼Œ4 å‡ºå‘åˆ°è¾¾æ•°ç»„æœ«å°¾ã€‚
> 
> 



**æç¤ºï¼š**

  1. `1 <= arr.length <= 20000`
  2. `0 <= arr[i] < 100000`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```