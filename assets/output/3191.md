# [3191. ä½¿äºŒè¿›åˆ¶æ•°ç»„å…¨éƒ¨ç­‰äº 1 çš„æœ€å°‘æ“ä½œæ¬¡æ•° I](https://leetcode.com/problems/minimum-operations-to-make-binary-array-elements-equal-to-one-i)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`é˜Ÿåˆ—`](/tag/queue.md) [`æ•°ç»„`](/tag/array.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/minimum-operations-to-make-binary-array-elements-equal-to-one-i)

## é¢˜ç›®

You are given a binary array `nums`.

You can do the following operation on the array **any** number of times
(possibly zero):

  * Choose **any** 3 **consecutive** elements from the array and **flip** **all** of them.

**Flipping** an element means changing its value from 0 to 1, and from 1 to 0.

Return the **minimum** number of operations required to make all elements in
`nums` equal to 1. If it is impossible, return -1.



**Example 1:**

**Input:** nums = [0,1,1,1,0,0]

**Output:** 3

**Explanation:**  
We can do the following operations:

  * Choose the elements at indices 0, 1 and 2. The resulting array is `nums = [_**1**_ ,_**0**_ ,_**0**_ ,1,0,0]`.
  * Choose the elements at indices 1, 2 and 3. The resulting array is `nums = [1,_**1**_ ,_**1**_ ,**_0_** ,0,0]`.
  * Choose the elements at indices 3, 4 and 5. The resulting array is `nums = [1,1,1,**_1_** ,_**1**_ ,_**1**_]`.

**Example 2:**

**Input:** nums = [0,1,1,1]

**Output:** -1

**Explanation:**  
It is impossible to make all elements equal to 1.



**Constraints:**

  * `3 <= nums.length <= 10^5`
  * `0 <= nums[i] <= 1`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ `nums` ã€‚

ä½ å¯ä»¥å¯¹æ•°ç»„æ‰§è¡Œä»¥ä¸‹æ“ä½œ **ä»»æ„**  æ¬¡ï¼ˆä¹Ÿå¯ä»¥ 0 æ¬¡ï¼‰ï¼š

  * é€‰æ‹©æ•°ç»„ä¸­ **ä»»æ„è¿ç»­**  3 ä¸ªå…ƒç´ ï¼Œå¹¶å°†å®ƒä»¬ **å…¨éƒ¨åè½¬**  ã€‚

**åè½¬**  ä¸€ä¸ªå…ƒç´ æŒ‡çš„æ˜¯å°†å®ƒçš„å€¼ä» 0 å˜ 1 ï¼Œæˆ–è€…ä» 1 å˜ 0 ã€‚

è¯·ä½ è¿”å›å°† `nums` ä¸­æ‰€æœ‰å…ƒç´ å˜ä¸º 1 çš„ **æœ€å°‘**  æ“ä½œæ¬¡æ•°ã€‚å¦‚æœæ— æ³•å…¨éƒ¨å˜æˆ 1 ï¼Œè¿”å› -1 ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** nums = [0,1,1,1,0,0]

**è¾“å‡ºï¼š** 3

**è§£é‡Šï¼š**  
æˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

  * é€‰æ‹©ä¸‹æ ‡ä¸º 0 ï¼Œ1 å’Œ 2 çš„å…ƒç´ å¹¶åè½¬ï¼Œå¾—åˆ° `nums = [_**1**_ ,_**0**_ ,_**0**_ ,1,0,0]` ã€‚
  * é€‰æ‹©ä¸‹æ ‡ä¸º 1 ï¼Œ2 å’Œ 3 çš„å…ƒç´ å¹¶åè½¬ï¼Œå¾—åˆ° `nums = [1,_**1**_ ,_**1**_ ,**_0_** ,0,0]` ã€‚
  * é€‰æ‹©ä¸‹æ ‡ä¸º 3 ï¼Œ4 å’Œ 5 çš„å…ƒç´ å¹¶åè½¬ï¼Œå¾—åˆ° `nums = [1,1,1,**_1_** ,_**1**_ ,_**1**_]` ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** nums = [0,1,1,1]

**è¾“å‡ºï¼š** -1

**è§£é‡Šï¼š**  
æ— æ³•å°†æ‰€æœ‰å…ƒç´ éƒ½å˜ä¸º 1 ã€‚



**æç¤ºï¼š**

  * `3 <= nums.length <= 10^5`
  * `0 <= nums[i] <= 1`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 995 | [K è¿ç»­ä½çš„æœ€å°ç¿»è½¬æ¬¡æ•°](https://leetcode.com/problems/minimum-number-of-k-consecutive-bit-flips) |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`é˜Ÿåˆ—`](/tag/queue.md) [`æ•°ç»„`](/tag/array.md) `2+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
