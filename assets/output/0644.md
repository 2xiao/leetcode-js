---
title: 644. å­æ•°ç»„æœ€å¤§å¹³å‡æ•° II ğŸ”’
description: LeetCode,644. å­æ•°ç»„æœ€å¤§å¹³å‡æ•° II ğŸ”’,å­æ•°ç»„æœ€å¤§å¹³å‡æ•° II,Maximum Average Subarray II,è§£é¢˜æ€è·¯,æ•°ç»„,äºŒåˆ†æŸ¥æ‰¾,å‰ç¼€å’Œ
keywords:
  - LeetCode
  - 644. å­æ•°ç»„æœ€å¤§å¹³å‡æ•° II ğŸ”’
  - å­æ•°ç»„æœ€å¤§å¹³å‡æ•° II
  - Maximum Average Subarray II
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
  - å‰ç¼€å’Œ
---

# 644. å­æ•°ç»„æœ€å¤§å¹³å‡æ•° II ğŸ”’

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-average-subarray-ii) [`LeetCode`](https://leetcode.com/problems/maximum-average-subarray-ii)

## é¢˜ç›®

You are given an integer array `nums` consisting of `n` elements, and an
integer `k`.

Find a contiguous subarray whose **length is greater than or equal to** `k`
that has the maximum average value and return _this value_. Any answer with a
calculation error less than `10-5` will be accepted.



**Example 1:**

> Input: nums = [1,12,-5,-6,50,3], k = 4
> 
> Output: 12.75000
> 
> Explanation: - When the length is 4, averages are [0.5, 12.75, 10.5] and the maximum average is 12.75
> - When the length is 5, averages are [10.4, 10.8] and the maximum average is 10.8
> - When the length is 6, averages are [9.16667] and the maximum average is 9.16667
> 
> The maximum average is when we choose a subarray of length 4 (i.e., the sub array [12, -5, -6, 50]) which has the max average 12.75, so we return 12.75
> 
> Note that we do not consider the subarrays of length < 4.

**Example 2:**

> Input: nums = [5], k = 1
> 
> Output: 5.00000

**Constraints:**

  * `n == nums.length`
  * `1 <= k <= n <= 10^4`
  * `-10^4 <= nums[i] <= 10^4`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªåŒ…å« `n` ä¸ªæ•´æ•°çš„æ•°ç»„ `nums` ï¼Œå’Œä¸€ä¸ªæ•´æ•° `k` ã€‚

è¯·ä½ æ‰¾å‡º**é•¿åº¦å¤§äºç­‰äº** `k` ä¸”å«æœ€å¤§å¹³å‡å€¼çš„è¿ç»­å­æ•°ç»„ã€‚å¹¶è¾“å‡ºè¿™ä¸ªæœ€å¤§å¹³å‡å€¼ã€‚ä»»ä½•è®¡ç®—è¯¯å·®å°äº `10-5` çš„ç»“æœéƒ½å°†è¢«è§†ä¸ºæ­£ç¡®ç­”æ¡ˆã€‚

**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,12,-5,-6,50,3], k = 4
> 
> **è¾“å‡ºï¼š** 12.75000
> 
> **è§£é‡Šï¼š** - å½“é•¿åº¦ä¸º 4 çš„æ—¶å€™ï¼Œè¿ç»­å­æ•°ç»„å¹³å‡å€¼åˆ†åˆ«ä¸º [0.5, 12.75, 10.5] ï¼Œå…¶ä¸­æœ€å¤§å¹³å‡å€¼æ˜¯ 12.75 ã€‚
> - å½“é•¿åº¦ä¸º 5 çš„æ—¶å€™ï¼Œè¿ç»­å­æ•°ç»„å¹³å‡å€¼åˆ†åˆ«ä¸º [10.4, 10.8] ï¼Œå…¶ä¸­æœ€å¤§å¹³å‡å€¼æ˜¯ 10.8 ã€‚
> - å½“é•¿åº¦ä¸º 6 çš„æ—¶å€™ï¼Œè¿ç»­å­æ•°ç»„å¹³å‡å€¼åˆ†åˆ«ä¸º [9.16667] ï¼Œå…¶ä¸­æœ€å¤§å¹³å‡å€¼æ˜¯ 9.16667 ã€‚
> 
> å½“å–é•¿åº¦ä¸º 4 çš„å­æ•°ç»„ï¼ˆå³ï¼Œå­æ•°ç»„ [12, -5, -6, 50]ï¼‰çš„æ—¶å€™ï¼Œå¯ä»¥å¾—åˆ°æœ€å¤§çš„è¿ç»­å­æ•°ç»„å¹³å‡å€¼ 12.75 ï¼Œæ‰€ä»¥è¿”å› 12.75 ã€‚
> 
> æ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œæ— éœ€è€ƒè™‘é•¿åº¦å°äº 4 çš„å­æ•°ç»„ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [5], k = 1
> 
> **è¾“å‡ºï¼š** 5.00000
> 
> 

**æç¤ºï¼š**

  * `n == nums.length`
  * `1 <= k <= n <= 10^4`
  * `-10^4 <= nums[i] <= 10^4`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 643 | [å­æ•°ç»„æœ€å¤§å¹³å‡æ•° I](https://leetcode.com/problems/maximum-average-subarray-i) | [[âœ“]](/problem/0643.md) |  [`æ•°ç»„`](/tag/array.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#15bd66>Easy</font> |