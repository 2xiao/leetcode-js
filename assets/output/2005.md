---
title: 2005. æ–æ³¢é‚£å¥‘æ ‘çš„ç§»é™¤å­æ ‘æ¸¸æˆ ğŸ”’
description: LeetCode,2005. æ–æ³¢é‚£å¥‘æ ‘çš„ç§»é™¤å­æ ‘æ¸¸æˆ ğŸ”’,æ–æ³¢é‚£å¥‘æ ‘çš„ç§»é™¤å­æ ‘æ¸¸æˆ,Subtree Removal Game with Fibonacci Tree,è§£é¢˜æ€è·¯,æ ‘,æ•°å­¦,åŠ¨æ€è§„åˆ’,äºŒå‰æ ‘,åšå¼ˆ
keywords:
  - LeetCode
  - 2005. æ–æ³¢é‚£å¥‘æ ‘çš„ç§»é™¤å­æ ‘æ¸¸æˆ ğŸ”’
  - æ–æ³¢é‚£å¥‘æ ‘çš„ç§»é™¤å­æ ‘æ¸¸æˆ
  - Subtree Removal Game with Fibonacci Tree
  - è§£é¢˜æ€è·¯
  - æ ‘
  - æ•°å­¦
  - åŠ¨æ€è§„åˆ’
  - äºŒå‰æ ‘
  - åšå¼ˆ
---

# 2005. æ–æ³¢é‚£å¥‘æ ‘çš„ç§»é™¤å­æ ‘æ¸¸æˆ ğŸ”’

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/tag/tree.md) [`æ•°å­¦`](/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md) [`åšå¼ˆ`](/tag/game-theory.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/subtree-removal-game-with-fibonacci-tree) [`LeetCode`](https://leetcode.com/problems/subtree-removal-game-with-fibonacci-tree)

## é¢˜ç›®

A **Fibonacci** tree is a binary tree created using the order function
`order(n)`:

  * `order(0)` is the empty tree.
  * `order(1)` is a binary tree with only **one node**.
  * `order(n)` is a binary tree that consists of a root node with the left subtree as `order(n - 2)` and the right subtree as `order(n - 1)`.

Alice and Bob are playing a game with a **Fibonacci** tree with Alice staring
first. On each turn, a player selects a node and removes that node **and** its
subtree. The player that is forced to delete `root` loses.

Given the integer `n`, return `true` if Alice wins the game or `false` if Bob
wins, assuming both players play optimally.

A subtree of a binary tree `tree` is a tree that consists of a node in `tree`
and all of this node's descendants. The tree `tree` could also be considered
as a subtree of itself.



**Example 1:**  
![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2005.Subtree%20Removal%20Game%20with%20Fibonacci%20Tree/images/image-20210914173520-3.png)

> Input: n = 3
> 
> Output: true
> 
> Explanation:
> 
> Alice takes the node 1 in the right subtree.
> 
> Bob takes either the 1 in the left subtree or the 2 in the right subtree.
> 
> Alice takes whichever node Bob doesn't take.
> 
> Bob is forced to take the root node 3, so Bob will lose.
> 
> Return true because Alice wins.

**Example 2:**  
![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2005.Subtree%20Removal%20Game%20with%20Fibonacci%20Tree/images/image-20210914173634-4.png)

> Input: n = 1
> 
> Output: false
> 
> Explanation:
> 
> Alice is forced to take the root node 1, so Alice will lose.
> 
> Return false because Alice loses.

**Example 3:**  
![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2005.Subtree%20Removal%20Game%20with%20Fibonacci%20Tree/images/image-20210914173425-1.png)

> Input: n = 2
> 
> Output: true
> 
> Explanation:
> 
> Alice takes the node 1.
> 
> Bob is forced to take the root node 2, so Bob will lose.
> 
> Return true because Alice wins.

**Constraints:**

  * `1 <= n <= 100`


## é¢˜ç›®å¤§æ„

**æ–æ³¢é‚£å¥‘** æ ‘æ˜¯ä¸€ç§æŒ‰è¿™ç§è§„åˆ™å‡½æ•° `order(n)` åˆ›å»ºçš„äºŒå‰æ ‘ï¼š

  * `order(0)` æ˜¯ç©ºæ ‘ã€‚
  * `order(1)` æ˜¯ä¸€æ£µ**åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹** çš„äºŒå‰æ ‘ã€‚
  * `order(n)` æ˜¯ä¸€æ£µæ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸º `order(n - 2)` ã€å³å­æ ‘ä¸º `order(n - 1)` çš„äºŒå‰æ ‘ã€‚

Alice å’Œ Bob åœ¨ç©ä¸€ç§å…³äº**æ–æ³¢é‚£å¥‘** æ ‘çš„æ¸¸æˆï¼Œç”± Alice å…ˆæ‰‹ã€‚åœ¨æ¯ä¸ªå›åˆä¸­ï¼Œæ¯ä¸ªç©å®¶é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åç§»é™¤è¯¥èŠ‚ç‚¹**åŠ**
å…¶å­æ ‘ã€‚åªèƒ½åˆ é™¤æ ¹èŠ‚ç‚¹ `root` çš„ç©å®¶è¾“æ‰è¿™åœºæ¸¸æˆã€‚

ç»™å®šä¸€ä¸ªæ•´æ•° `n`ï¼Œå‡å®šä¸¤åç©å®¶éƒ½æŒ‰æœ€ä¼˜ç­–ç•¥è¿›è¡Œæ¸¸æˆï¼Œè‹¥ Alice èµ¢å¾—è¿™åœºæ¸¸æˆï¼Œè¿”å› `true` ã€‚è‹¥ Bob èµ¢å¾—è¿™åœºæ¸¸æˆï¼Œè¿”å› `false`
ã€‚

ä¸€æ£µäºŒå‰æ ‘çš„å­æ ‘ `tree` æ˜¯ç”± `tree` ä¸­æŸä¸ªèŠ‚ç‚¹åŠå…¶æ‰€æœ‰åä»£èŠ‚ç‚¹ç»„æˆçš„æ ‘ã€‚æ ‘ `tree` ä¹Ÿå¯å½“ä½œè‡ªèº«çš„å­æ ‘ã€‚



**ç¤ºä¾‹ 1:**  
![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2005.Subtree%20Removal%20Game%20with%20Fibonacci%20Tree/images/image-20210914173520-3.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** n = 3
> 
> **è¾“å‡º:** true
> 
> **è§£é‡Š:**
> 
> Alice ç§»é™¤å³å­æ ‘ä¸­çš„èŠ‚ç‚¹ 1ã€‚
> 
> Bob è¦ä¹ˆç§»é™¤å·¦å­æ ‘ä¸­çš„ 1ï¼Œè¦ä¹ˆç§»é™¤å³å­æ ‘ä¸­çš„ 2ã€‚
> 
> Alice å¯ä»¥ç§»é™¤ Bob æœªç§»é™¤çš„ä»»æ„èŠ‚ç‚¹ã€‚
> 
> Bob åªèƒ½åˆ é™¤æ ¹èŠ‚ç‚¹ 3ï¼Œæ‰€ä»¥ Bob è¾“äº†ã€‚
> 
> è¿”å› trueï¼Œå› ä¸º Alice èµ¢äº†ã€‚
> 
> 

**ç¤ºä¾‹ 2:**  
![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2005.Subtree%20Removal%20Game%20with%20Fibonacci%20Tree/images/image-20210914173634-4.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** n = 1
> 
> **è¾“å‡º:** false
> 
> **è§£é‡Š:**
> 
> Alice åªèƒ½ç§»é™¤æ ¹èŠ‚ç‚¹ 1, æ‰€ä»¥ Alice è¾“äº†ã€‚
> 
> è¿”å› falseï¼Œå› ä¸º Alice è¾“äº†ã€‚
> 
> 

**ç¤ºä¾‹ 3:**  
![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2005.Subtree%20Removal%20Game%20with%20Fibonacci%20Tree/images/image-20210914173425-1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** n = 2
> 
> **è¾“å‡º:** true
> 
> **è§£é‡Š:**
> 
> Alice åˆ é™¤èŠ‚ç‚¹ 1.
> 
> Bob åªèƒ½åˆ é™¤æ ¹èŠ‚ç‚¹ 2ï¼Œæ‰€ä»¥ Bob è¾“äº†ã€‚
> 
> è¿”å› trueï¼Œå› ä¸º Alice èµ¢äº†ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= n <= 100`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1908 | [Nim æ¸¸æˆ II ğŸ”’](https://leetcode.com/problems/game-of-nim) |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`è„‘ç­‹æ€¥è½¬å¼¯`](/tag/brainteaser.md) [`æ•°ç»„`](/tag/array.md) `3+` | <font color=#ffb800>Medium</font> |