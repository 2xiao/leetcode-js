---
title: 2612. æœ€å°‘ç¿»è½¬æ“ä½œæ•°
description: LeetCode 2612. æœ€å°‘ç¿»è½¬æ“ä½œæ•°é¢˜è§£ï¼ŒMinimum Reverse Operationsï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2612. æœ€å°‘ç¿»è½¬æ“ä½œæ•°
  - æœ€å°‘ç¿»è½¬æ“ä½œæ•°
  - Minimum Reverse Operations
  - è§£é¢˜æ€è·¯
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - æ•°ç»„
  - æœ‰åºé›†åˆ
---

# 2612. æœ€å°‘ç¿»è½¬æ“ä½œæ•°

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) [`æœ‰åºé›†åˆ`](/tag/ordered-set.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minimum-reverse-operations) [`LeetCode`](https://leetcode.com/problems/minimum-reverse-operations)

## é¢˜ç›®

You are given an integer `n` and an integer `p` representing an array `arr` of
length `n` where all elements are set to 0's, except position `p` which is set
to 1. You are also given an integer array `banned` containing restricted
positions. Perform the following operation on `arr`:

  * Reverse a **subarray** with size `k` if the single 1 is not set to a position in `banned`.

Return an integer array `answer` with `n` results where the `ith` result is __
the **minimum** number of operations needed to bring the single 1 to position
`i` in `arr`, or -1 if it is impossible.



**Example 1:**

**Input:** n = 4, p = 0, banned = [1,2], k = 4

**Output:** [0,-1,-1,1]

**Explanation:**

  * Initially 1 is placed at position 0 so the number of operations we need for position 0 is 0.
  * We can never place 1 on the banned positions, so the answer for positions 1 and 2 is -1.
  * Perform the operation of size 4 to reverse the whole array.
  * After a single operation 1 is at position 3 so the answer for position 3 is 1.

**Example 2:**

**Input:** n = 5, p = 0, banned = [2,4], k = 3

**Output:** [0,-1,-1,-1,-1]

**Explanation:**

  * Initially 1 is placed at position 0 so the number of operations we need for position 0 is 0.
  * We cannot perform the operation on the subarray positions `[0, 2]` because position 2 is in banned.
  * Because 1 cannot be set at position 2, it is impossible to set 1 at other positions in more operations.

**Example 3:**

**Input:** n = 4, p = 2, banned = [0,1,3], k = 1

**Output:** [-1,-1,0,-1]

**Explanation:**

Perform operations of size 1 and 1 never changes its position.



**Constraints:**

  * `1 <= n <= 10^5`
  * `0 <= p <= n - 1`
  * `0 <= banned.length <= n - 1`
  * `0 <= banned[i] <= n - 1`
  * `1 <= k <= n `
  * `banned[i] != p`
  * all values in `banned` are **unique**  


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` å’Œä¸€ä¸ªåœ¨èŒƒå›´ `[0, n - 1]` ä»¥å†…çš„æ•´æ•° `p` ï¼Œå®ƒä»¬è¡¨ç¤ºä¸€ä¸ªé•¿åº¦ä¸º `n` ä¸”ä¸‹æ ‡ä» **0**  å¼€å§‹çš„æ•°ç»„
`arr` ï¼Œæ•°ç»„ä¸­é™¤äº†ä¸‹æ ‡ä¸º `p` å¤„æ˜¯ `1` ä»¥å¤–ï¼Œå…¶ä»–æ‰€æœ‰æ•°éƒ½æ˜¯ `0` ã€‚

åŒæ—¶ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `banned` ï¼Œå®ƒåŒ…å«æ•°ç»„ä¸­çš„ä¸€äº›ä½ç½®ã€‚`banned` ä¸­ç¬¬ **i**  ä¸ªä½ç½®è¡¨ç¤º `arr[banned[i]] = 0`
ï¼Œé¢˜ç›®ä¿è¯ `banned[i] != p` ã€‚

ä½ å¯ä»¥å¯¹ `arr` è¿›è¡Œ **è‹¥å¹²æ¬¡**  æ“ä½œã€‚ä¸€æ¬¡æ“ä½œä¸­ï¼Œä½ é€‰æ‹©å¤§å°ä¸º `k` çš„ä¸€ä¸ª **å­æ•°ç»„**  ï¼Œå¹¶å°†å®ƒ **ç¿»è½¬**
ã€‚åœ¨ä»»ä½•ä¸€æ¬¡ç¿»è½¬æ“ä½œåï¼Œä½ éƒ½éœ€è¦ç¡®ä¿ `arr` ä¸­å”¯ä¸€çš„ `1` ä¸ä¼šåˆ°è¾¾ä»»ä½• `banned` ä¸­çš„ä½ç½®ã€‚æ¢å¥è¯è¯´ï¼Œ`arr[banned[i]]`
å§‹ç»ˆ **ä¿æŒ**  `0` ã€‚

è¯·ä½ è¿”å›ä¸€ä¸ªæ•°ç»„ `ans` ï¼Œå¯¹äº _ _`[0, n - 1]` ä¹‹é—´çš„ä»»æ„ä¸‹æ ‡ `i` ï¼Œ`ans[i]` æ˜¯å°† `1` æ”¾åˆ°ä½ç½® `i` å¤„çš„
**æœ€å°‘**  ç¿»è½¬æ“ä½œæ¬¡æ•°ï¼Œå¦‚æœæ— æ³•æ”¾åˆ°ä½ç½® `i` å¤„ï¼Œæ­¤æ•°ä¸º `-1` ã€‚

  * **å­æ•°ç»„**  æŒ‡çš„æ˜¯ä¸€ä¸ªæ•°ç»„é‡Œä¸€æ®µè¿ç»­ **éç©º**  çš„å…ƒç´ åºåˆ—ã€‚
  * å¯¹äºæ‰€æœ‰çš„ `i` ï¼Œ`ans[i]` ç›¸äº’ä¹‹é—´ç‹¬ç«‹è®¡ç®—ã€‚
  * å°†ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´  **ç¿»è½¬** æŒ‡çš„æ˜¯å°†æ•°ç»„ä¸­çš„å€¼å˜æˆ **ç›¸åé¡ºåº**  ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 4, p = 0, banned = [1,2], k = 4
> 
> **è¾“å‡ºï¼š**[0,-1,-1,1]
> 
> **è§£é‡Šï¼š**k = 4ï¼Œæ‰€ä»¥åªæœ‰ä¸€ç§å¯è¡Œçš„ç¿»è½¬æ“ä½œï¼Œå°±æ˜¯å°†æ•´ä¸ªæ•°ç»„ç¿»è½¬ã€‚ä¸€å¼€å§‹ 1**** åœ¨ä½ç½® 0 å¤„ï¼Œæ‰€ä»¥å°†å®ƒç¿»è½¬åˆ°ä½ç½® 0 å¤„éœ€è¦çš„æ“ä½œæ•°ä¸º 0 ã€‚
> 
> æˆ‘ä»¬ä¸èƒ½å°† 1 ç¿»è½¬åˆ° banned ä¸­çš„ä½ç½®ï¼Œæ‰€ä»¥ä½ç½® 1 å’Œ 2 å¤„çš„ç­”æ¡ˆéƒ½æ˜¯ -1 ã€‚
> 
> é€šè¿‡ä¸€æ¬¡ç¿»è½¬æ“ä½œï¼Œå¯ä»¥å°† 1 æ”¾åˆ°ä½ç½® 3 å¤„ï¼Œæ‰€ä»¥ä½ç½® 3 çš„ç­”æ¡ˆæ˜¯ 1 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 5, p = 0, banned = [2,4], k = 3
> 
> **è¾“å‡ºï¼š**[0,-1,-1,-1,-1]
> 
> **è§£é‡Šï¼š** è¿™ä¸ªä¾‹å­ä¸­ 1 ä¸€å¼€å§‹åœ¨ä½ç½® 0 å¤„ï¼Œæ‰€ä»¥æ­¤ä¸‹æ ‡çš„ç­”æ¡ˆä¸º 0 ã€‚
> 
> ç¿»è½¬çš„å­æ•°ç»„é•¿åº¦ä¸º k = 3 ï¼Œ1 æ­¤æ—¶åœ¨ä½ç½® 0 å¤„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç¿»è½¬å­æ•°ç»„ [0, 2]ï¼Œä½†ç¿»è½¬åçš„ä¸‹æ ‡ 2 åœ¨ banned ä¸­ï¼Œæ‰€ä»¥ä¸èƒ½æ‰§è¡Œæ­¤æ“ä½œã€‚
> 
> ç”±äº 1 æ²¡æ³•ç¦»å¼€ä½ç½® 0 ï¼Œæ‰€ä»¥å…¶ä»–ä½ç½®çš„ç­”æ¡ˆéƒ½æ˜¯ -1 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 4, p = 2, banned = [0,1,3], k = 1
> 
> **è¾“å‡ºï¼š**[-1,-1,0,-1]
> 
> **è§£é‡Šï¼š** è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åªèƒ½å¯¹é•¿åº¦ä¸º 1 çš„å­æ•°ç»„æ‰§è¡Œç¿»è½¬æ“ä½œï¼Œæ‰€ä»¥ 1 æ— æ³•ç¦»å¼€åˆå§‹ä½ç½®ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= n <= 10^5`
  * `0 <= p <= n - 1`
  * `0 <= banned.length <= n - 1`
  * `0 <= banned[i] <= n - 1`
  * `1 <= k <= n `
  * `banned[i] != p`
  * `banned` ä¸­çš„å€¼ **äº’ä¸ç›¸åŒ**  ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```