# [2090. åŠå¾„ä¸º k çš„å­æ•°ç»„å¹³å‡å€¼](https://leetcode.com/problems/k-radius-subarray-averages)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`æ»‘åŠ¨çª—å£`](/leetcode/outline/tag/sliding-window.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/k-radius-subarray-averages)

## é¢˜ç›®

You are given a **0-indexed** array `nums` of `n` integers, and an integer
`k`.

The **k-radius average** for a subarray of `nums` **centered** at some index
`i` with the **radius** `k` is the average of **all** elements in `nums`
between the indices `i - k` and `i + k` (**inclusive**). If there are less
than `k` elements before **or** after the index `i`, then the **k-radius
average** is `-1`.

Build and return _an array_`avgs` _of length_`n` _where_`avgs[i]`_is
the**k-radius average** for the subarray centered at index _`i`.

The **average** of `x` elements is the sum of the `x` elements divided by `x`,
using **integer division**. The integer division truncates toward zero, which
means losing its fractional part.

  * For example, the average of four elements `2`, `3`, `1`, and `5` is `(2 + 3 + 1 + 5) / 4 = 11 / 4 = 2.75`, which truncates to `2`.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/11/07/eg1.png)

> Input: nums = [7,4,3,9,1,8,5,2,6], k = 3
> 
> Output: [-1,-1,-1,5,4,4,-1,-1,-1]
> 
> Explanation:
> - avg[0], avg[1], and avg[2] are -1 because there are less than k elements **before** each index.
> - The sum of the subarray centered at index 3 with radius 3 is: 7 + 4 + 3 + 9 + 1 + 8 + 5 = 37.
> 
>   Using **integer division** , avg[3] = 37 / 7 = 5.
> - For the subarray centered at index 4, avg[4] = (4 + 3 + 9 + 1 + 8 + 5 + 2) / 7 = 4.
> - For the subarray centered at index 5, avg[5] = (3 + 9 + 1 + 8 + 5 + 2 + 6) / 7 = 4.
> - avg[6], avg[7], and avg[8] are -1 because there are less than k elements **after** each index.

**Example 2:**

> Input: nums = [100000], k = 0
> 
> Output: [100000]
> 
> Explanation:
> - The sum of the subarray centered at index 0 with radius 0 is: 100000.
> 
>   avg[0] = 100000 / 1 = 100000.

**Example 3:**

> Input: nums = [8], k = 100000
> 
> Output: [-1]
> 
> Explanation: 
> - avg[0] is -1 because there are less than k elements before and after index 0.

**Constraints:**

  * `n == nums.length`
  * `1 <= n <= 10^5`
  * `0 <= nums[i], k <= 10^5`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„æ•°ç»„ `nums` ï¼Œæ•°ç»„ä¸­æœ‰ `n` ä¸ªæ•´æ•°ï¼Œå¦ç»™ä½ ä¸€ä¸ªæ•´æ•° `k` ã€‚

**åŠå¾„ä¸º k çš„å­æ•°ç»„å¹³å‡å€¼** æ˜¯æŒ‡ï¼š`nums` ä¸­ä¸€ä¸ªä»¥ä¸‹æ ‡ `i` ä¸º **ä¸­å¿ƒ** ä¸” **åŠå¾„** ä¸º `k`
çš„å­æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„å¹³å‡å€¼ï¼Œå³ä¸‹æ ‡åœ¨ `i - k` å’Œ `i + k` èŒƒå›´ï¼ˆ**å«** `i - k` å’Œ `i +
k`ï¼‰å†…æ‰€æœ‰å…ƒç´ çš„å¹³å‡å€¼ã€‚å¦‚æœåœ¨ä¸‹æ ‡ `i` å‰æˆ–åä¸è¶³ `k` ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆ**åŠå¾„ä¸º k çš„å­æ•°ç»„å¹³å‡å€¼** æ˜¯ `-1` ã€‚

æ„å»ºå¹¶è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ __`avgs` __ ï¼Œå…¶ä¸­ __`avgs[i]`__ æ˜¯ä»¥ä¸‹æ ‡ `i` ä¸ºä¸­å¿ƒçš„å­æ•°ç»„çš„**åŠå¾„ä¸º k
çš„å­æ•°ç»„å¹³å‡å€¼** ã€‚

`x` ä¸ªå…ƒç´ çš„ **å¹³å‡å€¼** æ˜¯ `x` ä¸ªå…ƒç´ ç›¸åŠ ä¹‹å’Œé™¤ä»¥ `x` ï¼Œæ­¤æ—¶ä½¿ç”¨æˆªæ–­å¼ **æ•´æ•°é™¤æ³•** ï¼Œå³éœ€è¦å»æ‰ç»“æœçš„å°æ•°éƒ¨åˆ†ã€‚

  * ä¾‹å¦‚ï¼Œå››ä¸ªå…ƒç´  `2`ã€`3`ã€`1` å’Œ `5` çš„å¹³å‡å€¼æ˜¯ `(2 + 3 + 1 + 5) / 4 = 11 / 4 = 2.75`ï¼Œæˆªæ–­åå¾—åˆ° `2` ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/11/07/eg1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [7,4,3,9,1,8,5,2,6], k = 3
> 
> **è¾“å‡ºï¼š**[-1,-1,-1,5,4,4,-1,-1,-1]
> 
> **è§£é‡Šï¼š**
> - avg[0]ã€avg[1] å’Œ avg[2] æ˜¯ -1 ï¼Œå› ä¸ºåœ¨è¿™å‡ ä¸ªä¸‹æ ‡å‰çš„å…ƒç´ æ•°é‡éƒ½ä¸è¶³ k ä¸ªã€‚
> - ä¸­å¿ƒä¸ºä¸‹æ ‡ 3 ä¸”åŠå¾„ä¸º 3 çš„å­æ•°ç»„çš„å…ƒç´ æ€»å’Œæ˜¯ï¼š7 + 4 + 3 + 9 + 1 + 8 + 5 = 37 ã€‚
> 
>   ä½¿ç”¨æˆªæ–­å¼ **æ•´æ•°é™¤æ³•** ï¼Œavg[3] = 37 / 7 = 5 ã€‚
> - ä¸­å¿ƒä¸ºä¸‹æ ‡ 4 çš„å­æ•°ç»„ï¼Œavg[4] = (4 + 3 + 9 + 1 + 8 + 5 + 2) / 7 = 4 ã€‚
> - ä¸­å¿ƒä¸ºä¸‹æ ‡ 5 çš„å­æ•°ç»„ï¼Œavg[5] = (3 + 9 + 1 + 8 + 5 + 2 + 6) / 7 = 4 ã€‚
> - avg[6]ã€avg[7] å’Œ avg[8] æ˜¯ -1 ï¼Œå› ä¸ºåœ¨è¿™å‡ ä¸ªä¸‹æ ‡åçš„å…ƒç´ æ•°é‡éƒ½ä¸è¶³ k ä¸ªã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [100000], k = 0
> 
> **è¾“å‡ºï¼š**[100000]
> 
> **è§£é‡Šï¼š**
> - ä¸­å¿ƒä¸ºä¸‹æ ‡ 0 ä¸”åŠå¾„ 0 çš„å­æ•°ç»„çš„å…ƒç´ æ€»å’Œæ˜¯ï¼š100000 ã€‚
> 
>   avg[0] = 100000 / 1 = 100000 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [8], k = 100000
> 
> **è¾“å‡ºï¼š**[-1]
> 
> **è§£é‡Šï¼š**
> - avg[0] æ˜¯ -1 ï¼Œå› ä¸ºåœ¨ä¸‹æ ‡ 0 å‰åçš„å…ƒç´ æ•°é‡å‡ä¸è¶³ k ã€‚
> 
> 



**æç¤ºï¼š**

  * `n == nums.length`
  * `1 <= n <= 10^5`
  * `0 <= nums[i], k <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 209 | [é•¿åº¦æœ€å°çš„å­æ•°ç»„](https://leetcode.com/problems/minimum-size-subarray-sum) | [[âœ“]](https://2xiao.github.io/leetcode-js/leetcode/problem/0209) |  [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/leetcode/outline/tag/binary-search.md) [`å‰ç¼€å’Œ`](/leetcode/outline/tag/prefix-sum.md) `1+` | <font color=#ffb800>Medium</font> |
| 346 | [æ•°æ®æµä¸­çš„ç§»åŠ¨å¹³å‡å€¼](https://leetcode.com/problems/moving-average-from-data-stream) | [[âœ“]](https://2xiao.github.io/leetcode-js/leetcode/problem/0346) |  [`è®¾è®¡`](/leetcode/outline/tag/design.md) [`é˜Ÿåˆ—`](/leetcode/outline/tag/queue.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) `1+` | <font color=#15bd66>Easy</font> |
| 560 | [å’Œä¸º K çš„å­æ•°ç»„](https://leetcode.com/problems/subarray-sum-equals-k) | [[âœ“]](https://2xiao.github.io/leetcode-js/leetcode/problem/0560) |  [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`å‰ç¼€å’Œ`](/leetcode/outline/tag/prefix-sum.md) | <font color=#ffb800>Medium</font> |
| 643 | [å­æ•°ç»„æœ€å¤§å¹³å‡æ•° I](https://leetcode.com/problems/maximum-average-subarray-i) |  |  [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`æ»‘åŠ¨çª—å£`](/leetcode/outline/tag/sliding-window.md) | <font color=#15bd66>Easy</font> |
| 1343 | [å¤§å°ä¸º K ä¸”å¹³å‡å€¼å¤§äºç­‰äºé˜ˆå€¼çš„å­æ•°ç»„æ•°ç›®](https://leetcode.com/problems/number-of-sub-arrays-of-size-k-and-average-greater-than-or-equal-to-threshold) |  |  [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`æ»‘åŠ¨çª—å£`](/leetcode/outline/tag/sliding-window.md) | <font color=#ffb800>Medium</font> |
| 3030 | [æ‰¾å‡ºç½‘æ ¼çš„åŒºåŸŸå¹³å‡å¼ºåº¦](https://leetcode.com/problems/find-the-grid-of-region-average) |  |  [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`çŸ©é˜µ`](/leetcode/outline/tag/matrix.md) | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
