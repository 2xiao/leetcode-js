---
title: 276. æ …æ æ¶‚è‰² ğŸ”’
description: LeetCode,276. æ …æ æ¶‚è‰² ğŸ”’,æ …æ æ¶‚è‰²,Paint Fence,è§£é¢˜æ€è·¯,åŠ¨æ€è§„åˆ’
keywords:
  - LeetCode
  - 276. æ …æ æ¶‚è‰² ğŸ”’
  - æ …æ æ¶‚è‰²
  - Paint Fence
  - è§£é¢˜æ€è·¯
  - åŠ¨æ€è§„åˆ’
---

# 276. æ …æ æ¶‚è‰² ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/paint-fence) [`LeetCode`](https://leetcode.com/problems/paint-fence)

## é¢˜ç›®

You are painting a fence of `n` posts with `k` different colors. You must
paint the posts following these rules:

  * Every post must be painted **exactly one** color.
  * There **cannot** be three or more **consecutive** posts with the same color.

Given the two integers `n` and `k`, return _the**number of ways** you can
paint the fence_.



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0200-0299/0276.Paint%20Fence/images/paintfenceex1.png)

> Input: n = 3, k = 2
> 
> Output: 6
> 
> Explanation: All the possibilities are shown.
> 
> Note that painting all the posts red or all the posts green is invalid because there cannot be three posts in a row with the same color.

**Example 2:**

> Input: n = 1, k = 1
> 
> Output: 1

**Example 3:**

> Input: n = 7, k = 2
> 
> Output: 42

**Constraints:**

  * `1 <= n <= 50`
  * `1 <= k <= 10^5`
  * The testcases are generated such that the answer is in the range `[0, 231 - 1]` for the given `n` and `k`.


## é¢˜ç›®å¤§æ„

æœ‰ `k` ç§é¢œè‰²çš„æ¶‚æ–™å’Œä¸€ä¸ªåŒ…å« `n` ä¸ªæ …æ æŸ±çš„æ …æ ï¼Œè¯·ä½ æŒ‰ä¸‹è¿°è§„åˆ™ä¸ºæ …æ è®¾è®¡æ¶‚è‰²æ–¹æ¡ˆï¼š

  * æ¯ä¸ªæ …æ æŸ±å¯ä»¥ç”¨å…¶ä¸­ **ä¸€ç§** é¢œè‰²è¿›è¡Œä¸Šè‰²ã€‚
  * ç›¸é‚»çš„æ …æ æŸ± **æœ€å¤šè¿ç»­ä¸¤ä¸ª** é¢œè‰²ç›¸åŒã€‚

ç»™ä½ ä¸¤ä¸ªæ•´æ•° `k` å’Œ `n` ï¼Œè¿”å›æ‰€æœ‰æœ‰æ•ˆçš„æ¶‚è‰² **æ–¹æ¡ˆæ•°** ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0200-0299/0276.Paint%20Fence/images/paintfenceex1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3, k = 2
> 
> **è¾“å‡ºï¼š** 6
> 
> **è§£é‡Šï¼š** æ‰€æœ‰çš„å¯èƒ½æ¶‚è‰²æ–¹æ¡ˆå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚æ³¨æ„ï¼Œå…¨æ¶‚çº¢æˆ–è€…å…¨æ¶‚ç»¿çš„æ–¹æ¡ˆå±äºæ— æ•ˆæ–¹æ¡ˆï¼Œå› ä¸ºç›¸é‚»çš„æ …æ æŸ± **æœ€å¤šè¿ç»­ä¸¤ä¸ª** é¢œè‰²ç›¸åŒã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 1, k = 1
> 
> **è¾“å‡ºï¼š** 1
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 7, k = 2
> 
> **è¾“å‡ºï¼š** 42
> 
> 

**æç¤ºï¼š**

  * `1 <= n <= 50`
  * `1 <= k <= 10^5`
  * é¢˜ç›®æ•°æ®ä¿è¯ï¼šå¯¹äºè¾“å…¥çš„ `n` å’Œ `k` ï¼Œå…¶ç­”æ¡ˆåœ¨èŒƒå›´ `[0, 231 - 1]` å†…


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 198 | æ‰“å®¶åŠ«èˆ | [[âœ“]](/problem/0198.md) |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/house-robber) [ğŸ”—](https://leetcode.com/problems/house-robber) |
| 213 | æ‰“å®¶åŠ«èˆ II |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/house-robber-ii) [ğŸ”—](https://leetcode.com/problems/house-robber-ii) |
| 256 | ç²‰åˆ·æˆ¿å­ ğŸ”’ |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/paint-house) [ğŸ”—](https://leetcode.com/problems/paint-house) |
| 265 | ç²‰åˆ·æˆ¿å­ II ğŸ”’ |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/paint-house-ii) [ğŸ”—](https://leetcode.com/problems/paint-house-ii) |