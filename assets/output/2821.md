---
title: 2821. å»¶è¿Ÿæ¯ä¸ª Promise å¯¹è±¡çš„è§£æ ğŸ”’
description: LeetCode 2821. å»¶è¿Ÿæ¯ä¸ª Promise å¯¹è±¡çš„è§£æ ğŸ”’é¢˜è§£ï¼ŒDelay the Resolution of Each Promiseï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2821. å»¶è¿Ÿæ¯ä¸ª Promise å¯¹è±¡çš„è§£æ ğŸ”’
  - å»¶è¿Ÿæ¯ä¸ª Promise å¯¹è±¡çš„è§£æ
  - Delay the Resolution of Each Promise
  - è§£é¢˜æ€è·¯
---

# 2821. å»¶è¿Ÿæ¯ä¸ª Promise å¯¹è±¡çš„è§£æ ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/delay-the-resolution-of-each-promise) [`LeetCode`](https://leetcode.com/problems/delay-the-resolution-of-each-promise)

## é¢˜ç›®

Given an array `functions` and a number `ms`, return a new array of functions.

  * `functions` is an array of functions that return promises.
  * `ms` represents the delay duration in milliseconds. It determines the amount of time to wait before resolving or rejecting each promise in the new array.

Each function in the new array should return a promise that resolves or
rejects after an additional delay of `ms` milliseconds, preserving the order
of the original `functions` array.

The `delayAll` function should ensure that each promise from `functions` is
executed with a delay, forming the new array of functions returning delayed
promises.



**Example 1:**

> Input: 
> 
> functions = [
> 
>    () => new Promise((resolve) => setTimeout(resolve, 30))
> 
> ], 
> 
> ms = 50
> 
> Output: [80]
> 
> Explanation: The promise from the array would have resolved after 30 ms, but it was delayed by 50 ms, thus 30 ms + 50 ms = 80 ms.

**Example 2:**

> Input: 
> 
> functions = [
> 
> > 
> () => new Promise((resolve) => setTimeout(resolve, 50)),
> 
> > 
> () => new Promise((resolve) => setTimeout(resolve, 80))
> 
> ], 
> 
> ms = 70
> 
> Output: [120,150]
> 
> Explanation: The promises from the array would have resolved after 50 ms and 80 ms, but they were delayed by 70 ms, thus 50 ms + 70 ms = 120 ms and 80 ms + 70 ms = 150 ms.

**Example 3:**

> Input: 
> 
> functions = [
> 
> > 
> () => new Promise((resolve, reject) => setTimeout(reject, 20)), 
> 
> > 
> () => new Promise((resolve, reject) => setTimeout(reject, 100))
> 
> ], 
> 
> ms = 30
> 
> Output:[50,130]

**Constraints:**

  * `functions` is an array of functions that return promises
  * `10 <= ms <= 500`
  * `1 <= functions.length <= 10`


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªå‡½æ•°æ•°ç»„ `functions` å’Œä¸€ä¸ªæ•°å­— `ms`ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°æ•°ç»„ã€‚

  * `functions` æ˜¯ä¸€ä¸ªè¿”å› Promise å¯¹è±¡çš„å‡½æ•°æ•°ç»„ã€‚
  * `ms` è¡¨ç¤ºå»¶è¿Ÿçš„æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ã€‚å®ƒå†³å®šäº†åœ¨æ–°æ•°ç»„ä¸­çš„æ¯ä¸ªå‡½æ•°è¿”å›çš„ Promise åœ¨è§£æä¹‹å‰ç­‰å¾…çš„æ—¶é—´ã€‚

æ–°æ•°ç»„ä¸­çš„æ¯ä¸ªå‡½æ•°åº”è¯¥è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œåœ¨å»¶è¿Ÿäº† `ms` æ¯«ç§’åè§£æï¼Œä¿æŒåŸå§‹ `functions` æ•°ç»„ä¸­çš„é¡ºåºã€‚`delayAll`
å‡½æ•°åº”ç¡®ä¿ä» `functions` ä¸­çš„æ¯ä¸ª Promise éƒ½è¢«å»¶è¿Ÿæ‰§è¡Œï¼Œå½¢æˆè¿”å›å»¶è¿Ÿçš„ Promise çš„å‡½æ•°çš„æ–°æ•°ç»„ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> functions = [
> 
>    () => new Promise((resolve) => setTimeout(resolve, 30))
> 
> ], 
> 
> ms = 50
> 
> **è¾“å‡ºï¼š**[80]
> 
> **è§£é‡Šï¼š** æ•°ç»„ä¸­çš„ Promise åœ¨ 30 æ¯«ç§’åè§£æï¼Œä½†è¢«å»¶è¿Ÿäº† 50 æ¯«ç§’ï¼Œæ‰€ä»¥æ€»å…±å»¶è¿Ÿäº† 30 æ¯«ç§’ + 50 æ¯«ç§’ = 80 æ¯«ç§’ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> functions = [
> 
> > 
> () => new Promise((resolve) => setTimeout(resolve, 50)),
> 
> > 
> () => new Promise((resolve) => setTimeout(resolve, 80))
> 
> ], 
> 
> ms = 70
> 
> **è¾“å‡ºï¼š**[120,150]
> 
> **è§£é‡Šï¼š** æ•°ç»„ä¸­çš„ Promise åœ¨ 50 æ¯«ç§’å’Œ 80 æ¯«ç§’åè§£æï¼Œä½†å®ƒä»¬è¢«å»¶è¿Ÿäº† 70 æ¯«ç§’ï¼Œæ‰€ä»¥æ€»å…±å»¶è¿Ÿäº† 50 æ¯«ç§’ + 70 æ¯«ç§’ = 120 æ¯«ç§’ å’Œ 80 æ¯«ç§’ + 70 æ¯«ç§’ = 150 æ¯«ç§’ã€‚
> 
> 



**æç¤ºï¼š**

  * `functions` æ˜¯ä¸€ä¸ªè¿”å› Promise å¯¹è±¡çš„å‡½æ•°æ•°ç»„
  * `10 <= ms <= 500`
  * `1 <= functions.length <= 10`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```