---
title: 1409. æŸ¥è¯¢å¸¦é”®çš„æ’åˆ—
description: LeetCode 1409. æŸ¥è¯¢å¸¦é”®çš„æ’åˆ—é¢˜è§£ï¼ŒQueries on a Permutation With Keyï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1409. æŸ¥è¯¢å¸¦é”®çš„æ’åˆ—
  - æŸ¥è¯¢å¸¦é”®çš„æ’åˆ—
  - Queries on a Permutation With Key
  - è§£é¢˜æ€è·¯
  - æ ‘çŠ¶æ•°ç»„
  - æ•°ç»„
  - æ¨¡æ‹Ÿ
---

# 1409. æŸ¥è¯¢å¸¦é”®çš„æ’åˆ—

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘çŠ¶æ•°ç»„`](/tag/binary-indexed-tree.md) [`æ•°ç»„`](/tag/array.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/queries-on-a-permutation-with-key) [`LeetCode`](https://leetcode.com/problems/queries-on-a-permutation-with-key)

## é¢˜ç›®

Given the array `queries` of positive integers between `1` and `m`, you have
to process all `queries[i]` (from `i=0` to `i=queries.length-1`) according to
the following rules:

  * In the beginning, you have the permutation `P=[1,2,3,...,m]`.
  * For the current `i`, find the position of `queries[i]` in the permutation `P` (**indexing from 0**) and then move this at the beginning of the permutation `P`. Notice that the position of `queries[i]` in `P` is the result for `queries[i]`.

Return an array containing the result for the given `queries`.



**Example 1:**

> Input: queries = [3,1,2,1], m = 5
> 
> Output: [2,1,2,1] 
> 
> Explanation: The queries are processed as follow: 
> 
> For i=0: queries[i]=3, P=[1,2,3,4,5], position of 3 in P is **2** , then we move 3 to the beginning of P resulting in P=[3,1,2,4,5]. 
> 
> For i=1: queries[i]=1, P=[3,1,2,4,5], position of 1 in P is **1** , then we move 1 to the beginning of P resulting in P=[1,3,2,4,5]. 
> 
> For i=2: queries[i]=2, P=[1,3,2,4,5], position of 2 in P is **2** , then we move 2 to the beginning of P resulting in P=[2,1,3,4,5]. 
> 
> For i=3: queries[i]=1, P=[2,1,3,4,5], position of 1 in P is **1** , then we move 1 to the beginning of P resulting in P=[1,2,3,4,5]. 
> 
> Therefore, the array containing the result is [2,1,2,1].  

**Example 2:**

> Input: queries = [4,1,2,2], m = 4
> 
> Output: [3,1,2,0]

**Example 3:**

> Input: queries = [7,5,5,8,3], m = 8
> 
> Output: [6,5,0,7,5]

**Constraints:**

  * `1 <= m <= 10^3`
  * `1 <= queries.length <= m`
  * `1 <= queries[i] <= m`


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `queries` ï¼Œå…¶å–å€¼èŒƒå›´åœ¨ `1` åˆ° `m` ä¹‹é—´ã€‚ è¯·ä½ æ ¹æ®ä»¥ä¸‹è§„åˆ™æŒ‰é¡ºåºå¤„ç†æ‰€æœ‰ `queries[i]`ï¼ˆä» `i=0`
åˆ° `i=queries.length-1`ï¼‰ï¼š

  * é¦–å…ˆï¼Œä½ æœ‰ä¸€ä¸ªæ’åˆ— `P=[1,2,3,...,m]`ã€‚
  * å¯¹äºå½“å‰çš„ `i` ï¼Œæ‰¾åˆ° `queries[i]` åœ¨æ’åˆ— `P` ä¸­çš„ä½ç½®ï¼ˆ**ä» 0 å¼€å§‹ç´¢å¼•** ï¼‰ï¼Œç„¶åå°†å®ƒç§»åˆ°æ’åˆ— `P` çš„å¼€å¤´ï¼ˆå³ä¸‹æ ‡ä¸º 0 å¤„ï¼‰ã€‚æ³¨æ„ï¼Œ `queries[i]` çš„æŸ¥è¯¢ç»“æœæ˜¯ `queries[i]` åœ¨ `P` ä¸­ç§»åŠ¨å‰çš„ä½ç½®ã€‚

è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«ä»ç»™å®š  `queries` ä¸­æŸ¥è¯¢åˆ°çš„ç»“æœã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** queries = [3,1,2,1], m = 5
> 
> **è¾“å‡ºï¼š**[2,1,2,1] 
> 
> **è§£é‡Šï¼šå¤„ç†** queries çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š
> 
> å¯¹äº i=0: queries[i]=3, P=[1,2,3,4,5], 3 åœ¨ P ä¸­çš„ä½ç½®æ˜¯ **2** ï¼Œç„¶åæˆ‘ä»¬æŠŠ 3 ç§»åŠ¨åˆ° P çš„å¼€å¤´ï¼Œå¾—åˆ° P=[3,1,2,4,5] ã€‚
> 
> å¯¹äº i=1: queries[i]=1, P=[3,1,2,4,5], 1 åœ¨ P ä¸­çš„ä½ç½®æ˜¯ **1** ï¼Œç„¶åæˆ‘ä»¬æŠŠ 1 ç§»åŠ¨åˆ° P çš„å¼€å¤´ï¼Œå¾—åˆ° P=[1,3,2,4,5] ã€‚ 
> 
> å¯¹äº i=2: queries[i]=2, P=[1,3,2,4,5], 2 åœ¨ P ä¸­çš„ä½ç½®æ˜¯ **2** ï¼Œç„¶åæˆ‘ä»¬æŠŠ 2 ç§»åŠ¨åˆ° P çš„å¼€å¤´ï¼Œå¾—åˆ° P=[2,1,3,4,5] ã€‚
> 
> å¯¹äº i=3: queries[i]=1, P=[2,1,3,4,5], 1 åœ¨ P ä¸­çš„ä½ç½®æ˜¯ **1** ï¼Œç„¶åæˆ‘ä»¬æŠŠ 1 ç§»åŠ¨åˆ° P çš„å¼€å¤´ï¼Œå¾—åˆ° P=[1,2,3,4,5] ã€‚ 
> 
> å› æ­¤ï¼ŒåŒ…å«ç»“æœçš„æ•°ç»„ä¸º [2,1,2,1] ã€‚  
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** queries = [4,1,2,2], m = 4
> 
> **è¾“å‡ºï¼š**[3,1,2,0]
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** queries = [7,5,5,8,3], m = 8
> 
> **è¾“å‡ºï¼š**[6,5,0,7,5]
> 
> 



**æç¤ºï¼š**

  * `1 <= m <= 10^3`
  * `1 <= queries.length <= m`
  * `1 <= queries[i] <= m`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```