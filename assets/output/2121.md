---
title: 2121. ç›¸åŒå…ƒç´ çš„é—´éš”ä¹‹å’Œ
description: LeetCode,2121. ç›¸åŒå…ƒç´ çš„é—´éš”ä¹‹å’Œ,ç›¸åŒå…ƒç´ çš„é—´éš”ä¹‹å’Œ,Intervals Between Identical Elements,è§£é¢˜æ€è·¯,æ•°ç»„,å“ˆå¸Œè¡¨,å‰ç¼€å’Œ
keywords:
  - LeetCode
  - 2121. ç›¸åŒå…ƒç´ çš„é—´éš”ä¹‹å’Œ
  - ç›¸åŒå…ƒç´ çš„é—´éš”ä¹‹å’Œ
  - Intervals Between Identical Elements
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - å‰ç¼€å’Œ
---

# 2121. ç›¸åŒå…ƒç´ çš„é—´éš”ä¹‹å’Œ

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/intervals-between-identical-elements) [`LeetCode`](https://leetcode.com/problems/intervals-between-identical-elements)

## é¢˜ç›®

You are given a **0-indexed** array of `n` integers `arr`.

The **interval** between two elements in `arr` is defined as the **absolute
difference** between their indices. More formally, the **interval** between
`arr[i]` and `arr[j]` is `|i - j|`.

Return _an array_ `intervals` _of length_ `n` _where_ `intervals[i]` _is**the
sum of intervals** between _`arr[i]`_and each element in_`arr` _with the same
value as_`arr[i]`_._

**Note:** `|x|` is the absolute value of `x`.



**Example 1:**

> Input: arr = [2,1,3,1,2,3,3]
> 
> Output: [4,2,7,2,4,4,5]
> 
> Explanation:
> - Index 0: Another 2 is found at index 4. |0 - 4| = 4
> - Index 1: Another 1 is found at index 3. |1 - 3| = 2
> - Index 2: Two more 3s are found at indices 5 and 6. |2 - 5| + |2 - 6| = 7
> - Index 3: Another 1 is found at index 1. |3 - 1| = 2
> - Index 4: Another 2 is found at index 0. |4 - 0| = 4
> - Index 5: Two more 3s are found at indices 2 and 6. |5 - 2| + |5 - 6| = 4
> - Index 6: Two more 3s are found at indices 2 and 5. |6 - 2| + |6 - 5| = 5

**Example 2:**

> Input: arr = [10,5,10,10]
> 
> Output: [5,0,3,4]
> 
> Explanation:
> - Index 0: Two more 10s are found at indices 2 and 3. |0 - 2| + |0 - 3| = 5
> - Index 1: There is only one 5 in the array, so its sum of intervals to identical elements is 0.
> - Index 2: Two more 10s are found at indices 0 and 3. |2 - 0| + |2 - 3| = 3
> - Index 3: Two more 10s are found at indices 0 and 2. |3 - 0| + |3 - 2| = 4

**Constraints:**

  * `n == arr.length`
  * `1 <= n <= 10^5`
  * `1 <= arr[i] <= 10^5`



**Note:** This question is the same as [ 2615: Sum of
Distances.](https://leetcode.com/problems/sum-of-distances/description/)


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹ã€ç”± `n` ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ `arr` ã€‚

`arr` ä¸­ä¸¤ä¸ªå…ƒç´ çš„ **é—´éš”** å®šä¹‰ä¸ºå®ƒä»¬ä¸‹æ ‡ä¹‹é—´çš„ **ç»å¯¹å·®** ã€‚æ›´æ­£å¼åœ°ï¼Œ`arr[i]` å’Œ `arr[j]` ä¹‹é—´çš„é—´éš”æ˜¯ `|i -
j|` ã€‚

è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ `intervals` ï¼Œå…¶ä¸­ `intervals[i]` æ˜¯ __`arr[i]`__ å’Œ __`arr` __
ä¸­æ¯ä¸ªç›¸åŒå…ƒç´ ï¼ˆä¸ `arr[i]` çš„å€¼ç›¸åŒï¼‰çš„ **é—´éš”ä¹‹å’Œ** _ã€‚_

**æ³¨æ„ï¼š**`|x|` æ˜¯ `x` çš„ç»å¯¹å€¼ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** arr = [2,1,3,1,2,3,3]
> 
> **è¾“å‡ºï¼š**[4,2,7,2,4,4,5]
> 
> **è§£é‡Šï¼š**
> - ä¸‹æ ‡ 0 ï¼šå¦ä¸€ä¸ª 2 åœ¨ä¸‹æ ‡ 4 ï¼Œ|0 - 4| = 4
> - ä¸‹æ ‡ 1 ï¼šå¦ä¸€ä¸ª 1 åœ¨ä¸‹æ ‡ 3 ï¼Œ|1 - 3| = 2
> - ä¸‹æ ‡ 2 ï¼šå¦ä¸¤ä¸ª 3 åœ¨ä¸‹æ ‡ 5 å’Œ 6 ï¼Œ|2 - 5| + |2 - 6| = 7
> - ä¸‹æ ‡ 3 ï¼šå¦ä¸€ä¸ª 1 åœ¨ä¸‹æ ‡ 1 ï¼Œ|3 - 1| = 2
> - ä¸‹æ ‡ 4 ï¼šå¦ä¸€ä¸ª 2 åœ¨ä¸‹æ ‡ 0 ï¼Œ|4 - 0| = 4
> - ä¸‹æ ‡ 5 ï¼šå¦ä¸¤ä¸ª 3 åœ¨ä¸‹æ ‡ 2 å’Œ 6 ï¼Œ|5 - 2| + |5 - 6| = 4
> - ä¸‹æ ‡ 6 ï¼šå¦ä¸¤ä¸ª 3 åœ¨ä¸‹æ ‡ 2 å’Œ 5 ï¼Œ|6 - 2| + |6 - 5| = 5
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** arr = [10,5,10,10]
> 
> **è¾“å‡ºï¼š**[5,0,3,4]
> 
> **è§£é‡Šï¼š**
> - ä¸‹æ ‡ 0 ï¼šå¦ä¸¤ä¸ª 10 åœ¨ä¸‹æ ‡ 2 å’Œ 3 ï¼Œ|0 - 2| + |0 - 3| = 5
> - ä¸‹æ ‡ 1 ï¼šåªæœ‰è¿™ä¸€ä¸ª 5 åœ¨æ•°ç»„ä¸­ï¼Œæ‰€ä»¥åˆ°ç›¸åŒå…ƒç´ çš„é—´éš”ä¹‹å’Œæ˜¯ 0
> - ä¸‹æ ‡ 2 ï¼šå¦ä¸¤ä¸ª 10 åœ¨ä¸‹æ ‡ 0 å’Œ 3 ï¼Œ|2 - 0| + |2 - 3| = 3
> - ä¸‹æ ‡ 3 ï¼šå¦ä¸¤ä¸ª 10 åœ¨ä¸‹æ ‡ 0 å’Œ 2 ï¼Œ|3 - 0| + |3 - 2| = 4
> 
> 



**æç¤ºï¼š**

  * `n == arr.length`
  * `1 <= n <= 10^5`
  * `1 <= arr[i] <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 523 | è¿ç»­çš„å­æ•°ç»„å’Œ |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ•°å­¦`](/tag/math.md) `1+` | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/continuous-subarray-sum) [ğŸ”—](https://leetcode.com/problems/continuous-subarray-sum) |