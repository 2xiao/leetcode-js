# [3242. è®¾è®¡ç›¸é‚»å…ƒç´ æ±‚å’ŒæœåŠ¡](https://leetcode.com/problems/design-neighbor-sum-service)

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/leetcode/outline/tag/design.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`çŸ©é˜µ`](/leetcode/outline/tag/matrix.md) [`æ¨¡æ‹Ÿ`](/leetcode/outline/tag/simulation.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/design-neighbor-sum-service)


## é¢˜ç›®

You are given a `n x n` 2D array `grid` containing **distinct** elements in
the range `[0, n2 - 1]`.

Implement the `NeighborSum` class:

  * `NeighborSum(int [][]grid)` initializes the object.
  * `int adjacentSum(int value)` returns the **sum** of elements which are adjacent neighbors of `value`, that is either to the top, left, right, or bottom of `value` in `grid`.
  * `int diagonalSum(int value)` returns the **sum** of elements which are diagonal neighbors of `value`, that is either to the top-left, top-right, bottom-left, or bottom-right of `value` in `grid`.

![](https://assets.leetcode.com/uploads/2024/06/24/design.png)



**Example 1:**

**Input:**

["NeighborSum", "adjacentSum", "adjacentSum", "diagonalSum", "diagonalSum"]

[[[[0, 1, 2], [3, 4, 5], [6, 7, 8]]], [1], [4], [4], [8]]

**Output:** [null, 6, 16, 16, 4]

**Explanation:**

**![](https://assets.leetcode.com/uploads/2024/06/24/designexample0.png)**

  * The adjacent neighbors of 1 are 0, 2, and 4.
  * The adjacent neighbors of 4 are 1, 3, 5, and 7.
  * The diagonal neighbors of 4 are 0, 2, 6, and 8.
  * The diagonal neighbor of 8 is 4.

**Example 2:**

**Input:**

["NeighborSum", "adjacentSum", "diagonalSum"]

[[[[1, 2, 0, 3], [4, 7, 15, 6], [8, 9, 10, 11], [12, 13, 14, 5]]], [15], [9]]

**Output:** [null, 23, 45]

**Explanation:**

**![](https://assets.leetcode.com/uploads/2024/06/24/designexample2.png)**

  * The adjacent neighbors of 15 are 0, 10, 7, and 6.
  * The diagonal neighbors of 9 are 4, 12, 14, and 15.



**Constraints:**

  * `3 <= n == grid.length == grid[0].length <= 10`
  * `0 <= grid[i][j] <= n2 - 1`
  * All `grid[i][j]` are distinct.
  * `value` in `adjacentSum` and `diagonalSum` will be in the range `[0, n2 - 1]`.
  * At most `2 * n2` calls will be made to `adjacentSum` and `diagonalSum`.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `n x n` çš„äºŒç»´æ•°ç»„ `grid`ï¼Œå®ƒåŒ…å«èŒƒå›´ `[0, n2 - 1]` å†…çš„**ä¸é‡å¤** å…ƒç´ ã€‚

å®ç° `neighborSum` ç±»ï¼š

  * `neighborSum(int [][]grid)` åˆå§‹åŒ–å¯¹è±¡ã€‚
  * `int adjacentSum(int value)` è¿”å›åœ¨ `grid` ä¸­ä¸ `value` ç›¸é‚»çš„å…ƒç´ ä¹‹**å’Œ** ï¼Œç›¸é‚»æŒ‡çš„æ˜¯ä¸ `value` åœ¨ä¸Šã€å·¦ã€å³æˆ–ä¸‹çš„å…ƒç´ ã€‚
  * `int diagonalSum(int value)` è¿”å›åœ¨ `grid` ä¸­ä¸ `value` å¯¹è§’çº¿ç›¸é‚»çš„å…ƒç´ ä¹‹**å’Œ** ï¼Œå¯¹è§’çº¿ç›¸é‚»æŒ‡çš„æ˜¯ä¸ `value` åœ¨å·¦ä¸Šã€å³ä¸Šã€å·¦ä¸‹æˆ–å³ä¸‹çš„å…ƒç´ ã€‚

![](https://assets.leetcode.com/uploads/2024/06/24/design.png)



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š**

["neighborSum", "adjacentSum", "adjacentSum", "diagonalSum", "diagonalSum"]

[[[[0, 1, 2], [3, 4, 5], [6, 7, 8]]], [1], [4], [4], [8]]

**è¾“å‡ºï¼š** [null, 6, 16, 16, 4]

**è§£é‡Šï¼š**

**![](https://assets.leetcode.com/uploads/2024/06/24/designexample0.png)**

  * 1 çš„ç›¸é‚»å…ƒç´ æ˜¯ 0ã€2 å’Œ 4ã€‚
  * 4 çš„ç›¸é‚»å…ƒç´ æ˜¯ 1ã€3ã€5 å’Œ 7ã€‚
  * 4 çš„å¯¹è§’çº¿ç›¸é‚»å…ƒç´ æ˜¯ 0ã€2ã€6 å’Œ 8ã€‚
  * 8 çš„å¯¹è§’çº¿ç›¸é‚»å…ƒç´ æ˜¯ 4ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š**

["neighborSum", "adjacentSum", "diagonalSum"]

[[[[1, 2, 0, 3], [4, 7, 15, 6], [8, 9, 10, 11], [12, 13, 14, 5]]], [15], [9]]

**è¾“å‡ºï¼š** [null, 23, 45]

**è§£é‡Šï¼š**

**![](https://assets.leetcode.com/uploads/2024/06/24/designexample2.png)**

  * 15 çš„ç›¸é‚»å…ƒç´ æ˜¯ 0ã€10ã€7 å’Œ 6ã€‚
  * 9 çš„å¯¹è§’çº¿ç›¸é‚»å…ƒç´ æ˜¯ 4ã€12ã€14 å’Œ 15ã€‚



**æç¤ºï¼š**

  * `3 <= n == grid.length == grid[0].length <= 10`
  * `0 <= grid[i][j] <= n2 - 1`
  * æ‰€æœ‰ `grid[i][j]` å€¼å‡ä¸é‡å¤ã€‚
  * `adjacentSum` å’Œ `diagonalSum` ä¸­çš„ `value` å‡åœ¨èŒƒå›´ `[0, n2 - 1]` å†…ã€‚
  * æœ€å¤šä¼šè°ƒç”¨ `adjacentSum` å’Œ `diagonalSum` æ€»å…± `2 * n2` æ¬¡ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1314 | [çŸ©é˜µåŒºåŸŸå’Œ](https://leetcode.com/problems/matrix-block-sum) |  |  [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`çŸ©é˜µ`](/leetcode/outline/tag/matrix.md) [`å‰ç¼€å’Œ`](/leetcode/outline/tag/prefix-sum.md) | <font color=#ffb800>Medium</font> |
| 1968 | [æ„é€ å…ƒç´ ä¸ç­‰äºä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼çš„æ•°ç»„](https://leetcode.com/problems/array-with-elements-not-equal-to-average-of-neighbors) |  |  [`è´ªå¿ƒ`](/leetcode/outline/tag/greedy.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`æ’åº`](/leetcode/outline/tag/sorting.md) | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
