# [LCP 71. é›†æ°´å™¨](https://2xiao.github.io/leetcode-js/lcp/LCP_71.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/kskhHQ)

## é¢˜ç›®

English description is not available for the problem. Please switch to
Chinese.


## é¢˜ç›®å¤§æ„

å­—ç¬¦ä¸²æ•°ç»„ `shape` æè¿°äº†ä¸€ä¸ªäºŒç»´å¹³é¢ä¸­çš„çŸ©é˜µå½¢å¼çš„é›†æ°´å™¨ï¼Œ`shape[i][j]` è¡¨ç¤ºé›†æ°´å™¨çš„ç¬¬ `i` è¡Œ `j` åˆ—ä¸ºï¼š \-
`'l'`è¡¨ç¤ºå‘å·¦å€¾æ–œçš„éš”æ¿ï¼ˆå³ä»å·¦ä¸Šåˆ°å³ä¸‹ï¼‰ï¼› \- `'r'`è¡¨ç¤ºå‘å³å€¾æ–œçš„éš”æ¿ï¼ˆå³ä»å·¦ä¸‹åˆ°å³ä¸Šï¼‰ï¼› \- `'.'` è¡¨ç¤ºæ­¤ä½ç½®æ²¡æœ‰éš”æ¿
![image.png](https://pic.leetcode-cn.com/1664424667-wMnPja-
image.png){:width=200px} å·²çŸ¥å½“éš”æ¿æ„æˆå­˜å‚¨å®¹å™¨å¯ä»¥å­˜æ°´ï¼Œæ¯ä¸ªæ–¹æ ¼ä»£è¡¨çš„è“„æ°´é‡ä¸º
`2`ã€‚é›†æ°´å™¨åˆå§‹æµ¸æ³¡åœ¨æ°´ä¸­ï¼Œé™¤å†…éƒ¨å¯†é—­ç©ºé—´å¤–ï¼Œæ‰€æœ‰ä½ç½®å‡è¢«æ°´å¡«æ»¡ã€‚ ç°å°†å…¶ä»æ°´ä¸­ç«–ç›´å‘ä¸Šå–å‡ºï¼Œè¯·è¿”å›é›†æ°´å™¨æœ€ç»ˆçš„è“„æ°´é‡ã€‚ **æ³¨æ„ï¼š** \-
éš”æ¿å…·æœ‰è‰¯å¥½çš„é€æ°”æ€§ï¼Œå› æ­¤ç©ºæ°”å¯ä»¥ç©¿è¿‡éš”æ¿ï¼Œä½†æ°´æ— æ³•ç©¿è¿‡ **ç¤ºä¾‹ 1ï¼š** > è¾“å…¥ï¼š > `shape =
["....rl","l.lr.r",".l..r.","..lr.."]` > > è¾“å‡ºï¼š`18` > >
è§£é‡Šï¼šå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç”±äºç©ºæ°”ä¼šç©¿è¿‡éš”æ¿ï¼Œå› æ­¤çº¢æ¡†åŒºåŸŸæ²¡æœ‰æ°´ ![image.png](https://pic.leetcode-
cn.com/1664436239-eyYxeP-image.png){:width="280px"} **ç¤ºä¾‹ 2ï¼š** > è¾“å…¥ï¼š > `shape =
[".rlrlrlrl","ll..rl..r",".llrrllrr","..lr..lr."]` > è¾“å‡ºï¼š`18` > >
è§£é‡Šï¼šå¦‚å›¾æ‰€ç¤ºã€‚ç”±äºçº¢æ¡†å³ä¾§æœªé—­åˆï¼Œå› æ­¤å¤šä½™çš„æ°´ä¼šä»è¯¥å¤„æµèµ°ã€‚ ![image.png](https://pic.leetcode-
cn.com/1664436082-SibVMv-image.png){:width="400px"} **ç¤ºä¾‹ 3ï¼š** > è¾“å…¥ï¼š > `shape =
["rlrr","llrl","llr."]` > è¾“å‡ºï¼š`6` > > è§£é‡Šï¼šå¦‚å›¾æ‰€ç¤ºã€‚
![image.png](https://pic.leetcode-cn.com/1664424855-dwpUHO-
image.png){:width="230px"} **ç¤ºä¾‹ 4ï¼š** > è¾“å…¥ï¼š > `shape =
["...rl...","..r..l..",".r.rl.l.","r.r..l.l","l.l..rl.",".l.lr.r.","..l..r..","...lr..."]`
> > è¾“å‡ºï¼š`30` > > è§£é‡Šï¼šå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ç”±äºä¸­é—´ä¸ºå†…éƒ¨å¯†é—­ç©ºé—´ï¼Œæ— æ³•è“„æ°´ã€‚ ![image.png](https://pic.leetcode-
cn.com/1664424894-mClEXh-image.png){:width="350px"} **æç¤º**ï¼š \- `1 <=
shape.length <= 50` \- `1 <= shape[i].length <= 50` \- `shape[i][j]` ä»…ä¸º
`'l'`ã€`'r'` æˆ– `'.'`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```