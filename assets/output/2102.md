# [2102. åºåˆ—é¡ºåºæŸ¥è¯¢](https://leetcode.com/problems/sequentially-ordinal-rank-tracker)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`æ•°æ®æµ`](/tag/data-stream.md) [`æœ‰åºé›†åˆ`](/tag/ordered-set.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/sequentially-ordinal-rank-tracker)

## é¢˜ç›®

A scenic location is represented by its `name` and attractiveness `score`,
where `name` is a **unique** string among all locations and `score` is an
integer. Locations can be ranked from the best to the worst. The **higher**
the score, the better the location. If the scores of two locations are equal,
then the location with the **lexicographically smaller** name is better.

You are building a system that tracks the ranking of locations with the system
initially starting with no locations. It supports:

  * **Adding** scenic locations, **one at a time**.
  * **Querying** the `ith` **best** location of **all locations already added** , where `i` is the number of times the system has been queried (including the current query). 
> 
> * For example, when the system is queried for the `4th` time, it returns the `4th` best location of all locations already added.

Note that the test data are generated so that **at any time** , the number of
queries **does not exceed** the number of locations added to the system.

Implement the `SORTracker` class:

  * `SORTracker()` Initializes the tracker system.
  * `void add(string name, int score)` Adds a scenic location with `name` and `score` to the system.
  * `string get()` Queries and returns the `ith` best location, where `i` is the number of times this method has been invoked (including this invocation).



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["SORTracker", "add", "add", "get", "add", "get", "add", "get", "add", "get", "add", "get", "get"]
> 
> [[], ["bradford", 2], ["branford", 3], [], ["alps", 2], [], ["orland", 2], [], ["orlando", 3], [], ["alpine", 2], [], []]
> 
> **Output**
> 
> [null, null, null, "branford", null, "alps", null, "bradford", null, "bradford", null, "bradford", "orland"]
> 
> 
> 
> **Explanation**
> 
> SORTracker tracker = new SORTracker(); // Initialize the tracker system.
> 
> tracker.add("bradford", 2); // Add location with name="bradford" and score=2 to the system.
> 
> tracker.add("branford", 3); // Add location with name="branford" and score=3 to the system.
> 
> tracker.get();> 
> > 
> > 
>   // The sorted locations, from best to worst, are: branford, bradford.
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // Note that branford precedes bradford due to its **higher score** (3 > 2).
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // This is the 1st time get() is called, so return the best location: "branford".
> 
> tracker.add("alps", 2);> 
>  // Add location with name="alps" and score=2 to the system.
> 
> tracker.get();> 
> > 
> > 
>   // Sorted locations: branford, alps, bradford.
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // Note that alps precedes bradford even though they have the same score (2).
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // This is because "alps" is **lexicographically smaller** than "bradford".
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // Return the 2nd best location "alps", as it is the 2nd time get() is called.
> 
> tracker.add("orland", 2);   // Add location with name="orland" and score=2 to the system.
> 
> tracker.get();> 
> > 
> > 
>   // Sorted locations: branford, alps, bradford, orland.
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // Return "bradford", as it is the 3rd time get() is called.
> 
> tracker.add("orlando", 3);  // Add location with name="orlando" and score=3 to the system.
> 
> tracker.get();> 
> > 
> > 
>   // Sorted locations: branford, orlando, alps, bradford, orland.
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // Return "bradford".
> 
> tracker.add("alpine", 2);   // Add location with name="alpine" and score=2 to the system.
> 
> tracker.get();> 
> > 
> > 
>   // Sorted locations: branford, orlando, alpine, alps, bradford, orland.
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // Return "bradford".
> 
> tracker.get();> 
> > 
> > 
>   // Sorted locations: branford, orlando, alpine, alps, bradford, orland.
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // Return "orland".

**Constraints:**

  * `name` consists of lowercase English letters, and is unique among all locations.
  * `1 <= name.length <= 10`
  * `1 <= score <= 10^5`
  * At any time, the number of calls to `get` does not exceed the number of calls to `add`.
  * At most `4 * 10^4` calls **in total** will be made to `add` and `get`.


## é¢˜ç›®å¤§æ„

ä¸€ä¸ªè§‚å…‰æ™¯ç‚¹ç”±å®ƒçš„åå­— `name` å’Œæ™¯ç‚¹è¯„åˆ† `score` ç»„æˆï¼Œå…¶ä¸­ `name` æ˜¯æ‰€æœ‰è§‚å…‰æ™¯ç‚¹ä¸­ **å”¯ä¸€**  çš„å­—ç¬¦ä¸²ï¼Œ`score`
æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚æ™¯ç‚¹æŒ‰ç…§æœ€å¥½åˆ°æœ€åæ’åºã€‚æ™¯ç‚¹è¯„åˆ† **è¶Šé«˜**  ï¼Œè¿™ä¸ªæ™¯ç‚¹è¶Šå¥½ã€‚å¦‚æœæœ‰ä¸¤ä¸ªæ™¯ç‚¹çš„è¯„åˆ†ä¸€æ ·ï¼Œé‚£ä¹ˆ **å­—å…¸åºè¾ƒå°**  çš„æ™¯ç‚¹æ›´å¥½ã€‚

ä½ éœ€è¦æ­å»ºä¸€ä¸ªç³»ç»Ÿï¼ŒæŸ¥è¯¢æ™¯ç‚¹çš„æ’åã€‚åˆå§‹æ—¶ç³»ç»Ÿé‡Œæ²¡æœ‰ä»»ä½•æ™¯ç‚¹ã€‚è¿™ä¸ªç³»ç»Ÿæ”¯æŒï¼š

  * **æ·»åŠ ** æ™¯ç‚¹ï¼Œæ¯æ¬¡æ·»åŠ  **ä¸€ä¸ª** æ™¯ç‚¹ã€‚
  * **æŸ¥è¯¢** å·²ç»æ·»åŠ æ™¯ç‚¹ä¸­ç¬¬ `i` **å¥½**  çš„æ™¯ç‚¹ï¼Œå…¶ä¸­ `i` æ˜¯ç³»ç»Ÿç›®å‰ä½ç½®æŸ¥è¯¢çš„æ¬¡æ•°ï¼ˆåŒ…æ‹¬å½“å‰è¿™ä¸€æ¬¡ï¼‰ã€‚ 
> 
> * æ¯”æ–¹è¯´ï¼Œå¦‚æœç³»ç»Ÿæ­£åœ¨è¿›è¡Œç¬¬ `4` æ¬¡æŸ¥è¯¢ï¼Œé‚£ä¹ˆéœ€è¦è¿”å›æ‰€æœ‰å·²ç»æ·»åŠ æ™¯ç‚¹ä¸­ç¬¬ `4` å¥½çš„ã€‚

æ³¨æ„ï¼Œæµ‹è¯•æ•°æ®ä¿è¯ **ä»»æ„æŸ¥è¯¢æ—¶åˆ»**  ï¼ŒæŸ¥è¯¢æ¬¡æ•°éƒ½ **ä¸è¶…è¿‡**  ç³»ç»Ÿä¸­æ™¯ç‚¹çš„æ•°ç›®ã€‚

è¯·ä½ å®ç° `SORTracker` ç±»ï¼š

  * `SORTracker()` åˆå§‹åŒ–ç³»ç»Ÿã€‚
  * `void add(string name, int score)` å‘ç³»ç»Ÿä¸­æ·»åŠ ä¸€ä¸ªåä¸º `name` è¯„åˆ†ä¸º `score` çš„æ™¯ç‚¹ã€‚
  * `string get()` æŸ¥è¯¢ç¬¬ `i` å¥½çš„æ™¯ç‚¹ï¼Œå…¶ä¸­ `i` æ˜¯ç›®å‰ç³»ç»ŸæŸ¥è¯¢çš„æ¬¡æ•°ï¼ˆåŒ…æ‹¬å½“å‰è¿™æ¬¡æŸ¥è¯¢ï¼‰ã€‚



**ç¤ºä¾‹ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> ["SORTracker", "add", "add", "get", "add", "get", "add", "get", "add", "get", "add", "get", "get"]
> 
> [[], ["bradford", 2], ["branford", 3], [], ["alps", 2], [], ["orland", 2], [], ["orlando", 3], [], ["alpine", 2], [], []]
> 
> **è¾“å‡ºï¼š**
> 
> [null, null, null, "branford", null, "alps", null, "bradford", null, "bradford", null, "bradford", "orland"]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> SORTracker tracker = new SORTracker(); // åˆå§‹åŒ–ç³»ç»Ÿ
> 
> tracker.add("bradford", 2); // æ·»åŠ  name="bradford" ä¸” score=2 çš„æ™¯ç‚¹ã€‚
> 
> tracker.add("branford", 3); // æ·»åŠ  name="branford" ä¸” score=3 çš„æ™¯ç‚¹ã€‚
> 
> tracker.get();> 
> > 
> > 
>   // ä»å¥½åˆ°åçš„æ™¯ç‚¹ä¸ºï¼šbranford ï¼Œbradford ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // æ³¨æ„åˆ° branford æ¯” bradford å¥½ï¼Œå› ä¸ºå®ƒçš„ **è¯„åˆ†æ›´é«˜** (3 > 2) ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // è¿™æ˜¯ç¬¬ 1 æ¬¡è°ƒç”¨ get() ï¼Œæ‰€ä»¥è¿”å›æœ€å¥½çš„æ™¯ç‚¹ï¼š"branford" ã€‚
> 
> tracker.add("alps", 2);> 
>  // æ·»åŠ  name="alps" ä¸” score=2 çš„æ™¯ç‚¹ã€‚
> 
> tracker.get();> 
> > 
> > 
>   // ä»å¥½åˆ°åçš„æ™¯ç‚¹ä¸ºï¼šbranford, alps, bradford ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // æ³¨æ„ alps æ¯” bradford å¥½ï¼Œè™½ç„¶å®ƒä»¬è¯„åˆ†ç›¸åŒï¼Œéƒ½ä¸º 2 ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // è¿™æ˜¯å› ä¸º "alps" **å­—å…¸åº**  æ¯” "bradford" å°ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // è¿”å›ç¬¬ 2 å¥½çš„åœ°ç‚¹ "alps" ï¼Œå› ä¸ºå½“å‰ä¸ºç¬¬ 2 æ¬¡è°ƒç”¨ get() ã€‚
> 
> tracker.add("orland", 2);   // æ·»åŠ  name="orland" ä¸” score=2 çš„æ™¯ç‚¹ã€‚
> 
> tracker.get();> 
> > 
> > 
>   // ä»å¥½åˆ°åçš„æ™¯ç‚¹ä¸ºï¼šbranford, alps, bradford, orland ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // è¿”å› "bradford" ï¼Œå› ä¸ºå½“å‰ä¸ºç¬¬ 3 æ¬¡è°ƒç”¨ get() ã€‚
> 
> tracker.add("orlando", 3);  // æ·»åŠ  name="orlando" ä¸” score=3 çš„æ™¯ç‚¹ã€‚
> 
> tracker.get();> 
> > 
> > 
>   // ä»å¥½åˆ°åçš„æ™¯ç‚¹ä¸ºï¼šbranford, orlando, alps, bradford, orland ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // è¿”å› "bradford".
> 
> tracker.add("alpine", 2);   // æ·»åŠ  name="alpine" ä¸” score=2 çš„æ™¯ç‚¹ã€‚
> 
> tracker.get();> 
> > 
> > 
>   // ä»å¥½åˆ°åçš„æ™¯ç‚¹ä¸ºï¼šbranford, orlando, alpine, alps, bradford, orland ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // è¿”å› "bradford" ã€‚
> 
> tracker.get();> 
> > 
> > 
>   // ä»å¥½åˆ°åçš„æ™¯ç‚¹ä¸ºï¼šbranford, orlando, alpine, alps, bradford, orland ã€‚
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> // è¿”å› "orland" ã€‚
> 
> 



**æç¤ºï¼š**

  * `name` åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ï¼Œä¸”æ¯ä¸ªæ™¯ç‚¹åå­—äº’ä¸ç›¸åŒã€‚
  * `1 <= name.length <= 10`
  * `1 <= score <= 10^5`
  * ä»»æ„æ—¶åˆ»ï¼Œè°ƒç”¨ `get` çš„æ¬¡æ•°éƒ½ä¸è¶…è¿‡è°ƒç”¨ `add` çš„æ¬¡æ•°ã€‚
  * **æ€»å…±**  è°ƒç”¨ `add` å’Œ `get` ä¸è¶…è¿‡ `4 * 10^4` 


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 295 | [æ•°æ®æµçš„ä¸­ä½æ•°](https://leetcode.com/problems/find-median-from-data-stream) | [[âœ“]](/problem/0295.md) |  [`è®¾è®¡`](/tag/design.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`æ•°æ®æµ`](/tag/data-stream.md) `2+` | <font color=#ff334b>Hard</font> |
| 703 | [æ•°æ®æµä¸­çš„ç¬¬ K å¤§å…ƒç´ ](https://leetcode.com/problems/kth-largest-element-in-a-stream) | [[âœ“]](/problem/0703.md) |  [`æ ‘`](/tag/tree.md) [`è®¾è®¡`](/tag/design.md) [`äºŒå‰æœç´¢æ ‘`](/tag/binary-search-tree.md) `3+` | <font color=#15bd66>Easy</font> |
| 1825 | [æ±‚å‡º MK å¹³å‡å€¼](https://leetcode.com/problems/finding-mk-average) |  |  [`è®¾è®¡`](/tag/design.md) [`é˜Ÿåˆ—`](/tag/queue.md) [`æ•°æ®æµ`](/tag/data-stream.md) `2+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
