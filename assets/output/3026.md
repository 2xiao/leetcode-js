# [3026. æœ€å¤§å¥½å­æ•°ç»„å’Œ](https://leetcode.com/problems/maximum-good-subarray-sum)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`å‰ç¼€å’Œ`](/leetcode/outline/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-good-subarray-sum)


## é¢˜ç›®

You are given an array `nums` of length `n` and a **positive** integer `k`.

A subarray of `nums` is called **good** if the **absolute difference** between
its first and last element is **exactly** `k`, in other words, the subarray
`nums[i..j]` is good if `|nums[i] - nums[j]| == k`.

Return _the**maximum** sum of a **good** subarray of _`nums`. _If there are no
good subarrays_ _, return_`0`.



**Example 1:**

> Input: nums = [1,2,3,4,5,6], k = 1
> 
> Output: 11
> 
> Explanation: The absolute difference between the first and last element must be 1 for a good subarray. All the good subarrays are: [1,2], [2,3], [3,4], [4,5], and [5,6]. The maximum subarray sum is 11 for the subarray [5,6].

**Example 2:**

> Input: nums = [-1,3,2,4,5], k = 3
> 
> Output: 11
> 
> Explanation: The absolute difference between the first and last element must be 3 for a good subarray. All the good subarrays are: [-1,3,2], and [2,4,5]. The maximum subarray sum is 11 for the subarray [2,4,5].

**Example 3:**

> Input: nums = [-1,-2,-3,-4], k = 2
> 
> Output: -6
> 
> Explanation: The absolute difference between the first and last element must be 2 for a good subarray. All the good subarrays are: [-1,-2,-3], and [-2,-3,-4]. The maximum subarray sum is -6 for the subarray [-1,-2,-3].

**Constraints:**

  * `2 <= nums.length <= 10^5`
  * `-10^9 <= nums[i] <= 10^9`
  * `1 <= k <= 10^9`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ `nums` å’Œä¸€ä¸ª **æ­£**  æ•´æ•° `k` ã€‚

å¦‚æœ `nums` çš„ä¸€ä¸ªå­æ•°ç»„ä¸­ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´  **å·®çš„ç»å¯¹å€¼æ°å¥½**  ä¸º `k` ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªå­æ•°ç»„ä¸º **å¥½**
çš„ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœå­æ•°ç»„ `nums[i..j]` æ»¡è¶³ `|nums[i] - nums[j]| == k` ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªå¥½å­æ•°ç»„ã€‚

è¯·ä½ è¿”å› `nums` ä¸­ **å¥½**  å­æ•°ç»„çš„ **æœ€å¤§**  å’Œï¼Œå¦‚æœæ²¡æœ‰å¥½å­æ•°ç»„ï¼Œè¿”å› _ _`0` ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,3,4,5,6], k = 1
> 
> **è¾“å‡ºï¼š** 11
> 
> **è§£é‡Šï¼š** å¥½å­æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„å·®çš„ç»å¯¹å€¼å¿…é¡»ä¸º 1 ã€‚å¥½å­æ•°ç»„æœ‰ [1,2] ï¼Œ[2,3] ï¼Œ[3,4] ï¼Œ[4,5] å’Œ [5,6] ã€‚æœ€å¤§å­æ•°ç»„å’Œä¸º 11 ï¼Œå¯¹åº”çš„å­æ•°ç»„ä¸º [5,6] ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [-1,3,2,4,5], k = 3
> 
> **è¾“å‡ºï¼š** 11
> 
> **è§£é‡Šï¼š** å¥½å­æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„å·®çš„ç»å¯¹å€¼å¿…é¡»ä¸º 3 ã€‚å¥½å­æ•°ç»„æœ‰ [-1,3,2] å’Œ [2,4,5] ã€‚æœ€å¤§å­æ•°ç»„å’Œä¸º 11 ï¼Œå¯¹åº”çš„å­æ•°ç»„ä¸º [2,4,5] ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [-1,-2,-3,-4], k = 2
> 
> **è¾“å‡ºï¼š** -6
> 
> **è§£é‡Šï¼š** å¥½å­æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„å·®çš„ç»å¯¹å€¼å¿…é¡»ä¸º 2 ã€‚å¥½å­æ•°ç»„æœ‰ [-1,-2,-3] å’Œ [-2,-3,-4] ã€‚æœ€å¤§å­æ•°ç»„å’Œä¸º -6 ï¼Œå¯¹åº”çš„å­æ•°ç»„ä¸º [-1,-2,-3] ã€‚
> 
> 



**æç¤ºï¼š**

  * `2 <= nums.length <= 10^5`
  * `-10^9 <= nums[i] <= 10^9`
  * `1 <= k <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [æœ€å¤§å­æ•°ç»„å’Œ](https://leetcode.com/problems/maximum-subarray)
- [é•¿åº¦ä¸º K å­æ•°ç»„ä¸­çš„æœ€å¤§å’Œ](https://leetcode.com/problems/maximum-sum-of-distinct-subarrays-with-length-k)

::::
