---
title: 3171. æ‰¾åˆ°æŒ‰ä½æˆ–æœ€æ¥è¿‘ K çš„å­æ•°ç»„
description: LeetCode,3171. æ‰¾åˆ°æŒ‰ä½æˆ–æœ€æ¥è¿‘ K çš„å­æ•°ç»„,æ‰¾åˆ°æŒ‰ä½æˆ–æœ€æ¥è¿‘ K çš„å­æ•°ç»„,Find Subarray With Bitwise OR Closest to K,è§£é¢˜æ€è·¯,ä½è¿ç®—,çº¿æ®µæ ‘,æ•°ç»„,äºŒåˆ†æŸ¥æ‰¾
keywords:
  - LeetCode
  - 3171. æ‰¾åˆ°æŒ‰ä½æˆ–æœ€æ¥è¿‘ K çš„å­æ•°ç»„
  - æ‰¾åˆ°æŒ‰ä½æˆ–æœ€æ¥è¿‘ K çš„å­æ•°ç»„
  - Find Subarray With Bitwise OR Closest to K
  - è§£é¢˜æ€è·¯
  - ä½è¿ç®—
  - çº¿æ®µæ ‘
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
---

# 3171. æ‰¾åˆ°æŒ‰ä½æˆ–æœ€æ¥è¿‘ K çš„å­æ•°ç»„

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/find-subarray-with-bitwise-or-closest-to-k) [`LeetCode`](https://leetcode.com/problems/find-subarray-with-bitwise-or-closest-to-k)

## é¢˜ç›®

You are given an array `nums` and an integer `k`. You need to find a subarray
of `nums` such that the **absolute difference** between `k` and the bitwise
`OR` of the subarray elements is as**small** as possible. In other words,
select a subarray `nums[l..r]` such that `|k - (nums[l] OR nums[l + 1] ... OR
nums[r])|` is minimum.

Return the **minimum** possible value of the absolute difference.

A **subarray** is a contiguous **non-empty** sequence of elements within an
array.



**Example 1:**

**Input:** nums = [1,2,4,5], k = 3

**Output:** 0

**Explanation:**

The subarray `nums[0..1]` has `OR` value 3, which gives the minimum absolute
difference `|3 - 3| = 0`.

**Example 2:**

**Input:** nums = [1,3,1,3], k = 2

**Output:** 1

**Explanation:**

The subarray `nums[1..1]` has `OR` value 3, which gives the minimum absolute
difference `|3 - 2| = 1`.

**Example 3:**

**Input:** nums = [1], k = 10

**Output:** 9

**Explanation:**

There is a single subarray with `OR` value 1, which gives the minimum absolute
difference `|10 - 1| = 9`.



**Constraints:**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^9`
  * `1 <= k <= 10^9`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ã€‚ä½ éœ€è¦æ‰¾åˆ° `nums` çš„ä¸€ä¸ª å­æ•°ç»„ ï¼Œæ»¡è¶³å­æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ æŒ‰ä½æˆ–è¿ç®— `OR` çš„å€¼ä¸ `k` çš„
**ç»å¯¹å·®**  å°½å¯èƒ½ **å°**  ã€‚æ¢è¨€ä¹‹ï¼Œä½ éœ€è¦é€‰æ‹©ä¸€ä¸ªå­æ•°ç»„ `nums[l..r]` æ»¡è¶³ `|k - (nums[l] OR nums[l +
1] ... OR nums[r])|` æœ€å°ã€‚

è¯·ä½ è¿”å› **æœ€å°**  çš„ç»å¯¹å·®å€¼ã€‚

**å­æ•°ç»„** æ˜¯æ•°ç»„ä¸­è¿ç»­çš„ **éç©º**  å…ƒç´ åºåˆ—ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** nums = [1,2,4,5], k = 3

**è¾“å‡ºï¼š** 0

**è§£é‡Šï¼š**

å­æ•°ç»„ `nums[0..1]` çš„æŒ‰ä½ `OR` è¿ç®—å€¼ä¸º 3 ï¼Œå¾—åˆ°æœ€å°å·®å€¼ `|3 - 3| = 0` ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** nums = [1,3,1,3], k = 2

**è¾“å‡ºï¼š** 1

**è§£é‡Šï¼š**

å­æ•°ç»„ `nums[1..1]` çš„æŒ‰ä½ `OR` è¿ç®—å€¼ä¸º 3 ï¼Œå¾—åˆ°æœ€å°å·®å€¼ `|3 - 2| = 1` ã€‚

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š** nums = [1], k = 10

**è¾“å‡ºï¼š** 9

**è§£é‡Šï¼š**

åªæœ‰ä¸€ä¸ªå­æ•°ç»„ï¼ŒæŒ‰ä½ `OR` è¿ç®—å€¼ä¸º 1 ï¼Œå¾—åˆ°æœ€å°å·®å€¼ `|10 - 1| = 9` ã€‚



**æç¤ºï¼š**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^9`
  * `1 <= k <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 3117 | [åˆ’åˆ†æ•°ç»„å¾—åˆ°æœ€å°çš„å€¼ä¹‹å’Œ](https://leetcode.com/problems/minimum-sum-of-values-by-dividing-array) |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`é˜Ÿåˆ—`](/tag/queue.md) `3+` | <font color=#ff334b>Hard</font> |