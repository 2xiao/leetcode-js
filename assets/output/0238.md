---
title: 238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯
description: LeetCode 238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯é¢˜è§£ï¼ŒProduct of Array Except Selfï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯
  - é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯
  - Product of Array Except Self
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å‰ç¼€å’Œ
---

# 238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/product-of-array-except-self) [`LeetCode`](https://leetcode.com/problems/product-of-array-except-self)

## é¢˜ç›®

Given an integer array `nums`, return _an array_ `answer` _such that_
`answer[i]` _is equal to the product of all the elements of_ `nums` _except_
`nums[i]`.

The product of any prefix or suffix of `nums` is **guaranteed** to fit in a
**32-bit** integer.

You must write an algorithm that runs in `O(n)` time and without using the
division operation.



**Example 1:**

> Input: nums = [1,2,3,4]
> 
> Output: [24,12,8,6]

**Example 2:**

> Input: nums = [-1,1,0,-3,3]
> 
> Output: [0,0,9,0,0]

**Constraints:**

  * `2 <= nums.length <= 10^5`
  * `-30 <= nums[i] <= 30`
  * The product of any prefix or suffix of `nums` is **guaranteed** to fit in a **32-bit** integer.



**Follow up:**  Can you solve the problem in `O(1)` extra space complexity?
(The output array **does not** count as extra space for space complexity
analysis.)


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œè¿”å› æ•°ç»„ `answer` ï¼Œå…¶ä¸­ `answer[i]` ç­‰äº `nums` ä¸­é™¤ `nums[i]`
ä¹‹å¤–å…¶ä½™å„å…ƒç´ çš„ä¹˜ç§¯ ã€‚

é¢˜ç›®æ•°æ® **ä¿è¯** æ•°ç»„ `nums`ä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€çš„ä¹˜ç§¯éƒ½åœ¨  **32 ä½** æ•´æ•°èŒƒå›´å†…ã€‚

è¯· **ä¸è¦ä½¿ç”¨é™¤æ³•ï¼Œ** ä¸”åœ¨ `O(n)` æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ­¤é¢˜ã€‚



**ç¤ºä¾‹ 1:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** nums = [1,2,3,4]
> 
> **è¾“å‡º:** [24,12,8,6]
> 
> 

**ç¤ºä¾‹ 2:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** nums = [-1,1,0,-3,3]
> 
> **è¾“å‡º:** [0,0,9,0,0]
> 
> 



**æç¤ºï¼š**

  * `2 <= nums.length <= 10^5`
  * `-30 <= nums[i] <= 30`
  * **ä¿è¯** æ•°ç»„ `nums`ä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€çš„ä¹˜ç§¯éƒ½åœ¨  **32 ä½** æ•´æ•°èŒƒå›´å†…



**è¿›é˜¶ï¼š** ä½ å¯ä»¥åœ¨ `O(1)` çš„é¢å¤–ç©ºé—´å¤æ‚åº¦å†…å®Œæˆè¿™ä¸ªé¢˜ç›®å—ï¼Ÿï¼ˆ å‡ºäºå¯¹ç©ºé—´å¤æ‚åº¦åˆ†æçš„ç›®çš„ï¼Œè¾“å‡ºæ•°ç»„ **ä¸è¢«è§†ä¸º  **é¢å¤–ç©ºé—´ã€‚ï¼‰


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 42 | æ¥é›¨æ°´ | [[âœ“]](/problem/0042.md) |  [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) `2+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/trapping-rain-water) [ğŸ”—](https://leetcode.com/problems/trapping-rain-water) |
| 152 | ä¹˜ç§¯æœ€å¤§å­æ•°ç»„ | [[âœ“]](/problem/0152.md) |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-product-subarray) [ğŸ”—](https://leetcode.com/problems/maximum-product-subarray) |
| 265 | ç²‰åˆ·æˆ¿å­ II ğŸ”’ |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/paint-house-ii) [ğŸ”—](https://leetcode.com/problems/paint-house-ii) |
| 2163 | åˆ é™¤å…ƒç´ åå’Œçš„æœ€å°å·®å€¼ |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-difference-in-sums-after-removal-of-elements) [ğŸ”—](https://leetcode.com/problems/minimum-difference-in-sums-after-removal-of-elements) |
| 2906 | æ„é€ ä¹˜ç§¯çŸ©é˜µ |  |  [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/construct-product-matrix) [ğŸ”—](https://leetcode.com/problems/construct-product-matrix) |