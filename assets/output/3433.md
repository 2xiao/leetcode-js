---
title: 3433. ç»Ÿè®¡ç”¨æˆ·è¢«æåŠæƒ…å†µ
description: LeetCode 3433. ç»Ÿè®¡ç”¨æˆ·è¢«æåŠæƒ…å†µé¢˜è§£ï¼ŒCount Mentions Per Userï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3433. ç»Ÿè®¡ç”¨æˆ·è¢«æåŠæƒ…å†µ
  - ç»Ÿè®¡ç”¨æˆ·è¢«æåŠæƒ…å†µ
  - Count Mentions Per User
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - æ•°å­¦
  - æ’åº
  - æ¨¡æ‹Ÿ
---

# 3433. ç»Ÿè®¡ç”¨æˆ·è¢«æåŠæƒ…å†µ

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`æ’åº`](/tag/sorting.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/count-mentions-per-user) [`LeetCode`](https://leetcode.com/problems/count-mentions-per-user)

## é¢˜ç›®

You are given an integer `numberOfUsers` representing the total number of
users and an array `events` of size `n x 3`.

Each `events[i]` can be either of the following two types:

  1. **Message Event:** `["MESSAGE", "timestampi", "mentions_stringi"]`
> 
>  * This event indicates that a set of users was mentioned in a message at `timestampi`.
> 
>  * The `mentions_stringi` string can contain one of the following tokens: 
> 
>    * `id<number>`: where `<number>` is an integer in range `[0,numberOfUsers - 1]`. There can be **multiple** ids separated by a single whitespace and may contain duplicates. This can mention even the offline users.
> 
>    * `ALL`: mentions **all** users.
> 
>    * `HERE`: mentions all **online** users.
  2. **Offline Event:** `["OFFLINE", "timestampi", "idi"]`
> 
>  * This event indicates that the user `idi` had become offline at `timestampi` for **60 time units**. The user will automatically be online again at time `timestampi + 60`.

Return an array `mentions` where `mentions[i]` represents the number of
mentions the user with id `i` has across all `MESSAGE` events.

All users are initially online, and if a user goes offline or comes back
online, their status change is processed _before_ handling any message event
that occurs at the same timestamp.

**Note** that a user can be mentioned **multiple** times in a **single**
message event, and each mention should be counted **separately**.



**Example 1:**

**Input:** numberOfUsers = 2, events = [["MESSAGE","10","id1
id0"],["OFFLINE","11","0"],["MESSAGE","71","HERE"]]

**Output:** [2,2]

**Explanation:**

Initially, all users are online.

At timestamp 10, `id1` and `id0` are mentioned. `mentions = [1,1]`

At timestamp 11, `id0` goes **offline.**

At timestamp 71, `id0` comes back **online** and `"HERE"` is mentioned.
`mentions = [2,2]`

**Example 2:**

**Input:** numberOfUsers = 2, events = [["MESSAGE","10","id1
id0"],["OFFLINE","11","0"],["MESSAGE","12","ALL"]]

**Output:** [2,2]

**Explanation:**

Initially, all users are online.

At timestamp 10, `id1` and `id0` are mentioned. `mentions = [1,1]`

At timestamp 11, `id0` goes **offline.**

At timestamp 12, `"ALL"` is mentioned. This includes offline users, so both
`id0` and `id1` are mentioned. `mentions = [2,2]`

**Example 3:**

**Input:** numberOfUsers = 2, events =
[["OFFLINE","10","0"],["MESSAGE","12","HERE"]]

**Output:** [0,1]

**Explanation:**

Initially, all users are online.

At timestamp 10, `id0` goes **offline.**

At timestamp 12, `"HERE"` is mentioned. Because `id0` is still offline, they
will not be mentioned. `mentions = [0,1]`



**Constraints:**

  * `1 <= numberOfUsers <= 100`
  * `1 <= events.length <= 100`
  * `events[i].length == 3`
  * `events[i][0]` will be one of `MESSAGE` or `OFFLINE`.
  * `1 <= int(events[i][1]) <= 10^5`
  * The number of `id<number>` mentions in any `"MESSAGE"` event is between `1` and `100`.
  * `0 <= <number> <= numberOfUsers - 1`
  * It is **guaranteed** that the user id referenced in the `OFFLINE` event is **online** at the time the event occurs.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•° `numberOfUsers` è¡¨ç¤ºç”¨æˆ·æ€»æ•°ï¼Œå¦æœ‰ä¸€ä¸ªå¤§å°ä¸º `n x 3` çš„æ•°ç»„ `events` ã€‚

æ¯ä¸ª `events[i]` éƒ½å±äºä¸‹è¿°ä¸¤ç§ç±»å‹ä¹‹ä¸€ï¼š

  1. **æ¶ˆæ¯äº‹ä»¶ï¼ˆMessage Eventï¼‰ï¼š**`["MESSAGE", "timestampi", "mentions_stringi"]`
> 
>  * äº‹ä»¶è¡¨ç¤ºåœ¨ `timestampi` æ—¶ï¼Œä¸€ç»„ç”¨æˆ·è¢«æ¶ˆæ¯æåŠã€‚
> 
>  * `mentions_stringi` å­—ç¬¦ä¸²åŒ…å«ä¸‹è¿°æ ‡è¯†ç¬¦ä¹‹ä¸€ï¼š 
> 
>    * `id<number>`ï¼šå…¶ä¸­ `<number>` æ˜¯ä¸€ä¸ªåŒºé—´ `[0,numberOfUsers - 1]` å†…çš„æ•´æ•°ã€‚å¯ä»¥ç”¨å•ä¸ªç©ºæ ¼åˆ†éš” **å¤šä¸ª** id ï¼Œå¹¶ä¸” id å¯èƒ½é‡å¤ã€‚æ­¤å¤–ï¼Œè¿™ç§å½¢å¼å¯ä»¥æåŠç¦»çº¿ç”¨æˆ·ã€‚
> 
>    * `ALL`ï¼šæåŠ **æ‰€æœ‰** ç”¨æˆ·ã€‚
> 
>    * `HERE`ï¼šæåŠæ‰€æœ‰ **åœ¨çº¿** ç”¨æˆ·ã€‚
  2. **ç¦»çº¿äº‹ä»¶ï¼ˆOffline Eventï¼‰ï¼š**`["OFFLINE", "timestampi", "idi"]`
> 
>  * äº‹ä»¶è¡¨ç¤ºç”¨æˆ· `idi` åœ¨ `timestampi` æ—¶å˜ä¸ºç¦»çº¿çŠ¶æ€ **60 ä¸ªå•ä½æ—¶é—´** ã€‚ç”¨æˆ·ä¼šåœ¨ `timestampi + 60` æ—¶è‡ªåŠ¨å†æ¬¡ä¸Šçº¿ã€‚

è¿”å›æ•°ç»„ `mentions` ï¼Œå…¶ä¸­ `mentions[i]` è¡¨ç¤º  id ä¸º  `i` çš„ç”¨æˆ·åœ¨æ‰€æœ‰ `MESSAGE` äº‹ä»¶ä¸­è¢«æåŠçš„æ¬¡æ•°ã€‚

æœ€åˆæ‰€æœ‰ç”¨æˆ·éƒ½å¤„äºåœ¨çº¿çŠ¶æ€ï¼Œå¹¶ä¸”å¦‚æœæŸä¸ªç”¨æˆ·ç¦»çº¿æˆ–è€…é‡æ–°ä¸Šçº¿ï¼Œå…¶å¯¹åº”çš„çŠ¶æ€å˜æ›´å°†ä¼šåœ¨æ‰€æœ‰ç›¸åŒæ—¶é—´å‘ç”Ÿçš„æ¶ˆæ¯äº‹ä»¶ä¹‹å‰è¿›è¡Œå¤„ç†å’ŒåŒæ­¥ã€‚

**æ³¨æ„** åœ¨å•æ¡æ¶ˆæ¯ä¸­ï¼ŒåŒä¸€ä¸ªç”¨æˆ·å¯èƒ½ä¼šè¢«æåŠå¤šæ¬¡ã€‚æ¯æ¬¡æåŠéƒ½éœ€è¦è¢« **åˆ†åˆ«** ç»Ÿè®¡ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** numberOfUsers = 2, events = [["MESSAGE","10","id1
id0"],["OFFLINE","11","0"],["MESSAGE","71","HERE"]]

**è¾“å‡ºï¼š**[2,2]

**è§£é‡Šï¼š**

æœ€åˆï¼Œæ‰€æœ‰ç”¨æˆ·éƒ½åœ¨çº¿ã€‚

æ—¶é—´æˆ³ 10 ï¼Œ`id1` å’Œ `id0` è¢«æåŠï¼Œ`mentions = [1,1]`

æ—¶é—´æˆ³ 11 ï¼Œ`id0` **ç¦»çº¿** ã€‚

æ—¶é—´æˆ³ 71 ï¼Œ`id0` å†æ¬¡ **ä¸Šçº¿**  å¹¶ä¸” `"HERE"` è¢«æåŠï¼Œ`mentions = [2,2]`

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** numberOfUsers = 2, events = [["MESSAGE","10","id1
id0"],["OFFLINE","11","0"],["MESSAGE","12","ALL"]]

**è¾“å‡ºï¼š**[2,2]

**è§£é‡Šï¼š**

æœ€åˆï¼Œæ‰€æœ‰ç”¨æˆ·éƒ½åœ¨çº¿ã€‚

æ—¶é—´æˆ³ 10 ï¼Œ`id1` å’Œ `id0` è¢«æåŠï¼Œ`mentions = [1,1]`

æ—¶é—´æˆ³ 11 ï¼Œ`id0` **ç¦»çº¿** ã€‚

æ—¶é—´æˆ³ 12 ï¼Œ`"ALL"` è¢«æåŠã€‚è¿™ç§æ–¹å¼å°†ä¼šåŒ…æ‹¬æ‰€æœ‰ç¦»çº¿ç”¨æˆ·ï¼Œæ‰€ä»¥ `id0` å’Œ `id1` éƒ½è¢«æåŠï¼Œ`mentions = [2,2]`

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š** numberOfUsers = 2, events =
[["OFFLINE","10","0"],["MESSAGE","12","HERE"]]

**è¾“å‡ºï¼š**[0,1]

**è§£é‡Šï¼š**

æœ€åˆï¼Œæ‰€æœ‰ç”¨æˆ·éƒ½åœ¨çº¿ã€‚

æ—¶é—´æˆ³ 10 ï¼Œ`id0` **ç¦»çº¿**  **ã€‚**

æ—¶é—´æˆ³ 12 ï¼Œ`"HERE"` è¢«æåŠã€‚ç”±äº `id0` ä»å¤„äºç¦»çº¿çŠ¶æ€ï¼Œå…¶å°†ä¸ä¼šè¢«æåŠï¼Œ`mentions = [0,1]`



**æç¤ºï¼š**

  * `1 <= numberOfUsers <= 100`
  * `1 <= events.length <= 100`
  * `events[i].length == 3`
  * `events[i][0]` çš„å€¼ä¸º `MESSAGE` æˆ– `OFFLINE` ã€‚
  * `1 <= int(events[i][1]) <= 10^5`
  * åœ¨ä»»æ„ `"MESSAGE"` äº‹ä»¶ä¸­ï¼Œä»¥ `id<number>` å½¢å¼æåŠçš„ç”¨æˆ·æ•°ç›®ä»‹äº `1` å’Œ `100` ä¹‹é—´ã€‚
  * `0 <= <number> <= numberOfUsers - 1`
  * é¢˜ç›®ä¿è¯ `OFFLINE` å¼•ç”¨çš„ç”¨æˆ· id åœ¨äº‹ä»¶å‘ç”Ÿæ—¶å¤„äº **åœ¨çº¿** çŠ¶æ€ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```