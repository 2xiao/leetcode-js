# [3007. ä»·å€¼å’Œå°äºç­‰äº K çš„æœ€å¤§æ•°å­—](https://leetcode.com/problems/maximum-number-that-sum-of-the-prices-is-less-than-or-equal-to-k)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/outline/tag/bit-manipulation.md) [`äºŒåˆ†æŸ¥æ‰¾`](/outline/tag/binary-search.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-number-that-sum-of-the-prices-is-less-than-or-equal-to-k)

## é¢˜ç›®

You are given an integer `k` and an integer `x`. The price of a number `num`
is calculated by the count of set bits at positions `x`, `2x`, `3x`, etc., in
its binary representation, starting from the least significant bit. The
following table contains examples of how price is calculated.

x | num | Binary Representation | Price  
---|---|---|---  
1 | 13 | _0_ _0_ _0_ _0_ _0_** _1_**** _1_** _0_** _1_** | 3  
2 | 13 | 0 _0_ 0 _0_ 0** _1_** 1 _0_ 1 | 1  
2 | 233 | 0** _1_** 1** _1_** 0** _1_** 0 _0_ 1 | 3  
3 | 13 | _0_ 00 _0_ 01** _1_** 01 | 1  
3 | 362 | **_1_** 01** _1_** 01 _0_ 10 | 2  
  
The **accumulated price**  of `num` is the **total**  price of numbers from
`1` to `num`. `num` is considered **cheap**  if its accumulated price is less
than or equal to `k`.

Return the **greatest**  cheap number.



**Example 1:**

**Input:** k = 9, x = 1

**Output:** 6

**Explanation:**

As shown in the table below, `6` is the greatest cheap number.

x | num | Binary Representation | Price | Accumulated Price  
---|---|---|---|---  
1 | 1 | _0_ _0_** _1_** | 1 | 1  
1 | 2 | _0_** _1_** _0_ | 1 | 2  
1 | 3 | _0_** _1_**** _1_** | 2 | 4  
1 | 4 | **_1_** _0_ _0_ | 1 | 5  
1 | 5 | **_1_** _0_** _1_** | 2 | 7  
1 | 6 | **_1_**** _1_** _0_ | 2 | 9  
1 | 7 | **_1_**** _1_**** _1_** | 3 | 12  
  
**Example 2:**

**Input:** k = 7, x = 2

**Output:** 9

**Explanation:**

As shown in the table below, `9` is the greatest cheap number.

x | num | Binary Representation | Price | Accumulated Price  
---|---|---|---|---  
2 | 1 | _0_ 0 _0_ 1 | 0 | 0  
2 | 2 | _0_ 0** _1_** 0 | 1 | 1  
2 | 3 | _0_ 0** _1_** 1 | 1 | 2  
2 | 4 | _0_ 1 _0_ 0 | 0 | 2  
2 | 5 | _0_ 1 _0_ 1 | 0 | 2  
2 | 6 | _0_ 1** _1_** 0 | 1 | 3  
2 | 7 | _0_ 1** _1_** 1 | 1 | 4  
2 | 8 | **_1_** 0 _0_ 0 | 1 | 5  
2 | 9 | **_1_** 0 _0_ 1 | 1 | 6  
2 | 10 | **_1_** 0** _1_** 0 | 2 | 8  
  


**Constraints:**

  * `1 <= k <= 1015`
  * `1 <= x <= 8`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•° `k` å’Œä¸€ä¸ªæ•´æ•° `x` ã€‚æ•´æ•° `num` çš„ä»·å€¼æ˜¯å®ƒçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­åœ¨ `x`ï¼Œ`2x`ï¼Œ`3x` ç­‰ä½ç½®å¤„ **è®¾ç½®ä½**
çš„æ•°ç›®ï¼ˆä»æœ€ä½æœ‰æ•ˆä½å¼€å§‹ï¼‰ã€‚ä¸‹é¢çš„è¡¨æ ¼åŒ…å«äº†å¦‚ä½•è®¡ç®—ä»·å€¼çš„ä¾‹å­ã€‚

x | num | Binary Representation | Price  
---|---|---|---  
1 | 13 | _0_ _0_ _0_ _0_ _0_** _1_**** _1_** _0_** _1_** | 3  
2 | 13 | 0 _0_ 0 _0_ 0** _1_** 1 _0_ 1 | 1  
2 | 233 | 0** _1_** 1** _1_** 0** _1_** 0 _0_ 1 | 3  
3 | 13 | _0_ 00 _0_ 01** _1_** 01 | 1  
3 | 362 | **_1_** 01** _1_** 01 _0_ 10 | 2  
  


`num` çš„ **ç´¯åŠ ä»·å€¼** æ˜¯ä» `1` åˆ° `num` çš„æ•°å­—çš„ **æ€»** ä»·å€¼ã€‚å¦‚æœ `num` çš„ç´¯åŠ ä»·å€¼å°äºæˆ–ç­‰äº `k` åˆ™è¢«è®¤ä¸ºæ˜¯
**å»‰ä»·** çš„ã€‚

è¯·ä½ è¿”å›**  æœ€å¤§** çš„å»‰ä»·æ•°å­—ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** k = 9, x = 1
> 
> **è¾“å‡ºï¼š** 6
> 
> **è§£é‡Šï¼š** ç”±ä¸‹è¡¨æ‰€ç¤ºï¼Œ6 æ˜¯æœ€å¤§çš„å»‰ä»·æ•°å­—ã€‚
> 
> 

x | num | Binary Representation | Price | Accumulated Price  
---|---|---|---|---  
1 | 1 | _0_ _0_** _1_** | 1 | 1  
1 | 2 | _0_** _1_** _0_ | 1 | 2  
1 | 3 | _0_** _1_**** _1_** | 2 | 4  
1 | 4 | **_1_** _0_ _0_ | 1 | 5  
1 | 5 | **_1_** _0_** _1_** | 2 | 7  
1 | 6 | **_1_**** _1_** _0_ | 2 | 9  
1 | 7 | **_1_**** _1_**** _1_** | 3 | 12  
  
**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** k = 7, x = 2
> 
> **è¾“å‡ºï¼š** 9
> 
> **è§£é‡Šï¼š** ç”±ä¸‹è¡¨æ‰€ç¤ºï¼Œ9 æ˜¯æœ€å¤§çš„å»‰ä»·æ•°å­—ã€‚
> 
> 

x | num | Binary Representation | Price | Accumulated Price  
---|---|---|---|---  
2 | 1 | _0_ 0 _0_ 1 | 0 | 0  
2 | 2 | _0_ 0** _1_** 0 | 1 | 1  
2 | 3 | _0_ 0** _1_** 1 | 1 | 2  
2 | 4 | _0_ 1 _0_ 0 | 0 | 2  
2 | 5 | _0_ 1 _0_ 1 | 0 | 2  
2 | 6 | _0_ 1** _1_** 0 | 1 | 3  
2 | 7 | _0_ 1** _1_** 1 | 1 | 4  
2 | 8 | **_1_** 0 _0_ 0 | 1 | 5  
2 | 9 | **_1_** 0 _0_ 1 | 1 | 6  
2 | 10 | **_1_** 0** _1_** 0 | 2 | 8  
  


**æç¤ºï¼š**

  * `1 <= k <= 1015`
  * `1 <= x <= 8`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```