# [2440. åˆ›å»ºä»·å€¼ç›¸åŒçš„è¿é€šå—](https://2xiao.github.io/leetcode-js/problem/2440.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`æšä¸¾`](/tag/enumeration.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/create-components-with-same-value) [`LeetCode`](https://leetcode.com/problems/create-components-with-same-value)

## é¢˜ç›®

There is an undirected tree with `n` nodes labeled from `0` to `n - 1`.

You are given a **0-indexed** integer array `nums` of length `n` where
`nums[i]` represents the value of the `ith` node. You are also given a 2D
integer array `edges` of length `n - 1` where `edges[i] = [ai, bi]` indicates
that there is an edge between nodes `ai` and `bi` in the tree.

You are allowed to **delete** some edges, splitting the tree into multiple
connected components. Let the **value** of a component be the sum of **all**
`nums[i]` for which node `i` is in the component.

Return _the**maximum** number of edges you can delete, such that every
connected component in the tree has the same value._



**Example 1:**

![](https://assets.leetcode.com/uploads/2022/08/26/diagramdrawio.png)

> Input: nums = [6,2,2,2,6], edges = [[0,1],[1,2],[1,3],[3,4]] 
> 
> Output: 2 
> 
> Explanation: The above figure shows how we can delete the edges [0,1] and [3,4]. The created components are nodes [0], [1,2,3] and [4]. The sum of the values in each component equals 6. It can be proven that no better deletion exists, so the answer is 2.

**Example 2:**

> Input: nums = [2], edges = []
> 
> Output: 0
> 
> Explanation: There are no edges to be deleted.

**Constraints:**

  * `1 <= n <= 2 * 10^4`
  * `nums.length == n`
  * `1 <= nums[i] <= 50`
  * `edges.length == n - 1`
  * `edges[i].length == 2`
  * `0 <= edges[i][0], edges[i][1] <= n - 1`
  * `edges` represents a valid tree.


## é¢˜ç›®å¤§æ„

æœ‰ä¸€æ£µ `n` ä¸ªèŠ‚ç‚¹çš„æ— å‘æ ‘ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º `0` åˆ° `n - 1` ã€‚

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` ä¸‹æ ‡ä» **0**  å¼€å§‹çš„æ•´æ•°æ•°ç»„ `nums` ï¼Œå…¶ä¸­ `nums[i]` è¡¨ç¤ºç¬¬ `i` ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n
- 1` çš„äºŒç»´æ•´æ•°æ•°ç»„ `edges` ï¼Œå…¶ä¸­ `edges[i] = [ai, bi]` è¡¨ç¤ºèŠ‚ç‚¹ `ai` ä¸ `bi` ä¹‹é—´æœ‰ä¸€æ¡è¾¹ã€‚

ä½ å¯ä»¥ **åˆ é™¤**  ä¸€äº›è¾¹ï¼Œå°†è¿™æ£µæ ‘åˆ†æˆå‡ ä¸ªè¿é€šå—ã€‚ä¸€ä¸ªè¿é€šå—çš„ **ä»·å€¼**  å®šä¹‰ä¸ºè¿™ä¸ªè¿é€šå—ä¸­ **æ‰€æœ‰** èŠ‚ç‚¹ `i` å¯¹åº”çš„
`nums[i]` ä¹‹å’Œã€‚

ä½ éœ€è¦åˆ é™¤ä¸€äº›è¾¹ï¼Œåˆ é™¤åå¾—åˆ°çš„å„ä¸ªè¿é€šå—çš„ä»·å€¼éƒ½ç›¸ç­‰ã€‚è¯·è¿”å›ä½ å¯ä»¥åˆ é™¤çš„è¾¹æ•° **æœ€å¤š**  ä¸ºå¤šå°‘ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2022/08/26/diagramdrawio.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [6,2,2,2,6], edges = [[0,1],[1,2],[1,3],[3,4]] 
> 
> **è¾“å‡ºï¼š** 2 
> 
> **è§£é‡Šï¼š** ä¸Šå›¾å±•ç¤ºäº†æˆ‘ä»¬å¯ä»¥åˆ é™¤è¾¹ [0,1] å’Œ [3,4] ã€‚å¾—åˆ°çš„è¿é€šå—ä¸º [0] ï¼Œ[1,2,3] å’Œ [4] ã€‚æ¯ä¸ªè¿é€šå—çš„ä»·å€¼éƒ½ä¸º 6 ã€‚å¯ä»¥è¯æ˜æ²¡æœ‰åˆ«çš„æ›´å¥½çš„åˆ é™¤æ–¹æ¡ˆå­˜åœ¨äº†ï¼Œæ‰€ä»¥ç­”æ¡ˆä¸º 2 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [2], edges = []
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š** æ²¡æœ‰ä»»ä½•è¾¹å¯ä»¥åˆ é™¤ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= n <= 2 * 10^4`
  * `nums.length == n`
  * `1 <= nums[i] <= 50`
  * `edges.length == n - 1`
  * `edges[i].length == 2`
  * `0 <= edges[i][0], edges[i][1] <= n - 1`
  * `edges` è¡¨ç¤ºä¸€æ£µåˆæ³•çš„æ ‘ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 663 | [å‡åŒ€æ ‘åˆ’åˆ† ğŸ”’](https://leetcode.com/problems/equal-tree-partition) |  |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md) | <font color=#ffb800>Medium</font> |
| 2872 | [å¯ä»¥è¢« K æ•´é™¤è¿é€šå—çš„æœ€å¤§æ•°ç›®](https://leetcode.com/problems/maximum-number-of-k-divisible-components) |  |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) | <font color=#ff334b>Hard</font> |