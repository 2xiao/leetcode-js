# [1670. è®¾è®¡å‰ä¸­åé˜Ÿåˆ—](https://leetcode.com/problems/design-front-middle-back-queue)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/leetcode/outline/tag/design.md) [`é˜Ÿåˆ—`](/leetcode/outline/tag/queue.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`é“¾è¡¨`](/leetcode/outline/tag/linked-list.md) [`æ•°æ®æµ`](/leetcode/outline/tag/data-stream.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/design-front-middle-back-queue)


## é¢˜ç›®

Design a queue that supports `push` and `pop` operations in the front, middle,
and back.

Implement the `FrontMiddleBack` class:

  * `FrontMiddleBack()` Initializes the queue.
  * `void pushFront(int val)` Adds `val` to the **front** of the queue.
  * `void pushMiddle(int val)` Adds `val` to the **middle** of the queue.
  * `void pushBack(int val)` Adds `val` to the **back** of the queue.
  * `int popFront()` Removes the **front** element of the queue and returns it. If the queue is empty, return `-1`.
  * `int popMiddle()` Removes the **middle** element of the queue and returns it. If the queue is empty, return `-1`.
  * `int popBack()` Removes the **back** element of the queue and returns it. If the queue is empty, return `-1`.

**Notice** that when there are **two** middle position choices, the operation
is performed on the **frontmost** middle position choice. For example:

  * Pushing `6` into the middle of `[1, 2, 3, 4, 5]` results in `[1, 2, _6_ , 3, 4, 5]`.
  * Popping the middle from `[1, 2, _3_ , 4, 5, 6]` returns `3` and results in `[1, 2, 4, 5, 6]`.



**Example 1:**

> Input:
> 
> ["FrontMiddleBackQueue", "pushFront", "pushBack", "pushMiddle", "pushMiddle", "popFront", "popMiddle", "popMiddle", "popBack", "popFront"]
> 
> [[], [1], [2], [3], [4], [], [], [], [], []]
> 
> Output:
> 
> [null, null, null, null, null, 1, 3, 4, 2, -1]
> 
> 
> 
> Explanation:
> 
> FrontMiddleBackQueue q = new FrontMiddleBackQueue();
> 
> q.pushFront(1);   // [_1_]
> 
> q.pushBack(2);> 
> // [1, _2_]
> 
> q.pushMiddle(3);  // [1, _3_ , 2]
> 
> q.pushMiddle(4);  // [1, _4_ , 3, 2]
> 
> q.popFront();> 
>  // return 1 -> [4, 3, 2]
> 
> q.popMiddle();> 
> // return 3 -> [4, 2]
> 
> q.popMiddle();> 
> // return 4 -> [2]
> 
> q.popBack();> 
>   // return 2 -> []
> 
> q.popFront();> 
>  // return -1 -> [] (The queue is empty)

**Constraints:**

  * `1 <= val <= 10^9`
  * At most `1000` calls will be made to `pushFront`, `pushMiddle`, `pushBack`, `popFront`, `popMiddle`, and `popBack`.


## é¢˜ç›®å¤§æ„

è¯·ä½ è®¾è®¡ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ”¯æŒåœ¨å‰ï¼Œä¸­ï¼Œåä¸‰ä¸ªä½ç½®çš„ `push` å’Œ `pop` æ“ä½œã€‚

è¯·ä½ å®Œæˆ `FrontMiddleBack` ç±»ï¼š

  * `FrontMiddleBack()` åˆå§‹åŒ–é˜Ÿåˆ—ã€‚
  * `void pushFront(int val)` å°† `val` æ·»åŠ åˆ°é˜Ÿåˆ—çš„ **æœ€å‰é¢** ã€‚
  * `void pushMiddle(int val)` å°† `val` æ·»åŠ åˆ°é˜Ÿåˆ—çš„ **æ­£ä¸­é—´** ã€‚
  * `void pushBack(int val)` å°† `val` æ·»åŠ åˆ°é˜Ÿé‡Œçš„ **æœ€åé¢** ã€‚
  * `int popFront()` å°† **æœ€å‰é¢** çš„å…ƒç´ ä»é˜Ÿåˆ—ä¸­åˆ é™¤å¹¶è¿”å›å€¼ï¼Œå¦‚æœåˆ é™¤ä¹‹å‰é˜Ÿåˆ—ä¸ºç©ºï¼Œé‚£ä¹ˆè¿”å› `-1` ã€‚
  * `int popMiddle()` å°† **æ­£ä¸­é—´** çš„å…ƒç´ ä»é˜Ÿåˆ—ä¸­åˆ é™¤å¹¶è¿”å›å€¼ï¼Œå¦‚æœåˆ é™¤ä¹‹å‰é˜Ÿåˆ—ä¸ºç©ºï¼Œé‚£ä¹ˆè¿”å› `-1` ã€‚
  * `int popBack()` å°† **æœ€åé¢** çš„å…ƒç´ ä»é˜Ÿåˆ—ä¸­åˆ é™¤å¹¶è¿”å›å€¼ï¼Œå¦‚æœåˆ é™¤ä¹‹å‰é˜Ÿåˆ—ä¸ºç©ºï¼Œé‚£ä¹ˆè¿”å› `-1` ã€‚

è¯·æ³¨æ„å½“æœ‰ **ä¸¤ä¸ª** ä¸­é—´ä½ç½®çš„æ—¶å€™ï¼Œé€‰æ‹©é å‰é¢çš„ä½ç½®è¿›è¡Œæ“ä½œã€‚æ¯”æ–¹è¯´ï¼š

  * å°† `6` æ·»åŠ åˆ° `[1, 2, 3, 4, 5]` çš„ä¸­é—´ä½ç½®ï¼Œç»“æœæ•°ç»„ä¸º `[1, 2, **6** , 3, 4, 5]` ã€‚
  * ä» `[1, 2, **3** , 4, 5, 6]` çš„ä¸­é—´ä½ç½®å¼¹å‡ºå…ƒç´ ï¼Œè¿”å› `3` ï¼Œæ•°ç»„å˜ä¸º `[1, 2, 4, 5, 6]` ã€‚

**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> ["FrontMiddleBackQueue", "pushFront", "pushBack", "pushMiddle", "pushMiddle", "popFront", "popMiddle", "popMiddle", "popBack", "popFront"]
> 
> [[], [1], [2], [3], [4], [], [], [], [], []]
> 
> **è¾“å‡ºï¼š**
> 
> [null, null, null, null, null, 1, 3, 4, 2, -1]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> FrontMiddleBackQueue q = new FrontMiddleBackQueue();
> 
> q.pushFront(1);   // [**1**]
> 
> q.pushBack(2);> 
> // [1, **2**]
> 
> q.pushMiddle(3);  // [1, **3** , 2]
> 
> q.pushMiddle(4);  // [1, **4** , 3, 2]
> 
> q.popFront();> 
>  // è¿”å› 1 -> [4, 3, 2]
> 
> q.popMiddle();> 
> // è¿”å› 3 -> [4, 2]
> 
> q.popMiddle();> 
> // è¿”å› 4 -> [2]
> 
> q.popBack();> 
>   // è¿”å› 2 -> []
> 
> q.popFront();> 
>  // è¿”å› -1 -> [] ï¼ˆé˜Ÿåˆ—ä¸ºç©ºï¼‰
> 
> 

**æç¤ºï¼š**

  * `1 <= val <= 10^9`
  * æœ€å¤šè°ƒç”¨ `1000` æ¬¡ `pushFront`ï¼Œ `pushMiddle`ï¼Œ `pushBack`ï¼Œ `popFront`ï¼Œ `popMiddle` å’Œ `popBack` ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 622 | [è®¾è®¡å¾ªç¯é˜Ÿåˆ—](https://leetcode.com/problems/design-circular-queue) | [[âœ“]](https://2xiao.github.io/leetcode-js/leetcode/problem/0622) |  [`è®¾è®¡`](/leetcode/outline/tag/design.md) [`é˜Ÿåˆ—`](/leetcode/outline/tag/queue.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) `1+` | <font color=#ffb800>Medium</font> |
| 641 | [è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ—](https://leetcode.com/problems/design-circular-deque) | [[âœ“]](https://2xiao.github.io/leetcode-js/leetcode/problem/0641) |  [`è®¾è®¡`](/leetcode/outline/tag/design.md) [`é˜Ÿåˆ—`](/leetcode/outline/tag/queue.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) `1+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
