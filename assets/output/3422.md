---
title: 3422. å°†å­æ•°ç»„å…ƒç´ å˜ä¸ºç›¸ç­‰æ‰€éœ€çš„æœ€å°æ“ä½œæ•° ğŸ”’
description: LeetCode 3422. å°†å­æ•°ç»„å…ƒç´ å˜ä¸ºç›¸ç­‰æ‰€éœ€çš„æœ€å°æ“ä½œæ•° ğŸ”’é¢˜è§£ï¼ŒMinimum Operations to Make Subarray Elements Equalï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3422. å°†å­æ•°ç»„å…ƒç´ å˜ä¸ºç›¸ç­‰æ‰€éœ€çš„æœ€å°æ“ä½œæ•° ğŸ”’
  - å°†å­æ•°ç»„å…ƒç´ å˜ä¸ºç›¸ç­‰æ‰€éœ€çš„æœ€å°æ“ä½œæ•°
  - Minimum Operations to Make Subarray Elements Equal
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - æ•°å­¦
  - æ»‘åŠ¨çª—å£
  - å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰
---

# 3422. å°†å­æ•°ç»„å…ƒç´ å˜ä¸ºç›¸ç­‰æ‰€éœ€çš„æœ€å°æ“ä½œæ•° ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ•°å­¦`](/tag/math.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minimum-operations-to-make-subarray-elements-equal) [`LeetCode`](https://leetcode.com/problems/minimum-operations-to-make-subarray-elements-equal)

## é¢˜ç›®

You are given an integer array `nums` and an integer `k`. You can perform the
following operation any number of times:

  * Increase or decrease any element of `nums` by 1.

Return the **minimum** number of operations required to ensure that **at
least** one subarray of size `k` in `nums` has all elements equal.



**Example 1:**

**Input:** nums = [4,-3,2,1,-4,6], k = 3

**Output:** 5

**Explanation:**

  * Use 4 operations to add 4 to `nums[1]`. The resulting array is `[4, 1, 2, 1, -4, 6]`.
  * Use 1 operation to subtract 1 from `nums[2]`. The resulting array is `[4, 1, 1, 1, -4, 6]`.
  * The array now contains a subarray `[1, 1, 1]` of size `k = 3` with all elements equal. Hence, the answer is 5.

**Example 2:**

**Input:** nums = [-2,-2,3,1,4], k = 2

**Output:** 0

**Explanation:**

  * The subarray `[-2, -2]` of size `k = 2` already contains all equal elements, so no operations are needed. Hence, the answer is 0.



**Constraints:**

  * `2 <= nums.length <= 10^5`
  * `-10^6 <= nums[i] <= 10^6`
  * `2 <= k <= nums.length`


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k`ã€‚ä½ å¯ä»¥è¿›è¡Œä»»æ„æ¬¡ä»¥ä¸‹æ“ä½œï¼š

  * ç»™ `nums` çš„ä»»ä½•å…ƒç´ å¢åŠ æˆ–å‡å°‘ 1ã€‚

è¿”å›ç¡®ä¿ **è‡³å°‘** æœ‰ä¸€ä¸ªå¤§å°ä¸º `k` çš„ `nums` ä¸­çš„ å­æ•°ç»„ çš„æ‰€æœ‰å…ƒç´ éƒ½ç›¸ç­‰çš„æ‰€éœ€çš„ **æœ€å°** æ“ä½œæ•°ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** nums = [4,-3,2,1,-4,6], k = 3

**è¾“å‡ºï¼š** 5

**è§£é‡Šï¼š**

  * ä½¿ç”¨ 4 æ¬¡æ“ä½œæ¥ç»™ `nums[1]` å¢åŠ  4ã€‚ç»“æœæ•°ç»„ä¸º `[4, 1, 2, 1, -4, 6]`ã€‚
  * ä½¿ç”¨ 1 æ¬¡æ“ä½œæ¥ç»™ `nums[2]` å‡å°‘ 1ã€‚ç»“æœæ•°ç»„ä¸º `[4, 1, 1, 1, -4, 6]`ã€‚
  * ç°åœ¨æ•°ç»„åŒ…å«ä¸€ä¸ªå¤§å°ä¸º `k = 3` çš„å­æ•°ç»„ `[1, 1, 1]`ï¼Œæ‰€æœ‰å…ƒç´ éƒ½æƒ³ç­‰ã€‚å› æ­¤ï¼Œç­”æ¡ˆä¸º 5ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** nums = [-2,-2,3,1,4], k = 2

**è¾“å‡ºï¼š** 0

**è§£é‡Šï¼š**

  * å¤§å°ä¸º `k = 2` çš„å­æ•°ç»„ `[-2, -2]` å·²ç»åŒ…å«äº†æ‰€æœ‰ç›¸ç­‰çš„å…ƒç´ ï¼Œæ‰€ä»¥ä¸éœ€è¦æ“ä½œã€‚å› æ­¤ç­”æ¡ˆä¸º 0ã€‚



**æç¤ºï¼š**

  * `2 <= nums.length <= 10^5`
  * `-10^6 <= nums[i] <= 10^6`
  * `2 <= k <= nums.length`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 295 | æ•°æ®æµçš„ä¸­ä½æ•° | [[âœ“]](/problem/0295.md) |  [`è®¾è®¡`](/tag/design.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`æ•°æ®æµ`](/tag/data-stream.md) `2+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/find-median-from-data-stream) [ğŸ”—](https://leetcode.com/problems/find-median-from-data-stream) |
| 462 | æœ€å°æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰ II | [[âœ“]](/problem/0462.md) |  [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`æ’åº`](/tag/sorting.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-moves-to-equal-array-elements-ii) [ğŸ”—](https://leetcode.com/problems/minimum-moves-to-equal-array-elements-ii) |