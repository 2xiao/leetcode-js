# [1339. åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯](https://leetcode.com/problems/maximum-product-of-splitted-binary-tree)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/leetcode/outline/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md) [`äºŒå‰æ ‘`](/leetcode/outline/tag/binary-tree.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-product-of-splitted-binary-tree)


## é¢˜ç›®

Given the `root` of a binary tree, split the binary tree into two subtrees by
removing one edge such that the product of the sums of the subtrees is
maximized.

Return _the maximum product of the sums of the two subtrees_. Since the answer
may be too large, return it **modulo** `109 + 7`.

**Note** that you need to maximize the answer before taking the mod and not
after taking it.



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/01/21/sample_1_1699.png)

> Input: root = [1,2,3,4,5,6]
> 
> Output: 110
> 
> Explanation: Remove the red edge and get 2 binary trees with sum 11 and 10. Their product is 110 (11*10)

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/01/21/sample_2_1699.png)

> Input: root = [1,null,2,3,4,null,null,5,6]
> 
> Output: 90
> 
> Explanation: Remove the red edge and get 2 binary trees with sum 15 and 6.Their product is 90 (15*6)

**Constraints:**

  * The number of nodes in the tree is in the range `[2, 5 * 104]`.
  * `1 <= Node.val <= 10^4`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œå®ƒçš„æ ¹ä¸º `root` ã€‚è¯·ä½ åˆ é™¤ 1 æ¡è¾¹ï¼Œä½¿äºŒå‰æ ‘åˆ†è£‚æˆä¸¤æ£µå­æ ‘ï¼Œä¸”å®ƒä»¬å­æ ‘å’Œçš„ä¹˜ç§¯å°½å¯èƒ½å¤§ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·ä½ å°†ç»“æœå¯¹ 10^9 + 7 å–æ¨¡åå†è¿”å›ã€‚



**ç¤ºä¾‹ 1ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/02/02/sample_1_1699.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** root = [1,2,3,4,5,6]
> 
> **è¾“å‡ºï¼š** 110
> 
> **è§£é‡Šï¼š** åˆ é™¤çº¢è‰²çš„è¾¹ï¼Œå¾—åˆ° 2 æ£µå­æ ‘ï¼Œå’Œåˆ†åˆ«ä¸º 11 å’Œ 10 ã€‚å®ƒä»¬çš„ä¹˜ç§¯æ˜¯ 110 ï¼ˆ11*10ï¼‰
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/02/02/sample_2_1699.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** root = [1,null,2,3,4,null,null,5,6]
> 
> **è¾“å‡ºï¼š** 90
> 
> **è§£é‡Šï¼š** ç§»é™¤çº¢è‰²çš„è¾¹ï¼Œå¾—åˆ° 2 æ£µå­æ ‘ï¼Œå’Œåˆ†åˆ«æ˜¯ 15 å’Œ 6 ã€‚å®ƒä»¬çš„ä¹˜ç§¯ä¸º 90 ï¼ˆ15*6ï¼‰
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** root = [2,3,9,10,7,8,6,5,4,11,1]
> 
> **è¾“å‡ºï¼š** 1025
> 
> 

**ç¤ºä¾‹ 4ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** root = [1,1]
> 
> **è¾“å‡ºï¼š** 1
> 
> 



**æç¤ºï¼š**

  * æ¯æ£µæ ‘æœ€å¤šæœ‰ `50000` ä¸ªèŠ‚ç‚¹ï¼Œä¸”è‡³å°‘æœ‰ `2` ä¸ªèŠ‚ç‚¹ã€‚
  * æ¯ä¸ªèŠ‚ç‚¹çš„å€¼åœ¨ `[1, 10000]` ä¹‹é—´ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2049 | [ç»Ÿè®¡æœ€é«˜åˆ†çš„èŠ‚ç‚¹æ•°ç›®](https://leetcode.com/problems/count-nodes-with-the-highest-score) |  |  [`æ ‘`](/leetcode/outline/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) `1+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
