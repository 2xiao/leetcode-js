# [2654. ä½¿æ•°ç»„æ‰€æœ‰å…ƒç´ å˜æˆ 1 çš„æœ€å°‘æ“ä½œæ¬¡æ•°](https://leetcode.com/problems/minimum-number-of-operations-to-make-all-array-elements-equal-to-1)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`æ•°è®º`](/tag/number-theory.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/minimum-number-of-operations-to-make-all-array-elements-equal-to-1)

## é¢˜ç›®

You are given a **0-indexed**  array `nums` consisiting of **positive**
integers. You can do the following operation on the array **any** number of
times:

  * Select an index `i` such that `0 <= i < n - 1` and replace either of `nums[i]` or `nums[i+1]` with their gcd value.

Return _the**minimum** number of operations to make all elements of _`nums`
_equal to_`1`. If it is impossible, return `-1`.

The gcd of two integers is the greatest common divisor of the two integers.



**Example 1:**

> Input: nums = [2,6,3,4]
> 
> Output: 4
> 
> Explanation: We can do the following operations:
> - Choose index i = 2 and replace nums[2] with gcd(3,4) = 1. Now we have nums = [2,6,1,4].
> - Choose index i = 1 and replace nums[1] with gcd(6,1) = 1. Now we have nums = [2,1,1,4].
> - Choose index i = 0 and replace nums[0] with gcd(2,1) = 1. Now we have nums = [1,1,1,4].
> - Choose index i = 2 and replace nums[3] with gcd(1,4) = 1. Now we have nums = [1,1,1,1].

**Example 2:**

> Input: nums = [2,10,6,14]
> 
> Output: -1
> 
> Explanation: It can be shown that it is impossible to make all the elements equal to 1.

**Constraints:**

  * `2 <= nums.length <= 50`
  * `1 <= nums[i] <= 10^6`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹çš„ **æ­£**  æ•´æ•°æ•°ç»„ `nums` ã€‚ä½ å¯ä»¥å¯¹æ•°ç»„æ‰§è¡Œä»¥ä¸‹æ“ä½œ **ä»»æ„**  æ¬¡ï¼š

  * é€‰æ‹©ä¸€ä¸ªæ»¡è¶³ `0 <= i < n - 1` çš„ä¸‹æ ‡ `i` ï¼Œå°† `nums[i]` æˆ–è€… `nums[i+1]` ä¸¤è€…ä¹‹ä¸€æ›¿æ¢æˆå®ƒä»¬çš„æœ€å¤§å…¬çº¦æ•°ã€‚

è¯·ä½ è¿”å›ä½¿æ•°ç»„ `nums` ä¸­æ‰€æœ‰å…ƒç´ éƒ½ç­‰äº `1` çš„ **æœ€å°‘**  æ“ä½œæ¬¡æ•°ã€‚å¦‚æœæ— æ³•è®©æ•°ç»„å…¨éƒ¨å˜æˆ `1` ï¼Œè¯·ä½ è¿”å› `-1` ã€‚

ä¸¤ä¸ªæ­£æ•´æ•°çš„æœ€å¤§å…¬çº¦æ•°æŒ‡çš„æ˜¯èƒ½æ•´é™¤è¿™ä¸¤ä¸ªæ•°çš„æœ€å¤§æ­£æ•´æ•°ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [2,6,3,4]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** æˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š
> - é€‰æ‹©ä¸‹æ ‡ i = 2 ï¼Œå°† nums[2] æ›¿æ¢ä¸º gcd(3,4) = 1 ï¼Œå¾—åˆ° nums = [2,6,1,4] ã€‚
> - é€‰æ‹©ä¸‹æ ‡ i = 1 ï¼Œå°† nums[1] æ›¿æ¢ä¸º gcd(6,1) = 1 ï¼Œå¾—åˆ° nums = [2,1,1,4] ã€‚
> - é€‰æ‹©ä¸‹æ ‡ i = 0 ï¼Œå°† nums[0] æ›¿æ¢ä¸º gcd(2,1) = 1 ï¼Œå¾—åˆ° nums = [1,1,1,4] ã€‚
> - é€‰æ‹©ä¸‹æ ‡ i = 2 ï¼Œå°† nums[3] æ›¿æ¢ä¸º gcd(1,4) = 1 ï¼Œå¾—åˆ° nums = [1,1,1,1] ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [2,10,6,14]
> 
> **è¾“å‡ºï¼š** -1
> 
> **è§£é‡Šï¼š** æ— æ³•å°†æ‰€æœ‰å…ƒç´ éƒ½å˜æˆ 1 ã€‚
> 
> 



**æç¤ºï¼š**

  * `2 <= nums.length <= 50`
  * `1 <= nums[i] <= 10^6`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```