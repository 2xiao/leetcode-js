# [430. æ‰å¹³åŒ–å¤šçº§åŒå‘é“¾è¡¨](https://leetcode.com/problems/flatten-a-multilevel-doubly-linked-list)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md) [`é“¾è¡¨`](/leetcode/outline/tag/linked-list.md) [`åŒå‘é“¾è¡¨`](/leetcode/outline/tag/doubly-linked-list.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/flatten-a-multilevel-doubly-linked-list)


## é¢˜ç›®

You are given a doubly linked list, which contains nodes that have a next
pointer, a previous pointer, and an additional **child pointer**. This child
pointer may or may not point to a separate doubly linked list, also containing
these special nodes. These child lists may have one or more children of their
own, and so on, to produce a **multilevel data structure** as shown in the
example below.

Given the `head` of the first level of the list, **flatten** the list so that
all the nodes appear in a single-level, doubly linked list. Let `curr` be a
node with a child list. The nodes in the child list should appear **after**
`curr` and **before** `curr.next` in the flattened list.

Return _the_`head` _of the flattened list. The nodes in the list must
have**all** of their child pointers set to _`null`.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/11/09/flatten11.jpg)

> Input: head = [1,2,3,4,5,6,null,null,null,7,8,9,10,null,null,11,12]
> 
> Output: [1,2,3,7,8,11,12,9,10,4,5,6]
> 
> Explanation: The multilevel linked list in the input is shown.
> 
> After flattening the multilevel linked list it becomes:
> 
> ![](https://assets.leetcode.com/uploads/2021/11/09/flatten12.jpg)

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/11/09/flatten2.1jpg)

> Input: head = [1,2,null,3]
> 
> Output: [1,3,2]
> 
> Explanation: The multilevel linked list in the input is shown.
> 
> After flattening the multilevel linked list it becomes:
> 
> ![](https://assets.leetcode.com/uploads/2021/11/24/list.jpg)

**Example 3:**

> Input: head = []
> 
> Output: []
> 
> Explanation: There could be empty list in the input.

**Constraints:**

  * The number of Nodes will not exceed `1000`.
  * `1 <= Node.val <= 10^5`



**How the multilevel linked list is represented in test cases:**

We use the multilevel linked list from **Example 1** above:

> 
> 
> 
> 
> 
>  1---2---3---4---5---6--NULL
> 
> > 
> > 
>  |
> 
> > 
> > 
>  7---8---9---10--NULL
> 
> > 
> > 
> > 
>  |
> 
> > 
> > 
> > 
>  11--12--NULL

The serialization of each level is as follows:

> 
> 
> 
> 
> 
> [1,2,3,4,5,6,null]
> 
> [7,8,9,10,null]
> 
> [11,12,null]
> 
> 

To serialize all levels together, we will add nulls in each level to signify
no node connects to the upper node of the previous level. The serialization
becomes:

> 
> 
> 
> 
> 
> [1,> 
> 2,> 
> 3, 4, 5, 6, null]
> 
> > 
> > 
> > 
>  |
> 
> [null, null, 7,> 
> 8, 9, 10, null]
> 
> > 
> > 
> > 
> > 
>    |
> 
> [> 
> > 
> > 
> null, 11, 12, null]
> 
> 

Merging the serialization of each level and removing trailing nulls we obtain:

> 
> 
> 
> 
> 
> [1,2,3,4,5,6,null,null,null,7,8,9,10,null,null,11,12]
> 
> 


## é¢˜ç›®å¤§æ„

ä½ ä¼šå¾—åˆ°ä¸€ä¸ªåŒé“¾è¡¨ï¼Œå…¶ä¸­åŒ…å«çš„èŠ‚ç‚¹æœ‰ä¸€ä¸ªä¸‹ä¸€ä¸ªæŒ‡é’ˆã€ä¸€ä¸ªå‰ä¸€ä¸ªæŒ‡é’ˆå’Œä¸€ä¸ªé¢å¤–çš„ **å­æŒ‡é’ˆ**
ã€‚è¿™ä¸ªå­æŒ‡é’ˆå¯èƒ½æŒ‡å‘ä¸€ä¸ªå•ç‹¬çš„åŒå‘é“¾è¡¨ï¼Œä¹ŸåŒ…å«è¿™äº›ç‰¹æ®Šçš„èŠ‚ç‚¹ã€‚è¿™äº›å­åˆ—è¡¨å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè‡ªå·±çš„å­åˆ—è¡¨ï¼Œä»¥æ­¤ç±»æ¨ï¼Œä»¥ç”Ÿæˆå¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤ºçš„
**å¤šå±‚æ•°æ®ç»“æ„** ã€‚

ç»™å®šé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œå°†é“¾è¡¨ **æ‰å¹³åŒ–** ï¼Œä»¥ä¾¿æ‰€æœ‰èŠ‚ç‚¹éƒ½å‡ºç°åœ¨å•å±‚åŒé“¾è¡¨ä¸­ã€‚è®© `curr`
æ˜¯ä¸€ä¸ªå¸¦æœ‰å­åˆ—è¡¨çš„èŠ‚ç‚¹ã€‚å­åˆ—è¡¨ä¸­çš„èŠ‚ç‚¹åº”è¯¥å‡ºç°åœ¨**æ‰å¹³åŒ–åˆ—è¡¨** ä¸­çš„ `curr` **ä¹‹å** å’Œ `curr.next` **ä¹‹å‰** ã€‚

è¿”å› _æ‰å¹³åˆ—è¡¨çš„`head` ã€‚åˆ—è¡¨ä¸­çš„èŠ‚ç‚¹å¿…é¡»å°†å…¶ **æ‰€æœ‰** å­æŒ‡é’ˆè®¾ç½®ä¸º `null` ã€‚_



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/11/09/flatten11.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** head = [1,2,3,4,5,6,null,null,null,7,8,9,10,null,null,11,12]
> 
> **è¾“å‡ºï¼š**[1,2,3,7,8,11,12,9,10,4,5,6]
> 
> **è§£é‡Šï¼š** è¾“å…¥çš„å¤šçº§åˆ—è¡¨å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚
> 
> æ‰å¹³åŒ–åçš„é“¾è¡¨å¦‚ä¸‹å›¾ï¼š
> 
> ![](https://assets.leetcode.com/uploads/2021/11/09/flatten12.jpg)
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/11/09/flatten2.1jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** head = [1,2,null,3]
> 
> **è¾“å‡ºï¼š**[1,3,2]
> 
> **è§£é‡Šï¼š** è¾“å…¥çš„å¤šçº§åˆ—è¡¨å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚
> 
> æ‰å¹³åŒ–åçš„é“¾è¡¨å¦‚ä¸‹å›¾ï¼š
> 
> ![](https://assets.leetcode.com/uploads/2021/11/24/list.jpg)
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** head = []
> 
> **è¾“å‡ºï¼š**[]
> 
> **è¯´æ˜ï¼š** è¾“å…¥ä¸­å¯èƒ½å­˜åœ¨ç©ºåˆ—è¡¨ã€‚
> 
> 



**æç¤ºï¼š**

  * èŠ‚ç‚¹æ•°ç›®ä¸è¶…è¿‡ `1000`
  * `1 <= Node.val <= 10^5`



**å¦‚ä½•è¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹ä¸­çš„å¤šçº§é“¾è¡¨ï¼Ÿ**

ä»¥ **ç¤ºä¾‹ 1** ä¸ºä¾‹ï¼š

> 
> 
> 
> 
> 
>  1---2---3---4---5---6--NULL
> 
> > 
> > 
>  |
> 
> > 
> > 
>  7---8---9---10--NULL
> 
> > 
> > 
> > 
>  |
> 
> > 
> > 
> > 
>  11--12--NULL

åºåˆ—åŒ–å…¶ä¸­çš„æ¯ä¸€çº§ä¹‹åï¼š

> 
> 
> 
> 
> 
> [1,2,3,4,5,6,null]
> 
> [7,8,9,10,null]
> 
> [11,12,null]
> 
> 

ä¸ºäº†å°†æ¯ä¸€çº§éƒ½åºåˆ—åŒ–åˆ°ä¸€èµ·ï¼Œæˆ‘ä»¬éœ€è¦æ¯ä¸€çº§ä¸­æ·»åŠ å€¼ä¸º null çš„å…ƒç´ ï¼Œä»¥è¡¨ç¤ºæ²¡æœ‰èŠ‚ç‚¹è¿æ¥åˆ°ä¸Šä¸€çº§çš„ä¸Šçº§èŠ‚ç‚¹ã€‚

> 
> 
> 
> 
> 
> [1,2,3,4,5,6,null]
> 
> [null,null,7,8,9,10,null]
> 
> [null,11,12,null]
> 
> 

åˆå¹¶æ‰€æœ‰åºåˆ—åŒ–ç»“æœï¼Œå¹¶å»é™¤æœ«å°¾çš„ null ã€‚

> 
> 
> 
> 
> 
> [1,2,3,4,5,6,null,null,null,7,8,9,10,null,null,11,12]
> 
> 


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨](https://leetcode.com/problems/flatten-binary-tree-to-linked-list)
- [çº æ­£äºŒå‰æ ‘](https://leetcode.com/problems/correct-a-binary-tree)

::::
