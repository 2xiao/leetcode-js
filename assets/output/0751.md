# [751. IP åˆ° CIDR ğŸ”’](https://2xiao.github.io/leetcode-js/problem/0751.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/ip-to-cidr) [`LeetCode`](https://leetcode.com/problems/ip-to-cidr)

## é¢˜ç›®

An **IP address** is a formatted 32-bit unsigned integer where each group of 8
bits is printed as a decimal number and the dot character `'.'` splits the
groups.

  * For example, the binary number `00001111 10001000 11111111 01101011` (spaces added for clarity) formatted as an IP address would be `"15.136.255.107"`.

A **CIDR block** is a format used to denote a specific set of IP addresses. It
is a string consisting of a base IP address, followed by a slash, followed by
a prefix length `k`. The addresses it covers are all the IPs whose **first`k`
bits** are the same as the base IP address.

  * For example, `"123.45.67.89/20"` is a CIDR block with a prefix length of `20`. Any IP address whose binary representation matches `01111011 00101101 0100xxxx xxxxxxxx`, where `x` can be either `0` or `1`, is in the set covered by the CIDR block.

You are given a start IP address `ip` and the number of IP addresses we need
to cover `n`. Your goal is to use **as few CIDR blocks as possible** to cover
all the IP addresses in the **inclusive** range `[ip, ip + n - 1]`
**exactly**. No other IP addresses outside of the range should be covered.

Return _the**shortest** list of **CIDR blocks** that covers the range of IP
addresses. If there are multiple answers, return **any** of them_.



**Example 1:**

> Input: ip = "255.0.0.7", n = 10
> 
> Output: ["255.0.0.7/32","255.0.0.8/29","255.0.0.16/32"]
> 
> Explanation:
> 
> The IP addresses that need to be covered are:
> - 255.0.0.7  -> 11111111 00000000 00000000 00000111
> - 255.0.0.8  -> 11111111 00000000 00000000 00001000
> - 255.0.0.9  -> 11111111 00000000 00000000 00001001
> - 255.0.0.10 -> 11111111 00000000 00000000 00001010
> - 255.0.0.11 -> 11111111 00000000 00000000 00001011
> - 255.0.0.12 -> 11111111 00000000 00000000 00001100
> - 255.0.0.13 -> 11111111 00000000 00000000 00001101
> - 255.0.0.14 -> 11111111 00000000 00000000 00001110
> - 255.0.0.15 -> 11111111 00000000 00000000 00001111
> - 255.0.0.16 -> 11111111 00000000 00000000 00010000
> 
> The CIDR block "255.0.0.7/32" covers the first address.
> 
> The CIDR block "255.0.0.8/29" covers the middle 8 addresses (binary format of 11111111 00000000 00000000 00001xxx).
> 
> The CIDR block "255.0.0.16/32" covers the last address.
> 
> Note that while the CIDR block "255.0.0.0/28" does cover all the addresses, it also includes addresses outside of the range, so we cannot use it.

**Example 2:**

> Input: ip = "117.145.102.62", n = 8
> 
> Output: ["117.145.102.62/31","117.145.102.64/30","117.145.102.68/31"]

**Constraints:**

  * `7 <= ip.length <= 15`
  * `ip` is a valid **IPv4** on the form `"a.b.c.d"` where `a`, `b`, `c`, and `d` are integers in the range `[0, 255]`.
  * `1 <= n <= 1000`
  * Every implied address `ip + x` (for `x < n`) will be a valid IPv4 address.


## é¢˜ç›®å¤§æ„

**IPåœ°å€** æ˜¯ä¸€ä¸ªæ ¼å¼åŒ–çš„ 32ä½ æ— ç¬¦å·æ•´æ•°ï¼Œæ¯ç»„ 8ä½ è¢«æ‰“å°ä¸ºä¸€ä¸ªåè¿›åˆ¶æ•°å­—å’Œï¼Œç‚¹å­—ç¬¦ `'.'` èµ·åˆ°äº†åˆ†ç»„çš„ä½œç”¨ã€‚

  * ä¾‹å¦‚ï¼ŒäºŒè¿›åˆ¶æ•° `00001111 10001000 11111111 01101011` ( ä¸ºæ¸…æ™°èµ·è§å¢åŠ äº†ç©ºæ ¼)è¢«æ ¼å¼åŒ–ä¸ºIPåœ°å€å°†æ˜¯ `â€œ15.136.255.107â€` ã€‚

**CIDRå—** æ˜¯ä¸€ç§ç”¨æ¥è¡¨ç¤ºä¸€ç»„ç‰¹å®šIPåœ°å€çš„æ ¼å¼ã€‚å­—ç¬¦ä¸²å½¢å¼ï¼Œç”±åŸºç¡€IPåœ°å€ã€æ–œæ å’Œå‰ç¼€é•¿åº¦ `k` ç»„æˆã€‚å®ƒæ‰€è¦†ç›–çš„åœ°å€æ˜¯æ‰€æœ‰IPåœ°å€çš„
**å‰`k` ä½** ä¸åŸºç¡€IPåœ°å€ç›¸åŒçš„IPåœ°å€ã€‚

  * ä¾‹å¦‚ï¼Œ `â€œ123.45.67.89/20â€` æ˜¯ä¸€ä¸ªå‰ç¼€é•¿åº¦ä¸º `20` çš„ **CIDRå—** ã€‚ä»»ä½•äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼åŒ¹é… `01111011 00101101 0100xxxx xxxxxxxx` çš„IPåœ°å€ï¼Œå…¶ä¸­ `x` å¯ä»¥æ˜¯ `0` æˆ– `1` ï¼Œéƒ½åœ¨CIDRå—è¦†ç›–çš„é›†åˆä¸­ã€‚

ç»™ä½ ä¸€ä¸ªèµ·å§‹IPåœ°å€ `ip` å’Œæˆ‘ä»¬éœ€è¦è¦†ç›–çš„IPåœ°å€æ•°é‡ `n` ã€‚ä½ çš„ç›®æ ‡æ˜¯ä½¿ç”¨ **å°½å¯èƒ½å°‘çš„CIDRå—** æ¥ **è¦†ç›–èŒƒå›´  `[ip, ip
+ n - 1]` å†…çš„æ‰€æœ‰IPåœ°å€** ã€‚ä¸åº”è¯¥è¦†ç›–èŒƒå›´ä¹‹å¤–çš„å…¶ä»–IPåœ°å€ã€‚

è¿”å› _åŒ…å«IPåœ°å€èŒƒå›´çš„**CIDRå—** çš„ **æœ€çŸ­** åˆ—è¡¨ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¿”å›å…¶ä¸­ **ä»»ä½•** ä¸€ä¸ª _ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** ip = "255.0.0.7", n = 10
> 
> **è¾“å‡ºï¼š**["255.0.0.7/32","255.0.0.8/29","255.0.0.16/32"]
> 
> **è§£é‡Šï¼š** éœ€è¦è¦†ç›–çš„IPåœ°å€æœ‰:
> - 255.0.0.7 -> 11111111 00000000 00000000 00000111
> - 255.0.0.8 -> 11111111 00000000 00000000 00001000
> - 255.0.0.9 -> 11111111 00000000 00000000 00001001
> - 255.0.0.10 -> 11111111 00000000 00000000 00001010
> - 255.0.0.11 -> 11111111 00000000 00000000 00001011
> - 255.0.0.12 -> 11111111 00000000 00000000 00001100
> - 255.0.0.13 -> 11111111 00000000 00000000 00001101
> - 255.0.0.14 -> 11111111 00000000 00000000 00001110
> - 255.0.0.15 -> 11111111 00000000 00000000 00001111
> - 255.0.0.16 -> 11111111 00000000 00000000 00010000
> 
> CIDRåŒºå—â€œ255.0.0.7/32â€åŒ…å«ç¬¬ä¸€ä¸ªåœ°å€ã€‚
> 
> CIDRåŒºå—255.0.0.8/29åŒ…å«ä¸­é—´çš„8ä¸ªåœ°å€(äºŒè¿›åˆ¶æ ¼å¼ä¸º11111111 00000000 00000000 00001xxx)ã€‚
> 
> CIDRåŒºå—â€œ255.0.0.16/32â€åŒ…å«æœ€åä¸€ä¸ªåœ°å€ã€‚
> 
> è¯·æ³¨æ„ï¼Œè™½ç„¶CIDRåŒºå—â€œ255.0.0.0/28â€è¦†ç›–äº†æ‰€æœ‰çš„åœ°å€ï¼Œä½†å®ƒä¹ŸåŒ…æ‹¬èŒƒå›´ä¹‹å¤–çš„åœ°å€ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨å®ƒã€‚
> 
> 

**ç¤ºä¾‹ 2:**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** ip = "117.145.102.62", n = 8
> 
> **è¾“å‡ºï¼š**["117.145.102.62/31","117.145.102.64/30","117.145.102.68/31"]
> 
> 



**æç¤º:**

  * `7 <= ip.length <= 15`
  * `ip` æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ **IPv4**  ï¼Œå½¢å¼ä¸º `"a.b.c.d"` ï¼Œå…¶ä¸­ `a`, `b`, `c`,  `d` æ˜¯ `[0, 255]` èŒƒå›´å†…çš„æ•´æ•°
  * `1 <= n <= 1000`
  * æ¯ä¸ªéšå«åœ°å€ `ip + x` ( `x < n`) éƒ½æ˜¯æœ‰æ•ˆçš„ IPv4 åœ°å€


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 93 | [å¤åŸ IP åœ°å€](https://leetcode.com/problems/restore-ip-addresses) | [[âœ“]](/problem/0093.md) |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`å›æº¯`](/tag/backtracking.md) | <font color=#ffb800>Medium</font> |
| 468 | [éªŒè¯IPåœ°å€](https://leetcode.com/problems/validate-ip-address) |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) | <font color=#ffb800>Medium</font> |