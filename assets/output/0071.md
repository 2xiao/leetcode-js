# [71. ç®€åŒ–è·¯å¾„](https://leetcode.com/problems/simplify-path)

ðŸŸ  <font color=#ffb800>Medium</font>&emsp; ðŸ”–&ensp; [`æ ˆ`](/leetcode/outline/tag/stack.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md)&emsp; ðŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/simplify-path)

## é¢˜ç›®

You are given an _absolute_ path for a Unix-style file system, which always
begins with a slash `'/'`. Your task is to transform this absolute path into
its **simplified canonical path**.

The _rules_ of a Unix-style file system are as follows:

  * A single period `'.'` represents the current directory.
  * A double period `'..'` represents the previous/parent directory.
  * Multiple consecutive slashes such as `'//'` and `'///'` are treated as a single slash `'/'`.
  * Any sequence of periods that does **not match** the rules above should be treated as a **valid directory or** **file****name**. For example, `'...' `and `'....'` are valid directory or file names.

The simplified canonical path should follow these _rules_ :

  * The path must start with a single slash `'/'`.
  * Directories within the path must be separated by exactly one slash `'/'`.
  * The path must not end with a slash `'/'`, unless it is the root directory.
  * The path must not have any single or double periods (`'.'` and `'..'`) used to denote current or parent directories.

Return the **simplified canonical path**.



**Example 1:**

**Input:** path = "/home/"

**Output:** "/home"

**Explanation:**

The trailing slash should be removed.

**Example 2:**

**Input:** path = "/home//foo/"

**Output:** "/home/foo"

**Explanation:**

Multiple consecutive slashes are replaced by a single one.

**Example 3:**

**Input:** path = "/home/user/Documents/../Pictures"

**Output:** "/home/user/Pictures"

**Explanation:**

A double period `".."` refers to the directory up a level (the parent
directory).

**Example 4:**

**Input:** path = "/../"

**Output:** "/"

**Explanation:**

Going one level up from the root directory is not possible.

**Example 5:**

**Input:** path = "/.../a/../b/c/../d/./"

**Output:** "/.../b/d"

**Explanation:**

`"..."` is a valid name for a directory in this problem.



**Constraints:**

  * `1 <= path.length <= 3000`
  * `path` consists of English letters, digits, period `'.'`, slash `'/'` or `'_'`.
  * `path` is a valid absolute Unix path.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `path` ï¼Œè¡¨ç¤ºæŒ‡å‘æŸä¸€æ–‡ä»¶æˆ–ç›®å½•çš„ Unix é£Žæ ¼ **ç»å¯¹è·¯å¾„** ï¼ˆä»¥ `'/'` å¼€å¤´ï¼‰ï¼Œè¯·ä½ å°†å…¶è½¬åŒ–ä¸º
**æ›´åŠ ç®€æ´çš„è§„èŒƒè·¯å¾„** ã€‚

åœ¨ Unix é£Žæ ¼çš„æ–‡ä»¶ç³»ç»Ÿä¸­è§„åˆ™å¦‚ä¸‹ï¼š

  * ä¸€ä¸ªç‚¹ `'.'` è¡¨ç¤ºå½“å‰ç›®å½•æœ¬èº«ã€‚
  * æ­¤å¤–ï¼Œä¸¤ä¸ªç‚¹ `'..'` è¡¨ç¤ºå°†ç›®å½•åˆ‡æ¢åˆ°ä¸Šä¸€çº§ï¼ˆæŒ‡å‘çˆ¶ç›®å½•ï¼‰ã€‚
  * ä»»æ„å¤šä¸ªè¿žç»­çš„æ–œæ ï¼ˆå³ï¼Œ`'//'` æˆ– `'///'`ï¼‰éƒ½è¢«è§†ä¸ºå•ä¸ªæ–œæ  `'/'`ã€‚
  * ä»»ä½•å…¶ä»–æ ¼å¼çš„ç‚¹ï¼ˆä¾‹å¦‚ï¼Œ`'...'` æˆ– `'....'`ï¼‰å‡è¢«è§†ä¸ºæœ‰æ•ˆçš„æ–‡ä»¶/ç›®å½•åç§°ã€‚

è¿”å›žçš„ **ç®€åŒ–è·¯å¾„** å¿…é¡»éµå¾ªä¸‹è¿°æ ¼å¼ï¼š

  * å§‹ç»ˆä»¥æ–œæ  `'/'` å¼€å¤´ã€‚
  * ä¸¤ä¸ªç›®å½•åä¹‹é—´å¿…é¡»åªæœ‰ä¸€ä¸ªæ–œæ  `'/'` ã€‚
  * æœ€åŽä¸€ä¸ªç›®å½•åï¼ˆå¦‚æžœå­˜åœ¨ï¼‰**ä¸èƒ½** ä»¥ `'/'` ç»“å°¾ã€‚
  * æ­¤å¤–ï¼Œè·¯å¾„ä»…åŒ…å«ä»Žæ ¹ç›®å½•åˆ°ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ä¸Šçš„ç›®å½•ï¼ˆå³ï¼Œä¸å« `'.'` æˆ– `'..'`ï¼‰ã€‚

è¿”å›žç®€åŒ–åŽå¾—åˆ°çš„ **è§„èŒƒè·¯å¾„** ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** path = "/home/"

**è¾“å‡ºï¼š** "/home"

**è§£é‡Šï¼š**

åº”åˆ é™¤å°¾éšæ–œæ ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** path = "/home//foo/"

**è¾“å‡ºï¼š** "/home/foo"

**è§£é‡Šï¼š**

å¤šä¸ªè¿žç»­çš„æ–œæ è¢«å•ä¸ªæ–œæ æ›¿æ¢ã€‚

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š** path = "/home/user/Documents/../Pictures"

**è¾“å‡ºï¼š** "/home/user/Pictures"

**è§£é‡Šï¼š**

ä¸¤ä¸ªç‚¹ `".."` è¡¨ç¤ºä¸Šä¸€çº§ç›®å½•ï¼ˆçˆ¶ç›®å½•ï¼‰ã€‚

**ç¤ºä¾‹ 4ï¼š**

**è¾“å…¥ï¼š** path = "/../"

**è¾“å‡ºï¼š** "/"

**è§£é‡Šï¼š**

ä¸å¯èƒ½ä»Žæ ¹ç›®å½•ä¸Šå‡ä¸€çº§ç›®å½•ã€‚

**ç¤ºä¾‹ 5ï¼š**

**è¾“å…¥ï¼š** path = "/.../a/../b/c/../d/./"

**è¾“å‡ºï¼š** "/.../b/d"

**è§£é‡Šï¼š**

`"..."` åœ¨è¿™ä¸ªé—®é¢˜ä¸­æ˜¯ä¸€ä¸ªåˆæ³•çš„ç›®å½•åã€‚



**æç¤ºï¼š**

  * `1 <= path.length <= 3000`
  * `path` ç”±è‹±æ–‡å­—æ¯ï¼Œæ•°å­—ï¼Œ`'.'`ï¼Œ`'/'` æˆ– `'_'` ç»„æˆã€‚
  * `path` æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ Unix é£Žæ ¼ç»å¯¹è·¯å¾„ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æž

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```