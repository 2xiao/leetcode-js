---
title: 1650. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ III ğŸ”’
description: LeetCode 1650. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ III ğŸ”’é¢˜è§£ï¼ŒLowest Common Ancestor of a Binary Tree IIIï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1650. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ III ğŸ”’
  - äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ III
  - Lowest Common Ancestor of a Binary Tree III
  - è§£é¢˜æ€è·¯
  - æ ‘
  - å“ˆå¸Œè¡¨
  - åŒæŒ‡é’ˆ
  - äºŒå‰æ ‘
---

# 1650. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ III ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/tag/tree.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree-iii) [`LeetCode`](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree-iii)

## é¢˜ç›®

Given two nodes of a binary tree `p` and `q`, return _their  lowest common
ancestor (LCA)_.

Each node will have a reference to its parent node. The definition for `Node`
is below:

> 
> 
> 
> 
> 
> class Node {
> 
> > 
> public int val;
> 
> > 
> public Node left;
> 
> > 
> public Node right;
> 
> > 
> public Node parent;
> 
> }
> 
> 

According to the **[definition of LCA on
Wikipedia](https://en.wikipedia.org/wiki/Lowest_common_ancestor)** : "The
lowest common ancestor of two nodes p and q in a tree T is the lowest node
that has both p and q as descendants (where we allow **a node to be a
descendant of itself**)."



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1600-1699/1650.Lowest%20Common%20Ancestor%20of%20a%20Binary%20Tree%20III/images/binarytree.png)

> Input: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1
> 
> Output: 3
> 
> Explanation: The LCA of nodes 5 and 1 is 3.

**Example 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1600-1699/1650.Lowest%20Common%20Ancestor%20of%20a%20Binary%20Tree%20III/images/binarytree.png)

> Input: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4
> 
> Output: 5
> 
> Explanation: The LCA of nodes 5 and 4 is 5 since a node can be a descendant of itself according to the LCA definition.

**Example 3:**

> Input: root = [1,2], p = 1, q = 2
> 
> Output: 1

**Constraints:**

  * The number of nodes in the tree is in the range `[2, 105]`.
  * `-10^9 <= Node.val <= 10^9`
  * All `Node.val` are **unique**.
  * `p != q`
  * `p` and `q` exist in the tree.


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€æ£µäºŒå‰æ ‘ä¸­çš„ä¸¤ä¸ªèŠ‚ç‚¹ `p` å’Œ `q`ï¼Œè¿”å›å®ƒä»¬çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹ï¼ˆLCAï¼‰ã€‚

æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«å…¶çˆ¶èŠ‚ç‚¹çš„å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰ã€‚`Node` çš„å®šä¹‰å¦‚ä¸‹ï¼š

> 
> 
> 
> 
> 
> class Node {
> 
> > 
> public int val;
> 
> > 
> public Node left;
> 
> > 
> public Node right;
> 
> > 
> public Node parent;
> 
> }
> 
> 

æ ¹æ®[ç»´åŸºç™¾ç§‘ä¸­å¯¹æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹çš„å®šä¹‰](https://en.wikipedia.org/wiki/Lowest_common_ancestor)ï¼šâ€œä¸¤ä¸ªèŠ‚ç‚¹
p å’Œ q åœ¨äºŒå‰æ ‘ T ä¸­çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹æ˜¯åä»£èŠ‚ç‚¹ä¸­æ—¢åŒ…æ‹¬ p åˆåŒ…æ‹¬ q çš„æœ€æ·±èŠ‚ç‚¹ï¼ˆæˆ‘ä»¬å…è®¸**ä¸€ä¸ªèŠ‚ç‚¹ä¸ºè‡ªèº«çš„ä¸€ä¸ªåä»£èŠ‚ç‚¹** ï¼‰â€ã€‚ä¸€ä¸ªèŠ‚ç‚¹
x çš„åä»£èŠ‚ç‚¹æ˜¯èŠ‚ç‚¹ x åˆ°æŸä¸€å¶èŠ‚ç‚¹é—´çš„è·¯å¾„ä¸­çš„èŠ‚ç‚¹ yã€‚



**ç¤ºä¾‹ 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1600-1699/1650.Lowest%20Common%20Ancestor%20of%20a%20Binary%20Tree%20III/images/binarytree.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1
> 
> **è¾“å‡º:** 3
> 
> **è§£é‡Š:** èŠ‚ç‚¹ 5 å’Œ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ 3ã€‚
> 
> 

**ç¤ºä¾‹ 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1600-1699/1650.Lowest%20Common%20Ancestor%20of%20a%20Binary%20Tree%20III/images/binarytree.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4
> 
> **è¾“å‡º:** 5
> 
> **è§£é‡Š:** èŠ‚ç‚¹ 5 å’Œ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ 5ï¼Œæ ¹æ®å®šä¹‰ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥æ˜¯è‡ªèº«çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚
> 
> 

**ç¤ºä¾‹ 3:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** root = [1,2], p = 1, q = 2
> 
> **è¾“å‡º:** 1
> 
> 



**æç¤º:**

  * æ ‘ä¸­èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ `[2, 105]`ã€‚
  * `-10^9 <= Node.val <= 10^9`
  * æ‰€æœ‰çš„ `Node.val` éƒ½æ˜¯**äº’ä¸ç›¸åŒ** çš„ã€‚
  * `p != q`
  * `p` å’Œ `q` å­˜åœ¨äºæ ‘ä¸­ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 235 | äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ | [[âœ“]](/problem/0235.md) |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æœç´¢æ ‘`](/tag/binary-search-tree.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree) [ğŸ”—](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-search-tree) |
| 236 | äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ | [[âœ“]](/problem/0236.md) |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree) [ğŸ”—](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree) |
| 1644 | äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ II ğŸ”’ |  |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree-ii) [ğŸ”—](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree-ii) |
| 1676 | äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ IV ğŸ”’ |  |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree-iv) [ğŸ”—](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree-iv) |