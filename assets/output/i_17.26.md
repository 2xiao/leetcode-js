# [é¢è¯•é¢˜ 17.26. ç¨€ç–ç›¸ä¼¼åº¦](https://leetcode.cn/problems/sparse-similarity-lcci)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`æ’åº`](/leetcode/outline/tag/sorting.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.cn/problems/sparse-similarity-lcci)

## é¢˜ç›®

The similarity of two documents (each with distinct words) is defined to be
the size of the intersection divided by the size of the union. For example, if
the documents consist of integers, the similarity of {1, 5, 3} and {1, 7, 2,
3} is 0.4, because the intersection has size 2 and the union has size 5. We
have a long list of documents (with distinct values and each with an
associated ID) where the similarity is believed to be "sparse". That is, any
two arbitrarily selected documents are very likely to have similarity 0.
Design an algorithm that returns a list of pairs of document IDs and the
associated similarity.

Input is a 2D array `docs`, where `docs[i]` is the document with id `i`.
Return an array of strings, where each string represents a pair of documents
with similarity greater than 0. The string should be formatted as
`{id1},{id2}: {similarity}`, where `id1` is the smaller id in the two
documents, and `similarity` is the similarity rounded to four decimal places.
You can return the array in any order.

**Example:**

> 
> 
> 
> 
> 
> **Input:** 
> 
> [
> 
>   [14, 15, 100, 9, 3],
> 
>   [32, 1, 9, 3, 5],
> 
>   [15, 29, 2, 6, 8, 7],
> 
>   [7, 10]
> 
> ]
> 
> Output:
> 
> [
> 
>   "0,1: 0.2500",
> 
>   "0,2: 0.1000",
> 
>   "2,3: 0.1429"
> 
> ]

**Note:**

  * `docs.length <= 500`
  * `docs[i].length <= 500`
  * The number of document pairs with similarity greater than 0 will not exceed 1000.


## é¢˜ç›®å¤§æ„

ä¸¤ä¸ª(å…·æœ‰ä¸åŒå•è¯çš„)æ–‡æ¡£çš„äº¤é›†(intersection)ä¸­å…ƒç´ çš„ä¸ªæ•°é™¤ä»¥å¹¶é›†(union)ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œå°±æ˜¯è¿™ä¸¤ä¸ªæ–‡æ¡£çš„ç›¸ä¼¼åº¦ã€‚ä¾‹å¦‚ï¼Œ{1, 5, 3}
å’Œ {1, 7, 2, 3} çš„ç›¸ä¼¼åº¦æ˜¯ 0.4ï¼Œå…¶ä¸­ï¼Œäº¤é›†çš„å…ƒç´ æœ‰ 2 ä¸ªï¼Œå¹¶é›†çš„å…ƒç´ æœ‰ 5 ä¸ªã€‚ç»™å®šä¸€ç³»åˆ—çš„é•¿ç¯‡æ–‡æ¡£ï¼Œæ¯ä¸ªæ–‡æ¡£å…ƒç´ å„ä¸ç›¸åŒï¼Œå¹¶ä¸ä¸€ä¸ª
ID ç›¸å…³è”ã€‚å®ƒä»¬çš„ç›¸ä¼¼åº¦éå¸¸"ç¨€ç–"ï¼Œä¹Ÿå°±æ˜¯è¯´ä»»é€‰ 2 ä¸ªæ–‡æ¡£ï¼Œç›¸ä¼¼åº¦éƒ½å¾ˆæ¥è¿‘ 0ã€‚è¯·è®¾è®¡ä¸€ä¸ªç®—æ³•è¿”å›æ¯å¯¹æ–‡æ¡£çš„ ID åŠå…¶ç›¸ä¼¼åº¦ã€‚åªéœ€è¾“å‡ºç›¸ä¼¼åº¦å¤§äº 0
çš„ç»„åˆã€‚è¯·å¿½ç•¥ç©ºæ–‡æ¡£ã€‚ä¸ºç®€å•èµ·è§ï¼Œå¯ä»¥å‡å®šæ¯ä¸ªæ–‡æ¡£ç”±ä¸€ä¸ªå«æœ‰ä¸åŒæ•´æ•°çš„æ•°ç»„è¡¨ç¤ºã€‚

è¾“å…¥ä¸ºä¸€ä¸ªäºŒç»´æ•°ç»„ `docs`ï¼Œ`docs[i]` è¡¨ç¤º id ä¸º `i` çš„æ–‡æ¡£ã€‚è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»£è¡¨æ¯å¯¹ç›¸ä¼¼åº¦å¤§äº 0
çš„æ–‡æ¡£ï¼Œå…¶æ ¼å¼ä¸º `{id1},{id2}: {similarity}`ï¼Œå…¶ä¸­ `id1` ä¸ºä¸¤ä¸ªæ–‡æ¡£ä¸­è¾ƒå°çš„ idï¼Œ`similarity`
ä¸ºç›¸ä¼¼åº¦ï¼Œç²¾ç¡®åˆ°å°æ•°ç‚¹å 4 ä½ã€‚ä»¥ä»»æ„é¡ºåºè¿”å›æ•°ç»„å‡å¯ã€‚

**ç¤ºä¾‹:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** 
> 
> [
> 
>   [14, 15, 100, 9, 3],
> 
>   [32, 1, 9, 3, 5],
> 
>   [15, 29, 2, 6, 8, 7],
> 
>   [7, 10]
> 
> ]
> 
> **è¾“å‡º:**
> 
> [
> 
>   "0,1: 0.2500",
> 
>   "0,2: 0.1000",
> 
>   "2,3: 0.1429"
> 
> ]

**æç¤ºï¼š**

  * `docs.length <= 500`
  * `docs[i].length <= 500`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```