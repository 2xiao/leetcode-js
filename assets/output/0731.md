# [731. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ II](https://leetcode.com/problems/my-calendar-ii)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/leetcode/outline/tag/design.md) [`çº¿æ®µæ ‘`](/leetcode/outline/tag/segment-tree.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/leetcode/outline/tag/binary-search.md) [`æœ‰åºé›†åˆ`](/leetcode/outline/tag/ordered-set.md) [`å‰ç¼€å’Œ`](/leetcode/outline/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/my-calendar-ii)


## é¢˜ç›®

You are implementing a program to use as your calendar. We can add a new event
if adding the event will not cause a **triple booking**.

A **triple booking** happens when three events have some non-empty
intersection (i.e., some moment is common to all the three events.).

The event can be represented as a pair of integers `start` and `end` that
represents a booking on the half-open interval `[start, end)`, the range of
real numbers `x` such that `start <= x < end`.

Implement the `MyCalendarTwo` class:

  * `MyCalendarTwo()` Initializes the calendar object.
  * `boolean book(int start, int end)` Returns `true` if the event can be added to the calendar successfully without causing a **triple booking**. Otherwise, return `false` and do not add the event to the calendar.



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["MyCalendarTwo", "book", "book", "book", "book", "book", "book"]
> 
> [[], [10, 20], [50, 60], [10, 40], [5, 15], [5, 10], [25, 55]]
> 
> **Output**
> 
> [null, true, true, true, false, true, true]
> 
> 
> 
> **Explanation**
> 
> MyCalendarTwo myCalendarTwo = new MyCalendarTwo();
> 
> myCalendarTwo.book(10, 20); // return True, The event can be booked. 
> 
> myCalendarTwo.book(50, 60); // return True, The event can be booked. 
> 
> myCalendarTwo.book(10, 40); // return True, The event can be double booked. 
> 
> myCalendarTwo.book(5, 15);  // return False, The event cannot be booked, because it would result in a triple booking.
> 
> myCalendarTwo.book(5, 10); // return True, The event can be booked, as it does not use time 10 which is already double booked.
> 
> myCalendarTwo.book(25, 55); // return True, The event can be booked, as the time in [25, 40) will be double booked with the third event, the time [40, 50) will be single booked, and the time [50, 55) will be double booked with the second event.

**Constraints:**

  * `0 <= start < end <= 10^9`
  * At most `1000` calls will be made to `book`.


## é¢˜ç›®å¤§æ„

å®ç°ä¸€ä¸ª `MyCalendar` ç±»æ¥å­˜æ”¾ä½ çš„æ—¥ç¨‹å®‰æ’ã€‚å¦‚æœè¦æ·»åŠ çš„æ—¶é—´å†…ä¸ä¼šå¯¼è‡´ä¸‰é‡é¢„è®¢æ—¶ï¼Œåˆ™å¯ä»¥å­˜å‚¨è¿™ä¸ªæ–°çš„æ—¥ç¨‹å®‰æ’ã€‚

`MyCalendar` æœ‰ä¸€ä¸ª `book(int start, int end)`æ–¹æ³•ã€‚å®ƒæ„å‘³ç€åœ¨ `start` åˆ° `end`
æ—¶é—´å†…å¢åŠ ä¸€ä¸ªæ—¥ç¨‹å®‰æ’ï¼Œæ³¨æ„ï¼Œè¿™é‡Œçš„æ—¶é—´æ˜¯åŠå¼€åŒºé—´ï¼Œå³ `[start, end)`, å®æ•° `x` çš„èŒƒå›´ä¸ºï¼Œ  `start <= x < end`ã€‚

å½“ä¸‰ä¸ªæ—¥ç¨‹å®‰æ’æœ‰ä¸€äº›æ—¶é—´ä¸Šçš„äº¤å‰æ—¶ï¼ˆä¾‹å¦‚ä¸‰ä¸ªæ—¥ç¨‹å®‰æ’éƒ½åœ¨åŒä¸€æ—¶é—´å†…ï¼‰ï¼Œå°±ä¼šäº§ç”Ÿä¸‰é‡é¢„è®¢ã€‚

æ¯æ¬¡è°ƒç”¨ `MyCalendar.book`æ–¹æ³•æ—¶ï¼Œå¦‚æœå¯ä»¥å°†æ—¥ç¨‹å®‰æ’æˆåŠŸæ·»åŠ åˆ°æ—¥å†ä¸­è€Œä¸ä¼šå¯¼è‡´ä¸‰é‡é¢„è®¢ï¼Œè¿”å› `true`ã€‚å¦åˆ™ï¼Œè¿”å› `false`
å¹¶ä¸”ä¸è¦å°†è¯¥æ—¥ç¨‹å®‰æ’æ·»åŠ åˆ°æ—¥å†ä¸­ã€‚

è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è°ƒç”¨`MyCalendar` ç±»: `MyCalendar cal = new MyCalendar();`
`MyCalendar.book(start, end)`



**ç¤ºä¾‹ï¼š**

> 
> 
> 
> 
> 
> MyCalendar();
> 
> MyCalendar.book(10, 20); // returns true
> 
> MyCalendar.book(50, 60); // returns true
> 
> MyCalendar.book(10, 40); // returns true
> 
> MyCalendar.book(5, 15); // returns false
> 
> MyCalendar.book(5, 10); // returns true
> 
> MyCalendar.book(25, 55); // returns true
> 
> **è§£é‡Šï¼š** 
> 
> å‰ä¸¤ä¸ªæ—¥ç¨‹å®‰æ’å¯ä»¥æ·»åŠ è‡³æ—¥å†ä¸­ã€‚ ç¬¬ä¸‰ä¸ªæ—¥ç¨‹å®‰æ’ä¼šå¯¼è‡´åŒé‡é¢„è®¢ï¼Œä½†å¯ä»¥æ·»åŠ è‡³æ—¥å†ä¸­ã€‚
> 
> ç¬¬å››ä¸ªæ—¥ç¨‹å®‰æ’æ´»åŠ¨ï¼ˆ5,15ï¼‰ä¸èƒ½æ·»åŠ è‡³æ—¥å†ä¸­ï¼Œå› ä¸ºå®ƒä¼šå¯¼è‡´ä¸‰é‡é¢„è®¢ã€‚
> 
> ç¬¬äº”ä¸ªæ—¥ç¨‹å®‰æ’ï¼ˆ5,10ï¼‰å¯ä»¥æ·»åŠ è‡³æ—¥å†ä¸­ï¼Œå› ä¸ºå®ƒæœªä½¿ç”¨å·²ç»åŒé‡é¢„è®¢çš„æ—¶é—´10ã€‚
> 
> ç¬¬å…­ä¸ªæ—¥ç¨‹å®‰æ’ï¼ˆ25,55ï¼‰å¯ä»¥æ·»åŠ è‡³æ—¥å†ä¸­ï¼Œå› ä¸ºæ—¶é—´ [25,40] å°†å’Œç¬¬ä¸‰ä¸ªæ—¥ç¨‹å®‰æ’åŒé‡é¢„è®¢ï¼›
> 
> æ—¶é—´ [40,50] å°†å•ç‹¬é¢„è®¢ï¼Œæ—¶é—´ [50,55ï¼‰å°†å’Œç¬¬äºŒä¸ªæ—¥ç¨‹å®‰æ’åŒé‡é¢„è®¢ã€‚
> 
> 



**æç¤ºï¼š**

  * æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè°ƒç”¨ `MyCalendar.book` å‡½æ•°æœ€å¤šä¸è¶…è¿‡ `1000`æ¬¡ã€‚
  * è°ƒç”¨å‡½æ•° `MyCalendar.book(start, end)`æ—¶ï¼Œ `start` å’Œ `end` çš„å–å€¼èŒƒå›´ä¸º `[0, 10^9]`ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [729. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ I](./0729.md)
- [732. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ III](https://leetcode.com/problems/my-calendar-iii)

::::
