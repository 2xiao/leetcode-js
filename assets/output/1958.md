# [1958. æ£€æŸ¥æ“ä½œæ˜¯å¦åˆæ³•](https://2xiao.github.io/leetcode-js/problem/1958.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æšä¸¾`](/tag/enumeration.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/check-if-move-is-legal) [`LeetCode`](https://leetcode.com/problems/check-if-move-is-legal)

## é¢˜ç›®

You are given a **0-indexed** `8 x 8` grid `board`, where `board[r][c]`
represents the cell `(r, c)` on a game board. On the board, free cells are
represented by `'.'`, white cells are represented by `'W'`, and black cells
are represented by `'B'`.

Each move in this game consists of choosing a free cell and changing it to the
color you are playing as (either white or black). However, a move is only
**legal** if, after changing it, the cell becomes the **endpoint of a good
line** (horizontal, vertical, or diagonal).

A **good line** is a line of **three or more cells (including the endpoints)**
where the endpoints of the line are **one color** , and the remaining cells in
the middle are the **opposite color** (no cells in the line are free). You can
find examples for good lines in the figure below:

![](https://assets.leetcode.com/uploads/2021/07/22/goodlines5.png)

Given two integers `rMove` and `cMove` and a character `color` representing
the color you are playing as (white or black), return `true` _if changing
cell_`(rMove, cMove)` _to color_ `color` _is a**legal** move, or _`false` _if
it is not legal_.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/07/10/grid11.png)

> Input: board = [[".",".",".","B",".",".",".","."],[".",".",".","W",".",".",".","."],[".",".",".","W",".",".",".","."],[".",".",".","W",".",".",".","."],["W","B","B",".","W","W","W","B"],[".",".",".","B",".",".",".","."],[".",".",".","B",".",".",".","."],[".",".",".","W",".",".",".","."]], rMove = 4, cMove = 3, color = "B"
> 
> Output: true
> 
> Explanation: '.', 'W', and 'B' are represented by the colors blue, white, and black respectively, and cell (rMove, cMove) is marked with an 'X'.
> 
> The two good lines with the chosen cell as an endpoint are annotated above with the red rectangles.

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/07/10/grid2.png)

> Input: board = [[".",".",".",".",".",".",".","."],[".","B",".",".","W",".",".","."],[".",".","W",".",".",".",".","."],[".",".",".","W","B",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".","B","W",".","."],[".",".",".",".",".",".","W","."],[".",".",".",".",".",".",".","B"]], rMove = 4, cMove = 4, color = "W"
> 
> Output: false
> 
> Explanation: While there are good lines with the chosen cell as a middle cell, there are no good lines with the chosen cell as an endpoint.

**Constraints:**

  * `board.length == board[r].length == 8`
  * `0 <= rMove, cMove < 8`
  * `board[rMove][cMove] == '.'`
  * `color` is either `'B'` or `'W'`.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹çš„ `8 x 8` ç½‘æ ¼ `board` ï¼Œå…¶ä¸­ `board[r][c]` è¡¨ç¤ºæ¸¸æˆæ£‹ç›˜ä¸Šçš„æ ¼å­ `(r, c)`
ã€‚æ£‹ç›˜ä¸Šç©ºæ ¼ç”¨ `'.'` è¡¨ç¤ºï¼Œç™½è‰²æ ¼å­ç”¨ `'W'` è¡¨ç¤ºï¼Œé»‘è‰²æ ¼å­ç”¨ `'B'` è¡¨ç¤ºã€‚

æ¸¸æˆä¸­æ¯æ¬¡æ“ä½œæ­¥éª¤ä¸ºï¼šé€‰æ‹©ä¸€ä¸ªç©ºæ ¼å­ï¼Œå°†å®ƒå˜æˆä½ æ­£åœ¨æ‰§è¡Œçš„é¢œè‰²ï¼ˆè¦ä¹ˆç™½è‰²ï¼Œè¦ä¹ˆé»‘è‰²ï¼‰ã€‚ä½†æ˜¯ï¼Œ**åˆæ³•** æ“ä½œå¿…é¡»æ»¡è¶³ï¼šæ¶‚è‰²åè¿™ä¸ªæ ¼å­æ˜¯
**å¥½çº¿æ®µçš„ä¸€ä¸ªç«¯ç‚¹**  ï¼ˆå¥½çº¿æ®µå¯ä»¥æ˜¯æ°´å¹³çš„ï¼Œç«–ç›´çš„æˆ–è€…æ˜¯å¯¹è§’çº¿ï¼‰ã€‚

**å¥½çº¿æ®µ**  æŒ‡çš„æ˜¯ä¸€ä¸ªåŒ…å« **ä¸‰ä¸ªæˆ–è€…æ›´å¤šæ ¼å­ï¼ˆåŒ…å«ç«¯ç‚¹æ ¼å­ï¼‰** çš„çº¿æ®µï¼Œçº¿æ®µä¸¤ä¸ªç«¯ç‚¹æ ¼å­ä¸º **åŒä¸€ç§é¢œè‰²**  ï¼Œä¸”ä¸­é—´å‰©ä½™æ ¼å­çš„é¢œè‰²éƒ½ä¸º
**å¦ä¸€ç§é¢œè‰²**  ï¼ˆçº¿æ®µä¸Šä¸èƒ½æœ‰ä»»ä½•ç©ºæ ¼å­ï¼‰ã€‚ä½ å¯ä»¥åœ¨ä¸‹å›¾æ‰¾åˆ°å¥½çº¿æ®µçš„ä¾‹å­ï¼š

![](https://assets.leetcode.com/uploads/2021/07/22/goodlines5.png)

ç»™ä½ ä¸¤ä¸ªæ•´æ•° `rMove` å’Œ `cMove` ä»¥åŠä¸€ä¸ªå­—ç¬¦ `color` ï¼Œè¡¨ç¤ºä½ æ­£åœ¨æ‰§è¡Œæ“ä½œçš„é¢œè‰²ï¼ˆç™½æˆ–è€…é»‘ï¼‰ï¼Œå¦‚æœå°†æ ¼å­ `(rMove,
cMove)` å˜æˆé¢œè‰² `color` åï¼Œæ˜¯ä¸€ä¸ª **åˆæ³•**  æ“ä½œï¼Œé‚£ä¹ˆè¿”å› `true` ï¼Œå¦‚æœä¸æ˜¯åˆæ³•æ“ä½œè¿”å› `false` ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/07/10/grid11.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** board = [[".",".",".","B",".",".",".","."],[".",".",".","W",".",".",".","."],[".",".",".","W",".",".",".","."],[".",".",".","W",".",".",".","."],["W","B","B",".","W","W","W","B"],[".",".",".","B",".",".",".","."],[".",".",".","B",".",".",".","."],[".",".",".","W",".",".",".","."]], rMove = 4, cMove = 3, color = "B"
> 
> **è¾“å‡ºï¼š** true
> 
> **è§£é‡Šï¼š** '.'ï¼Œ'W' å’Œ 'B' åˆ†åˆ«ç”¨é¢œè‰²è“è‰²ï¼Œç™½è‰²å’Œé»‘è‰²è¡¨ç¤ºã€‚æ ¼å­ (rMove, cMove) ç”¨ 'X' æ ‡è®°ã€‚
> 
> ä»¥é€‰ä¸­æ ¼å­ä¸ºç«¯ç‚¹çš„ä¸¤ä¸ªå¥½çº¿æ®µåœ¨ä¸Šå›¾ä¸­ç”¨çº¢è‰²çŸ©å½¢æ ‡æ³¨å‡ºæ¥äº†ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/07/10/grid2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** board = [[".",".",".",".",".",".",".","."],[".","B",".",".","W",".",".","."],[".",".","W",".",".",".",".","."],[".",".",".","W","B",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".","B","W",".","."],[".",".",".",".",".",".","W","."],[".",".",".",".",".",".",".","B"]], rMove = 4, cMove = 4, color = "W"
> 
> **è¾“å‡ºï¼š** false
> 
> **è§£é‡Šï¼š** è™½ç„¶é€‰ä¸­æ ¼å­æ¶‚è‰²åï¼Œæ£‹ç›˜ä¸Šäº§ç”Ÿäº†å¥½çº¿æ®µï¼Œä½†é€‰ä¸­æ ¼å­æ˜¯ä½œä¸ºä¸­é—´æ ¼å­ï¼Œæ²¡æœ‰äº§ç”Ÿä»¥é€‰ä¸­æ ¼å­ä¸ºç«¯ç‚¹çš„å¥½çº¿æ®µã€‚
> 
> 



**æç¤ºï¼š**

  * `board.length == board[r].length == 8`
  * `0 <= rMove, cMove < 8`
  * `board[rMove][cMove] == '.'`
  * `color` è¦ä¹ˆæ˜¯ `'B'` è¦ä¹ˆæ˜¯ `'W'` ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```