# [1211. æŸ¥è¯¢ç»“æœçš„è´¨é‡å’Œå æ¯”](https://leetcode.com/problems/queries-quality-and-percentage)

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°æ®åº“`](/leetcode/outline/tag/database.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/queries-quality-and-percentage)


## é¢˜ç›®

Table: `Queries`

> 
> 
> 
> 
> 
> +-------------+---------+
> 
> | Column Name | Type> 
> |
> 
> +-------------+---------+
> 
> | query_name  | varchar |
> 
> | result> 
>   | varchar |
> 
> | position> 
> | int> 
>  |
> 
> | rating> 
>   | int> 
>  |
> 
> +-------------+---------+
> 
> This table may have duplicate rows.
> 
> This table contains information collected from some queries on a database.
> 
> The position column has a value from **1** to **500**.
> 
> The rating column has a value from **1** to **5**. Query with rating less than 3 is a poor query.
> 
> 



We define query `quality` as:

> The average of the ratio between query rating and its position.

We also define `poor query percentage` as:

> The percentage of all queries with rating less than 3.

Write a solution to find each `query_name`, the `quality` and
`poor_query_percentage`.

Both `quality` and `poor_query_percentage` should be **rounded to 2 decimal
places**.

Return the result table in **any order**.

The result format is in the following example.



**Example 1:**

> Input: 
> 
> Queries table:
> 
> +------------+-------------------+----------+--------+
> 
> | query_name | result> 
> > 
> > 
> | position | rating |
> 
> +------------+-------------------+----------+--------+
> 
> | Dog> 
> > 
> | Golden Retriever  | 1> 
> > 
> | 5> 
>   |
> 
> | Dog> 
> > 
> | German Shepherd   | 2> 
> > 
> | 5> 
>   |
> 
> | Dog> 
> > 
> | Mule> 
> > 
> > 
>   | 200> 
>   | 1> 
>   |
> 
> | Cat> 
> > 
> | Shirazi> 
> > 
>    | 5> 
> > 
> | 2> 
>   |
> 
> | Cat> 
> > 
> | Siamese> 
> > 
>    | 3> 
> > 
> | 3> 
>   |
> 
> | Cat> 
> > 
> | Sphynx> 
> > 
> > 
> | 7> 
> > 
> | 4> 
>   |
> 
> +------------+-------------------+----------+--------+
> 
> Output: 
> 
> +------------+---------+-----------------------+
> 
> | query_name | quality | poor_query_percentage |
> 
> +------------+---------+-----------------------+
> 
> | Dog> 
> > 
> | 2.50> 
> | 33.33> 
> > 
> > 
> > 
>  |
> 
> | Cat> 
> > 
> | 0.66> 
> | 33.33> 
> > 
> > 
> > 
>  |
> 
> +------------+---------+-----------------------+
> 
> Explanation: 
> 
> Dog queries quality is ((5 / 1) + (5 / 2) + (1 / 200)) / 3 = 2.50
> 
> Dog queries poor_ query_percentage is (1 / 3) * 100 = 33.33
> 
> 
> 
> Cat queries quality equals ((2 / 5) + (3 / 3) + (4 / 7)) / 3 = 0.66
> 
> Cat queries poor_ query_percentage is (1 / 3) * 100 = 33.33
> 
> 


## é¢˜ç›®å¤§æ„

`Queries` è¡¨ï¼š

> 
> 
> 
> 
> 
> +-------------+---------+
> 
> | Column Name | Type> 
> |
> 
> +-------------+---------+
> 
> | query_name  | varchar |
> 
> | result> 
>   | varchar |
> 
> | position> 
> | int> 
>  |
> 
> | rating> 
>   | int> 
>  |
> 
> +-------------+---------+
> 
> æ­¤è¡¨å¯èƒ½æœ‰é‡å¤çš„è¡Œã€‚
> 
> æ­¤è¡¨åŒ…å«äº†ä¸€äº›ä»æ•°æ®åº“ä¸­æ”¶é›†çš„æŸ¥è¯¢ä¿¡æ¯ã€‚
> 
> â€œä½ç½®â€ï¼ˆpositionï¼‰åˆ—çš„å€¼ä¸º **1** åˆ° **500** ã€‚
> 
> â€œè¯„åˆ†â€ï¼ˆratingï¼‰åˆ—çš„å€¼ä¸º **1** åˆ° **5** ã€‚è¯„åˆ†å°äº 3 çš„æŸ¥è¯¢è¢«å®šä¹‰ä¸ºè´¨é‡å¾ˆå·®çš„æŸ¥è¯¢ã€‚
> 
> 



å°†æŸ¥è¯¢ç»“æœçš„è´¨é‡ `quality` å®šä¹‰ä¸ºï¼š

> å„æŸ¥è¯¢ç»“æœçš„è¯„åˆ†ä¸å…¶ä½ç½®ä¹‹é—´æ¯”ç‡çš„å¹³å‡å€¼ã€‚

å°†åŠ£è´¨æŸ¥è¯¢ç™¾åˆ†æ¯” `poor_query_percentage` å®šä¹‰ä¸ºï¼š

> è¯„åˆ†å°äº 3 çš„æŸ¥è¯¢ç»“æœå å…¨éƒ¨æŸ¥è¯¢ç»“æœçš„ç™¾åˆ†æ¯”ã€‚

ç¼–å†™è§£å†³æ–¹æ¡ˆï¼Œæ‰¾å‡ºæ¯æ¬¡çš„ `query_name` ã€ `quality` å’Œ `poor_query_percentage`ã€‚

`quality` å’Œ `poor_query_percentage` éƒ½åº” **å››èˆäº”å…¥åˆ°å°æ•°ç‚¹åä¸¤ä½** ã€‚

ä»¥ **ä»»æ„é¡ºåº** è¿”å›ç»“æœè¡¨ã€‚

ç»“æœæ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> Queries table:
> 
> +------------+-------------------+----------+--------+
> 
> | query_name | result> 
> > 
> > 
> | position | rating |
> 
> +------------+-------------------+----------+--------+
> 
> | Dog> 
> > 
> | Golden Retriever  | 1> 
> > 
> | 5> 
>   |
> 
> | Dog> 
> > 
> | German Shepherd   | 2> 
> > 
> | 5> 
>   |
> 
> | Dog> 
> > 
> | Mule> 
> > 
> > 
>   | 200> 
>   | 1> 
>   |
> 
> | Cat> 
> > 
> | Shirazi> 
> > 
>    | 5> 
> > 
> | 2> 
>   |
> 
> | Cat> 
> > 
> | Siamese> 
> > 
>    | 3> 
> > 
> | 3> 
>   |
> 
> | Cat> 
> > 
> | Sphynx> 
> > 
> > 
> | 7> 
> > 
> | 4> 
>   |
> 
> +------------+-------------------+----------+--------+
> 
> **è¾“å‡ºï¼š**
> 
> +------------+---------+-----------------------+
> 
> | query_name | quality | poor_query_percentage |
> 
> +------------+---------+-----------------------+
> 
> | Dog> 
> > 
> | 2.50> 
> | 33.33> 
> > 
> > 
> > 
>  |
> 
> | Cat> 
> > 
> | 0.66> 
> | 33.33> 
> > 
> > 
> > 
>  |
> 
> +------------+---------+-----------------------+
> 
> **è§£é‡Šï¼š**
> 
> Dog æŸ¥è¯¢ç»“æœçš„è´¨é‡ä¸º ((5 / 1) + (5 / 2) + (1 / 200)) / 3 = 2.50
> 
> Dog æŸ¥è¯¢ç»“æœçš„åŠ£è´¨æŸ¥è¯¢ç™¾åˆ†æ¯”ä¸º (1 / 3) * 100 = 33.33
> 
> 
> 
> Cat æŸ¥è¯¢ç»“æœçš„è´¨é‡ä¸º ((2 / 5) + (3 / 3) + (4 / 7)) / 3 = 0.66
> 
> Cat æŸ¥è¯¢ç»“æœçš„åŠ£è´¨æŸ¥è¯¢ç™¾åˆ†æ¯”ä¸º (1 / 3) * 100 = 33.33
> 
> 


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [1633. å„èµ›äº‹çš„ç”¨æˆ·æ³¨å†Œç‡](https://leetcode.com/problems/percentage-of-users-attended-a-contest)

::::
