---
title: 2207. å­—ç¬¦ä¸²ä¸­æœ€å¤šæ•°ç›®çš„å­åºåˆ—
description: LeetCode,2207. å­—ç¬¦ä¸²ä¸­æœ€å¤šæ•°ç›®çš„å­åºåˆ—,å­—ç¬¦ä¸²ä¸­æœ€å¤šæ•°ç›®çš„å­åºåˆ—,Maximize Number of Subsequences in a String,è§£é¢˜æ€è·¯,è´ªå¿ƒ,å­—ç¬¦ä¸²,å‰ç¼€å’Œ
keywords:
  - LeetCode
  - 2207. å­—ç¬¦ä¸²ä¸­æœ€å¤šæ•°ç›®çš„å­åºåˆ—
  - å­—ç¬¦ä¸²ä¸­æœ€å¤šæ•°ç›®çš„å­åºåˆ—
  - Maximize Number of Subsequences in a String
  - è§£é¢˜æ€è·¯
  - è´ªå¿ƒ
  - å­—ç¬¦ä¸²
  - å‰ç¼€å’Œ
---

# 2207. å­—ç¬¦ä¸²ä¸­æœ€å¤šæ•°ç›®çš„å­åºåˆ—

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximize-number-of-subsequences-in-a-string) [`LeetCode`](https://leetcode.com/problems/maximize-number-of-subsequences-in-a-string)

## é¢˜ç›®

You are given a **0-indexed** string `text` and another **0-indexed** string
`pattern` of length `2`, both of which consist of only lowercase English
letters.

You can add **either** `pattern[0]` **or** `pattern[1]` anywhere in `text`
**exactly once**. Note that the character can be added even at the beginning
or at the end of `text`.

Return _the**maximum** number of times_ `pattern` _can occur as
a**subsequence** of the modified _`text`.

A **subsequence** is a string that can be derived from another string by
deleting some or no characters without changing the order of the remaining
characters.



**Example 1:**

> Input: text = "abdcdbc", pattern = "ac"
> 
> Output: 4
> 
> Explanation:
> 
> If we add pattern[0] = 'a' in between text[1] and text[2], we get "ab _**a**_ dcdbc". Now, the number of times "ac" occurs as a subsequence is 4.
> 
> Some other strings which have 4 subsequences "ac" after adding a character to text are "_**a**_ abdcdbc" and "abd _**a**_ cdbc".
> 
> However, strings such as "abdc _**a**_ dbc", "abd _**c**_ cdbc", and "abdcdbc _**c**_ ", although obtainable, have only 3 subsequences "ac" and are thus suboptimal.
> 
> It can be shown that it is not possible to get more than 4 subsequences "ac" by adding only one character.

**Example 2:**

> Input: text = "aabb", pattern = "ab"
> 
> Output: 6
> 
> Explanation:
> 
> Some of the strings which can be obtained from text and have 6 subsequences "ab" are "_**a**_ aabb", "aa _**a**_ bb", and "aab _**b**_ b".

**Constraints:**

  * `1 <= text.length <= 10^5`
  * `pattern.length == 2`
  * `text` and `pattern` consist only of lowercase English letters.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹çš„å­—ç¬¦ä¸² `text` å’Œå¦ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹ä¸”é•¿åº¦ä¸º `2` çš„å­—ç¬¦ä¸² `pattern`
ï¼Œä¸¤è€…éƒ½åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚

ä½ å¯ä»¥åœ¨ `text` ä¸­ä»»æ„ä½ç½®æ’å…¥ **ä¸€ä¸ª** å­—ç¬¦ï¼Œè¿™ä¸ªæ’å…¥çš„å­—ç¬¦å¿…é¡»æ˜¯ `pattern[0]` **æˆ–è€…**  `pattern[1]`
ã€‚æ³¨æ„ï¼Œè¿™ä¸ªå­—ç¬¦å¯ä»¥æ’å…¥åœ¨ `text` å¼€å¤´æˆ–è€…ç»“å°¾çš„ä½ç½®ã€‚

è¯·ä½ è¿”å›æ’å…¥ä¸€ä¸ªå­—ç¬¦åï¼Œ`text` ä¸­æœ€å¤šåŒ…å«å¤šå°‘ä¸ªç­‰äº `pattern` çš„ **å­åºåˆ—**  ã€‚

**å­åºåˆ—** æŒ‡çš„æ˜¯å°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ é™¤è‹¥å¹²ä¸ªå­—ç¬¦åï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰ï¼Œå‰©ä½™å­—ç¬¦ä¿æŒåŸæœ¬é¡ºåºå¾—åˆ°çš„å­—ç¬¦ä¸²ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** text = "abdcdbc", pattern = "ac"
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š**
> 
> å¦‚æœæˆ‘ä»¬åœ¨ text[1] å’Œ text[2] ä¹‹é—´æ·»åŠ  pattern[0] = 'a' ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¾—åˆ° "ab _**a**_ dcdbc" ã€‚é‚£ä¹ˆ "ac" ä½œä¸ºå­åºåˆ—å‡ºç° 4 æ¬¡ã€‚
> 
> å…¶ä»–å¾—åˆ° 4 ä¸ª "ac" å­åºåˆ—çš„æ–¹æ¡ˆè¿˜æœ‰ "_**a**_ abdcdbc" å’Œ "abd _**a**_ cdbc" ã€‚
> 
> ä½†æ˜¯ï¼Œ"abdc _**a**_ dbc" ï¼Œ"abd _**c**_ cdbc" å’Œ "abdcdbc _**c**_ " è¿™äº›å­—ç¬¦ä¸²è™½ç„¶æ˜¯å¯è¡Œçš„æ’å…¥æ–¹æ¡ˆï¼Œä½†æ˜¯åªå‡ºç°äº† 3 æ¬¡ "ac" å­åºåˆ—ï¼Œæ‰€ä»¥ä¸æ˜¯æœ€ä¼˜è§£ã€‚
> 
> å¯ä»¥è¯æ˜æ’å…¥ä¸€ä¸ªå­—ç¬¦åï¼Œæ— æ³•å¾—åˆ°è¶…è¿‡ 4 ä¸ª "ac" å­åºåˆ—ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** text = "aabb", pattern = "ab"
> 
> **è¾“å‡ºï¼š** 6
> 
> **è§£é‡Šï¼š**
> 
> å¯ä»¥å¾—åˆ° 6 ä¸ª "ab" å­åºåˆ—çš„éƒ¨åˆ†æ–¹æ¡ˆä¸º "_**a**_ aabb" ï¼Œ"aa _**a**_ bb" å’Œ "aab _**b**_ b" ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= text.length <= 10^5`
  * `pattern.length == 2`
  * `text` å’Œ `pattern` éƒ½åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1143 | æœ€é•¿å…¬å…±å­åºåˆ— | [[âœ“]](/problem/1143.md) |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/longest-common-subsequence) [ğŸ”—](https://leetcode.com/problems/longest-common-subsequence) |