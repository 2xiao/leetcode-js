# [1739. æ”¾ç½®ç›’å­](https://2xiao.github.io/leetcode-js/problem/1739.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°å­¦`](/tag/math.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/building-boxes) [`LeetCode`](https://leetcode.com/problems/building-boxes)

## é¢˜ç›®

You have a cubic storeroom where the width, length, and height of the room are
all equal to `n` units. You are asked to place `n` boxes in this room where
each box is a cube of unit side length. There are however some rules to
placing the boxes:

  * You can place the boxes anywhere on the floor.
  * If box `x` is placed on top of the box `y`, then each side of the four vertical sides of the box `y` **must** either be adjacent to another box or to a wall.

Given an integer `n`, return _the**minimum** possible number of boxes touching
the floor._



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/01/04/3-boxes.png)

> Input: n = 3
> 
> Output: 3
> 
> Explanation: The figure above is for the placement of the three boxes.
> 
> These boxes are placed in the corner of the room, where the corner is on the left side.

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/01/04/4-boxes.png)

> Input: n = 4
> 
> Output: 3
> 
> Explanation: The figure above is for the placement of the four boxes.
> 
> These boxes are placed in the corner of the room, where the corner is on the left side.

**Example 3:**

![](https://assets.leetcode.com/uploads/2021/01/04/10-boxes.png)

> Input: n = 10
> 
> Output: 6
> 
> Explanation: The figure above is for the placement of the ten boxes.
> 
> These boxes are placed in the corner of the room, where the corner is on the back side.



**Constraints:**

  * `1 <= n <= 10^9`


## é¢˜ç›®å¤§æ„

æœ‰ä¸€ä¸ªç«‹æ–¹ä½“æˆ¿é—´ï¼Œå…¶é•¿åº¦ã€å®½åº¦å’Œé«˜åº¦éƒ½ç­‰äº `n` ä¸ªå•ä½ã€‚è¯·ä½ åœ¨æˆ¿é—´é‡Œæ”¾ç½® `n` ä¸ªç›’å­ï¼Œæ¯ä¸ªç›’å­éƒ½æ˜¯ä¸€ä¸ªå•ä½è¾¹é•¿çš„ç«‹æ–¹ä½“ã€‚æ”¾ç½®è§„åˆ™å¦‚ä¸‹ï¼š

  * ä½ å¯ä»¥æŠŠç›’å­æ”¾åœ¨åœ°æ¿ä¸Šçš„ä»»ä½•åœ°æ–¹ã€‚
  * å¦‚æœç›’å­ `x` éœ€è¦æ”¾ç½®åœ¨ç›’å­ `y` çš„é¡¶éƒ¨ï¼Œé‚£ä¹ˆç›’å­ `y` ç«–ç›´çš„å››ä¸ªä¾§é¢éƒ½ **å¿…é¡»** ä¸å¦ä¸€ä¸ªç›’å­æˆ–å¢™ç›¸é‚»ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` ï¼Œè¿”å›æ¥è§¦åœ°é¢çš„ç›’å­çš„ **æœ€å°‘** å¯èƒ½æ•°é‡ _ã€‚_

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2021/01/24/3-boxes.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** ä¸Šå›¾æ˜¯ 3 ä¸ªç›’å­çš„æ‘†æ”¾ä½ç½®ã€‚
> 
> è¿™äº›ç›’å­æ”¾åœ¨æˆ¿é—´çš„ä¸€è§’ï¼Œå¯¹åº”å·¦ä¾§ä½ç½®ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2021/01/24/4-boxes.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 4
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** ä¸Šå›¾æ˜¯ 3 ä¸ªç›’å­çš„æ‘†æ”¾ä½ç½®ã€‚
> 
> è¿™äº›ç›’å­æ”¾åœ¨æˆ¿é—´çš„ä¸€è§’ï¼Œå¯¹åº”å·¦ä¾§ä½ç½®ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2021/01/24/10-boxes.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 10
> 
> **è¾“å‡ºï¼š** 6
> 
> **è§£é‡Šï¼š** ä¸Šå›¾æ˜¯ 10 ä¸ªç›’å­çš„æ‘†æ”¾ä½ç½®ã€‚
> 
> è¿™äº›ç›’å­æ”¾åœ¨æˆ¿é—´çš„ä¸€è§’ï¼Œå¯¹åº”åæ–¹ä½ç½®ã€‚

**æç¤ºï¼š**

  * `1 <= n <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 3161 | [ç‰©å—æ”¾ç½®æŸ¥è¯¢](https://leetcode.com/problems/block-placement-queries) |  |  [`æ ‘çŠ¶æ•°ç»„`](/tag/binary-indexed-tree.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æ•°ç»„`](/tag/array.md) `1+` | <font color=#ff334b>Hard</font> |