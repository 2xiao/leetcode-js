# [1548. å›¾ä¸­æœ€ç›¸ä¼¼çš„è·¯å¾„](https://leetcode.com/problems/the-most-similar-path-in-a-graph)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å›¾`](/tag/graph.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/the-most-similar-path-in-a-graph)

## é¢˜ç›®

We have `n` cities and `m` bi-directional `roads` where `roads[i] = [ai, bi]`
connects city `ai` with city `bi`. Each city has a name consisting of exactly
three upper-case English letters given in the string array `names`. Starting
at any city `x`, you can reach any city `y` where `y != x` (i.e., the cities
and the roads are forming an undirected connected graph).

You will be given a string array `targetPath`. You should find a path in the
graph of the **same length** and with the **minimum edit distance** to
`targetPath`.

You need to return _the order of the nodes in the path with the minimum edit
distance_. The path should be of the same length of `targetPath` and should be
valid (i.e., there should be a direct road between `ans[i]` and `ans[i + 1]`).
If there are multiple answers return any one of them.

The **edit distance** is defined as follows:

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1548.The%20Most%20Similar%20Path%20in%20a%20Graph/images/edit.jpg)



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1548.The%20Most%20Similar%20Path%20in%20a%20Graph/images/e1.jpg)

> Input: n = 5, roads = [[0,2],[0,3],[1,2],[1,3],[1,4],[2,4]], names = ["ATL","PEK","LAX","DXB","HND"], targetPath = ["ATL","DXB","HND","LAX"]
> 
> Output: [0,2,4,2]
> 
> Explanation: [0,2,4,2], [0,3,0,2] and [0,3,1,2] are accepted answers.
> 
> [0,2,4,2] is equivalent to ["ATL","LAX","HND","LAX"] which has edit distance = 1 with targetPath.
> 
> [0,3,0,2] is equivalent to ["ATL","DXB","ATL","LAX"] which has edit distance = 1 with targetPath.
> 
> [0,3,1,2] is equivalent to ["ATL","DXB","PEK","LAX"] which has edit distance = 1 with targetPath.

**Example 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1548.The%20Most%20Similar%20Path%20in%20a%20Graph/images/e2.jpg)

> Input: n = 4, roads = [[1,0],[2,0],[3,0],[2,1],[3,1],[3,2]], names = ["ATL","PEK","LAX","DXB"], targetPath = ["ABC","DEF","GHI","JKL","MNO","PQR","STU","VWX"]
> 
> Output: [0,1,0,1,0,1,0,1]
> 
> Explanation: Any path in this graph has edit distance = 8 with targetPath.

**Example 3:**

**![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1548.The%20Most%20Similar%20Path%20in%20a%20Graph/images/e3.jpg)**

> Input: n = 6, roads = [[0,1],[1,2],[2,3],[3,4],[4,5]], names = ["ATL","PEK","LAX","ATL","DXB","HND"], targetPath = ["ATL","DXB","HND","DXB","ATL","LAX","PEK"]
> 
> Output: [3,4,5,4,3,2,1]
> 
> Explanation: [3,4,5,4,3,2,1] is the only path with edit distance = 0 with targetPath.
> 
> It's equivalent to ["ATL","DXB","HND","DXB","ATL","LAX","PEK"]

**Constraints:**

  * `2 <= n <= 100`
  * `m == roads.length`
  * `n - 1 <= m <= (n * (n - 1) / 2)`
  * `0 <= ai, bi <= n - 1`
  * `ai != bi`
  * The graph is guaranteed to be **connected** and each pair of nodes may have **at most one** direct road.
  * `names.length == n`
  * `names[i].length == 3`
  * `names[i]` consists of upper-case English letters.
  * There can be two cities with **the same** name.
  * `1 <= targetPath.length <= 100`
  * `targetPath[i].length == 3`
  * `targetPath[i]` consists of upper-case English letters.



**Follow up:** If each node can be visited only once in the path, What should
you change in your solution?


## é¢˜ç›®å¤§æ„

æˆ‘ä»¬æœ‰ `n` åº§åŸå¸‚å’Œ `m` æ¡åŒå‘é“è·¯ `roads` ï¼Œå…¶ä¸­ `roads[i] = [ai, bi]` è¿æ¥åŸå¸‚ `ai` å’ŒåŸå¸‚
`bi`ã€‚æ¯ä¸ªåŸå¸‚çš„åç§°ç”±å­—ç¬¦ä¸²æ•°ç»„ `names` ä¸­ç»™å‡ºçš„ä¸‰ä¸ªå¤§å†™è‹±æ–‡å­—æ¯ç»„æˆã€‚ä»ä»»æ„åŸå¸‚ `x` å‡ºå‘ï¼Œä½ å¯ä»¥åˆ°è¾¾ä»»æ„åŸå¸‚ `y` ï¼Œå…¶ä¸­ `y !=
x` ï¼ˆå³ï¼šåŸå¸‚å’Œé“è·¯å½¢æˆä¸€å¼ æ— å‘è¿é€šå›¾ï¼‰ã€‚

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ `targetPath`ï¼Œä½ éœ€è¦æ‰¾å‡ºå›¾ä¸­ä¸ `targetPath` çš„**é•¿åº¦ç›¸åŒ** ä¸”**ç¼–è¾‘è·ç¦»****æœ€å°** çš„è·¯å¾„ã€‚

ä½ éœ€è¦è¿”å› __**ç¼–è¾‘è·ç¦»æœ€å°çš„è·¯å¾„ä¸­èŠ‚ç‚¹çš„é¡ºåº** __ ã€‚è¯¥è·¯å¾„åº”å½“ä¸ `targetPath` çš„é•¿åº¦ç›¸ç­‰ï¼Œä¸”è·¯å¾„éœ€æœ‰æ•ˆï¼ˆå³ï¼š `ans[i]` å’Œ
`ans[i + 1]` é—´åº”å­˜åœ¨ç›´æ¥è¿é€šçš„é“è·¯ï¼‰ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¿”å›ä»»æ„ä¸€ä¸ªã€‚

**ç¼–è¾‘è·ç¦»** çš„å®šä¹‰å¦‚ä¸‹ï¼š

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1548.The%20Most%20Similar%20Path%20in%20a%20Graph/images/edit.jpg)



**ç¤ºä¾‹ 1ï¼š**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1548.The%20Most%20Similar%20Path%20in%20a%20Graph/images/e1.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 5, roads = [[0,2],[0,3],[1,2],[1,3],[1,4],[2,4]], names = ["ATL","PEK","LAX","DXB","HND"], targetPath = ["ATL","DXB","HND","LAX"]
> 
> **è¾“å‡ºï¼š**[0,2,4,2]
> 
> **è§£é‡Šï¼š**[0,2,4,2], [0,3,0,2] å’Œ [0,3,1,2] éƒ½æ˜¯æ­£ç¡®ç­”æ¡ˆã€‚
> 
> [0,2,4,2] ç­‰ä»·äº ["ATL","LAX","HND","LAX"] ï¼Œä¸ targetPath çš„ç¼–è¾‘è·ç¦» = 1ã€‚
> 
> [0,3,0,2] ç­‰ä»·äº ["ATL","DXB","ATL","LAX"] ï¼Œä¸ targetPath çš„ç¼–è¾‘è·ç¦» = 1ã€‚
> 
> [0,3,1,2] ç­‰ä»·äº ["ATL","DXB","PEK","LAX"] ï¼Œä¸ targetPath çš„ç¼–è¾‘è·ç¦» = 1ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1548.The%20Most%20Similar%20Path%20in%20a%20Graph/images/e2.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 4, roads = [[1,0],[2,0],[3,0],[2,1],[3,1],[3,2]], names = ["ATL","PEK","LAX","DXB"], targetPath = ["ABC","DEF","GHI","JKL","MNO","PQR","STU","VWX"]
> 
> **è¾“å‡ºï¼š**[0,1,0,1,0,1,0,1]
> 
> **è§£é‡Šï¼š** ä»»æ„è·¯å¾„ä¸ targetPath çš„ç¼–è¾‘è·ç¦»éƒ½ç­‰äº 8ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

**![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1548.The%20Most%20Similar%20Path%20in%20a%20Graph/images/e3.jpg)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 6, roads = [[0,1],[1,2],[2,3],[3,4],[4,5]], names = ["ATL","PEK","LAX","ATL","DXB","HND"], targetPath = ["ATL","DXB","HND","DXB","ATL","LAX","PEK"]
> 
> **è¾“å‡ºï¼š**[3,4,5,4,3,2,1]
> 
> **è§£é‡Šï¼š**[3,4,5,4,3,2,1] æ˜¯å”¯ä¸€ä¸ targetPath çš„ç¼–è¾‘è·ç¦» = 0 çš„è·¯å¾„ã€‚
> 
> è¯¥è·¯å¾„ç­‰ä»·äº ["ATL","DXB","HND","DXB","ATL","LAX","PEK"]
> 
> 



**æç¤ºï¼š**

  * `2 <= n <= 100`
  * `m == roads.length`
  * `n - 1 <= m <= (n * (n - 1) / 2)`
  * `0 <= ai, bi <= n - 1`
  * `ai != bi `
  * ç»™å®šçš„å›¾ä¿è¯æ˜¯**è¿é€š** çš„ï¼Œä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹**è‡³å¤šæœ‰ä¸€ä¸ª** ç›´æ¥è¿é€šçš„é“è·¯ã€‚
  * `names.length == n`
  * `names[i].length == 3`
  * `names[i]` åŒ…å«å¤§å†™è‹±æ–‡å­—æ¯ã€‚
  * å¯èƒ½æœ‰ä¸¤ä¸ªåç§°**ç›¸åŒ** çš„åŸå¸‚ã€‚
  * `1 <= targetPath.length <= 100`
  * `targetPath[i].length == 3`
  * `targetPath[i]` ç”±å¤§å†™è‹±æ–‡å­—æ¯ç»„æˆã€‚



**è¿›é˜¶ï¼š** å¦‚æœè·¯å¾„ä¸­æ¯ä¸ªèŠ‚ç‚¹åªå¯è®¿é—®ä¸€æ¬¡ï¼Œä½ è¯¥å¦‚ä½•ä¿®æ”¹ä½ çš„ç­”æ¡ˆï¼Ÿ


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```