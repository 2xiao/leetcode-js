# [1846. å‡å°å’Œé‡æ–°æ’åˆ—æ•°ç»„åçš„æœ€å¤§å…ƒç´ ](https://leetcode.com/problems/maximum-element-after-decreasing-and-rearranging)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-element-after-decreasing-and-rearranging)

## é¢˜ç›®

You are given an array of positive integers `arr`. Perform some operations
(possibly none) on `arr` so that it satisfies these conditions:

  * The value of the **first** element in `arr` must be `1`.
  * The absolute difference between any 2 adjacent elements must be **less than or equal to**`1`. In other words, `abs(arr[i] - arr[i - 1]) <= 1` for each `i` where `1 <= i < arr.length` (**0-indexed**). `abs(x)` is the absolute value of `x`.

There are 2 types of operations that you can perform any number of times:

  * **Decrease** the value of any element of `arr` to a **smaller positive integer**.
  * **Rearrange** the elements of `arr` to be in any order.

Return _the**maximum** possible value of an element in _`arr` _after
performing the operations to satisfy the conditions_.



**Example 1:**

> Input: arr = [2,2,1,2,1]
> 
> Output: 2
> 
> Explanation: 
> 
> We can satisfy the conditions by rearranging arr so it becomes [1,2,2,2,1].
> 
> The largest element in arr is 2.

**Example 2:**

> Input: arr = [100,1,1000]
> 
> Output: 3
> 
> Explanation: 
> 
> One possible way to satisfy the conditions is by doing the following:
> 
> 1. Rearrange arr so it becomes [1,100,1000].
> 
> 2. Decrease the value of the second element to 2.
> 
> 3. Decrease the value of the third element to 3.
> 
> Now arr = [1,2,3], which satisfies the conditions.
> 
> The largest element in arr is 3.

**Example 3:**

> Input: arr = [1,2,3,4,5]
> 
> Output: 5
> 
> Explanation: The array already satisfies the conditions, and the largest element is 5.

**Constraints:**

  * `1 <= arr.length <= 10^5`
  * `1 <= arr[i] <= 10^9`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `arr` ã€‚è¯·ä½ å¯¹ `arr` æ‰§è¡Œä¸€äº›æ“ä½œï¼ˆä¹Ÿå¯ä»¥ä¸è¿›è¡Œä»»ä½•æ“ä½œï¼‰ï¼Œä½¿å¾—æ•°ç»„æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

  * `arr` ä¸­ **ç¬¬ä¸€ä¸ª** å…ƒç´ å¿…é¡»ä¸º `1` ã€‚
  * ä»»æ„ç›¸é‚»ä¸¤ä¸ªå…ƒç´ çš„å·®çš„ç»å¯¹å€¼ **å°äºç­‰äº** `1` ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä»»æ„çš„ `1 <= i < arr.length` ï¼ˆ**æ•°ç»„ä¸‹æ ‡ä» 0 å¼€å§‹** ï¼‰ï¼Œéƒ½æ»¡è¶³ `abs(arr[i] - arr[i - 1]) <= 1` ã€‚`abs(x)` ä¸º `x` çš„ç»å¯¹å€¼ã€‚

ä½ å¯ä»¥æ‰§è¡Œä»¥ä¸‹ 2 ç§æ“ä½œä»»æ„æ¬¡ï¼š

  * **å‡å°** `arr` ä¸­ä»»æ„å…ƒç´ çš„å€¼ï¼Œä½¿å…¶å˜ä¸ºä¸€ä¸ª **æ›´å°çš„æ­£æ•´æ•°** ã€‚
  * **é‡æ–°æ’åˆ—** `arr` ä¸­çš„å…ƒç´ ï¼Œä½ å¯ä»¥ä»¥ä»»æ„é¡ºåºé‡æ–°æ’åˆ—ã€‚

è¯·ä½ è¿”å›æ‰§è¡Œä»¥ä¸Šæ“ä½œåï¼Œåœ¨æ»¡è¶³å‰æ–‡æ‰€è¿°çš„æ¡ä»¶ä¸‹ï¼Œ`arr` ä¸­å¯èƒ½çš„ **æœ€å¤§å€¼** ã€‚

**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** arr = [2,2,1,2,1]
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š**
> 
> æˆ‘ä»¬å¯ä»¥é‡æ–°æ’åˆ— arr å¾—åˆ° [1,2,2,2,1] ï¼Œè¯¥æ•°ç»„æ»¡è¶³æ‰€æœ‰æ¡ä»¶ã€‚
> 
> arr ä¸­æœ€å¤§å…ƒç´ ä¸º 2 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** arr = [100,1,1000]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š**
> 
> ä¸€ä¸ªå¯è¡Œçš„æ–¹æ¡ˆå¦‚ä¸‹ï¼š
> 
> 1. é‡æ–°æ’åˆ— arr å¾—åˆ° [1,100,1000] ã€‚
> 
> 2. å°†ç¬¬äºŒä¸ªå…ƒç´ å‡å°ä¸º 2 ã€‚
> 
> 3. å°†ç¬¬ä¸‰ä¸ªå…ƒç´ å‡å°ä¸º 3 ã€‚
> 
> ç°åœ¨ arr = [1,2,3] ï¼Œæ»¡è¶³æ‰€æœ‰æ¡ä»¶ã€‚
> 
> arr ä¸­æœ€å¤§å…ƒç´ ä¸º 3 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** arr = [1,2,3,4,5]
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š** æ•°ç»„å·²ç»æ»¡è¶³æ‰€æœ‰æ¡ä»¶ï¼Œæœ€å¤§å…ƒç´ ä¸º 5 ã€‚
> 
> 

**æç¤ºï¼š**

  * `1 <= arr.length <= 10^5`
  * `1 <= arr[i] <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```