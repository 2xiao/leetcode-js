---
title: 828. ç»Ÿè®¡å­ä¸²ä¸­çš„å”¯ä¸€å­—ç¬¦
description: LeetCode,828. ç»Ÿè®¡å­ä¸²ä¸­çš„å”¯ä¸€å­—ç¬¦,ç»Ÿè®¡å­ä¸²ä¸­çš„å”¯ä¸€å­—ç¬¦,Count Unique Characters of All Substrings of a Given String,è§£é¢˜æ€è·¯,å“ˆå¸Œè¡¨,å­—ç¬¦ä¸²,åŠ¨æ€è§„åˆ’
keywords:
  - LeetCode
  - 828. ç»Ÿè®¡å­ä¸²ä¸­çš„å”¯ä¸€å­—ç¬¦
  - ç»Ÿè®¡å­ä¸²ä¸­çš„å”¯ä¸€å­—ç¬¦
  - Count Unique Characters of All Substrings of a Given String
  - è§£é¢˜æ€è·¯
  - å“ˆå¸Œè¡¨
  - å­—ç¬¦ä¸²
  - åŠ¨æ€è§„åˆ’
---

# 828. ç»Ÿè®¡å­ä¸²ä¸­çš„å”¯ä¸€å­—ç¬¦

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/count-unique-characters-of-all-substrings-of-a-given-string) [`LeetCode`](https://leetcode.com/problems/count-unique-characters-of-all-substrings-of-a-given-string)

## é¢˜ç›®

Let's define a function `countUniqueChars(s)` that returns the number of
unique characters in `s`.

  * For example, calling `countUniqueChars(s)` if `s = "LEETCODE"` then `"L"`, `"T"`, `"C"`, `"O"`, `"D"` are the unique characters since they appear only once in `s`, therefore `countUniqueChars(s) = 5`.

Given a string `s`, return the sum of `countUniqueChars(t)` where `t` is a
substring of `s`. The test cases are generated such that the answer fits in a
32-bit integer.

Notice that some substrings can be repeated so in this case you have to count
the repeated ones too.



**Example 1:**

> Input: s = "ABC"
> 
> Output: 10
> 
> Explanation: All possible substrings are: "A","B","C","AB","BC" and "ABC".
> 
> Every substring is composed with only unique letters.
> 
> Sum of lengths of all substring is 1 + 1 + 1 + 2 + 2 + 3 = 10

**Example 2:**

> Input: s = "ABA"
> 
> Output: 8
> 
> Explanation: The same as example 1, except countUniqueChars("ABA") = 1.

**Example 3:**

> Input: s = "LEETCODE"
> 
> Output: 92

**Constraints:**

  * `1 <= s.length <= 10^5`
  * `s` consists of uppercase English letters only.


## é¢˜ç›®å¤§æ„

æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå‡½æ•° `countUniqueChars(s)` æ¥ç»Ÿè®¡å­—ç¬¦ä¸² `s` ä¸­çš„å”¯ä¸€å­—ç¬¦ï¼Œå¹¶è¿”å›å”¯ä¸€å­—ç¬¦çš„ä¸ªæ•°ã€‚

ä¾‹å¦‚ï¼š`s = "LEETCODE"` ï¼Œåˆ™å…¶ä¸­ `"L"`, `"T"`,`"C"`,`"O"`,`"D"` éƒ½æ˜¯å”¯ä¸€å­—ç¬¦ï¼Œå› ä¸ºå®ƒä»¬åªå‡ºç°ä¸€æ¬¡ï¼Œæ‰€ä»¥
`countUniqueChars(s) = 5` ã€‚

æœ¬é¢˜å°†ä¼šç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œæˆ‘ä»¬éœ€è¦è¿”å› `countUniqueChars(t)` çš„æ€»å’Œï¼Œå…¶ä¸­ `t` æ˜¯ `s`
çš„å­å­—ç¬¦ä¸²ã€‚è¾“å…¥ç”¨ä¾‹ä¿è¯è¿”å›å€¼ä¸º 32 ä½æ•´æ•°ã€‚

æ³¨æ„ï¼ŒæŸäº›å­å­—ç¬¦ä¸²å¯èƒ½æ˜¯é‡å¤çš„ï¼Œä½†ä½ ç»Ÿè®¡æ—¶ä¹Ÿå¿…é¡»ç®—ä¸Šè¿™äº›é‡å¤çš„å­å­—ç¬¦ä¸²ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¿…é¡»ç»Ÿè®¡ `s` çš„æ‰€æœ‰å­å­—ç¬¦ä¸²ä¸­çš„å”¯ä¸€å­—ç¬¦ï¼‰ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥:** s = "ABC"
> 
> **è¾“å‡º:** 10
> 
> **è§£é‡Š:** æ‰€æœ‰å¯èƒ½çš„å­ä¸²ä¸ºï¼š"A","B","C","AB","BC" å’Œ "ABC"ã€‚
> 
> > 
>  å…¶ä¸­ï¼Œæ¯ä¸€ä¸ªå­ä¸²éƒ½ç”±ç‹¬ç‰¹å­—ç¬¦æ„æˆã€‚
> 
> > 
>  æ‰€ä»¥å…¶é•¿åº¦æ€»å’Œä¸ºï¼š1 + 1 + 1 + 2 + 2 + 3 = 10
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥:** s = "ABA"
> 
> **è¾“å‡º:** 8
> 
> **è§£é‡Š:** é™¤äº† countUniqueChars("ABA") = 1 ä¹‹å¤–ï¼Œå…¶ä½™ä¸ç¤ºä¾‹ 1 ç›¸åŒã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "LEETCODE"
> 
> **è¾“å‡ºï¼š** 92
> 
> 



**æç¤ºï¼š**

  * `1 <= s.length <= 10^5`
  * `s` åªåŒ…å«å¤§å†™è‹±æ–‡å­—ç¬¦


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 2262 | å­—ç¬¦ä¸²çš„æ€»å¼•åŠ› | [[âœ“]](/problem/2262.md) |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/total-appeal-of-a-string) [ğŸ”—](https://leetcode.com/problems/total-appeal-of-a-string) |