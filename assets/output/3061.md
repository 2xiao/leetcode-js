---
title: 3061. è®¡ç®—æ»ç•™é›¨æ°´ ğŸ”’
description: LeetCode,3061. è®¡ç®—æ»ç•™é›¨æ°´ ğŸ”’,è®¡ç®—æ»ç•™é›¨æ°´,Calculate Trapping Rain Water,è§£é¢˜æ€è·¯,æ•°æ®åº“
keywords:
  - LeetCode
  - 3061. è®¡ç®—æ»ç•™é›¨æ°´ ğŸ”’
  - è®¡ç®—æ»ç•™é›¨æ°´
  - Calculate Trapping Rain Water
  - è§£é¢˜æ€è·¯
  - æ•°æ®åº“
---

# 3061. è®¡ç®—æ»ç•™é›¨æ°´ ğŸ”’

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°æ®åº“`](/tag/database.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/calculate-trapping-rain-water) [`LeetCode`](https://leetcode.com/problems/calculate-trapping-rain-water)

## é¢˜ç›®

Table: Heights

> 
> 
> 
> 
> 
> +-------------+------+
> 
> | Column Name | Type |
> 
> +-------------+------+
> 
> | id> 
> > 
>   | int  |
> 
> | height> 
>   | int  |
> 
> +-------------+------+
> 
> id is the primary key (column with unique values) for this table, and it is guaranteed to be in sequential order.
> 
> Each row of this table contains an id and height.
> 
> 

Write a solution to calculate the amount of rainwater can be **trapped between
the bars** in the landscape, considering that each bar has a **width** of `1`
unit.

Return _the result table in_**any** _order._

The result format is in the following example.



**Example 1:**

> Input: 
> 
> Heights table:
> 
> +-----+--------+
> 
> | id  | height |
> 
> +-----+--------+
> 
> | 1   | 0> 
>   |
> 
> | 2   | 1> 
>   |
> 
> | 3   | 0> 
>   |
> 
> | 4   | 2> 
>   |
> 
> | 5   | 1> 
>   |
> 
> | 6   | 0> 
>   |
> 
> | 7   | 1> 
>   |
> 
> | 8   | 3> 
>   |
> 
> | 9   | 2> 
>   |
> 
> | 10  | 1> 
>   |
> 
> | 11  | 2> 
>   |
> 
> | 12  | 1> 
>   |
> 
> +-----+--------+
> 
> Output: 
> 
> +---------------------+
> 
> | total_trapped_water | 
> 
> +---------------------+
> 
> | 6> 
> > 
> > 
> > 
>    | 
> 
> +---------------------+
> 
> Explanation: 
> 
> ![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/3000-3099/3061.Calculate%20Trapping%20Rain%20Water/images/trapping_rain_water.png)
> 
> 
> 
> The elevation map depicted above (in the black section) is graphically represented with the x-axis denoting the id and the y-axis representing the heights [0,1,0,2,1,0,1,3,2,1,2,1]. In this scenario, 6 units of rainwater are trapped within the blue section.
> 
> 


## é¢˜ç›®å¤§æ„

è¡¨ï¼šHeights

> 
> 
> 
> 
> 
> +-------------+------+
> 
> | Column Name | Type |
> 
> +-------------+------+
> 
> | id> 
> > 
>   | int  |
> 
> | height> 
>   | int  |
> 
> +-------------+------+
> 
> id æ˜¯è¿™å¼ è¡¨çš„ä¸»é”®ï¼ˆå€¼äº’ä¸ç›¸åŒçš„åˆ—ï¼‰ï¼Œå¹¶ä¸”ä¿è¯æœ‰åºã€‚
> 
> è¿™å¼ è¡¨çš„æ¯ä¸€è¡Œéƒ½åŒ…å« id å’Œ heightã€‚
> 
> 

ç¼–å†™ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ¥è®¡ç®—æ™¯è§‚ä¸­ **æ²™æ´²ä¹‹é—´** å¯ä»¥æ»ç•™çš„é›¨æ°´é‡ï¼Œè®¤ä¸ºæ¯ä¸ªæ²™æ´²çš„ **å®½åº¦** ä¸º `1` ä¸ªå•ä½ã€‚

ä»¥ **ä»»ä½•** é¡ºåºè¿”å›ç»“æœè¡¨ã€‚

ç»“æœæ ¼å¼å¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚



**Example 1:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** 
> 
> Heights table:
> 
> +-----+--------+
> 
> | id  | height |
> 
> +-----+--------+
> 
> | 1   | 0> 
>   |
> 
> | 2   | 1> 
>   |
> 
> | 3   | 0> 
>   |
> 
> | 4   | 2> 
>   |
> 
> | 5   | 1> 
>   |
> 
> | 6   | 0> 
>   |
> 
> | 7   | 1> 
>   |
> 
> | 8   | 3> 
>   |
> 
> | 9   | 2> 
>   |
> 
> | 10  | 1> 
>   |
> 
> | 11  | 2> 
>   |
> 
> | 12  | 1> 
>   |
> 
> +-----+--------+
> 
> **è¾“å‡º:** 
> 
> +---------------------+
> 
> | total_trapped_water | 
> 
> +---------------------+
> 
> | 6> 
> > 
> > 
> > 
>    | 
> 
> +---------------------+
> 
> **è§£é‡Š:** 
> 
> ![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/3000-3099/3061.Calculate%20Trapping%20Rain%20Water/images/1709609248-wtdiVm-image.png)
> 
> 
> 
> ä¸Šé¢æç»˜çš„é«˜åº¦å›¾(åœ¨é»‘è‰²éƒ¨åˆ†)ä»¥å›¾å½¢è¡¨ç¤ºï¼Œx è½´è¡¨ç¤º idï¼Œy è½´è¡¨ç¤º heights [0,1,0,2,1,0,1,3,2,1,2,1]ã€‚åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œåœ¨è“è‰²éƒ¨åˆ†æ»ç•™äº† 6 ä¸ªå•ä½çš„é›¨æ°´ã€‚
> 
> 


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```