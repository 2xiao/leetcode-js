# [715. Range æ¨¡å—](https://2xiao.github.io/leetcode-js/problem/0715.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æœ‰åºé›†åˆ`](/tag/ordered-set.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/range-module) [`LeetCode`](https://leetcode.com/problems/range-module)

## é¢˜ç›®

A Range Module is a module that tracks ranges of numbers. Design a data
structure to track the ranges represented as **half-open intervals** and query
about them.

A **half-open interval** `[left, right)` denotes all the real numbers `x`
where `left <= x < right`.

Implement the `RangeModule` class:

  * `RangeModule()` Initializes the object of the data structure.
  * `void addRange(int left, int right)` Adds the **half-open interval** `[left, right)`, tracking every real number in that interval. Adding an interval that partially overlaps with currently tracked numbers should add any numbers in the interval `[left, right)` that are not already tracked.
  * `boolean queryRange(int left, int right)` Returns `true` if every real number in the interval `[left, right)` is currently being tracked, and `false` otherwise.
  * `void removeRange(int left, int right)` Stops tracking every real number currently being tracked in the **half-open interval** `[left, right)`.



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["RangeModule", "addRange", "removeRange", "queryRange", "queryRange", "queryRange"]
> 
> [[], [10, 20], [14, 16], [10, 14], [13, 15], [16, 17]]
> 
> **Output**
> 
> [null, null, null, true, false, true]
> 
> 
> 
> **Explanation**
> 
> RangeModule rangeModule = new RangeModule();
> 
> rangeModule.addRange(10, 20);
> 
> rangeModule.removeRange(14, 16);
> 
> rangeModule.queryRange(10, 14); // return True,(Every number in [10, 14) is being tracked)
> 
> rangeModule.queryRange(13, 15); // return False,(Numbers like 14, 14.03, 14.17 in [13, 15) are not being tracked)
> 
> rangeModule.queryRange(16, 17); // return True, (The number 16 in [16, 17) is still being tracked, despite the remove operation)

**Constraints:**

  * `1 <= left < right <= 10^9`
  * At most `10^4` calls will be made to `addRange`, `queryRange`, and `removeRange`.


## é¢˜ç›®å¤§æ„

Rangeæ¨¡å—æ˜¯è·Ÿè¸ªæ•°å­—èŒƒå›´çš„æ¨¡å—ã€‚è®¾è®¡ä¸€ä¸ªæ•°æ®ç»“æ„æ¥è·Ÿè¸ªè¡¨ç¤ºä¸º **åŠå¼€åŒºé—´** çš„èŒƒå›´å¹¶æŸ¥è¯¢å®ƒä»¬ã€‚

**åŠå¼€åŒºé—´**  `[left, right)` è¡¨ç¤ºæ‰€æœ‰ `left <= x < right` çš„å®æ•° `x` ã€‚

å®ç° `RangeModule` ç±»:

  * `RangeModule()` åˆå§‹åŒ–æ•°æ®ç»“æ„çš„å¯¹è±¡ã€‚
  * `void addRange(int left, int right)` æ·»åŠ  **åŠå¼€åŒºé—´**  `[left, right)`ï¼Œè·Ÿè¸ªè¯¥åŒºé—´ä¸­çš„æ¯ä¸ªå®æ•°ã€‚æ·»åŠ ä¸å½“å‰è·Ÿè¸ªçš„æ•°å­—éƒ¨åˆ†é‡å çš„åŒºé—´æ—¶ï¼Œåº”å½“æ·»åŠ åœ¨åŒºé—´ `[left, right)` ä¸­å°šæœªè·Ÿè¸ªçš„ä»»ä½•æ•°å­—åˆ°è¯¥åŒºé—´ä¸­ã€‚
  * `boolean queryRange(int left, int right)` åªæœ‰åœ¨å½“å‰æ­£åœ¨è·Ÿè¸ªåŒºé—´ `[left, right)` ä¸­çš„æ¯ä¸€ä¸ªå®æ•°æ—¶ï¼Œæ‰è¿”å› `true` ï¼Œå¦åˆ™è¿”å› `false` ã€‚
  * `void removeRange(int left, int right)` åœæ­¢è·Ÿè¸ª **åŠå¼€åŒºé—´**  `[left, right)` ä¸­å½“å‰æ­£åœ¨è·Ÿè¸ªçš„æ¯ä¸ªå®æ•°ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥**
> 
> ["RangeModule", "addRange", "removeRange", "queryRange", "queryRange", "queryRange"]
> 
> [[], [10, 20], [14, 16], [10, 14], [13, 15], [16, 17]]
> 
> **è¾“å‡º**
> 
> [null, null, null, true, false, true]
> 
> 
> 
> **è§£é‡Š**
> 
> RangeModule rangeModule = new RangeModule();
> 
> rangeModule.addRange(10, 20);
> 
> rangeModule.removeRange(14, 16);
> 
> rangeModule.queryRange(10, 14); è¿”å› true ï¼ˆåŒºé—´ [10, 14) ä¸­çš„æ¯ä¸ªæ•°éƒ½æ­£åœ¨è¢«è·Ÿè¸ªï¼‰
> 
> rangeModule.queryRange(13, 15); è¿”å› falseï¼ˆæœªè·Ÿè¸ªåŒºé—´ [13, 15) ä¸­åƒ 14, 14.03, 14.17 è¿™æ ·çš„æ•°å­—ï¼‰
> 
> rangeModule.queryRange(16, 17); è¿”å› true ï¼ˆå°½ç®¡æ‰§è¡Œäº†åˆ é™¤æ“ä½œï¼ŒåŒºé—´ [16, 17) ä¸­çš„æ•°å­— 16 ä»ç„¶ä¼šè¢«è·Ÿè¸ªï¼‰
> 
> 



**æç¤ºï¼š**

  * `1 <= left < right <= 10^9`
  * åœ¨å•ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œå¯¹ `addRange` ã€  `queryRange` å’Œ `removeRange` çš„è°ƒç”¨æ€»æ•°ä¸è¶…è¿‡ `10^4` æ¬¡


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 56 | [åˆå¹¶åŒºé—´](https://leetcode.com/problems/merge-intervals) | [[âœ“]](/problem/0056.md) |  [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) | <font color=#ffb800>Medium</font> |
| 57 | [æ’å…¥åŒºé—´](https://leetcode.com/problems/insert-interval) | [[âœ“]](/problem/0057.md) |  [`æ•°ç»„`](/tag/array.md) | <font color=#ffb800>Medium</font> |
| 352 | [å°†æ•°æ®æµå˜ä¸ºå¤šä¸ªä¸ç›¸äº¤åŒºé—´](https://leetcode.com/problems/data-stream-as-disjoint-intervals) |  |  [`è®¾è®¡`](/tag/design.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`æœ‰åºé›†åˆ`](/tag/ordered-set.md) | <font color=#ff334b>Hard</font> |