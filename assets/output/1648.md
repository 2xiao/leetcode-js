# [1648. é”€å”®ä»·å€¼å‡å°‘çš„é¢œè‰²çƒ](https://leetcode.com/problems/sell-diminishing-valued-colored-balls)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`æ’åº`](/tag/sorting.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/sell-diminishing-valued-colored-balls)

## é¢˜ç›®

You have an `inventory` of different colored balls, and there is a customer
that wants `orders` balls of **any** color.

The customer weirdly values the colored balls. Each colored ball's value is
the number of balls **of that color  **you currently have in your `inventory`.
For example, if you own `6` yellow balls, the customer would pay `6` for the
first yellow ball. After the transaction, there are only `5` yellow balls
left, so the next yellow ball is then valued at `5` (i.e., the value of the
balls decreases as you sell more to the customer).

You are given an integer array, `inventory`, where `inventory[i]` represents
the number of balls of the `ith` color that you initially own. You are also
given an integer `orders`, which represents the total number of balls that the
customer wants. You can sell the balls **in any order**.

Return _the**maximum** total value that you can attain after selling _`orders`
_colored balls_. As the answer may be too large, return it **modulo**`109 +
7`.



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/11/05/jj.gif)

> Input: inventory = [2,5], orders = 4
> 
> Output: 14
> 
> Explanation: Sell the 1st color 1 time (2) and the 2nd color 3 times (5 + 4 + 3).
> 
> The maximum total value is 2 + 5 + 4 + 3 = 14.

**Example 2:**

> Input: inventory = [3,5], orders = 6
> 
> Output: 19
> 
> Explanation: Sell the 1st color 2 times (3 + 2) and the 2nd color 4 times (5 + 4 + 3 + 2).
> 
> The maximum total value is 3 + 2 + 5 + 4 + 3 + 2 = 19.

**Constraints:**

  * `1 <= inventory.length <= 10^5`
  * `1 <= inventory[i] <= 10^9`
  * `1 <= orders <= min(sum(inventory[i]), 109)`


## é¢˜ç›®å¤§æ„

ä½ æœ‰ä¸€äº›çƒçš„åº“å­˜ `inventory` ï¼Œé‡Œé¢åŒ…å«ç€ä¸åŒé¢œè‰²çš„çƒã€‚ä¸€ä¸ªé¡¾å®¢æƒ³è¦ **ä»»æ„é¢œè‰²** æ€»æ•°ä¸º `orders` çš„çƒã€‚

è¿™ä½é¡¾å®¢æœ‰ä¸€ç§ç‰¹æ®Šçš„æ–¹å¼è¡¡é‡çƒçš„ä»·å€¼ï¼šæ¯ä¸ªçƒçš„ä»·å€¼æ˜¯ç›®å‰å‰©ä¸‹çš„ **åŒè‰²çƒ** çš„æ•°ç›®ã€‚æ¯”æ–¹è¯´è¿˜å‰©ä¸‹ `6`
ä¸ªé»„çƒï¼Œé‚£ä¹ˆé¡¾å®¢ä¹°ç¬¬ä¸€ä¸ªé»„çƒçš„æ—¶å€™è¯¥é»„çƒçš„ä»·å€¼ä¸º `6` ã€‚è¿™ç¬”äº¤æ˜“ä»¥åï¼Œåªå‰©ä¸‹ `5` ä¸ªé»„çƒäº†ï¼Œæ‰€ä»¥ä¸‹ä¸€ä¸ªé»„çƒçš„ä»·å€¼ä¸º `5`
ï¼ˆä¹Ÿå°±æ˜¯çƒçš„ä»·å€¼éšç€é¡¾å®¢è´­ä¹°åŒè‰²çƒæ˜¯é€’å‡çš„ï¼‰

ç»™ä½ æ•´æ•°æ•°ç»„ `inventory` ï¼Œå…¶ä¸­ `inventory[i]` è¡¨ç¤ºç¬¬ `i` ç§é¢œè‰²çƒä¸€å¼€å§‹çš„æ•°ç›®ã€‚åŒæ—¶ç»™ä½ æ•´æ•° `orders`
ï¼Œè¡¨ç¤ºé¡¾å®¢æ€»å…±æƒ³ä¹°çš„çƒæ•°ç›®ã€‚ä½ å¯ä»¥æŒ‰ç…§ **ä»»æ„é¡ºåº** å–çƒã€‚

è¯·ä½ è¿”å›å–äº† `orders` ä¸ªçƒä»¥å **æœ€å¤§** æ€»ä»·å€¼ä¹‹å’Œã€‚ç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·ä½ è¿”å›ç­”æ¡ˆå¯¹ `109 + 7` **å–ä½™æ•°** çš„ç»“æœã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/11/08/jj.gif)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** inventory = [2,5], orders = 4
> 
> **è¾“å‡ºï¼š** 14
> 
> **è§£é‡Šï¼š** å– 1 ä¸ªç¬¬ä¸€ç§é¢œè‰²çš„çƒï¼ˆä»·å€¼ä¸º 2 )ï¼Œå– 3 ä¸ªç¬¬äºŒç§é¢œè‰²çš„çƒï¼ˆä»·å€¼ä¸º 5 + 4 + 3ï¼‰ã€‚
> 
> æœ€å¤§æ€»å’Œä¸º 2 + 5 + 4 + 3 = 14 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** inventory = [3,5], orders = 6
> 
> **è¾“å‡ºï¼š** 19
> 
> **è§£é‡Šï¼š** å– 2 ä¸ªç¬¬ä¸€ç§é¢œè‰²çš„çƒï¼ˆä»·å€¼ä¸º 3 + 2ï¼‰ï¼Œå– 4 ä¸ªç¬¬äºŒç§é¢œè‰²çš„çƒï¼ˆä»·å€¼ä¸º 5 + 4 + 3 + 2ï¼‰ã€‚
> 
> æœ€å¤§æ€»å’Œä¸º 3 + 2 + 5 + 4 + 3 + 2 = 19 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** inventory = [2,8,4,10,6], orders = 20
> 
> **è¾“å‡ºï¼š** 110
> 
> 

**ç¤ºä¾‹ 4ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** inventory = [1000000000], orders = 1000000000
> 
> **è¾“å‡ºï¼š** 21
> 
> **è§£é‡Šï¼š** å– 1000000000 æ¬¡ç¬¬ä¸€ç§é¢œè‰²çš„çƒï¼Œæ€»ä»·å€¼ä¸º 500000000500000000 ã€‚ 500000000500000000 å¯¹ 109 + 7 å–ä½™ä¸º 21 ã€‚
> 
> 

**æç¤ºï¼š**

  * `1 <= inventory.length <= 10^5`
  * `1 <= inventory[i] <= 10^9`
  * `1 <= orders <= min(sum(inventory[i]), 109)`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2141 | [åŒæ—¶è¿è¡Œ N å°ç”µè„‘çš„æœ€é•¿æ—¶é—´](https://leetcode.com/problems/maximum-running-time-of-n-computers) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `1+` | <font color=#ff334b>Hard</font> |