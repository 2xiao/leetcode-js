# [2781. æœ€é•¿åˆæ³•å­å­—ç¬¦ä¸²çš„é•¿åº¦](https://leetcode.com/problems/length-of-the-longest-valid-substring)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/length-of-the-longest-valid-substring)

## é¢˜ç›®

You are given a string `word` and an array of strings `forbidden`.

A string is called **valid** if none of its substrings are present in
`forbidden`.

Return _the length of the**longest valid substring** of the string _`word`.

A **substring** is a contiguous sequence of characters in a string, possibly
empty.



**Example 1:**

> Input: word = "cbaaaabc", forbidden = ["aaa","cb"]
> 
> Output: 4
> 
> Explanation: There are 11 valid substrings in word: "c", "b", "a", "ba", "aa", "bc", "baa", "aab", "ab", "abc" and "aabc". The length of the longest valid substring is 4. 
> 
> It can be shown that all other substrings contain either "aaa" or "cb" as a substring. 

**Example 2:**

> Input: word = "leetcode", forbidden = ["de","le","e"]
> 
> Output: 4
> 
> Explanation: There are 11 valid substrings in word: "l", "t", "c", "o", "d", "tc", "co", "od", "tco", "cod", and "tcod". The length of the longest valid substring is 4.
> 
> It can be shown that all other substrings contain either "de", "le", or "e" as a substring. 

**Constraints:**

  * `1 <= word.length <= 10^5`
  * `word` consists only of lowercase English letters.
  * `1 <= forbidden.length <= 10^5`
  * `1 <= forbidden[i].length <= 10`
  * `forbidden[i]` consists only of lowercase English letters.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `word` å’Œä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ `forbidden` ã€‚

å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²ä¸åŒ…å« `forbidden` ä¸­çš„ä»»ä½•å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªå­—ç¬¦ä¸²æ˜¯ **åˆæ³•**  çš„ã€‚

è¯·ä½ è¿”å›å­—ç¬¦ä¸² `word` çš„ä¸€ä¸ª **æœ€é•¿åˆæ³•å­å­—ç¬¦ä¸²**  çš„é•¿åº¦ã€‚

**å­å­—ç¬¦ä¸²** æŒ‡çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ä¸€æ®µè¿ç»­çš„å­—ç¬¦ï¼Œå®ƒå¯ä»¥ä¸ºç©ºã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** word = "cbaaaabc", forbidden = ["aaa","cb"]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** æ€»å…±æœ‰ 11 ä¸ªåˆæ³•å­å­—ç¬¦ä¸²ï¼š"c", "b", "a", "ba", "aa", "bc", "baa", "aab", "ab", "abc" å’Œ "aabc"ã€‚æœ€é•¿åˆæ³•å­å­—ç¬¦ä¸²çš„é•¿åº¦ä¸º 4 ã€‚
> 
> å…¶ä»–å­å­—ç¬¦ä¸²éƒ½è¦ä¹ˆåŒ…å« "aaa" ï¼Œè¦ä¹ˆåŒ…å« "cb" ã€‚

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** word = "leetcode", forbidden = ["de","le","e"]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** æ€»å…±æœ‰ 11 ä¸ªåˆæ³•å­å­—ç¬¦ä¸²ï¼š"l" ï¼Œ"t" ï¼Œ"c" ï¼Œ"o" ï¼Œ"d" ï¼Œ"tc" ï¼Œ"co" ï¼Œ"od" ï¼Œ"tco" ï¼Œ"cod" å’Œ "tcod" ã€‚æœ€é•¿åˆæ³•å­å­—ç¬¦ä¸²çš„é•¿åº¦ä¸º 4 ã€‚
> 
> æ‰€æœ‰å…¶ä»–å­å­—ç¬¦ä¸²éƒ½è‡³å°‘åŒ…å« "de" ï¼Œ"le" å’Œ "e" ä¹‹ä¸€ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= word.length <= 10^5`
  * `word` åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚
  * `1 <= forbidden.length <= 10^5`
  * `1 <= forbidden[i].length <= 10`
  * `forbidden[i]` åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```