# [2312. å–æœ¨å¤´å—](https://leetcode.com/problems/selling-pieces-of-wood)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`è®°å¿†åŒ–æœç´¢`](/outline/tag/memoization.md) [`æ•°ç»„`](/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/selling-pieces-of-wood)

## é¢˜ç›®

You are given two integers `m` and `n` that represent the height and width of
a rectangular piece of wood. You are also given a 2D integer array `prices`,
where `prices[i] = [hi, wi, pricei]` indicates you can sell a rectangular
piece of wood of height `hi` and width `wi` for `pricei` dollars.

To cut a piece of wood, you must make a vertical or horizontal cut across the
**entire** height or width of the piece to split it into two smaller pieces.
After cutting a piece of wood into some number of smaller pieces, you can sell
pieces according to `prices`. You may sell multiple pieces of the same shape,
and you do not have to sell all the shapes. The grain of the wood makes a
difference, so you **cannot** rotate a piece to swap its height and width.

Return _the**maximum** money you can earn after cutting an _`m x n` _piece of
wood_.

Note that you can cut the piece of wood as many times as you want.



**Example 1:**

![](https://assets.leetcode.com/uploads/2022/04/27/ex1.png)

> Input: m = 3, n = 5, prices = [[1,4,2],[2,2,7],[2,1,3]]
> 
> Output: 19
> 
> Explanation: The diagram above shows a possible scenario. It consists of:
> - 2 pieces of wood shaped 2 x 2, selling for a price of 2 * 7 = 14.
> - 1 piece of wood shaped 2 x 1, selling for a price of 1 * 3 = 3.
> - 1 piece of wood shaped 1 x 4, selling for a price of 1 * 2 = 2.
> 
> This obtains a total of 14 + 3 + 2 = 19 money earned.
> 
> It can be shown that 19 is the maximum amount of money that can be earned.

**Example 2:**

![](https://assets.leetcode.com/uploads/2022/04/27/ex2new.png)

> Input: m = 4, n = 6, prices = [[3,2,10],[1,4,2],[4,1,3]]
> 
> Output: 32
> 
> Explanation: The diagram above shows a possible scenario. It consists of:
> - 3 pieces of wood shaped 3 x 2, selling for a price of 3 * 10 = 30.
> - 1 piece of wood shaped 1 x 4, selling for a price of 1 * 2 = 2.
> 
> This obtains a total of 30 + 2 = 32 money earned.
> 
> It can be shown that 32 is the maximum amount of money that can be earned.
> 
> Notice that we cannot rotate the 1 x 4 piece of wood to obtain a 4 x 1 piece of wood.



**Constraints:**

  * `1 <= m, n <= 200`
  * `1 <= prices.length <= 2 * 10^4`
  * `prices[i].length == 3`
  * `1 <= hi <= m`
  * `1 <= wi <= n`
  * `1 <= pricei <= 10^6`
  * All the shapes of wood `(hi, wi)` are pairwise **distinct**.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸¤ä¸ªæ•´æ•° `m` å’Œ `n` ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸€å—çŸ©å½¢æœ¨å—çš„é«˜å’Œå®½ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ `prices` ï¼Œå…¶ä¸­ `prices[i] = [hi,
wi, pricei]` è¡¨ç¤ºä½ å¯ä»¥ä»¥ `pricei` å…ƒçš„ä»·æ ¼å–ä¸€å—é«˜ä¸º `hi` å®½ä¸º `wi` çš„çŸ©å½¢æœ¨å—ã€‚

æ¯ä¸€æ¬¡æ“ä½œä¸­ï¼Œä½ å¿…é¡»æŒ‰ä¸‹è¿°æ–¹å¼ä¹‹ä¸€æ‰§è¡Œåˆ‡å‰²æ“ä½œï¼Œä»¥å¾—åˆ°ä¸¤å—æ›´å°çš„çŸ©å½¢æœ¨å—ï¼š

  * æ²¿å‚ç›´æ–¹å‘æŒ‰é«˜åº¦ **å®Œå…¨** åˆ‡å‰²æœ¨å—ï¼Œæˆ–
  * æ²¿æ°´å¹³æ–¹å‘æŒ‰å®½åº¦ **å®Œå…¨** åˆ‡å‰²æœ¨å—

åœ¨å°†ä¸€å—æœ¨å—åˆ‡æˆè‹¥å¹²å°æœ¨å—åï¼Œä½ å¯ä»¥æ ¹æ® `prices` å–æœ¨å—ã€‚ä½ å¯ä»¥å–å¤šå—åŒæ ·å°ºå¯¸çš„æœ¨å—ã€‚ä½ ä¸éœ€è¦å°†æ‰€æœ‰å°æœ¨å—éƒ½å–å‡ºå»ã€‚ä½  **ä¸èƒ½**
æ—‹è½¬åˆ‡å¥½åæœ¨å—æ¥äº¤æ¢å®ƒçš„é«˜åº¦å€¼å’Œå®½åº¦å€¼ã€‚

è¯·ä½ è¿”å›åˆ‡å‰²ä¸€å—å¤§å°ä¸º _ _`m x n` __ çš„æœ¨å—åï¼Œèƒ½å¾—åˆ°çš„ **æœ€å¤š**  é’±æ•°ã€‚

æ³¨æ„ä½ å¯ä»¥åˆ‡å‰²æœ¨å—ä»»æ„æ¬¡ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2022/04/27/ex1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** m = 3, n = 5, prices = [[1,4,2],[2,2,7],[2,1,3]]
> 
> **è¾“å‡ºï¼š** 19
> 
> **è§£é‡Šï¼š** ä¸Šå›¾å±•ç¤ºäº†ä¸€ä¸ªå¯è¡Œçš„æ–¹æ¡ˆã€‚åŒ…æ‹¬ï¼š
> - 2 å— 2 x 2 çš„å°æœ¨å—ï¼Œå”®å‡º 2 * 7 = 14 å…ƒã€‚
> - 1 å— 2 x 1 çš„å°æœ¨å—ï¼Œå”®å‡º 1 * 3 = 3 å…ƒã€‚
> - 1 å— 1 x 4 çš„å°æœ¨å—ï¼Œå”®å‡º 1 * 2 = 2 å…ƒã€‚
> 
> æ€»å…±å”®å‡º 14 + 3 + 2 = 19 å…ƒã€‚
> 
> 19 å…ƒæ˜¯æœ€å¤šèƒ½å¾—åˆ°çš„é’±æ•°ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2022/04/27/ex2new.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** m = 4, n = 6, prices = [[3,2,10],[1,4,2],[4,1,3]]
> 
> **è¾“å‡ºï¼š** 32
> 
> **è§£é‡Šï¼š** ä¸Šå›¾å±•ç¤ºäº†ä¸€ä¸ªå¯è¡Œçš„æ–¹æ¡ˆã€‚åŒ…æ‹¬ï¼š
> - 3 å— 3 x 2 çš„å°æœ¨å—ï¼Œå”®å‡º 3 * 10 = 30 å…ƒã€‚
> - 1 å— 1 x 4 çš„å°æœ¨å—ï¼Œå”®å‡º 1 * 2 = 2 å…ƒã€‚
> 
> æ€»å…±å”®å‡º 30 + 2 = 32 å…ƒã€‚
> 
> 32 å…ƒæ˜¯æœ€å¤šèƒ½å¾—åˆ°çš„é’±æ•°ã€‚
> 
> æ³¨æ„æˆ‘ä»¬ä¸èƒ½æ—‹è½¬ 1 x 4 çš„æœ¨å—æ¥å¾—åˆ° 4 x 1 çš„æœ¨å—ã€‚



**æç¤ºï¼š**

  * `1 <= m, n <= 200`
  * `1 <= prices.length <= 2 * 10^4`
  * `prices[i].length == 3`
  * `1 <= hi <= m`
  * `1 <= wi <= n`
  * `1 <= pricei <= 10^6`
  * æ‰€æœ‰ `(hi, wi)` **äº’ä¸ç›¸åŒ**  ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1240 | [é“ºç“·ç –](https://leetcode.com/problems/tiling-a-rectangle-with-the-fewest-squares) |  |  [`å›æº¯`](/outline/tag/backtracking.md) | <font color=#ff334b>Hard</font> |
| 1444 | [åˆ‡æŠ«è¨çš„æ–¹æ¡ˆæ•°](https://leetcode.com/problems/number-of-ways-of-cutting-a-pizza) |  |  [`è®°å¿†åŒ–æœç´¢`](/outline/tag/memoization.md) [`æ•°ç»„`](/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md) `1+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
