---
title: 2819. è´­ä¹°å·§å…‹åŠ›åçš„æœ€å°ç›¸å¯¹æŸå¤± ğŸ”’
description: LeetCode 2819. è´­ä¹°å·§å…‹åŠ›åçš„æœ€å°ç›¸å¯¹æŸå¤± ğŸ”’é¢˜è§£ï¼ŒMinimum Relative Loss After Buying Chocolatesï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2819. è´­ä¹°å·§å…‹åŠ›åçš„æœ€å°ç›¸å¯¹æŸå¤± ğŸ”’
  - è´­ä¹°å·§å…‹åŠ›åçš„æœ€å°ç›¸å¯¹æŸå¤±
  - Minimum Relative Loss After Buying Chocolates
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
  - å‰ç¼€å’Œ
  - æ’åº
---

# 2819. è´­ä¹°å·§å…‹åŠ›åçš„æœ€å°ç›¸å¯¹æŸå¤± ğŸ”’

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minimum-relative-loss-after-buying-chocolates) [`LeetCode`](https://leetcode.com/problems/minimum-relative-loss-after-buying-chocolates)

## é¢˜ç›®

You are given an integer array `prices`, which shows the chocolate prices and
a 2D integer array `queries`, where `queries[i] = [ki, mi]`.

Alice and Bob went to buy some chocolates, and Alice suggested a way to pay
for them, and Bob agreed.

The terms for each query are as follows:

  * If the price of a chocolate is **less than or equal to** `ki`, Bob pays for it.
  * Otherwise, Bob pays `ki` of it, and Alice pays the **rest**.

Bob wants to select **exactly** `mi` chocolates such that his **relative
loss** is **minimized** , more formally, if, in total, Alice has paid `ai` and
Bob has paid `bi`, Bob wants to minimize `bi - ai`.

Return _an integer array_ `ans` _where_ `ans[i]` _is Bob 's **minimum relative
loss** possible for_ `queries[i]`.



**Example 1:**

> Input: prices = [1,9,22,10,19], queries = [[18,4],[5,2]]
> 
> Output: [34,-21]
> 
> Explanation: For the 1st query Bob selects the chocolates with prices [1,9,10,22]. He pays 1 + 9 + 10 + 18 = 38 and Alice pays 0 + 0 + 0 + 4 = 4. So Bob's relative loss is 38 - 4 = 34.
> 
> For the 2nd query Bob selects the chocolates with prices [19,22]. He pays 5 + 5 = 10 and Alice pays 14 + 17 = 31. So Bob's relative loss is 10 - 31 = -21.
> 
> It can be shown that these are the minimum possible relative losses.

**Example 2:**

> Input: prices = [1,5,4,3,7,11,9], queries = [[5,4],[5,7],[7,3],[4,5]]
> 
> Output: [4,16,7,1]
> 
> Explanation: For the 1st query Bob selects the chocolates with prices [1,3,9,11]. He pays 1 + 3 + 5 + 5 = 14 and Alice pays 0 + 0 + 4 + 6 = 10. So Bob's relative loss is 14 - 10 = 4.
> 
> For the 2nd query Bob has to select all the chocolates. He pays 1 + 5 + 4 + 3 + 5 + 5 + 5 = 28 and Alice pays 0 + 0 + 0 + 0 + 2 + 6 + 4 = 12. So Bob's relative loss is 28 - 12 = 16.
> 
> For the 3rd query Bob selects the chocolates with prices [1,3,11] and he pays 1 + 3 + 7 = 11 and Alice pays 0 + 0 + 4 = 4. So Bob's relative loss is 11 - 4 = 7.
> 
> For the 4th query Bob selects the chocolates with prices [1,3,7,9,11] and he pays 1 + 3 + 4 + 4 + 4 = 16 and Alice pays 0 + 0 + 3 + 5 + 7 = 15. So Bob's relative loss is 16 - 15 = 1.
> 
> It can be shown that these are the minimum possible relative losses.

**Example 3:**

> Input: prices = [5,6,7], queries = [[10,1],[5,3],[3,3]]
> 
> Output: [5,12,0]
> 
> Explanation: For the 1st query Bob selects the chocolate with price 5 and he pays 5 and Alice pays 0. So Bob's relative loss is 5 - 0 = 5.
> 
> For the 2nd query Bob has to select all the chocolates. He pays 5 + 5 + 5 = 15 and Alice pays 0 + 1 + 2 = 3. So Bob's relative loss is 15 - 3 = 12.
> 
> For the 3rd query Bob has to select all the chocolates. He pays 3 + 3 + 3 = 9 and Alice pays 2 + 3 + 4 = 9. So Bob's relative loss is 9 - 9 = 0.
> 
> It can be shown that these are the minimum possible relative losses.

**Constraints:**

  * `1 <= prices.length == n <= 10^5`
  * `1 <= prices[i] <= 10^9`
  * `1 <= queries.length <= 10^5`
  * `queries[i].length == 2`
  * `1 <= ki <= 10^9`
  * `1 <= mi <= n`


## é¢˜ç›®å¤§æ„

ç°ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `prices`ï¼Œè¡¨ç¤ºå·§å…‹åŠ›çš„ä»·æ ¼ï¼›ä»¥åŠä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ `queries`ï¼Œå…¶ä¸­ `queries[i] = [ki, mi]`ã€‚

Alice å’Œ Bob å»ä¹°å·§å…‹åŠ›ï¼ŒAlice æå‡ºäº†ä¸€ç§ä»˜æ¬¾æ–¹å¼ï¼Œè€Œ Bob åŒæ„äº†ã€‚

å¯¹äºæ¯ä¸ª `queries[i]` ï¼Œå®ƒçš„æ¡ä»¶å¦‚ä¸‹ï¼š

  * å¦‚æœä¸€å—å·§å…‹åŠ›çš„ä»·æ ¼ **å°äºç­‰äº** `ki`ï¼Œé‚£ä¹ˆ Bob ä¸ºå®ƒä»˜æ¬¾ã€‚
  * å¦åˆ™ï¼ŒBob ä¸ºå…¶ä¸­ `ki` éƒ¨åˆ†ä»˜æ¬¾ï¼Œè€Œ Alice ä¸º **å‰©ä½™** éƒ¨åˆ†ä»˜æ¬¾ã€‚

Bob æƒ³è¦é€‰æ‹© **æ°å¥½** `mi` å—å·§å…‹åŠ›ï¼Œä½¿å¾—ä»–çš„ **ç›¸å¯¹æŸå¤±æœ€å°** ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œå¦‚æœæ€»å…± Alice ä»˜æ¬¾äº† `ai`ï¼ŒBob ä»˜æ¬¾äº†
`bi`ï¼Œé‚£ä¹ˆ Bob å¸Œæœ›æœ€å°åŒ– `bi - ai`ã€‚

è¿”å›ä¸€ä¸ªæ•´æ•°æ•°ç»„ `ans`ï¼Œå…¶ä¸­ `ans[i]` æ˜¯ Bob åœ¨ `queries[i]` ä¸­å¯èƒ½çš„ **æœ€å°ç›¸å¯¹æŸå¤±** ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** prices = [1,9,22,10,19], queries = [[18,4],[5,2]]
> 
> **è¾“å‡ºï¼š**[34,-21]
> 
> **è§£é‡Šï¼š** å¯¹äºç¬¬ä¸€ä¸ª queryï¼ŒBob é€‰æ‹©ä»·æ ¼ä¸º [1,9,10,22] çš„å·§å…‹åŠ›ã€‚ä»–ä»˜äº† 1 + 9 + 10 + 18 = 38ï¼ŒAlice ä»˜äº† 0 + 0 + 0 + 4 = 4ã€‚å› æ­¤ï¼ŒBob çš„ç›¸å¯¹æŸå¤±æ˜¯ 38 - 4 = 34ã€‚
> 
> å¯¹äºç¬¬äºŒä¸ª queryï¼ŒBob é€‰æ‹©ä»·æ ¼ä¸º [19,22] çš„å·§å…‹åŠ›ã€‚ä»–ä»˜äº† 5 + 5 = 10ï¼ŒAlice ä»˜äº† 14 + 17 = 31ã€‚å› æ­¤ï¼ŒBob çš„ç›¸å¯¹æŸå¤±æ˜¯ 10 - 31 = -21ã€‚
> 
> å¯ä»¥è¯æ˜è¿™äº›æ˜¯å¯èƒ½çš„æœ€å°ç›¸å¯¹æŸå¤±ã€‚

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** prices = [1,5,4,3,7,11,9], queries = [[5,4],[5,7],[7,3],[4,5]]
> 
> **è¾“å‡ºï¼š**[4,16,7,1]
> 
> **è§£é‡Šï¼š** å¯¹äºç¬¬ä¸€ä¸ª queryï¼ŒBob é€‰æ‹©ä»·æ ¼ä¸º [1,3,9,11] çš„å·§å…‹åŠ›ã€‚ä»–ä»˜äº† 1 + 3 + 5 + 5 = 14ï¼ŒAlice ä»˜äº† 0 + 0 + 4 + 6 = 10ã€‚å› æ­¤ï¼ŒBob çš„ç›¸å¯¹æŸå¤±æ˜¯ 14 - 10 = 4ã€‚
> 
> å¯¹äºç¬¬äºŒä¸ª queryï¼ŒBob å¿…é¡»é€‰æ‹©æ‰€æœ‰çš„å·§å…‹åŠ›ã€‚ä»–ä»˜äº† 1 + 5 + 4 + 3 + 5 + 5 + 5 = 28ï¼ŒAlice ä»˜äº† 0 + 0 + 0 + 0 + 2 + 6 + 4 = 12ã€‚å› æ­¤ï¼ŒBob çš„ç›¸å¯¹æŸå¤±æ˜¯ 28 - 12 = 16ã€‚
> 
> å¯¹äºç¬¬ä¸‰ä¸ª queryï¼ŒBob é€‰æ‹©ä»·æ ¼ä¸º [1,3,11] çš„å·§å…‹åŠ›ã€‚ä»–ä»˜äº† 1 + 3 + 7 = 11ï¼ŒAlice ä»˜äº† 0 + 0 + 4 = 4ã€‚å› æ­¤ï¼ŒBob çš„ç›¸å¯¹æŸå¤±æ˜¯ 11 - 4 = 7ã€‚
> 
> å¯¹äºç¬¬å››ä¸ª queryï¼ŒBob é€‰æ‹©ä»·æ ¼ä¸º [1,3,7,9,11] çš„å·§å…‹åŠ›ã€‚ä»–ä»˜äº† 1 + 3 + 4 + 4 + 4 = 16ï¼ŒAlice ä»˜äº† 0 + 0 + 3 + 5 + 7 = 15ã€‚å› æ­¤ï¼ŒBob çš„ç›¸å¯¹æŸå¤±æ˜¯ 16 - 15 = 1ã€‚
> 
> å¯ä»¥è¯æ˜è¿™äº›æ˜¯å¯èƒ½çš„æœ€å°ç›¸å¯¹æŸå¤±ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** prices = [5,6,7], queries = [[10,1],[5,3],[3,3]]
> 
> **è¾“å‡ºï¼š**[5,12,0]
> 
> **è§£é‡Šï¼š** å¯¹äºç¬¬ä¸€ä¸ª queryï¼ŒBob é€‰æ‹©ä»·æ ¼ä¸º 5 çš„å·§å…‹åŠ›ã€‚ä»–ä»˜äº† 5ï¼ŒAlice ä»˜äº† 0ã€‚å› æ­¤ï¼ŒBob çš„ç›¸å¯¹æŸå¤±æ˜¯ 5 - 0 = 5ã€‚
> 
> å¯¹äºç¬¬äºŒä¸ª queryï¼ŒBob å¿…é¡»é€‰æ‹©æ‰€æœ‰çš„å·§å…‹åŠ›ã€‚ä»–ä»˜äº† 5 + 5 + 5 = 15ï¼ŒAlice ä»˜äº† 0 + 1 + 2 = 3ã€‚å› æ­¤ï¼ŒBob çš„ç›¸å¯¹æŸå¤±æ˜¯ 15 - 3 = 12ã€‚
> 
> å¯¹äºç¬¬ä¸‰ä¸ª queryï¼ŒBob å¿…é¡»é€‰æ‹©æ‰€æœ‰çš„å·§å…‹åŠ›ã€‚ä»–ä»˜äº† 3 + 3 + 3 = 9ï¼ŒAlice ä»˜äº† 2 + 3 + 4 = 9ã€‚å› æ­¤ï¼ŒBob çš„ç›¸å¯¹æŸå¤±æ˜¯ 9 - 9 = 0ã€‚
> 
> å¯ä»¥è¯æ˜è¿™äº›æ˜¯å¯èƒ½çš„æœ€å°ç›¸å¯¹æŸå¤±ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= prices.length == n <= 10^5`
  * `1 <= prices[i] <= 10^9`
  * `1 <= queries.length <= 10^5`
  * `queries[i].length == 2`
  * `1 <= ki <= 10^9`
  * `1 <= mi <= n`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```