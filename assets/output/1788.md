---
title: 1788. æœ€å¤§åŒ–èŠ±å›­çš„ç¾è§‚åº¦ ğŸ”’
description: LeetCode,1788. æœ€å¤§åŒ–èŠ±å›­çš„ç¾è§‚åº¦ ğŸ”’,æœ€å¤§åŒ–èŠ±å›­çš„ç¾è§‚åº¦,Maximize the Beauty of the Garden,è§£é¢˜æ€è·¯,è´ªå¿ƒ,æ•°ç»„,å“ˆå¸Œè¡¨,å‰ç¼€å’Œ
keywords:
  - LeetCode
  - 1788. æœ€å¤§åŒ–èŠ±å›­çš„ç¾è§‚åº¦ ğŸ”’
  - æœ€å¤§åŒ–èŠ±å›­çš„ç¾è§‚åº¦
  - Maximize the Beauty of the Garden
  - è§£é¢˜æ€è·¯
  - è´ªå¿ƒ
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - å‰ç¼€å’Œ
---

# 1788. æœ€å¤§åŒ–èŠ±å›­çš„ç¾è§‚åº¦ ğŸ”’

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximize-the-beauty-of-the-garden) [`LeetCode`](https://leetcode.com/problems/maximize-the-beauty-of-the-garden)

## é¢˜ç›®

There is a garden of `n` flowers, and each flower has an integer beauty value.
The flowers are arranged in a line. You are given an integer array `flowers`
of size `n` and each `flowers[i]` represents the beauty of the `ith` flower.

A garden is **valid** if it meets these conditions:

  * The garden has at least two flowers.
  * The first and the last flower of the garden have the same beauty value.

As the appointed gardener, you have the ability to **remove** any (possibly
none) flowers from the garden. You want to remove flowers in a way that makes
the remaining garden **valid**. The beauty of the garden is the sum of the
beauty of all the remaining flowers.

Return the maximum possible beauty of some **valid** garden after you have
removed any (possibly none) flowers.



**Example 1:**

> 
> 
> Input: flowers = [1,2,3,1,2]
> 
> 
> 
> Output: 8
> 
> 
> 
> Explanation: You can produce the valid garden [2,3,1,2] to have a total beauty of 2 + 3 + 1 + 2 = 8.

**Example 2:**

> 
> 
> Input: flowers = [100,1,1,-3,1]
> 
> 
> 
> Output: 3
> 
> 
> 
> Explanation: You can produce the valid garden [1,1,1] to have a total beauty of 1 + 1 + 1 = 3.
> 
> 

**Example 3:**

> 
> 
> Input: flowers = [-1,-2,0,-1]
> 
> 
> 
> Output: -2
> 
> 
> 
> Explanation: You can produce the valid garden [-1,-1] to have a total beauty of -1 + -1 = -2.
> 
> 

**Constraints:**

  * `2 <= flowers.length <= 10^5`
  * `-10^4 <= flowers[i] <= 10^4`
  * It is possible to create a valid garden by removing some (possibly none) flowers.


## é¢˜ç›®å¤§æ„

æœ‰ä¸€ä¸ªèŠ±å›­ï¼Œæœ‰ `n` æœµèŠ±ï¼Œè¿™äº›èŠ±éƒ½æœ‰ä¸€ä¸ªç”¨æ•´æ•°è¡¨ç¤ºçš„ç¾è§‚åº¦ã€‚è¿™äº›èŠ±è¢«ç§åœ¨ä¸€æ¡çº¿ä¸Šã€‚ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°ç±»å‹æ•°ç»„ `flowers` ï¼Œæ¯ä¸€ä¸ª
`flowers[i]` è¡¨ç¤ºç¬¬ `i` æœµèŠ±çš„ç¾è§‚åº¦ã€‚

ä¸€ä¸ªèŠ±å›­æ»¡è¶³ä¸‹åˆ—æ¡ä»¶æ—¶ï¼Œè¯¥èŠ±å›­æ˜¯**æœ‰æ•ˆ** çš„ã€‚

  * èŠ±å›­ä¸­è‡³å°‘åŒ…å«ä¸¤æœµèŠ±ã€‚
  * ç¬¬ä¸€æœµèŠ±å’Œæœ€åä¸€æœµèŠ±çš„ç¾è§‚åº¦ç›¸åŒã€‚

ä½œä¸ºä¸€ä¸ªè¢«é’¦å®šçš„å›­ä¸ï¼Œä½ å¯ä»¥ä»èŠ±å›­ä¸­**å»é™¤** ä»»æ„æœµèŠ±ï¼ˆä¹Ÿå¯ä»¥ä¸å»é™¤ä»»æ„ä¸€æœµï¼‰ã€‚ä½ æƒ³è¦é€šè¿‡ä¸€ç§æ–¹æ³•ç§»é™¤æŸäº›èŠ±æœµï¼Œä½¿å¾—å‰©ä¸‹çš„èŠ±å›­å˜å¾—**æœ‰æ•ˆ**
ã€‚èŠ±å›­çš„ç¾è§‚åº¦æ˜¯å…¶ä¸­æ‰€æœ‰å‰©ä½™çš„èŠ±æœµç¾è§‚åº¦ä¹‹å’Œã€‚

è¿”å›ä½ å»é™¤äº†ä»»æ„æœµèŠ±ï¼ˆä¹Ÿå¯ä»¥ä¸å»é™¤ä»»æ„ä¸€æœµï¼‰ä¹‹åå½¢æˆçš„**æœ‰æ•ˆ** èŠ±å›­ä¸­æœ€å¤§å¯èƒ½çš„ç¾è§‚åº¦ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥:** flowers = [1,2,3,1,2]
> 
> **è¾“å‡º:** 8
> 
> **è§£é‡Š:** ä½ å¯ä»¥ä¿®æ•´ä¸ºæœ‰æ•ˆèŠ±å›­ [2,3,1,2] æ¥è¾¾åˆ°æ€»ç¾è§‚åº¦ 2 + 3 + 1 + 2 = 8ã€‚

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥:** flowers = [100,1,1,-3,1]
> 
> **è¾“å‡º:** 3
> 
> **è§£é‡Š:** ä½ å¯ä»¥ä¿®æ•´ä¸ºæœ‰æ•ˆèŠ±å›­ [1,1,1] æ¥è¾¾åˆ°æ€»ç¾è§‚åº¦ 1 + 1 + 1 = 3ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥:** flowers = [-1,-2,0,-1]
> 
> **è¾“å‡º:** -2
> 
> **è§£é‡Š:** ä½ å¯ä»¥ä¿®æ•´ä¸ºæœ‰æ•ˆèŠ±å›­ [-1,-1] æ¥è¾¾åˆ°æ€»ç¾è§‚åº¦ -1 + -1 = -2ã€‚
> 
> 



**æç¤ºï¼š**

  * `2 <= flowers.length <= 10^5`
  * `-10^4 <= flowers[i] <= 10^4`
  * å»é™¤ä¸€äº›èŠ±æœµï¼ˆå¯èƒ½æ²¡æœ‰ï¼‰åï¼Œæ˜¯æœ‰å¯èƒ½å½¢æˆä¸€ä¸ªæœ‰æ•ˆèŠ±å›­çš„ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```