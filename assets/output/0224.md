---
title: 224. åŸºæœ¬è®¡ç®—å™¨
description: LeetCode,224. åŸºæœ¬è®¡ç®—å™¨,åŸºæœ¬è®¡ç®—å™¨,Basic Calculator,è§£é¢˜æ€è·¯,æ ˆ,é€’å½’,æ•°å­¦,å­—ç¬¦ä¸²
keywords:
  - LeetCode
  - 224. åŸºæœ¬è®¡ç®—å™¨
  - åŸºæœ¬è®¡ç®—å™¨
  - Basic Calculator
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - é€’å½’
  - æ•°å­¦
  - å­—ç¬¦ä¸²
---

# 224. åŸºæœ¬è®¡ç®—å™¨

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`é€’å½’`](/tag/recursion.md) [`æ•°å­¦`](/tag/math.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/basic-calculator) [`LeetCode`](https://leetcode.com/problems/basic-calculator)

## é¢˜ç›®

Given a string `s` representing a valid expression, implement a basic
calculator to evaluate it, and return _the result of the evaluation_.

**Note:** You are **not** allowed to use any built-in function which evaluates
strings as mathematical expressions, such as `eval()`.



**Example 1:**

> Input: s = "1 + 1"
> 
> Output: 2

**Example 2:**

> Input: s = " 2-1 + 2 "
> 
> Output: 3

**Example 3:**

> Input: s = "(1+(4+5+2)-3)+(6+8)"
> 
> Output: 23

**Constraints:**

  * `1 <= s.length <= 3 * 10^5`
  * `s` consists of digits, `'+'`, `'-'`, `'('`, `')'`, and `' '`.
  * `s` represents a valid expression.
  * `'+'` is **not** used as a unary operation (i.e., `"+1"` and `"+(2 + 3)"` is invalid).
  * `'-'` could be used as a unary operation (i.e., `"-1"` and `"-(2 + 3)"` is valid).
  * There will be no two consecutive operators in the input.
  * Every number and running calculation will fit in a signed 32-bit integer.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ `s` ï¼Œè¯·ä½ å®ç°ä¸€ä¸ªåŸºæœ¬è®¡ç®—å™¨æ¥è®¡ç®—å¹¶è¿”å›å®ƒçš„å€¼ã€‚

æ³¨æ„:ä¸å…è®¸ä½¿ç”¨ä»»ä½•å°†å­—ç¬¦ä¸²ä½œä¸ºæ•°å­¦è¡¨è¾¾å¼è®¡ç®—çš„å†…ç½®å‡½æ•°ï¼Œæ¯”å¦‚ `eval()` ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "1 + 1"
> 
> **è¾“å‡ºï¼š** 2
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = " 2-1 + 2 "
> 
> **è¾“å‡ºï¼š** 3
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "(1+(4+5+2)-3)+(6+8)"
> 
> **è¾“å‡ºï¼š** 23
> 
> 



**æç¤ºï¼š**

  * `1 <= s.length <= 3 * 10^5`
  * `s` ç”±æ•°å­—ã€`'+'`ã€`'-'`ã€`'('`ã€`')'`ã€å’Œ `' '` ç»„æˆ
  * `s` è¡¨ç¤ºä¸€ä¸ªæœ‰æ•ˆçš„è¡¨è¾¾å¼
  * '+' ä¸èƒ½ç”¨ä½œä¸€å…ƒè¿ç®—(ä¾‹å¦‚ï¼Œ "+1" å’Œ `"+(2 + 3)"` æ— æ•ˆ)
  * '-' å¯ä»¥ç”¨ä½œä¸€å…ƒè¿ç®—(å³ "-1" å’Œ `"-(2 + 3)"` æ˜¯æœ‰æ•ˆçš„)
  * è¾“å…¥ä¸­ä¸å­˜åœ¨ä¸¤ä¸ªè¿ç»­çš„æ“ä½œç¬¦
  * æ¯ä¸ªæ•°å­—å’Œè¿è¡Œçš„è®¡ç®—å°†é€‚åˆäºä¸€ä¸ªæœ‰ç¬¦å·çš„ 32ä½ æ•´æ•°


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 150 | [é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼](https://leetcode.com/problems/evaluate-reverse-polish-notation) | [[âœ“]](/problem/0150.md) |  [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) | <font color=#ffb800>Medium</font> |
| 227 | [åŸºæœ¬è®¡ç®—å™¨ II](https://leetcode.com/problems/basic-calculator-ii) | [[âœ“]](/problem/0227.md) |  [`æ ˆ`](/tag/stack.md) [`æ•°å­¦`](/tag/math.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | <font color=#ffb800>Medium</font> |
| 241 | [ä¸ºè¿ç®—è¡¨è¾¾å¼è®¾è®¡ä¼˜å…ˆçº§](https://leetcode.com/problems/different-ways-to-add-parentheses) |  |  [`é€’å½’`](/tag/recursion.md) [`è®°å¿†åŒ–æœç´¢`](/tag/memoization.md) [`æ•°å­¦`](/tag/math.md) `2+` | <font color=#ffb800>Medium</font> |
| 282 | [ç»™è¡¨è¾¾å¼æ·»åŠ è¿ç®—ç¬¦](https://leetcode.com/problems/expression-add-operators) |  |  [`æ•°å­¦`](/tag/math.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`å›æº¯`](/tag/backtracking.md) | <font color=#ff334b>Hard</font> |
| 772 | [åŸºæœ¬è®¡ç®—å™¨ III ğŸ”’](https://leetcode.com/problems/basic-calculator-iii) | [[âœ“]](/problem/0772.md) |  [`æ ˆ`](/tag/stack.md) [`é€’å½’`](/tag/recursion.md) [`æ•°å­¦`](/tag/math.md) `1+` | <font color=#ff334b>Hard</font> |
| 2019 | [è§£å‡ºæ•°å­¦è¡¨è¾¾å¼çš„å­¦ç”Ÿåˆ†æ•°](https://leetcode.com/problems/the-score-of-students-solving-math-expression) |  |  [`æ ˆ`](/tag/stack.md) [`è®°å¿†åŒ–æœç´¢`](/tag/memoization.md) [`æ•°ç»„`](/tag/array.md) `3+` | <font color=#ff334b>Hard</font> |
| 2232 | [å‘è¡¨è¾¾å¼æ·»åŠ æ‹¬å·åçš„æœ€å°ç»“æœ](https://leetcode.com/problems/minimize-result-by-adding-parentheses-to-expression) |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`æšä¸¾`](/tag/enumeration.md) | <font color=#ffb800>Medium</font> |