# [2302. ç»Ÿè®¡å¾—åˆ†å°äº K çš„å­æ•°ç»„æ•°ç›®](https://leetcode.com/problems/count-subarrays-with-score-less-than-k)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/leetcode/outline/tag/binary-search.md) [`å‰ç¼€å’Œ`](/leetcode/outline/tag/prefix-sum.md) [`æ»‘åŠ¨çª—å£`](/leetcode/outline/tag/sliding-window.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/count-subarrays-with-score-less-than-k)


## é¢˜ç›®

The **score** of an array is defined as the **product** of its sum and its
length.

  * For example, the score of `[1, 2, 3, 4, 5]` is `(1 + 2 + 3 + 4 + 5) * 5 = 75`.

Given a positive integer array `nums` and an integer `k`, return _the**number
of non-empty subarrays** of_ `nums` _whose score is**strictly less** than_
`k`.

A **subarray** is a contiguous sequence of elements within an array.



**Example 1:**

> Input: nums = [2,1,4,3,5], k = 10
> 
> Output: 6
> 
> Explanation:
> 
> The 6 subarrays having scores less than 10 are:
> - [2] with score 2 * 1 = 2.
> - [1] with score 1 * 1 = 1.
> - [4] with score 4 * 1 = 4.
> - [3] with score 3 * 1 = 3. 
> - [5] with score 5 * 1 = 5.
> - [2,1] with score (2 + 1) * 2 = 6.
> 
> Note that subarrays such as [1,4] and [4,3,5] are not considered because their scores are 10 and 36 respectively, while we need scores strictly less than 10.

**Example 2:**

> Input: nums = [1,1,1], k = 5
> 
> Output: 5
> 
> Explanation:
> 
> Every subarray except [1,1,1] has a score less than 5.
> 
> [1,1,1] has a score (1 + 1 + 1) * 3 = 9, which is greater than 5.
> 
> Thus, there are 5 subarrays having scores less than 5.

**Constraints:**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^5`
  * `1 <= k <= 1015`


## é¢˜ç›®å¤§æ„

ä¸€ä¸ªæ•°ç»„çš„ **åˆ†æ•°**  å®šä¹‰ä¸ºæ•°ç»„ä¹‹å’Œ **ä¹˜ä»¥**  æ•°ç»„çš„é•¿åº¦ã€‚

  * æ¯”æ–¹è¯´ï¼Œ`[1, 2, 3, 4, 5]` çš„åˆ†æ•°ä¸º `(1 + 2 + 3 + 4 + 5) * 5 = 75` ã€‚

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¯·ä½ è¿”å› `nums` ä¸­åˆ†æ•° **ä¸¥æ ¼å°äº  **`k` çš„ **éç©ºæ•´æ•°å­æ•°ç»„æ•°ç›®** ã€‚

**å­æ•°ç»„** æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­å…ƒç´ åºåˆ—ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [2,1,4,3,5], k = 10
> 
> **è¾“å‡ºï¼š** 6
> 
> **è§£é‡Šï¼š**
> 
> æœ‰ 6 ä¸ªå­æ•°ç»„çš„åˆ†æ•°å°äº 10 ï¼š
> - [2] åˆ†æ•°ä¸º 2 * 1 = 2 ã€‚
> - [1] åˆ†æ•°ä¸º 1 * 1 = 1 ã€‚
> - [4] åˆ†æ•°ä¸º 4 * 1 = 4 ã€‚
> - [3] åˆ†æ•°ä¸º 3 * 1 = 3 ã€‚ 
> - [5] åˆ†æ•°ä¸º 5 * 1 = 5 ã€‚
> - [2,1] åˆ†æ•°ä¸º (2 + 1) * 2 = 6 ã€‚
> 
> æ³¨æ„ï¼Œå­æ•°ç»„ [1,4] å’Œ [4,3,5] ä¸ç¬¦åˆè¦æ±‚ï¼Œå› ä¸ºå®ƒä»¬çš„åˆ†æ•°åˆ†åˆ«ä¸º 10 å’Œ 36ï¼Œä½†æˆ‘ä»¬è¦æ±‚å­æ•°ç»„çš„åˆ†æ•°ä¸¥æ ¼å°äº 10 ã€‚

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,1,1], k = 5
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š**
> 
> é™¤äº† [1,1,1] ä»¥å¤–æ¯ä¸ªå­æ•°ç»„åˆ†æ•°éƒ½å°äº 5 ã€‚
> 
> [1,1,1] åˆ†æ•°ä¸º (1 + 1 + 1) * 3 = 9 ï¼Œå¤§äº 5 ã€‚
> 
> æ‰€ä»¥æ€»å…±æœ‰ 5 ä¸ªå­æ•°ç»„å¾—åˆ†å°äº 5 ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^5`
  * `1 <= k <= 1015`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [æœ€å¤§å­æ•°ç»„å’Œ](https://leetcode.com/problems/maximum-subarray)
- [ä¹˜ç§¯å°äº K çš„å­æ•°ç»„](https://leetcode.com/problems/subarray-product-less-than-k)
- [å’Œç›¸åŒçš„äºŒå…ƒå­æ•°ç»„](https://leetcode.com/problems/binary-subarrays-with-sum)

::::
