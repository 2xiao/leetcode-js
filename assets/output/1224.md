# [1224. æœ€å¤§ç›¸ç­‰é¢‘ç‡](https://leetcode.com/problems/maximum-equal-frequency)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-equal-frequency)


## é¢˜ç›®

Given an array `nums` of positive integers, return the longest possible length
of an array prefix of `nums`, such that it is possible to remove **exactly
one** element from this prefix so that every number that has appeared in it
will have the same number of occurrences.

If after removing one element there are no remaining elements, it's still
considered that every appeared number has the same number of ocurrences (0).



**Example 1:**

> Input: nums = [2,2,1,1,5,3,3,5]
> 
> Output: 7
> 
> Explanation: For the subarray [2,2,1,1,5,3,3] of length 7, if we remove nums[4] = 5, we will get [2,2,1,1,3,3], so that each number will appear exactly twice.

**Example 2:**

> Input: nums = [1,1,1,2,2,2,3,3,3,4,4,4,5]
> 
> Output: 13

**Constraints:**

  * `2 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^5`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `nums`ï¼Œè¯·ä½ å¸®å¿™ä»è¯¥æ•°ç»„ä¸­æ‰¾å‡ºèƒ½æ»¡è¶³ä¸‹é¢è¦æ±‚çš„ **æœ€é•¿** å‰ç¼€ï¼Œå¹¶è¿”å›è¯¥å‰ç¼€çš„é•¿åº¦ï¼š

  * ä»å‰ç¼€ä¸­ **æ°å¥½åˆ é™¤ä¸€ä¸ª** å…ƒç´ åï¼Œå‰©ä¸‹æ¯ä¸ªæ•°å­—çš„å‡ºç°æ¬¡æ•°éƒ½ç›¸åŒã€‚

å¦‚æœåˆ é™¤è¿™ä¸ªå…ƒç´ åæ²¡æœ‰å‰©ä½™å…ƒç´ å­˜åœ¨ï¼Œä»å¯è®¤ä¸ºæ¯ä¸ªæ•°å­—éƒ½å…·æœ‰ç›¸åŒçš„å‡ºç°æ¬¡æ•°ï¼ˆä¹Ÿå°±æ˜¯ 0 æ¬¡ï¼‰ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [2,2,1,1,5,3,3,5]
> 
> **è¾“å‡ºï¼š** 7
> 
> **è§£é‡Šï¼š** å¯¹äºé•¿åº¦ä¸º 7 çš„å­æ•°ç»„ [2,2,1,1,5,3,3]ï¼Œå¦‚æœæˆ‘ä»¬ä»ä¸­åˆ å» nums[4] = 5ï¼Œå°±å¯ä»¥å¾—åˆ° [2,2,1,1,3,3]ï¼Œé‡Œé¢æ¯ä¸ªæ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,1,1,2,2,2,3,3,3,4,4,4,5]
> 
> **è¾“å‡ºï¼š** 13
> 
> 



**æç¤ºï¼š**

  * `2 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [2423. åˆ é™¤å­—ç¬¦ä½¿é¢‘ç‡ç›¸åŒ](https://leetcode.com/problems/remove-letter-to-equalize-frequency)
- [3212. ç»Ÿè®¡ X å’Œ Y é¢‘æ•°ç›¸ç­‰çš„å­çŸ©é˜µæ•°é‡](https://leetcode.com/problems/count-submatrices-with-equal-frequency-of-x-and-y)

::::
