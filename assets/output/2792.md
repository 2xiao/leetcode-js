# [2792. è®¡ç®—è¶³å¤Ÿå¤§çš„èŠ‚ç‚¹æ•° ğŸ”’](https://2xiao.github.io/leetcode-js/problem/2792.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`åˆ†æ²»`](/tag/divide-and-conquer.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/count-nodes-that-are-great-enough) [`LeetCode`](https://leetcode.com/problems/count-nodes-that-are-great-enough)

## é¢˜ç›®

You are given a `root` to a binary tree and an integer `k`. A node of this
tree is called **great enough** if the followings hold:

  * Its subtree has **at least** `k` nodes.
  * Its value is **greater** than the value of **at least** `k` nodes in its subtree.

Return _the number of nodes in this tree that are great enough._

The node `u` is in the **subtree** of the node `v`, if `u == v` or `v` is an
ancestor of `u`.



**Example 1:**

> Input: root = [7,6,5,4,3,2,1], k = 2
> 
> Output: 3
> 
> Explanation: Number the nodes from 1 to 7.
> 
> The values in the subtree of node 1: {1,2,3,4,5,6,7}. Since node.val == 7, there are 6 nodes having a smaller value than its value. So it's great enough.
> 
> The values in the subtree of node 2: {3,4,6}. Since node.val == 6, there are 2 nodes having a smaller value than its value. So it's great enough.
> 
> The values in the subtree of node 3: {1,2,5}. Since node.val == 5, there are 2 nodes having a smaller value than its value. So it's great enough.
> 
> It can be shown that other nodes are not great enough.
> 
> See the picture below for a better understanding.

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2700-2799/2792.Count%20Nodes%20That%20Are%20Great%20Enough/images/1.png)

**Example 2:**

> Input: root = [1,2,3], k = 1
> 
> Output: 0
> 
> Explanation: Number the nodes from 1 to 3.
> 
> The values in the subtree of node 1: {1,2,3}. Since node.val == 1, there are no nodes having a smaller value than its value. So it's not great enough.
> 
> The values in the subtree of node 2: {2}. Since node.val == 2, there are no nodes having a smaller value than its value. So it's not great enough.
> 
> The values in the subtree of node 3: {3}. Since node.val == 3, there are no nodes having a smaller value than its value. So it's not great enough.
> 
> See the picture below for a better understanding.

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2700-2799/2792.Count%20Nodes%20That%20Are%20Great%20Enough/images/2.png)

**Example 3:**

> Input: root = [3,2,2], k = 2
> 
> Output: 1
> 
> Explanation: Number the nodes from 1 to 3.
> 
> The values in the subtree of node 1: {2,2,3}. Since node.val == 3, there are 2 nodes having a smaller value than its value. So it's great enough.
> 
> The values in the subtree of node 2: {2}. Since node.val == 2, there are no nodes having a smaller value than its value. So it's not great enough.
> 
> The values in the subtree of node 3: {2}. Since node.val == 2, there are no nodes having a smaller value than its value. So it's not great enough.
> 
> See the picture below for a better understanding.

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2700-2799/2792.Count%20Nodes%20That%20Are%20Great%20Enough/images/3.png)



**Constraints:**

  * The number of nodes in the tree is in the range `[1, 104]`. 
  * `1 <= Node.val <= 10^4`
  * `1 <= k <= 10`


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root` å’Œä¸€ä¸ªæ•´æ•° `k` ã€‚å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œåˆ™ç§°å…¶ä¸º **è¶³å¤Ÿå¤§**  ï¼š

  * å®ƒçš„å­æ ‘ä¸­ **è‡³å°‘** æœ‰ `k` ä¸ªèŠ‚ç‚¹ã€‚
  * å®ƒçš„å€¼ **å¤§äº** å…¶å­æ ‘ä¸­ **è‡³å°‘** `k` ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚

è¿”å›è¶³å¤Ÿå¤§çš„èŠ‚ç‚¹æ•°ã€‚

å¦‚æœ `u == v` æˆ–è€… `v` æ˜¯ `u` çš„ç¥–å…ˆï¼Œåˆ™èŠ‚ç‚¹ `u` åœ¨èŠ‚ç‚¹ `v` çš„ **å­æ ‘** ä¸­ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** root = [7,6,5,4,3,2,1], k = 2
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** èŠ‚ç‚¹ç¼–å·ä» 1 åˆ° 7ã€‚ 
> 
> èŠ‚ç‚¹ 1 çš„å­æ ‘ä¸­çš„å€¼ï¼š{1,2,3,4,5,6,7}ã€‚ç”±äºèŠ‚ç‚¹çš„å€¼ç­‰äº 7ï¼Œæœ‰ 6 ä¸ªèŠ‚ç‚¹çš„å€¼å°äºå®ƒçš„å€¼ï¼Œå› æ­¤å®ƒæ˜¯â€œè¶³å¤Ÿå¤§â€çš„ã€‚ 
> 
> èŠ‚ç‚¹ 2 çš„å­æ ‘ä¸­çš„å€¼ï¼š{3,4,6}ã€‚ç”±äºèŠ‚ç‚¹çš„å€¼ç­‰äº 6ï¼Œæœ‰ 2 ä¸ªèŠ‚ç‚¹çš„å€¼å°äºå®ƒçš„å€¼ï¼Œå› æ­¤å®ƒæ˜¯â€œè¶³å¤Ÿå¤§â€çš„ã€‚ 
> 
> èŠ‚ç‚¹ 3 çš„å­æ ‘ä¸­çš„å€¼ï¼š{1,2,5}ã€‚ç”±äºèŠ‚ç‚¹çš„å€¼ç­‰äº 5ï¼Œæœ‰ 2 ä¸ªèŠ‚ç‚¹çš„å€¼å°äºå®ƒçš„å€¼ï¼Œå› æ­¤å®ƒæ˜¯â€œè¶³å¤Ÿå¤§â€çš„ã€‚ 
> 
> å…¶ä»–èŠ‚ç‚¹ä¸æ»¡è¶³æ¡ä»¶ã€‚ 
> 
> å‚è€ƒä¸‹é¢çš„å›¾ç‰‡å¯ä»¥å¸®åŠ©ä½ å¾—åˆ°æ›´å¥½çš„ç†è§£ã€‚

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2700-2799/2792.Count%20Nodes%20That%20Are%20Great%20Enough/images/1.png)

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** root = [1,2,3], k = 1
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š** èŠ‚ç‚¹ç¼–å·ä» 1 åˆ° 3ã€‚ 
> 
> èŠ‚ç‚¹ 1 çš„å­æ ‘ä¸­çš„å€¼ï¼š{1,2,3}ã€‚ç”±äºèŠ‚ç‚¹çš„å€¼ç­‰äº 1ï¼Œæ²¡æœ‰èŠ‚ç‚¹çš„å€¼å°äºå®ƒçš„å€¼ï¼Œå› æ­¤å®ƒä¸æ˜¯â€œè¶³å¤Ÿå¤§â€çš„ã€‚ 
> 
> èŠ‚ç‚¹ 2 çš„å­æ ‘ä¸­çš„å€¼ï¼š{2}ã€‚ç”±äºèŠ‚ç‚¹çš„å€¼ç­‰äº 2ï¼Œæ²¡æœ‰èŠ‚ç‚¹çš„å€¼å°äºå®ƒçš„å€¼ï¼Œå› æ­¤å®ƒä¸æ˜¯â€œè¶³å¤Ÿå¤§â€çš„ã€‚ 
> 
> èŠ‚ç‚¹ 3 çš„å­æ ‘ä¸­çš„å€¼ï¼š{3}ã€‚ç”±äºèŠ‚ç‚¹çš„å€¼ç­‰äº 3ï¼Œæ²¡æœ‰èŠ‚ç‚¹çš„å€¼å°äºå®ƒçš„å€¼ï¼Œå› æ­¤å®ƒä¸æ˜¯â€œè¶³å¤Ÿå¤§â€çš„ã€‚ 
> 
> å‚è€ƒä¸‹é¢çš„å›¾ç‰‡å¯ä»¥å¸®åŠ©ä½ å¾—åˆ°æ›´å¥½çš„ç†è§£ã€‚
> 
> 

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2700-2799/2792.Count%20Nodes%20That%20Are%20Great%20Enough/images/2.png)

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** root = [3,2,2], k = 2
> 
> **è¾“å‡ºï¼š** 1
> 
> **è§£é‡Šï¼š** èŠ‚ç‚¹ç¼–å·ä» 1 åˆ° 3ã€‚ 
> 
> èŠ‚ç‚¹ 1 çš„å­æ ‘ä¸­çš„å€¼ï¼š{2,2,3}ã€‚
> 
> ç”±äºèŠ‚ç‚¹çš„å€¼ç­‰äº 3ï¼Œæœ‰ 2 ä¸ªèŠ‚ç‚¹çš„å€¼å°äºå®ƒçš„å€¼ï¼Œå› æ­¤å®ƒæ˜¯â€œè¶³å¤Ÿå¤§â€çš„ã€‚ 
> 
> èŠ‚ç‚¹ 2 çš„å­æ ‘ä¸­çš„å€¼ï¼š{2}ã€‚ç”±äºèŠ‚ç‚¹çš„å€¼ç­‰äº 2ï¼Œæ²¡æœ‰èŠ‚ç‚¹çš„å€¼å°äºå®ƒçš„å€¼ï¼Œå› æ­¤å®ƒä¸æ˜¯â€œè¶³å¤Ÿå¤§â€çš„ã€‚ 
> 
> èŠ‚ç‚¹ 3 çš„å­æ ‘ä¸­çš„å€¼ï¼š{2}ã€‚ç”±äºèŠ‚ç‚¹çš„å€¼ç­‰äº 2ï¼Œæ²¡æœ‰èŠ‚ç‚¹çš„å€¼å°äºå®ƒçš„å€¼ï¼Œå› æ­¤å®ƒä¸æ˜¯â€œè¶³å¤Ÿå¤§â€çš„ã€‚ 
> 
> å‚è€ƒä¸‹é¢çš„å›¾ç‰‡å¯ä»¥å¸®åŠ©ä½ å¾—åˆ°æ›´å¥½çš„ç†è§£ã€‚
> 
> 

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2700-2799/2792.Count%20Nodes%20That%20Are%20Great%20Enough/images/3.png)



**æç¤ºï¼š**

  * æ ‘ä¸­çš„èŠ‚ç‚¹æ•°åœ¨èŒƒå›´ `[1, 104]` å†…ã€‚ 
  * `1 <= Node.val <= 10^4`
  * `1 <= k <= 10`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```