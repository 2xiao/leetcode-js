---
title: 3443. K 次修改后的最大曼哈顿距离
description: LeetCode 3443. K 次修改后的最大曼哈顿距离题解，Maximum Manhattan Distance After K Changes，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 3443. K 次修改后的最大曼哈顿距离
  - K 次修改后的最大曼哈顿距离
  - Maximum Manhattan Distance After K Changes
  - 解题思路
  - 哈希表
  - 数学
  - 字符串
  - 计数
---

# 3443. K 次修改后的最大曼哈顿距离

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`哈希表`](/tag/hash-table.md) [`数学`](/tag/math.md) [`字符串`](/tag/string.md) [`计数`](/tag/counting.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/maximum-manhattan-distance-after-k-changes) [`LeetCode`](https://leetcode.com/problems/maximum-manhattan-distance-after-k-changes)

## 题目

You are given a string `s` consisting of the characters `'N'`, `'S'`, `'E'`,
and `'W'`, where `s[i]` indicates movements in an infinite grid:

  * `'N'` : Move north by 1 unit.
  * `'S'` : Move south by 1 unit.
  * `'E'` : Move east by 1 unit.
  * `'W'` : Move west by 1 unit.

Initially, you are at the origin `(0, 0)`. You can change **at most** `k`
characters to any of the four directions.

Find the **maximum** **Manhattan distance** from the origin that can be
achieved **at any time** while performing the movements **in order**.

The **Manhattan Distance** between two cells `(xi, yi)` and `(xj, yj)` is `|xi
- xj| + |yi - yj|`.



**Example 1:**

**Input:** s = "NWSE", k = 1

**Output:** 3

**Explanation:**

Change `s[2]` from `'S'` to `'N'`. The string `s` becomes `"NWNE"`.

Movement | Position (x, y) | Manhattan Distance | Maximum  
---|---|---|---  
s[0] == 'N' | (0, 1) | 0 + 1 = 1 | 1  
s[1] == 'W' | (-1, 1) | 1 + 1 = 2 | 2  
s[2] == 'N' | (-1, 2) | 1 + 2 = 3 | 3  
s[3] == 'E' | (0, 2) | 0 + 2 = 2 | 3  
  
The maximum Manhattan distance from the origin that can be achieved is 3.
Hence, 3 is the output.

**Example 2:**

**Input:** s = "NSWWEW", k = 3

**Output:** 6

**Explanation:**

Change `s[1]` from `'S'` to `'N'`, and `s[4]` from `'E'` to `'W'`. The string
`s` becomes `"NNWWWW"`.

The maximum Manhattan distance from the origin that can be achieved is 6.
Hence, 6 is the output.



**Constraints:**

  * `1 <= s.length <= 10^5`
  * `0 <= k <= s.length`
  * `s` consists of only `'N'`, `'S'`, `'E'`, and `'W'`.


## 题目大意

给你一个由字符 `'N'`、`'S'`、`'E'` 和 `'W'` 组成的字符串 `s`，其中 `s[i]` 表示在无限网格中的移动操作：

  * `'N'`：向北移动 1 个单位。
  * `'S'`：向南移动 1 个单位。
  * `'E'`：向东移动 1 个单位。
  * `'W'`：向西移动 1 个单位。

初始时，你位于原点 `(0, 0)`。你 **最多** 可以修改 `k` 个字符为任意四个方向之一。

请找出在 **按顺序** 执行所有移动操作过程中的 **任意时刻** ，所能达到的离原点的 **最大曼哈顿距离  **。

**曼哈顿距离  **定义为两个坐标点 `(xi, yi)` 和 `(xj, yj)` 的横向距离绝对值与纵向距离绝对值之和，即 `|xi - xj| +
|yi - yj|`。



**示例 1：**

**输入：** s = "NWSE", k = 1

**输出：** 3

**解释：**

将 `s[2]` 从 `'S'` 改为 `'N'` ，字符串 `s` 变为 `"NWNE"` 。

移动操作 | 位置 (x, y) | 曼哈顿距离 | 最大值  
---|---|---|---  
s[0] == 'N' | (0, 1) | 0 + 1 = 1 | 1  
s[1] == 'W' | (-1, 1) | 1 + 1 = 2 | 2  
s[2] == 'N' | (-1, 2) | 1 + 2 = 3 | 3  
s[3] == 'E' | (0, 2) | 0 + 2 = 2 | 3  
  
执行移动操作过程中，距离原点的最大曼哈顿距离是 3 。

**示例 2：**

**输入：** s = "NSWWEW", k = 3

**输出：** 6

**解释：**

将 `s[1]` 从 `'S'` 改为 `'N'` ，将 `s[4]` 从 `'E'` 改为 `'W'` 。字符串 `s` 变为 `"NNWWWW"` 。

执行移动操作过程中，距离原点的最大曼哈顿距离是 6 。



**提示：**

  * `1 <= s.length <= 10^5`
  * `0 <= k <= s.length`
  * `s` 仅由 `'N'`、`'S'`、`'E'` 和 `'W'` 。


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1162 | 地图分析 |  |  [`广度优先搜索`](/tag/breadth-first-search.md) [`数组`](/tag/array.md) [`动态规划`](/tag/dynamic-programming.md) `1+` | 🟠 | [🀄️](https://leetcode.cn/problems/as-far-from-land-as-possible) [🔗](https://leetcode.com/problems/as-far-from-land-as-possible) |