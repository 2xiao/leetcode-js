---
title: 3443. K æ¬¡ä¿®æ”¹åçš„æœ€å¤§æ›¼å“ˆé¡¿è·ç¦»
description: LeetCode 3443. K æ¬¡ä¿®æ”¹åçš„æœ€å¤§æ›¼å“ˆé¡¿è·ç¦»é¢˜è§£ï¼ŒMaximum Manhattan Distance After K Changesï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3443. K æ¬¡ä¿®æ”¹åçš„æœ€å¤§æ›¼å“ˆé¡¿è·ç¦»
  - K æ¬¡ä¿®æ”¹åçš„æœ€å¤§æ›¼å“ˆé¡¿è·ç¦»
  - Maximum Manhattan Distance After K Changes
  - è§£é¢˜æ€è·¯
  - å“ˆå¸Œè¡¨
  - æ•°å­¦
  - å­—ç¬¦ä¸²
  - è®¡æ•°
---

# 3443. K æ¬¡ä¿®æ”¹åçš„æœ€å¤§æ›¼å“ˆé¡¿è·ç¦»

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ•°å­¦`](/tag/math.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`è®¡æ•°`](/tag/counting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-manhattan-distance-after-k-changes) [`LeetCode`](https://leetcode.com/problems/maximum-manhattan-distance-after-k-changes)

## é¢˜ç›®

You are given a string `s` consisting of the characters `'N'`, `'S'`, `'E'`,
and `'W'`, where `s[i]` indicates movements in an infinite grid:

  * `'N'` : Move north by 1 unit.
  * `'S'` : Move south by 1 unit.
  * `'E'` : Move east by 1 unit.
  * `'W'` : Move west by 1 unit.

Initially, you are at the origin `(0, 0)`. You can change **at most** `k`
characters to any of the four directions.

Find the **maximum** **Manhattan distance** from the origin that can be
achieved **at any time** while performing the movements **in order**.

The **Manhattan Distance** between two cells `(xi, yi)` and `(xj, yj)` is `|xi
- xj| + |yi - yj|`.



**Example 1:**

**Input:** s = "NWSE", k = 1

**Output:** 3

**Explanation:**

Change `s[2]` from `'S'` to `'N'`. The string `s` becomes `"NWNE"`.

Movement | Position (x, y) | Manhattan Distance | Maximum  
---|---|---|---  
s[0] == 'N' | (0, 1) | 0 + 1 = 1 | 1  
s[1] == 'W' | (-1, 1) | 1 + 1 = 2 | 2  
s[2] == 'N' | (-1, 2) | 1 + 2 = 3 | 3  
s[3] == 'E' | (0, 2) | 0 + 2 = 2 | 3  
  
The maximum Manhattan distance from the origin that can be achieved is 3.
Hence, 3 is the output.

**Example 2:**

**Input:** s = "NSWWEW", k = 3

**Output:** 6

**Explanation:**

Change `s[1]` from `'S'` to `'N'`, and `s[4]` from `'E'` to `'W'`. The string
`s` becomes `"NNWWWW"`.

The maximum Manhattan distance from the origin that can be achieved is 6.
Hence, 6 is the output.



**Constraints:**

  * `1 <= s.length <= 10^5`
  * `0 <= k <= s.length`
  * `s` consists of only `'N'`, `'S'`, `'E'`, and `'W'`.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªç”±å­—ç¬¦ `'N'`ã€`'S'`ã€`'E'` å’Œ `'W'` ç»„æˆçš„å­—ç¬¦ä¸² `s`ï¼Œå…¶ä¸­ `s[i]` è¡¨ç¤ºåœ¨æ— é™ç½‘æ ¼ä¸­çš„ç§»åŠ¨æ“ä½œï¼š

  * `'N'`ï¼šå‘åŒ—ç§»åŠ¨ 1 ä¸ªå•ä½ã€‚
  * `'S'`ï¼šå‘å—ç§»åŠ¨ 1 ä¸ªå•ä½ã€‚
  * `'E'`ï¼šå‘ä¸œç§»åŠ¨ 1 ä¸ªå•ä½ã€‚
  * `'W'`ï¼šå‘è¥¿ç§»åŠ¨ 1 ä¸ªå•ä½ã€‚

åˆå§‹æ—¶ï¼Œä½ ä½äºåŸç‚¹ `(0, 0)`ã€‚ä½  **æœ€å¤š** å¯ä»¥ä¿®æ”¹ `k` ä¸ªå­—ç¬¦ä¸ºä»»æ„å››ä¸ªæ–¹å‘ä¹‹ä¸€ã€‚

è¯·æ‰¾å‡ºåœ¨ **æŒ‰é¡ºåº** æ‰§è¡Œæ‰€æœ‰ç§»åŠ¨æ“ä½œè¿‡ç¨‹ä¸­çš„ **ä»»æ„æ—¶åˆ»** ï¼Œæ‰€èƒ½è¾¾åˆ°çš„ç¦»åŸç‚¹çš„ **æœ€å¤§æ›¼å“ˆé¡¿è·ç¦»  **ã€‚

**æ›¼å“ˆé¡¿è·ç¦»  **å®šä¹‰ä¸ºä¸¤ä¸ªåæ ‡ç‚¹ `(xi, yi)` å’Œ `(xj, yj)` çš„æ¨ªå‘è·ç¦»ç»å¯¹å€¼ä¸çºµå‘è·ç¦»ç»å¯¹å€¼ä¹‹å’Œï¼Œå³ `|xi - xj| +
|yi - yj|`ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** s = "NWSE", k = 1

**è¾“å‡ºï¼š** 3

**è§£é‡Šï¼š**

å°† `s[2]` ä» `'S'` æ”¹ä¸º `'N'` ï¼Œå­—ç¬¦ä¸² `s` å˜ä¸º `"NWNE"` ã€‚

ç§»åŠ¨æ“ä½œ | ä½ç½® (x, y) | æ›¼å“ˆé¡¿è·ç¦» | æœ€å¤§å€¼  
---|---|---|---  
s[0] == 'N' | (0, 1) | 0 + 1 = 1 | 1  
s[1] == 'W' | (-1, 1) | 1 + 1 = 2 | 2  
s[2] == 'N' | (-1, 2) | 1 + 2 = 3 | 3  
s[3] == 'E' | (0, 2) | 0 + 2 = 2 | 3  
  
æ‰§è¡Œç§»åŠ¨æ“ä½œè¿‡ç¨‹ä¸­ï¼Œè·ç¦»åŸç‚¹çš„æœ€å¤§æ›¼å“ˆé¡¿è·ç¦»æ˜¯ 3 ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** s = "NSWWEW", k = 3

**è¾“å‡ºï¼š** 6

**è§£é‡Šï¼š**

å°† `s[1]` ä» `'S'` æ”¹ä¸º `'N'` ï¼Œå°† `s[4]` ä» `'E'` æ”¹ä¸º `'W'` ã€‚å­—ç¬¦ä¸² `s` å˜ä¸º `"NNWWWW"` ã€‚

æ‰§è¡Œç§»åŠ¨æ“ä½œè¿‡ç¨‹ä¸­ï¼Œè·ç¦»åŸç‚¹çš„æœ€å¤§æ›¼å“ˆé¡¿è·ç¦»æ˜¯ 6 ã€‚



**æç¤ºï¼š**

  * `1 <= s.length <= 10^5`
  * `0 <= k <= s.length`
  * `s` ä»…ç”± `'N'`ã€`'S'`ã€`'E'` å’Œ `'W'` ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1162 | åœ°å›¾åˆ†æ |  |  [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/as-far-from-land-as-possible) [ğŸ”—](https://leetcode.com/problems/as-far-from-land-as-possible) |