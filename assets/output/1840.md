# [1840. æœ€é«˜å»ºç­‘é«˜åº¦](https://2xiao.github.io/leetcode-js/problem/1840.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-building-height) [`LeetCode`](https://leetcode.com/problems/maximum-building-height)

## é¢˜ç›®

You want to build `n` new buildings in a city. The new buildings will be built
in a line and are labeled from `1` to `n`.

However, there are city restrictions on the heights of the new buildings:

  * The height of each building must be a non-negative integer.
  * The height of the first building **must** be `0`.
  * The height difference between any two adjacent buildings **cannot exceed** `1`.

Additionally, there are city restrictions on the maximum height of specific
buildings. These restrictions are given as a 2D integer array `restrictions`
where `restrictions[i] = [idi, maxHeighti]` indicates that building `idi` must
have a height **less than or equal to** `maxHeighti`.

It is guaranteed that each building will appear **at most once** in
`restrictions`, and building `1` will **not** be in `restrictions`.

Return _the**maximum possible height** of the **tallest** building_.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/04/08/ic236-q4-ex1-1.png)

> Input: n = 5, restrictions = [[2,1],[4,1]]
> 
> Output: 2
> 
> Explanation: The green area in the image indicates the maximum allowed height for each building.
> 
> We can build the buildings with heights [0,1,2,1,2], and the tallest building has a height of 2.

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/04/08/ic236-q4-ex2.png)

> Input: n = 6, restrictions = []
> 
> Output: 5
> 
> Explanation: The green area in the image indicates the maximum allowed height for each building.
> 
> We can build the buildings with heights [0,1,2,3,4,5], and the tallest building has a height of 5.

**Example 3:**

![](https://assets.leetcode.com/uploads/2021/04/08/ic236-q4-ex3.png)

> Input: n = 10, restrictions = [[5,3],[2,5],[7,4],[10,3]]
> 
> Output: 5
> 
> Explanation: The green area in the image indicates the maximum allowed height for each building.
> 
> We can build the buildings with heights [0,1,2,3,3,4,4,5,4,3], and the tallest building has a height of 5.

**Constraints:**

  * `2 <= n <= 10^9`
  * `0 <= restrictions.length <= min(n - 1, 105)`
  * `2 <= idi <= n`
  * `idi` is **unique**.
  * `0 <= maxHeighti <= 10^9`


## é¢˜ç›®å¤§æ„

åœ¨ä¸€åº§åŸå¸‚é‡Œï¼Œä½ éœ€è¦å»º `n` æ ‹æ–°çš„å»ºç­‘ã€‚è¿™äº›æ–°çš„å»ºç­‘ä¼šä» `1` åˆ° `n` ç¼–å·æ’æˆä¸€åˆ—ã€‚

è¿™åº§åŸå¸‚å¯¹è¿™äº›æ–°å»ºç­‘æœ‰ä¸€äº›è§„å®šï¼š

  * æ¯æ ‹å»ºç­‘çš„é«˜åº¦å¿…é¡»æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚
  * ç¬¬ä¸€æ ‹å»ºç­‘çš„é«˜åº¦ **å¿…é¡»** æ˜¯ `0` ã€‚
  * ä»»æ„ä¸¤æ ‹ç›¸é‚»å»ºç­‘çš„é«˜åº¦å·® **ä¸èƒ½è¶…è¿‡** `1` ã€‚

é™¤æ­¤ä»¥å¤–ï¼ŒæŸäº›å»ºç­‘è¿˜æœ‰é¢å¤–çš„æœ€é«˜é«˜åº¦é™åˆ¶ã€‚è¿™äº›é™åˆ¶ä¼šä»¥äºŒç»´æ•´æ•°æ•°ç»„ `restrictions` çš„å½¢å¼ç»™å‡ºï¼Œå…¶ä¸­ `restrictions[i] =
[idi, maxHeighti]` ï¼Œè¡¨ç¤ºå»ºç­‘ `idi` çš„é«˜åº¦ **ä¸èƒ½è¶…è¿‡** `maxHeighti` ã€‚

é¢˜ç›®ä¿è¯æ¯æ ‹å»ºç­‘åœ¨ `restrictions` ä¸­**è‡³å¤šå‡ºç°ä¸€æ¬¡** ï¼ŒåŒæ—¶å»ºç­‘ `1` **ä¸ä¼š** å‡ºç°åœ¨ `restrictions` ä¸­ã€‚

è¯·ä½ è¿”å› **æœ€é«˜** å»ºç­‘èƒ½è¾¾åˆ°çš„ **æœ€é«˜é«˜åº¦** ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2021/04/25/ic236-q4-ex1-1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 5, restrictions = [[2,1],[4,1]]
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š** ä¸Šå›¾ä¸­çš„ç»¿è‰²åŒºåŸŸä¸ºæ¯æ ‹å»ºç­‘è¢«å…è®¸çš„æœ€é«˜é«˜åº¦ã€‚
> 
> æˆ‘ä»¬å¯ä»¥ä½¿å»ºç­‘é«˜åº¦åˆ†åˆ«ä¸º [0,1,2,1,2] ï¼Œæœ€é«˜å»ºç­‘çš„é«˜åº¦ä¸º 2 ã€‚

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2021/04/25/ic236-q4-ex2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 6, restrictions = []
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š** ä¸Šå›¾ä¸­çš„ç»¿è‰²åŒºåŸŸä¸ºæ¯æ ‹å»ºç­‘è¢«å…è®¸çš„æœ€é«˜é«˜åº¦ã€‚
> 
> æˆ‘ä»¬å¯ä»¥ä½¿å»ºç­‘é«˜åº¦åˆ†åˆ«ä¸º [0,1,2,3,4,5] ï¼Œæœ€é«˜å»ºç­‘çš„é«˜åº¦ä¸º 5 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2021/04/25/ic236-q4-ex3.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 10, restrictions = [[5,3],[2,5],[7,4],[10,3]]
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š** ä¸Šå›¾ä¸­çš„ç»¿è‰²åŒºåŸŸä¸ºæ¯æ ‹å»ºç­‘è¢«å…è®¸çš„æœ€é«˜é«˜åº¦ã€‚
> 
> æˆ‘ä»¬å¯ä»¥ä½¿å»ºç­‘é«˜åº¦åˆ†åˆ«ä¸º [0,1,2,3,3,4,4,5,4,3] ï¼Œæœ€é«˜å»ºç­‘çš„é«˜åº¦ä¸º 5 ã€‚
> 
> 

**æç¤ºï¼š**

  * `2 <= n <= 10^9`
  * `0 <= restrictions.length <= min(n - 1, 105)`
  * `2 <= idi <= n`
  * `idi` æ˜¯ **å”¯ä¸€çš„** ã€‚
  * `0 <= maxHeighti <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```