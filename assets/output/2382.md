---
title: 2382. åˆ é™¤æ“ä½œåçš„æœ€å¤§å­æ®µå’Œ
description: LeetCode,2382. åˆ é™¤æ“ä½œåçš„æœ€å¤§å­æ®µå’Œ,åˆ é™¤æ“ä½œåçš„æœ€å¤§å­æ®µå’Œ,Maximum Segment Sum After Removals,è§£é¢˜æ€è·¯,å¹¶æŸ¥é›†,æ•°ç»„,æœ‰åºé›†åˆ,å‰ç¼€å’Œ
keywords:
  - LeetCode
  - 2382. åˆ é™¤æ“ä½œåçš„æœ€å¤§å­æ®µå’Œ
  - åˆ é™¤æ“ä½œåçš„æœ€å¤§å­æ®µå’Œ
  - Maximum Segment Sum After Removals
  - è§£é¢˜æ€è·¯
  - å¹¶æŸ¥é›†
  - æ•°ç»„
  - æœ‰åºé›†åˆ
  - å‰ç¼€å’Œ
---

# 2382. åˆ é™¤æ“ä½œåçš„æœ€å¤§å­æ®µå’Œ

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`æ•°ç»„`](/tag/array.md) [`æœ‰åºé›†åˆ`](/tag/ordered-set.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-segment-sum-after-removals) [`LeetCode`](https://leetcode.com/problems/maximum-segment-sum-after-removals)

## é¢˜ç›®

You are given two **0-indexed** integer arrays `nums` and `removeQueries`,
both of length `n`. For the `ith` query, the element in `nums` at the index
`removeQueries[i]` is removed, splitting `nums` into different segments.

A **segment** is a contiguous sequence of **positive** integers in `nums`. A
**segment sum** is the sum of every element in a segment.

Return _an integer array_`answer` _, of length_`n` _, where_`answer[i]`_is
the**maximum** segment sum after applying the _`ith` _removal._

**Note:** The same index will **not** be removed more than once.



**Example 1:**

> Input: nums = [1,2,5,6,1], removeQueries = [0,3,2,4,1]
> 
> Output: [14,7,2,2,0]
> 
> Explanation: Using 0 to indicate a removed element, the answer is as follows:
> 
> Query 1: Remove the 0th element, nums becomes [0,2,5,6,1] and the maximum segment sum is 14 for segment [2,5,6,1].
> 
> Query 2: Remove the 3rd element, nums becomes [0,2,5,0,1] and the maximum segment sum is 7 for segment [2,5].
> 
> Query 3: Remove the 2nd element, nums becomes [0,2,0,0,1] and the maximum segment sum is 2 for segment [2]. 
> 
> Query 4: Remove the 4th element, nums becomes [0,2,0,0,0] and the maximum segment sum is 2 for segment [2]. 
> 
> Query 5: Remove the 1st element, nums becomes [0,0,0,0,0] and the maximum segment sum is 0, since there are no segments.
> 
> Finally, we return [14,7,2,2,0].

**Example 2:**

> Input: nums = [3,2,11,1], removeQueries = [3,2,1,0]
> 
> Output: [16,5,3,0]
> 
> Explanation: Using 0 to indicate a removed element, the answer is as follows:
> 
> Query 1: Remove the 3rd element, nums becomes [3,2,11,0] and the maximum segment sum is 16 for segment [3,2,11].
> 
> Query 2: Remove the 2nd element, nums becomes [3,2,0,0] and the maximum segment sum is 5 for segment [3,2].
> 
> Query 3: Remove the 1st element, nums becomes [3,0,0,0] and the maximum segment sum is 3 for segment [3].
> 
> Query 4: Remove the 0th element, nums becomes [0,0,0,0] and the maximum segment sum is 0, since there are no segments.
> 
> Finally, we return [16,5,3,0].

**Constraints:**

  * `n == nums.length == removeQueries.length`
  * `1 <= n <= 10^5`
  * `1 <= nums[i] <= 10^9`
  * `0 <= removeQueries[i] < n`
  * All the values of `removeQueries` are **unique**.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸¤ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹çš„æ•´æ•°æ•°ç»„ `nums` å’Œ `removeQueries` ï¼Œä¸¤è€…é•¿åº¦éƒ½ä¸º `n` ã€‚å¯¹äºç¬¬ `i`
ä¸ªæŸ¥è¯¢ï¼Œ`nums` ä¸­ä½äºä¸‹æ ‡ `removeQueries[i]` å¤„çš„å…ƒç´ è¢«åˆ é™¤ï¼Œå°† `nums` åˆ†å‰²æˆæ›´å°çš„å­æ®µã€‚

ä¸€ä¸ª **å­æ®µ**  æ˜¯ `nums` ä¸­è¿ç»­ **æ­£**  æ•´æ•°å½¢æˆçš„åºåˆ—ã€‚**å­æ®µå’Œ**  æ˜¯å­æ®µä¸­æ‰€æœ‰å…ƒç´ çš„å’Œã€‚

è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ _ _`answer` ï¼Œå…¶ä¸­ _ _`answer[i]`æ˜¯ç¬¬ `i` æ¬¡åˆ é™¤æ“ä½œä»¥åçš„ **æœ€å¤§**  å­æ®µå’Œã€‚

**æ³¨æ„ï¼š** ä¸€ä¸ªä¸‹æ ‡è‡³å¤šåªä¼šè¢«åˆ é™¤ä¸€æ¬¡ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,5,6,1], removeQueries = [0,3,2,4,1]
> 
> **è¾“å‡ºï¼š**[14,7,2,2,0]
> 
> **è§£é‡Šï¼š** ç”¨ 0 è¡¨ç¤ºè¢«åˆ é™¤çš„å…ƒç´ ï¼Œç­”æ¡ˆå¦‚ä¸‹æ‰€ç¤ºï¼š
> 
> æŸ¥è¯¢ 1 ï¼šåˆ é™¤ç¬¬ 0 ä¸ªå…ƒç´ ï¼Œnums å˜æˆ [0,2,5,6,1] ï¼Œæœ€å¤§å­æ®µå’Œä¸ºå­æ®µ [2,5,6,1] çš„å’Œ 14 ã€‚
> 
> æŸ¥è¯¢ 2 ï¼šåˆ é™¤ç¬¬ 3 ä¸ªå…ƒç´ ï¼Œnums å˜æˆ [0,2,5,0,1] ï¼Œæœ€å¤§å­æ®µå’Œä¸ºå­æ®µ [2,5] çš„å’Œ 7 ã€‚
> 
> æŸ¥è¯¢ 3 ï¼šåˆ é™¤ç¬¬ 2 ä¸ªå…ƒç´ ï¼Œnums å˜æˆ [0,2,0,0,1] ï¼Œæœ€å¤§å­æ®µå’Œä¸ºå­æ®µ [2] çš„å’Œ 2 ã€‚
> 
> æŸ¥è¯¢ 4 ï¼šåˆ é™¤ç¬¬ 4 ä¸ªå…ƒç´ ï¼Œnums å˜æˆ [0,2,0,0,0] ï¼Œæœ€å¤§å­æ®µå’Œä¸ºå­æ®µ [2] çš„å’Œ 2 ã€‚
> 
> æŸ¥è¯¢ 5 ï¼šåˆ é™¤ç¬¬ 1 ä¸ªå…ƒç´ ï¼Œnums å˜æˆ [0,0,0,0,0] ï¼Œæœ€å¤§å­æ®µå’Œä¸º 0 ï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•å­æ®µå­˜åœ¨ã€‚
> 
> æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿”å› [14,7,2,2,0] ã€‚

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [3,2,11,1], removeQueries = [3,2,1,0]
> 
> **è¾“å‡ºï¼š**[16,5,3,0]
> 
> **è§£é‡Šï¼š** ç”¨ 0 è¡¨ç¤ºè¢«åˆ é™¤çš„å…ƒç´ ï¼Œç­”æ¡ˆå¦‚ä¸‹æ‰€ç¤ºï¼š
> 
> æŸ¥è¯¢ 1 ï¼šåˆ é™¤ç¬¬ 3 ä¸ªå…ƒç´ ï¼Œnums å˜æˆ [3,2,11,0] ï¼Œæœ€å¤§å­æ®µå’Œä¸ºå­æ®µ [3,2,11] çš„å’Œ 16 ã€‚
> 
> æŸ¥è¯¢ 2 ï¼šåˆ é™¤ç¬¬ 2 ä¸ªå…ƒç´ ï¼Œnums å˜æˆ [3,2,0,0] ï¼Œæœ€å¤§å­æ®µå’Œä¸ºå­æ®µ [3,2] çš„å’Œ 5 ã€‚
> 
> æŸ¥è¯¢ 3 ï¼šåˆ é™¤ç¬¬ 1 ä¸ªå…ƒç´ ï¼Œnums å˜æˆ [3,0,0,0] ï¼Œæœ€å¤§å­æ®µå’Œä¸ºå­æ®µ [3] çš„å’Œ 3 ã€‚
> 
> æŸ¥è¯¢ 5 ï¼šåˆ é™¤ç¬¬ 0 ä¸ªå…ƒç´ ï¼Œnums å˜æˆ [0,0,0,0] ï¼Œæœ€å¤§å­æ®µå’Œä¸º 0 ï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•å­æ®µå­˜åœ¨ã€‚
> 
> æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿”å› [16,5,3,0] ã€‚
> 
> 



**æç¤ºï¼š**

  * `n == nums.length == removeQueries.length`
  * `1 <= n <= 10^5`
  * `1 <= nums[i] <= 10^9`
  * `0 <= removeQueries[i] < n`
  * `removeQueries` ä¸­æ‰€æœ‰æ•°å­— **äº’ä¸ç›¸åŒ**  ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```