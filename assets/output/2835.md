---
title: 2835. ä½¿å­åºåˆ—çš„å’Œç­‰äºç›®æ ‡çš„æœ€å°‘æ“ä½œæ¬¡æ•°
description: LeetCode 2835. ä½¿å­åºåˆ—çš„å’Œç­‰äºç›®æ ‡çš„æœ€å°‘æ“ä½œæ¬¡æ•°é¢˜è§£ï¼ŒMinimum Operations to Form Subsequence With Target Sumï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2835. ä½¿å­åºåˆ—çš„å’Œç­‰äºç›®æ ‡çš„æœ€å°‘æ“ä½œæ¬¡æ•°
  - ä½¿å­åºåˆ—çš„å’Œç­‰äºç›®æ ‡çš„æœ€å°‘æ“ä½œæ¬¡æ•°
  - Minimum Operations to Form Subsequence With Target Sum
  - è§£é¢˜æ€è·¯
  - è´ªå¿ƒ
  - ä½è¿ç®—
  - æ•°ç»„
---

# 2835. ä½¿å­åºåˆ—çš„å’Œç­‰äºç›®æ ‡çš„æœ€å°‘æ“ä½œæ¬¡æ•°

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minimum-operations-to-form-subsequence-with-target-sum) [`LeetCode`](https://leetcode.com/problems/minimum-operations-to-form-subsequence-with-target-sum)

## é¢˜ç›®

You are given a **0-indexed** array `nums` consisting of **non-negative**
powers of `2`, and an integer `target`.

In one operation, you must apply the following changes to the array:

  * Choose any element of the array `nums[i]` such that `nums[i] > 1`.
  * Remove `nums[i]` from the array.
  * Add **two** occurrences of `nums[i] / 2` to the **end** of `nums`.

Return the _**minimum number of operations** you need to perform so that
_`nums` _contains a**subsequence** whose elements sum to_ `target`. If it is
impossible to obtain such a subsequence, return `-1`.

A **subsequence** is an array that can be derived from another array by
deleting some or no elements without changing the order of the remaining
elements.



**Example 1:**

> Input: nums = [1,2,8], target = 7
> 
> Output: 1
> 
> Explanation: In the first operation, we choose element nums[2]. The array becomes equal to nums = [1,2,4,4].
> 
> At this stage, nums contains the subsequence [1,2,4] which sums up to 7.
> 
> It can be shown that there is no shorter sequence of operations that results in a subsequnce that sums up to 7.

**Example 2:**

> Input: nums = [1,32,1,2], target = 12
> 
> Output: 2
> 
> Explanation: In the first operation, we choose element nums[1]. The array becomes equal to nums = [1,1,2,16,16].
> 
> In the second operation, we choose element nums[3]. The array becomes equal to nums = [1,1,2,16,8,8]
> 
> At this stage, nums contains the subsequence [1,1,2,8] which sums up to 12.
> 
> It can be shown that there is no shorter sequence of operations that results in a subsequence that sums up to 12.

**Example 3:**

> Input: nums = [1,32,1], target = 35
> 
> Output: -1
> 
> Explanation: It can be shown that no sequence of operations results in a subsequence that sums up to 35.

**Constraints:**

  * `1 <= nums.length <= 1000`
  * `1 <= nums[i] <= 230`
  * `nums` consists only of non-negative powers of two.
  * `1 <= target < 231`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹çš„æ•°ç»„ `nums` ï¼Œå®ƒåŒ…å« **éè´Ÿ**  æ•´æ•°ï¼Œä¸”å…¨éƒ¨ä¸º `2` çš„å¹‚ï¼ŒåŒæ—¶ç»™ä½ ä¸€ä¸ªæ•´æ•° `target` ã€‚

ä¸€æ¬¡æ“ä½œä¸­ï¼Œä½ å¿…é¡»å¯¹æ•°ç»„åšä»¥ä¸‹ä¿®æ”¹ï¼š

  * é€‰æ‹©æ•°ç»„ä¸­ä¸€ä¸ªå…ƒç´  `nums[i]` ï¼Œæ»¡è¶³ `nums[i] > 1` ã€‚
  * å°† `nums[i]` ä»æ•°ç»„ä¸­åˆ é™¤ã€‚
  * åœ¨ `nums` çš„ **æœ«å°¾**  æ·»åŠ  **ä¸¤ä¸ª**  æ•°ï¼Œå€¼éƒ½ä¸º `nums[i] / 2` ã€‚

ä½ çš„ç›®æ ‡æ˜¯è®© `nums` çš„ä¸€ä¸ª **å­åºåˆ—**  çš„å…ƒç´ å’Œç­‰äº `target` ï¼Œè¯·ä½ è¿”å›è¾¾æˆè¿™ä¸€ç›®æ ‡çš„ **æœ€å°‘æ“ä½œæ¬¡æ•°**
ã€‚å¦‚æœæ— æ³•å¾—åˆ°è¿™æ ·çš„å­åºåˆ—ï¼Œè¯·ä½ è¿”å› `-1` ã€‚

æ•°ç»„ä¸­ä¸€ä¸ª **å­åºåˆ—**  æ˜¯é€šè¿‡åˆ é™¤åŸæ•°ç»„ä¸­ä¸€äº›å…ƒç´ ï¼Œå¹¶ä¸”ä¸æ”¹å˜å‰©ä½™å…ƒç´ é¡ºåºå¾—åˆ°çš„å‰©ä½™æ•°ç»„ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,8], target = 7
> 
> **è¾“å‡ºï¼š** 1
> 
> **è§£é‡Šï¼š** ç¬¬ä¸€æ¬¡æ“ä½œä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©å…ƒç´  nums[2] ã€‚æ•°ç»„å˜ä¸º nums = [1,2,4,4] ã€‚
> 
> è¿™æ—¶å€™ï¼Œnums åŒ…å«å­åºåˆ— [1,2,4] ï¼Œå’Œä¸º 7 ã€‚
> 
> æ— æ³•é€šè¿‡æ›´å°‘çš„æ“ä½œå¾—åˆ°å’Œä¸º 7 çš„å­åºåˆ—ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,32,1,2], target = 12
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š** ç¬¬ä¸€æ¬¡æ“ä½œä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©å…ƒç´  nums[1] ã€‚æ•°ç»„å˜ä¸º nums = [1,1,2,16,16] ã€‚
> 
> ç¬¬äºŒæ¬¡æ“ä½œä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©å…ƒç´  nums[3] ã€‚æ•°ç»„å˜ä¸º nums = [1,1,2,16,8,8] ã€‚
> 
> è¿™æ—¶å€™ï¼Œnums åŒ…å«å­åºåˆ— [1,1,2,8] ï¼Œå’Œä¸º 12 ã€‚
> 
> æ— æ³•é€šè¿‡æ›´å°‘çš„æ“ä½œå¾—åˆ°å’Œä¸º 12 çš„å­åºåˆ—ã€‚

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,32,1], target = 35
> 
> **è¾“å‡ºï¼š** -1
> 
> **è§£é‡Šï¼š** æ— æ³•å¾—åˆ°å’Œä¸º 35 çš„å­åºåˆ—ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= nums.length <= 1000`
  * `1 <= nums[i] <= 230`
  * `nums` åªåŒ…å«éè´Ÿæ•´æ•°ï¼Œä¸”å‡ä¸º 2 çš„å¹‚ã€‚
  * `1 <= target < 231`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1498 | æ»¡è¶³æ¡ä»¶çš„å­åºåˆ—æ•°ç›® | [[âœ“]](/problem/1498.md) |  [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/number-of-subsequences-that-satisfy-the-given-sum-condition) [ğŸ”—](https://leetcode.com/problems/number-of-subsequences-that-satisfy-the-given-sum-condition) |
| 1755 | æœ€æ¥è¿‘ç›®æ ‡å€¼çš„å­åºåˆ—å’Œ |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) `2+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/closest-subsequence-sum) [ğŸ”—](https://leetcode.com/problems/closest-subsequence-sum) |