---
title: 2711. å¯¹è§’çº¿ä¸Šä¸åŒå€¼çš„æ•°é‡å·®
description: LeetCode,2711. å¯¹è§’çº¿ä¸Šä¸åŒå€¼çš„æ•°é‡å·®,å¯¹è§’çº¿ä¸Šä¸åŒå€¼çš„æ•°é‡å·®,Difference of Number of Distinct Values on Diagonals,è§£é¢˜æ€è·¯,æ•°ç»„,å“ˆå¸Œè¡¨,çŸ©é˜µ
keywords:
  - LeetCode
  - 2711. å¯¹è§’çº¿ä¸Šä¸åŒå€¼çš„æ•°é‡å·®
  - å¯¹è§’çº¿ä¸Šä¸åŒå€¼çš„æ•°é‡å·®
  - Difference of Number of Distinct Values on Diagonals
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - çŸ©é˜µ
---

# 2711. å¯¹è§’çº¿ä¸Šä¸åŒå€¼çš„æ•°é‡å·®

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/difference-of-number-of-distinct-values-on-diagonals) [`LeetCode`](https://leetcode.com/problems/difference-of-number-of-distinct-values-on-diagonals)

## é¢˜ç›®

Given a 2D `grid` of size `m x n`, you should find the matrix `answer` of size
`m x n`.

The cell `answer[r][c]` is calculated by looking at the diagonal values of the
cell `grid[r][c]`:

  * Let `leftAbove[r][c]` be the number of **distinct** values on the diagonal to the left and above the cell `grid[r][c]` not including the cell `grid[r][c]` itself.
  * Let `rightBelow[r][c]` be the number of **distinct** values on the diagonal to the right and below the cell `grid[r][c]`, not including the cell `grid[r][c]` itself.
  * Then `answer[r][c] = |leftAbove[r][c] - rightBelow[r][c]|`.

A **matrix diagonal** is a diagonal line of cells starting from some cell in
either the topmost row or leftmost column and going in the bottom-right
direction until the end of the matrix is reached.

  * For example, in the below diagram the diagonal is highlighted using the cell with indices `(2, 3)` colored gray: 
> 
> * Red-colored cells are left and above the cell.
> 
> * Blue-colored cells are right and below the cell.

![](https://assets.leetcode.com/uploads/2024/05/26/diagonal.png)

Return the matrix `answer`.



**Example 1:**

**Input:** grid = [[1,2,3],[3,1,5],[3,2,1]]

**Output:** Output: [[1,1,0],[1,0,1],[0,1,1]]

**Explanation:**

To calculate the `answer` cells:

answer | left-above elements | leftAbove | right-below elements | rightBelow | |leftAbove - rightBelow|  
---|---|---|---|---|---  
[0][0] | [] | 0 | [grid[1][1], grid[2][2]] | |{1, 1}| = 1 | 1  
[0][1] | [] | 0 | [grid[1][2]] | |{5}| = 1 | 1  
[0][2] | [] | 0 | [] | 0 | 0  
[1][0] | [] | 0 | [grid[2][1]] | |{2}| = 1 | 1  
[1][1] | [grid[0][0]] | |{1}| = 1 | [grid[2][2]] | |{1}| = 1 | 0  
[1][2] | [grid[0][1]] | |{2}| = 1 | [] | 0 | 1  
[2][0] | [] | 0 | [] | 0 | 0  
[2][1] | [grid[1][0]] | |{3}| = 1 | [] | 0 | 1  
[2][2] | [grid[0][0], grid[1][1]] | |{1, 1}| = 1 | [] | 0 | 1  
  
**Example 2:**

**Input:** grid = [[1]]

**Output:** Output: [[0]]



**Constraints:**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m, n, grid[i][j] <= 50`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» `0` å¼€å§‹ã€å¤§å°ä¸º `m x n` çš„äºŒç»´çŸ©é˜µ `grid` ï¼Œè¯·ä½ æ±‚è§£å¤§å°åŒæ ·ä¸º `m x n` çš„ç­”æ¡ˆçŸ©é˜µ `answer` ã€‚

çŸ©é˜µ `answer` ä¸­æ¯ä¸ªå•å…ƒæ ¼ `(r, c)` çš„å€¼å¯ä»¥æŒ‰ä¸‹è¿°æ–¹å¼è¿›è¡Œè®¡ç®—ï¼š

  * ä»¤ `topLeft[r][c]` ä¸ºçŸ©é˜µ `grid` ä¸­å•å…ƒæ ¼ `(r, c)` å·¦ä¸Šè§’å¯¹è§’çº¿ä¸Š **ä¸åŒå€¼** çš„æ•°é‡ã€‚
  * ä»¤ `bottomRight[r][c]` ä¸ºçŸ©é˜µ `grid` ä¸­å•å…ƒæ ¼ `(r, c)` å³ä¸‹è§’å¯¹è§’çº¿ä¸Š **ä¸åŒå€¼** çš„æ•°é‡ã€‚

ç„¶å `answer[r][c] = |topLeft[r][c] - bottomRight[r][c]|` ã€‚

è¿”å›çŸ©é˜µ `answer` ã€‚

**çŸ©é˜µå¯¹è§’çº¿** æ˜¯ä»æœ€é¡¶è¡Œæˆ–æœ€å·¦åˆ—çš„æŸä¸ªå•å…ƒæ ¼å¼€å§‹ï¼Œå‘å³ä¸‹æ–¹å‘èµ°åˆ°çŸ©é˜µæœ«å°¾çš„å¯¹è§’çº¿ã€‚

å¦‚æœå•å…ƒæ ¼ `(r1, c1)` å’Œå•å…ƒæ ¼ `(r, c) `å±äºåŒä¸€æ¡å¯¹è§’çº¿ä¸” `r1 < r` ï¼Œåˆ™å•å…ƒæ ¼ `(r1, c1)` å±äºå•å…ƒæ ¼ `(r,
c)` çš„å·¦ä¸Šå¯¹è§’çº¿ã€‚ç±»ä¼¼åœ°ï¼Œå¯ä»¥å®šä¹‰å³ä¸‹å¯¹è§’çº¿ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2023/04/19/ex2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[1,2,3],[3,1,5],[3,2,1]]
> 
> **è¾“å‡ºï¼š**[[1,1,0],[1,0,1],[0,1,1]]
> 
> **è§£é‡Šï¼š** ç¬¬ 1 ä¸ªå›¾è¡¨ç¤ºæœ€åˆçš„çŸ©é˜µ grid ã€‚ 
> 
> ç¬¬ 2 ä¸ªå›¾è¡¨ç¤ºå¯¹å•å…ƒæ ¼ (0,0) è®¡ç®—ï¼Œå…¶ä¸­è“è‰²å•å…ƒæ ¼æ˜¯ä½äºå³ä¸‹å¯¹è§’çº¿çš„å•å…ƒæ ¼ã€‚
> 
> ç¬¬ 3 ä¸ªå›¾è¡¨ç¤ºå¯¹å•å…ƒæ ¼ (1,2) è®¡ç®—ï¼Œå…¶ä¸­çº¢è‰²å•å…ƒæ ¼æ˜¯ä½äºå·¦ä¸Šå¯¹è§’çº¿çš„å•å…ƒæ ¼ã€‚
> 
> ç¬¬ 4 ä¸ªå›¾è¡¨ç¤ºå¯¹å•å…ƒæ ¼ (1,1) è®¡ç®—ï¼Œå…¶ä¸­è“è‰²å•å…ƒæ ¼æ˜¯ä½äºå³ä¸‹å¯¹è§’çº¿çš„å•å…ƒæ ¼ï¼Œçº¢è‰²å•å…ƒæ ¼æ˜¯ä½äºå·¦ä¸Šå¯¹è§’çº¿çš„å•å…ƒæ ¼ã€‚
> - å•å…ƒæ ¼ (0,0) çš„å³ä¸‹å¯¹è§’çº¿åŒ…å« [1,1] ï¼Œè€Œå·¦ä¸Šå¯¹è§’çº¿åŒ…å« [] ã€‚å¯¹åº”ç­”æ¡ˆæ˜¯ |1 - 0| = 1 ã€‚
> - å•å…ƒæ ¼ (1,2) çš„å³ä¸‹å¯¹è§’çº¿åŒ…å« [] ï¼Œè€Œå·¦ä¸Šå¯¹è§’çº¿åŒ…å« [2] ã€‚å¯¹åº”ç­”æ¡ˆæ˜¯ |0 - 1| = 1 ã€‚
> - å•å…ƒæ ¼ (1,1) çš„å³ä¸‹å¯¹è§’çº¿åŒ…å« [1] ï¼Œè€Œå·¦ä¸Šå¯¹è§’çº¿åŒ…å« [1] ã€‚å¯¹åº”ç­”æ¡ˆæ˜¯ |1 - 1| = 0 ã€‚
> 
> å…¶ä»–å•å…ƒæ ¼çš„å¯¹åº”ç­”æ¡ˆä¹Ÿå¯ä»¥æŒ‰ç…§è¿™æ ·çš„æµç¨‹è¿›è¡Œè®¡ç®—ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[1]]
> 
> **è¾“å‡ºï¼š**[[0]]
> 
> **è§£é‡Šï¼š** - å•å…ƒæ ¼ (0,0) çš„å³ä¸‹å¯¹è§’çº¿åŒ…å« [] ï¼Œå·¦ä¸Šå¯¹è§’çº¿åŒ…å« [] ã€‚å¯¹åº”ç­”æ¡ˆæ˜¯ |0 - 0| = 0 ã€‚
> 
> 



**æç¤ºï¼š**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m, n, grid[i][j] <= 50`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```