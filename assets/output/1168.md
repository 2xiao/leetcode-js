# [1168. æ°´èµ„æºåˆ†é…ä¼˜åŒ– ğŸ”’](https://2xiao.github.io/leetcode-js/problem/1168.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`å›¾`](/tag/graph.md) [`æœ€å°ç”Ÿæˆæ ‘`](/tag/minimum-spanning-tree.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/optimize-water-distribution-in-a-village) [`LeetCode`](https://leetcode.com/problems/optimize-water-distribution-in-a-village)

## é¢˜ç›®

There are `n` houses in a village. We want to supply water for all the houses
by building wells and laying pipes.

For each house `i`, we can either build a well inside it directly with cost
`wells[i - 1]` (note the `-1` due to **0-indexing**), or pipe in water from
another well to it. The costs to lay pipes between houses are given by the
array `pipes` where each `pipes[j] = [house1j, house2j, costj]` represents the
cost to connect `house1j` and `house2j` together using a pipe. Connections are
bidirectional, and there could be multiple valid connections between the same
two houses with different costs.

Return _the minimum total cost to supply water to all houses_.



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1100-1199/1168.Optimize%20Water%20Distribution%20in%20a%20Village/images/1359_ex1.png)

> Input: n = 3, wells = [1,2,2], pipes = [[1,2,1],[2,3,1]]
> 
> Output: 3
> 
> Explanation: The image shows the costs of connecting houses using pipes.
> 
> The best strategy is to build a well in the first house with cost 1 and connect the other houses to it with cost 2 so the total cost is 3.

**Example 2:**

> Input: n = 2, wells = [1,1], pipes = [[1,2,1],[1,2,2]]
> 
> Output: 2
> 
> Explanation: We can supply water with cost two using one of the three options:
> 
> Option 1:
  > - Build a well inside house 1 with cost 1.
  > - Build a well inside house 2 with cost 1.
> 
> The total cost will be 2.
> 
> Option 2:
  > - Build a well inside house 1 with cost 1.
  > - Connect house 2 with house 1 with cost 1.
> 
> The total cost will be 2.
> 
> Option 3:
  > - Build a well inside house 2 with cost 1.
  > - Connect house 1 with house 2 with cost 1.
> 
> The total cost will be 2.
> 
> Note that we can connect houses 1 and 2 with cost 1 or with cost 2 but we will always choose **the cheapest option**. 

**Constraints:**

  * `2 <= n <= 10^4`
  * `wells.length == n`
  * `0 <= wells[i] <= 10^5`
  * `1 <= pipes.length <= 10^4`
  * `pipes[j].length == 3`
  * `1 <= house1j, house2j <= n`
  * `0 <= costj <= 10^5`
  * `house1j != house2j`


## é¢˜ç›®å¤§æ„

æ‘é‡Œé¢ä¸€å…±æœ‰ `n` æ ‹æˆ¿å­ã€‚æˆ‘ä»¬å¸Œæœ›é€šè¿‡å»ºé€ æ°´äº•å’Œé“ºè®¾ç®¡é“æ¥ä¸ºæ‰€æœ‰æˆ¿å­ä¾›æ°´ã€‚

å¯¹äºæ¯ä¸ªæˆ¿å­ `i`ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§å¯é€‰çš„ä¾›æ°´æ–¹æ¡ˆï¼šä¸€ç§æ˜¯ç›´æ¥åœ¨æˆ¿å­å†…å»ºé€ æ°´äº•ï¼Œæˆæœ¬ä¸º `wells[i - 1]` ï¼ˆæ³¨æ„ `-1` ï¼Œå› ä¸º
**ç´¢å¼•ä»0å¼€å§‹** ï¼‰ï¼›å¦ä¸€ç§æ˜¯ä»å¦ä¸€å£äº•é“ºè®¾ç®¡é“å¼•æ°´ï¼Œæ•°ç»„ `pipes` ç»™å‡ºäº†åœ¨æˆ¿å­é—´é“ºè®¾ç®¡é“çš„æˆæœ¬ï¼Œå…¶ä¸­æ¯ä¸ª `pipes[j] =
[house1j, house2j, costj]` ä»£è¡¨ç”¨ç®¡é“å°† `house1j` å’Œ `house2j`è¿æ¥åœ¨ä¸€èµ·çš„æˆæœ¬ã€‚è¿æ¥æ˜¯åŒå‘çš„ã€‚

è¯·è¿”å› _ä¸ºæ‰€æœ‰æˆ¿å­éƒ½ä¾›æ°´çš„æœ€ä½æ€»æˆæœ¬_ ã€‚



**ç¤ºä¾‹ 1ï¼š**

**![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1100-1199/1168.Optimize%20Water%20Distribution%20in%20a%20Village/images/1359_ex1.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3, wells = [1,2,2], pipes = [[1,2,1],[2,3,1]]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š**
> 
> ä¸Šå›¾å±•ç¤ºäº†é“ºè®¾ç®¡é“è¿æ¥æˆ¿å±‹çš„æˆæœ¬ã€‚
> 
> æœ€å¥½çš„ç­–ç•¥æ˜¯åœ¨ç¬¬ä¸€ä¸ªæˆ¿å­é‡Œå»ºé€ æ°´äº•ï¼ˆæˆæœ¬ä¸º 1ï¼‰ï¼Œç„¶åå°†å…¶ä»–æˆ¿å­é“ºè®¾ç®¡é“è¿èµ·æ¥ï¼ˆæˆæœ¬ä¸º 2ï¼‰ï¼Œæ‰€ä»¥æ€»æˆæœ¬ä¸º 3ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 2, wells = [1,1], pipes = [[1,2,1]]
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š** æˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¸­çš„ä¸€ç§æ¥æä¾›ä½æˆæœ¬çš„æ°´:
> 
> é€‰é¡¹1:
> 
> åœ¨1å·æˆ¿å­é‡Œé¢å»ºä¸€å£äº•ï¼Œæˆæœ¬ä¸º1
> 
> åœ¨æˆ¿å­2å†…å»ºé€ äº•ï¼Œæˆæœ¬ä¸º1
> 
> æ€»æˆæœ¬æ˜¯2ã€‚
> 
> é€‰é¡¹2:
> 
> åœ¨1å·æˆ¿å­é‡Œé¢å»ºä¸€å£äº•ï¼Œæˆæœ¬ä¸º1
> 
> -èŠ±è´¹1è¿æ¥æˆ¿å­2å’Œæˆ¿å­1ã€‚
> 
> æ€»æˆæœ¬æ˜¯2ã€‚
> 
> é€‰é¡¹3:
> 
> åœ¨æˆ¿å­2å†…å»ºé€ äº•ï¼Œæˆæœ¬ä¸º1
> 
> -èŠ±è´¹1è¿æ¥æˆ¿å­1å’Œæˆ¿å­2ã€‚
> 
> æ€»æˆæœ¬æ˜¯2ã€‚
> 
> æ³¨æ„ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨cost 1æˆ–cost 2è¿æ¥æˆ¿å­1å’Œæˆ¿å­2ï¼Œä½†æˆ‘ä»¬æ€»æ˜¯é€‰æ‹©æœ€ä¾¿å®œçš„é€‰é¡¹ã€‚



**æç¤ºï¼š**

  * `2 <= n <= 10^4`
  * `wells.length == n`
  * `0 <= wells[i] <= 10^5`
  * `1 <= pipes.length <= 10^4`
  * `pipes[j].length == 3`
  * `1 <= house1j, house2j <= n`
  * `0 <= costj <= 10^5`
  * `house1j != house2j`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```