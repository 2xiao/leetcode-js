---
title: 1591. å¥‡æ€ªçš„æ‰“å°æœº II
description: LeetCode,1591. å¥‡æ€ªçš„æ‰“å°æœº II,å¥‡æ€ªçš„æ‰“å°æœº II,Strange Printer II,è§£é¢˜æ€è·¯,å›¾,æ‹“æ‰‘æ’åº,æ•°ç»„,çŸ©é˜µ
keywords:
  - LeetCode
  - 1591. å¥‡æ€ªçš„æ‰“å°æœº II
  - å¥‡æ€ªçš„æ‰“å°æœº II
  - Strange Printer II
  - è§£é¢˜æ€è·¯
  - å›¾
  - æ‹“æ‰‘æ’åº
  - æ•°ç»„
  - çŸ©é˜µ
---

# 1591. å¥‡æ€ªçš„æ‰“å°æœº II

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å›¾`](/tag/graph.md) [`æ‹“æ‰‘æ’åº`](/tag/topological-sort.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/strange-printer-ii) [`LeetCode`](https://leetcode.com/problems/strange-printer-ii)

## é¢˜ç›®

There is a strange printer with the following two special requirements:

  * On each turn, the printer will print a solid rectangular pattern of a single color on the grid. This will cover up the existing colors in the rectangle.
  * Once the printer has used a color for the above operation, **the same color cannot be used again**.

You are given a `m x n` matrix `targetGrid`, where `targetGrid[row][col]` is
the color in the position `(row, col)` of the grid.

Return `true` _if it is possible to print the matrix_`targetGrid`
_,__otherwise, return_`false`.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/12/23/print1.jpg)

> Input: targetGrid = [[1,1,1,1],[1,2,2,1],[1,2,2,1],[1,1,1,1]]
> 
> Output: true

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/12/23/print2.jpg)

> Input: targetGrid = [[1,1,1,1],[1,1,3,3],[1,1,3,4],[5,5,1,4]]
> 
> Output: true

**Example 3:**

> Input: targetGrid = [[1,2,1],[2,1,2],[1,2,1]]
> 
> Output: false
> 
> Explanation: It is impossible to form targetGrid because it is not allowed to print the same color in different turns.

**Constraints:**

  * `m == targetGrid.length`
  * `n == targetGrid[i].length`
  * `1 <= m, n <= 60`
  * `1 <= targetGrid[row][col] <= 60`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå¥‡æ€ªçš„æ‰“å°æœºï¼Œå®ƒæœ‰å¦‚ä¸‹ä¸¤ä¸ªç‰¹æ®Šçš„æ‰“å°è§„åˆ™ï¼š

  * æ¯ä¸€æ¬¡æ“ä½œæ—¶ï¼Œæ‰“å°æœºä¼šç”¨åŒä¸€ç§é¢œè‰²æ‰“å°ä¸€ä¸ªçŸ©å½¢çš„å½¢çŠ¶ï¼Œæ¯æ¬¡æ‰“å°ä¼šè¦†ç›–çŸ©å½¢å¯¹åº”æ ¼å­é‡ŒåŸæœ¬çš„é¢œè‰²ã€‚
  * ä¸€æ—¦çŸ©å½¢æ ¹æ®ä¸Šé¢çš„è§„åˆ™ä½¿ç”¨äº†ä¸€ç§é¢œè‰²ï¼Œé‚£ä¹ˆ **ç›¸åŒçš„é¢œè‰²ä¸èƒ½å†è¢«ä½¿ç”¨  **ã€‚

ç»™ä½ ä¸€ä¸ªåˆå§‹æ²¡æœ‰é¢œè‰²çš„ `m x n` çš„çŸ©å½¢ `targetGrid` ï¼Œå…¶ä¸­ `targetGrid[row][col]` æ˜¯ä½ç½® `(row,
col)` çš„é¢œè‰²ã€‚

å¦‚æœä½ èƒ½æŒ‰ç…§ä¸Šè¿°è§„åˆ™æ‰“å°å‡ºçŸ©å½¢ _ _`targetGrid` ï¼Œè¯·ä½ è¿”å› `true` ï¼Œå¦åˆ™è¿”å› `false` ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/09/19/sample_1_1929.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** targetGrid = [[1,1,1,1],[1,2,2,1],[1,2,2,1],[1,1,1,1]]
> 
> **è¾“å‡ºï¼š** true
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/09/19/sample_2_1929.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** targetGrid = [[1,1,1,1],[1,1,3,3],[1,1,3,4],[5,5,1,4]]
> 
> **è¾“å‡ºï¼š** true
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** targetGrid = [[1,2,1],[2,1,2],[1,2,1]]
> 
> **è¾“å‡ºï¼š** false
> 
> **è§£é‡Šï¼š** æ²¡æœ‰åŠæ³•å¾—åˆ° targetGrid ï¼Œå› ä¸ºæ¯ä¸€è½®æ“ä½œä½¿ç”¨çš„é¢œè‰²äº’ä¸ç›¸åŒã€‚

**ç¤ºä¾‹ 4ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** targetGrid = [[1,1,1],[3,1,3]]
> 
> **è¾“å‡ºï¼š** false
> 
> 



**æç¤ºï¼š**

  * `m == targetGrid.length`
  * `n == targetGrid[i].length`
  * `1 <= m, n <= 60`
  * `1 <= targetGrid[row][col] <= 60`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 664 | å¥‡æ€ªçš„æ‰“å°æœº |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/strange-printer) [ğŸ”—](https://leetcode.com/problems/strange-printer) |
| 2360 | å›¾ä¸­çš„æœ€é•¿ç¯ |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å›¾`](/tag/graph.md) [`æ‹“æ‰‘æ’åº`](/tag/topological-sort.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/longest-cycle-in-a-graph) [ğŸ”—](https://leetcode.com/problems/longest-cycle-in-a-graph) |
| 2459 | é€šè¿‡ç§»åŠ¨é¡¹ç›®åˆ°ç©ºç™½åŒºåŸŸæ¥æ’åºæ•°ç»„ ğŸ”’ |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/sort-array-by-moving-items-to-empty-space) [ğŸ”—](https://leetcode.com/problems/sort-array-by-moving-items-to-empty-space) |