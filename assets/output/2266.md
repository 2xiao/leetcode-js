# [2266. ç»Ÿè®¡æ‰“å­—æ–¹æ¡ˆæ•°](https://leetcode.com/problems/count-number-of-texts)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/outline/tag/hash-table.md) [`æ•°å­¦`](/outline/tag/math.md) [`å­—ç¬¦ä¸²`](/outline/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/count-number-of-texts)

## é¢˜ç›®

Alice is texting Bob using her phone. The **mapping** of digits to letters is
shown in the figure below.

![](https://assets.leetcode.com/uploads/2022/03/15/1200px-telephone-
keypad2svg.png)

In order to **add** a letter, Alice has to **press** the key of the
corresponding digit `i` times, where `i` is the position of the letter in the
key.

  * For example, to add the letter `'s'`, Alice has to press `'7'` four times. Similarly, to add the letter `'k'`, Alice has to press `'5'` twice.
  * Note that the digits `'0'` and `'1'` do not map to any letters, so Alice **does not** use them.

However, due to an error in transmission, Bob did not receive Alice's text
message but received a **string of pressed keys** instead.

  * For example, when Alice sent the message `"bob"`, Bob received the string `"2266622"`.

Given a string `pressedKeys` representing the string received by Bob, return
_the**total number of possible text messages** Alice could have sent_.

Since the answer may be very large, return it **modulo** `109 + 7`.



**Example 1:**

> Input: pressedKeys = "22233"
> 
> Output: 8
> 
> Explanation:
> 
> The possible text messages Alice could have sent are:
> 
> "aaadd", "abdd", "badd", "cdd", "aaae", "abe", "bae", and "ce".
> 
> Since there are 8 possible messages, we return 8.

**Example 2:**

> Input: pressedKeys = "222222222222222222222222222222222222"
> 
> Output: 82876089
> 
> Explanation:
> 
> There are 2082876103 possible text messages Alice could have sent.
> 
> Since we need to return the answer modulo 109 + 7, we return 2082876103 % (109 + 7) = 82876089.

**Constraints:**

  * `1 <= pressedKeys.length <= 10^5`
  * `pressedKeys` only consists of digits from `'2'` \- `'9'`.


## é¢˜ç›®å¤§æ„

Alice åœ¨ç»™ Bob ç”¨æ‰‹æœºæ‰“å­—ã€‚æ•°å­—åˆ°å­—æ¯çš„ **å¯¹åº”**  å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

![](https://pic.leetcode.cn/1722224025-gsUAIv-image.png)

ä¸ºäº† **æ‰“å‡º**  ä¸€ä¸ªå­—æ¯ï¼ŒAlice éœ€è¦ **æŒ‰**  å¯¹åº”å­—æ¯ `i` æ¬¡ï¼Œ`i` æ˜¯è¯¥å­—æ¯åœ¨è¿™ä¸ªæŒ‰é”®ä¸Šæ‰€å¤„çš„ä½ç½®ã€‚

  * æ¯”æ–¹è¯´ï¼Œä¸ºäº†æŒ‰å‡ºå­—æ¯ `'s'` ï¼ŒAlice éœ€è¦æŒ‰ `'7'` å››æ¬¡ã€‚ç±»ä¼¼çš„ï¼Œ Alice éœ€è¦æŒ‰ `'5'` ä¸¤æ¬¡å¾—åˆ°å­—æ¯  `'k'` ã€‚
  * æ³¨æ„ï¼Œæ•°å­— `'0'` å’Œ `'1'` ä¸æ˜ å°„åˆ°ä»»ä½•å­—æ¯ï¼Œæ‰€ä»¥ Alice **ä¸**  ä½¿ç”¨å®ƒä»¬ã€‚

ä½†æ˜¯ï¼Œç”±äºä¼ è¾“çš„é”™è¯¯ï¼ŒBob æ²¡æœ‰æ”¶åˆ° Alice æ‰“å­—çš„å­—æ¯ä¿¡æ¯ï¼Œåè€Œæ”¶åˆ°äº† **æŒ‰é”®çš„å­—ç¬¦ä¸²ä¿¡æ¯**  ã€‚

  * æ¯”æ–¹è¯´ï¼ŒAlice å‘å‡ºçš„ä¿¡æ¯ä¸º `"bob"` ï¼ŒBob å°†æ”¶åˆ°å­—ç¬¦ä¸² `"2266622"` ã€‚

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `pressedKeys` ï¼Œè¡¨ç¤º Bob æ”¶åˆ°çš„å­—ç¬¦ä¸²ï¼Œè¯·ä½ è¿”å› Alice **æ€»å…±å¯èƒ½å‘å‡ºå¤šå°‘ç§æ–‡å­—ä¿¡æ¯**  ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œå°†å®ƒå¯¹ `109 + 7` **å–ä½™** åè¿”å›ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** pressedKeys = "22233"
> 
> **è¾“å‡ºï¼š** 8
> 
> **è§£é‡Šï¼š**
> 
> Alice å¯èƒ½å‘å‡ºçš„æ–‡å­—ä¿¡æ¯åŒ…æ‹¬ï¼š
> 
> "aaadd", "abdd", "badd", "cdd", "aaae", "abe", "bae" å’Œ "ce" ã€‚
> 
> ç”±äºæ€»å…±æœ‰ 8 ç§å¯èƒ½çš„ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å› 8 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** pressedKeys = "222222222222222222222222222222222222"
> 
> **è¾“å‡ºï¼š** 82876089
> 
> **è§£é‡Šï¼š**
> 
> æ€»å…±æœ‰ 2082876103 ç§ Alice å¯èƒ½å‘å‡ºçš„æ–‡å­—ä¿¡æ¯ã€‚
> 
> ç”±äºæˆ‘ä»¬éœ€è¦å°†ç­”æ¡ˆå¯¹ 109 + 7 å–ä½™ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å› 2082876103 % (109 + 7) = 82876089 ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= pressedKeys.length <= 10^5`
  * `pressedKeys` åªåŒ…å«æ•°å­— `'2'` åˆ° `'9'` ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 17 | [ç”µè¯å·ç çš„å­—æ¯ç»„åˆ](https://leetcode.com/problems/letter-combinations-of-a-phone-number) | [[âœ“]](/problem/0017) |  [`å“ˆå¸Œè¡¨`](/outline/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/outline/tag/string.md) [`å›æº¯`](/outline/tag/backtracking.md) | <font color=#ffb800>Medium</font> |
| 91 | [è§£ç æ–¹æ³•](https://leetcode.com/problems/decode-ways) |  |  [`å­—ç¬¦ä¸²`](/outline/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md) | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
