---
title: 157. ç”¨ Read4 è¯»å– N ä¸ªå­—ç¬¦ ğŸ”’
description: LeetCode 157. ç”¨ Read4 è¯»å– N ä¸ªå­—ç¬¦ ğŸ”’é¢˜è§£ï¼ŒRead N Characters Given Read4ï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 157. ç”¨ Read4 è¯»å– N ä¸ªå­—ç¬¦ ğŸ”’
  - ç”¨ Read4 è¯»å– N ä¸ªå­—ç¬¦
  - Read N Characters Given Read4
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - äº¤äº’
  - æ¨¡æ‹Ÿ
---

# 157. ç”¨ Read4 è¯»å– N ä¸ªå­—ç¬¦ ğŸ”’

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`äº¤äº’`](/tag/interactive.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/read-n-characters-given-read4) [`LeetCode`](https://leetcode.com/problems/read-n-characters-given-read4)

## é¢˜ç›®

Given a `file` and assume that you can only read the file using a given method
`read4`, implement a method to read `n` characters.

**Method read4:**

The API `read4` reads **four consecutive characters** from `file`, then writes
those characters into the buffer array `buf4`.

The return value is the number of actual characters read.

Note that `read4()` has its own file pointer, much like `FILE *fp` in C.

**Definition of read4:**

> 
> 
> 
> 
> 
> > 
> Parameter:  char[] buf4
> 
> > 
> Returns:> 
> int
> 
> 
> 
> buf4[] is a destination, not a source. The results from read4 will be copied to buf4[].
> 
> 

Below is a high-level example of how `read4` works:

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0100-0199/0157.Read%20N%20Characters%20Given%20Read4/images/157_example.png)

> 
> 
> 
> 
> 
> File file("abcde"); // File is "abcde", initially file pointer (fp) points to 'a'
> 
> char[] buf4 = new char[4]; // Create buffer with enough space to store characters
> 
> read4(buf4); // read4 returns 4. Now buf4 = "abcd", fp points to 'e'
> 
> read4(buf4); // read4 returns 1. Now buf4 = "e", fp points to end of file
> 
> read4(buf4); // read4 returns 0. Now buf4 = "", fp points to end of file
> 
> 



**Method read:**

By using the `read4` method, implement the method read that reads `n`
characters from `file` and store it in the buffer array `buf`. Consider that
you cannot manipulate `file` directly.

The return value is the number of actual characters read.

**Definition of read:**

> 
> 
> 
> 
> 
> > 
> Parameters:	char[] buf, int n
> 
> > 
> Returns:	int
> 
> 
> 
> buf[] is a destination, not a source. You will need to write the results to buf[].
> 
> 

**Note:**

  * Consider that you cannot manipulate the file directly. The file is only accessible for `read4` but not for `read`.
  * The `read` function will only be called once for each test case.
  * You may assume the destination buffer array, `buf`, is guaranteed to have enough space for storing `n` characters.



**Example 1:**

> Input: file = "abc", n = 4
> 
> Output: 3
> 
> Explanation: After calling your read method, buf should contain "abc". We read a total of 3 characters from the file, so return 3.
> 
> Note that "abc" is the file's content, not buf. buf is the destination buffer that you will have to write the results to.

**Example 2:**

> Input: file = "abcde", n = 5
> 
> Output: 5
> 
> Explanation: After calling your read method, buf should contain "abcde". We read a total of 5 characters from the file, so return 5.

**Example 3:**

> Input: file = "abcdABCD1234", n = 12
> 
> Output: 12
> 
> Explanation: After calling your read method, buf should contain "abcdABCD1234". We read a total of 12 characters from the file, so return 12.

**Constraints:**

  * `1 <= file.length <= 500`
  * `file` consist of English letters and digits.
  * `1 <= n <= 1000`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”è¯¥æ–‡ä»¶åªèƒ½é€šè¿‡ç»™å®šçš„ `read4` æ–¹æ³•æ¥è¯»å–ï¼Œè¯·å®ç°ä¸€ä¸ªæ–¹æ³•ä½¿å…¶èƒ½å¤Ÿè¯»å– n ä¸ªå­—ç¬¦ã€‚

**read4 æ–¹æ³•ï¼š**

API `read4` å¯ä»¥ä»æ–‡ä»¶ä¸­è¯»å– 4 ä¸ªè¿ç»­çš„å­—ç¬¦ï¼Œå¹¶ä¸”å°†å®ƒä»¬å†™å…¥ç¼“å­˜æ•°ç»„ `buf` ä¸­ã€‚

è¿”å›å€¼ä¸ºå®é™…è¯»å–çš„å­—ç¬¦ä¸ªæ•°ã€‚

æ³¨æ„ `read4()` è‡ªèº«æ‹¥æœ‰æ–‡ä»¶æŒ‡é’ˆï¼Œå¾ˆç±»ä¼¼äº C è¯­è¨€ä¸­çš„ `FILE *fp` ã€‚

**read4 çš„å®šä¹‰ï¼š**

> 
> 
> 
> 
> 
> å‚æ•°ç±»å‹: char[] buf4
> 
> è¿”å›ç±»å‹: int
> 
> 
> 
> æ³¨æ„: buf4[] æ˜¯ç›®æ ‡ç¼“å­˜åŒºä¸æ˜¯æºç¼“å­˜åŒºï¼Œread4 çš„è¿”å›ç»“æœå°†ä¼šå¤åˆ¶åˆ° buf4[] å½“ä¸­ã€‚
> 
> 

ä¸‹åˆ—æ˜¯ä¸€äº›ä½¿ç”¨ `read4` çš„ä¾‹å­ï¼š

> 
> 
> 
> 
> 
> File file("abcde"); // æ–‡ä»¶åä¸º "abcde"ï¼Œ åˆå§‹æ–‡ä»¶æŒ‡é’ˆ (fp) æŒ‡å‘ 'a' 
> 
> char[] buf4 = new char[4]; // åˆ›å»ºä¸€ä¸ªç¼“å­˜åŒºä½¿å…¶èƒ½å®¹çº³è¶³å¤Ÿçš„å­—ç¬¦
> 
> read4(buf4); // read4 è¿”å› 4ã€‚ç°åœ¨ buf4 = "abcd"ï¼Œfp æŒ‡å‘ 'e'
> 
> read4(buf4); // read4 è¿”å› 1ã€‚ç°åœ¨ buf4 = "e"ï¼Œfp æŒ‡å‘æ–‡ä»¶æœ«å°¾
> 
> read4(buf4); // read4 è¿”å› 0ã€‚ç°åœ¨ buf = ""ï¼Œfp æŒ‡å‘æ–‡ä»¶æœ«å°¾

**read æ–¹æ³•ï¼š**

é€šè¿‡ä½¿ç”¨ `read4` æ–¹æ³•ï¼Œå®ç° `read` æ–¹æ³•ã€‚è¯¥æ–¹æ³•å¯ä»¥ä»æ–‡ä»¶ä¸­è¯»å– n ä¸ªå­—ç¬¦å¹¶å°†å…¶å­˜å‚¨åˆ°ç¼“å­˜æ•°ç»„ `buf` ä¸­ã€‚æ‚¨ **ä¸èƒ½
**ç›´æ¥æ“ä½œæ–‡ä»¶ã€‚

è¿”å›å€¼ä¸ºå®é™…è¯»å–çš„å­—ç¬¦ã€‚

**read  çš„å®šä¹‰ï¼š**

> 
> 
> 
> 
> 
> å‚æ•°ç±»å‹:   char[] buf, int n
> 
> è¿”å›ç±»å‹:   int
> 
> 
> 
> æ³¨æ„: buf[] æ˜¯ç›®æ ‡ç¼“å­˜åŒºä¸æ˜¯æºç¼“å­˜åŒºï¼Œä½ éœ€è¦å°†ç»“æœå†™å…¥ buf[] ä¸­ã€‚
> 
> 



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** file = "abc", n = 4
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** å½“æ‰§è¡Œä½ çš„ read æ–¹æ³•åï¼Œbuf éœ€è¦åŒ…å« "abc"ã€‚ æ–‡ä»¶ä¸€å…± 3 ä¸ªå­—ç¬¦ï¼Œå› æ­¤è¿”å› 3ã€‚ æ³¨æ„ "abc" æ˜¯æ–‡ä»¶çš„å†…å®¹ï¼Œä¸æ˜¯ buf çš„å†…å®¹ï¼Œbuf æ˜¯ä½ éœ€è¦å†™å…¥ç»“æœçš„ç›®æ ‡ç¼“å­˜åŒºã€‚ 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** file = "abcde", n = 5
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š** å½“æ‰§è¡Œä½ çš„ read æ–¹æ³•åï¼Œbuf éœ€è¦åŒ…å« "abcde"ã€‚æ–‡ä»¶å…± 5 ä¸ªå­—ç¬¦ï¼Œå› æ­¤è¿”å› 5ã€‚
> 
> 

**ç¤ºä¾‹ 3:**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** file = "abcdABCD1234", n = 12
> 
> **è¾“å‡ºï¼š** 12
> 
> **è§£é‡Šï¼š** å½“æ‰§è¡Œä½ çš„ read æ–¹æ³•åï¼Œbuf éœ€è¦åŒ…å« "abcdABCD1234"ã€‚æ–‡ä»¶ä¸€å…± 12 ä¸ªå­—ç¬¦ï¼Œå› æ­¤è¿”å› 12ã€‚
> 
> 

**ç¤ºä¾‹ 4:**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** file = "leetcode", n = 5
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š** å½“æ‰§è¡Œä½ çš„ read æ–¹æ³•åï¼Œbuf éœ€è¦åŒ…å« "leetc"ã€‚æ–‡ä»¶ä¸­ä¸€å…± 5 ä¸ªå­—ç¬¦ï¼Œå› æ­¤è¿”å› 5ã€‚
> 
> 



**æç¤ºï¼š**

  * ä½  **ä¸èƒ½** ç›´æ¥æ“ä½œè¯¥æ–‡ä»¶ï¼Œæ–‡ä»¶åªèƒ½é€šè¿‡ `read4` è·å–è€Œ **ä¸èƒ½** é€šè¿‡ `read`ã€‚
  * `read`  å‡½æ•°åªåœ¨æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹è°ƒç”¨ä¸€æ¬¡ã€‚
  * ä½ å¯ä»¥å‡å®šç›®æ ‡ç¼“å­˜æ•°ç»„ `buf` ä¿è¯æœ‰è¶³å¤Ÿçš„ç©ºé—´å­˜ä¸‹ n ä¸ªå­—ç¬¦ã€‚ 


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 158 | ç”¨ Read4 è¯»å– N ä¸ªå­—ç¬¦ II - å¤šæ¬¡è°ƒç”¨ ğŸ”’ |  |  [`æ•°ç»„`](/tag/array.md) [`äº¤äº’`](/tag/interactive.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/read-n-characters-given-read4-ii-call-multiple-times) [ğŸ”—](https://leetcode.com/problems/read-n-characters-given-read4-ii-call-multiple-times) |