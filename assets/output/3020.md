# [3020. å­é›†ä¸­å…ƒç´ çš„æœ€å¤§æ•°é‡](https://leetcode.com/problems/find-the-maximum-number-of-elements-in-subset)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`æšä¸¾`](/leetcode/outline/tag/enumeration.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/find-the-maximum-number-of-elements-in-subset)


## é¢˜ç›®

You are given an array of **positive** integers `nums`.

You need to select a subset of `nums` which satisfies the following condition:

  * You can place the selected elements in a **0-indexed** array such that it follows the pattern: `[x, x2, x4, ..., xk/2, xk, xk/2, ..., x4, x2, x]` (**Note** that `k` can be be any **non-negative** power of `2`). For example, `[2, 4, 16, 4, 2]` and `[3, 9, 3]` follow the pattern while `[2, 4, 8, 4, 2]` does not.

Return _the**maximum** number of elements in a subset that satisfies these
conditions._



**Example 1:**

> Input: nums = [5,4,1,2,2]
> 
> Output: 3
> 
> Explanation: We can select the subset {4,2,2}, which can be placed in the array as [2,4,2] which follows the pattern and 22 == 4. Hence the answer is 3.

**Example 2:**

> Input: nums = [1,3,2,4]
> 
> Output: 1
> 
> Explanation: We can select the subset {1}, which can be placed in the array as [1] which follows the pattern. Hence the answer is 1. Note that we could have also selected the subsets {2}, {3}, or {4}, there may be multiple subsets which provide the same answer. 

**Constraints:**

  * `2 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^9`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª**æ­£æ•´æ•°** æ•°ç»„ `nums` ã€‚

ä½ éœ€è¦ä»æ•°ç»„ä¸­é€‰å‡ºä¸€ä¸ªæ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„å­é›†ï¼š

  * ä½ å¯ä»¥å°†é€‰ä¸­çš„å…ƒç´ æ”¾ç½®åœ¨ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„æ•°ç»„ä¸­ï¼Œå¹¶ä½¿å…¶éµå¾ªä»¥ä¸‹æ¨¡å¼ï¼š`[x, x2, x4, ..., xk/2, xk, xk/2, ..., x4, x2, x]`ï¼ˆ**æ³¨æ„** ï¼Œ`k` å¯ä»¥æ˜¯ä»»ä½• **éè´Ÿ** çš„ 2 çš„å¹‚ï¼‰ã€‚ä¾‹å¦‚ï¼Œ`[2, 4, 16, 4, 2]` å’Œ `[3, 9, 3]` éƒ½ç¬¦åˆè¿™ä¸€æ¨¡å¼ï¼Œè€Œ `[2, 4, 8, 4, 2]` åˆ™ä¸ç¬¦åˆã€‚

è¿”å›æ»¡è¶³è¿™äº›æ¡ä»¶çš„å­é›†ä¸­ï¼Œå…ƒç´ æ•°é‡çš„ **æœ€å¤§å€¼** _ã€‚_



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [5,4,1,2,2]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** é€‰æ‹©å­é›† {4,2,2} ï¼Œå°†å…¶æ”¾åœ¨æ•°ç»„ [2,4,2] ä¸­ï¼Œå®ƒéµå¾ªè¯¥æ¨¡å¼ï¼Œä¸” 22 == 4 ã€‚å› æ­¤ç­”æ¡ˆæ˜¯ 3 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,3,2,4]
> 
> **è¾“å‡ºï¼š** 1
> 
> **è§£é‡Šï¼š** é€‰æ‹©å­é›† {1}ï¼Œå°†å…¶æ”¾åœ¨æ•°ç»„ [1] ä¸­ï¼Œå®ƒéµå¾ªè¯¥æ¨¡å¼ã€‚å› æ­¤ç­”æ¡ˆæ˜¯ 1 ã€‚æ³¨æ„æˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©å­é›† {2} ã€{4} æˆ– {3} ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ªå­é›†éƒ½èƒ½å¾—åˆ°ç›¸åŒçš„ç­”æ¡ˆã€‚
> 
> 



**æç¤ºï¼š**

  * `2 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [æœ€é•¿è¿ç»­åºåˆ—](https://leetcode.com/problems/longest-consecutive-sequence)

::::
