# [2992. è‡ªæ•´é™¤æ’åˆ—çš„æ•°é‡ ğŸ”’](https://2xiao.github.io/leetcode-js/problem/2992.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`å›æº¯`](/tag/backtracking.md) [`çŠ¶æ€å‹ç¼©`](/tag/bitmask.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/number-of-self-divisible-permutations) [`LeetCode`](https://leetcode.com/problems/number-of-self-divisible-permutations)

## é¢˜ç›®

Given an integer `n`, return _the number of**permutations** of the
**1-indexed** array_ `nums = [1, 2, ..., n]`_, such that it 's **self-
divisible**_.

A **1-indexed** array `a` of length `n` is **self-divisible** if for every `1
<= i <= n`, `gcd(a[i], i) == 1`.

A **permutation** of an array is a rearrangement of the elements of that
array, for example here are all of the permutations of the array `[1, 2, 3]`:

  * `[1, 2, 3]`
  * `[1, 3, 2]`
  * `[2, 1, 3]`
  * `[2, 3, 1]`
  * `[3, 1, 2]`
  * `[3, 2, 1]`



**Example 1:**

> Input: n = 1
> 
> Output: 1
> 
> Explanation: The array [1] has only 1 permutation which is self-divisible.

**Example 2:**

> Input: n = 2
> 
> Output: 1
> 
> Explanation: The array [1,2] has 2 permutations and only one of them is self-divisible:
> 
> nums = [1,2]: This is not self-divisible since gcd(nums[2], 2) != 1.
> 
> nums = [2,1]: This is self-divisible since gcd(nums[1], 1) == 1 and gcd(nums[2], 2) == 1.

**Example 3:**

> Input: n = 3
> 
> Output: 3
> 
> Explanation: The array [1,2,3] has 3 self-divisble permutations: [1,3,2], [3,1,2], [2,3,1].
> 
> It can be shown that the other 3 permutations are not self-divisible. Hence the answer is 3.

**Constraints:**

  * `1 <= n <= 12`


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªæ•´æ•° `n`ï¼Œè¿”å› **ä¸‹æ ‡ä» 1 å¼€å§‹** çš„æ•°ç»„ `nums = [1, 2, ..., n]`çš„ **å¯èƒ½çš„æ’åˆ—ç»„åˆæ•°é‡** ï¼Œä½¿å…¶æ»¡è¶³
**è‡ªæ•´é™¤** æ¡ä»¶ã€‚

å¦‚æœå¯¹äºæ¯ä¸ª `1 <= i <= n`ï¼Œæ»¡è¶³ `gcd(a[i], i) == 1`ï¼Œæ•°ç»„ `nums` å°±æ˜¯ **è‡ªæ•´é™¤** çš„ã€‚

æ•°ç»„çš„ **æ’åˆ—**  æ˜¯å¯¹æ•°ç»„å…ƒç´ çš„é‡æ–°æ’åˆ—ç»„åˆï¼Œä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯æ•°ç»„ `[1, 2, 3]` çš„æ‰€æœ‰æ’åˆ—ç»„åˆï¼š

  * `[1, 2, 3]`
  * `[1, 3, 2]`
  * `[2, 1, 3]`
  * `[2, 3, 1]`
  * `[3, 1, 2]`
  * `[3, 2, 1]`



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 1
> 
> **è¾“å‡ºï¼š** 1
> 
> **è§£é‡Šï¼š** æ•°ç»„ [1] åªæœ‰ä¸€ä¸ªæ’åˆ—ï¼Œå®ƒæ˜¯è‡ªæ•´é™¤çš„ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 2
> 
> **è¾“å‡ºï¼š1**
> 
> **è§£é‡Šï¼š** æ•°ç»„ [1,2] æœ‰ 2 ä¸ªæ’åˆ—ï¼Œä½†åªæœ‰å…¶ä¸­ä¸€ä¸ªæ˜¯è‡ªæ•´é™¤çš„ï¼š
> 
> nums = [1,2]ï¼šè¿™ä¸æ˜¯è‡ªæ•´é™¤çš„ï¼Œå› ä¸º gcd(nums[2], 2) != 1ã€‚
> 
> nums = [2,1]ï¼šè¿™æ˜¯è‡ªæ•´é™¤çš„ï¼Œå› ä¸º gcd(nums[1], 1) == 1 å¹¶ä¸” gcd(nums[2], 2) == 1ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** æ•°ç»„ [1,2,3] æœ‰ 3 ä¸ªè‡ªæ•´é™¤çš„æ’åˆ—ï¼š[1,2,3]ã€[2,1,3]ã€[3,2,1]ã€‚
> 
> å…¶ä»– 3 ä¸ªæ’åˆ—ä¸èƒ½æ»¡è¶³è‡ªæ•´é™¤æ¡ä»¶ã€‚å› æ­¤ç­”æ¡ˆæ˜¯ 3ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= n <= 12`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```