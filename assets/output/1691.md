# [1691. å †å é•¿æ–¹ä½“çš„æœ€å¤§é«˜åº¦](https://leetcode.com/problems/maximum-height-by-stacking-cuboids)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md) [`æ’åº`](/outline/tag/sorting.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-height-by-stacking-cuboids)

## é¢˜ç›®

Given `n` `cuboids` where the dimensions of the `ith` cuboid is `cuboids[i] =
[widthi, lengthi, heighti]` (**0-indexed**). Choose a **subset** of `cuboids`
and place them on each other.

You can place cuboid `i` on cuboid `j` if `widthi <= widthj` and `lengthi <=
lengthj` and `heighti <= heightj`. You can rearrange any cuboid's dimensions
by rotating it to put it on another cuboid.

Return _the**maximum height** of the stacked_ `cuboids`.



**Example 1:**

**![](https://assets.leetcode.com/uploads/2019/10/21/image.jpg)**

> Input: cuboids = [[50,45,20],[95,37,53],[45,23,12]]
> 
> Output: 190
> 
> Explanation:
> 
> Cuboid 1 is placed on the bottom with the 53x37 side facing down with height 95.
> 
> Cuboid 0 is placed next with the 45x20 side facing down with height 50.
> 
> Cuboid 2 is placed next with the 23x12 side facing down with height 45.
> 
> The total height is 95 + 50 + 45 = 190.

**Example 2:**

> Input: cuboids = [[38,25,45],[76,35,3]]
> 
> Output: 76
> 
> Explanation:
> 
> You can't place any of the cuboids on the other.
> 
> We choose cuboid 1 and rotate it so that the 35x3 side is facing down and its height is 76.

**Example 3:**

> Input: cuboids = [[7,11,17],[7,17,11],[11,7,17],[11,17,7],[17,7,11],[17,11,7]]
> 
> Output: 102
> 
> Explanation:
> 
> After rearranging the cuboids, you can see that all cuboids have the same dimension.
> 
> You can place the 11x7 side down on all cuboids so their heights are 17.
> 
> The maximum height of stacked cuboids is 6 * 17 = 102.

**Constraints:**

  * `n == cuboids.length`
  * `1 <= n <= 100`
  * `1 <= widthi, lengthi, heighti <= 100`


## é¢˜ç›®å¤§æ„

ç»™ä½  `n` ä¸ªé•¿æ–¹ä½“ `cuboids` ï¼Œå…¶ä¸­ç¬¬ `i` ä¸ªé•¿æ–¹ä½“çš„é•¿å®½é«˜è¡¨ç¤ºä¸º `cuboids[i] = [widthi, lengthi,
heighti]`ï¼ˆ**ä¸‹æ ‡ä» 0 å¼€å§‹** ï¼‰ã€‚è¯·ä½ ä» `cuboids` é€‰å‡ºä¸€ä¸ª **å­é›†** ï¼Œå¹¶å°†å®ƒä»¬å †å èµ·æ¥ã€‚

å¦‚æœ `widthi <= widthj` ä¸” `lengthi <= lengthj` ä¸” `heighti <= heightj` ï¼Œä½ å°±å¯ä»¥å°†é•¿æ–¹ä½“
`i` å †å åœ¨é•¿æ–¹ä½“ `j` ä¸Šã€‚ä½ å¯ä»¥é€šè¿‡æ—‹è½¬æŠŠé•¿æ–¹ä½“çš„é•¿å®½é«˜é‡æ–°æ’åˆ—ï¼Œä»¥å°†å®ƒæ”¾åœ¨å¦ä¸€ä¸ªé•¿æ–¹ä½“ä¸Šã€‚

è¿”å› **å †å é•¿æ–¹ä½“** `cuboids` å¯ä»¥å¾—åˆ°çš„ **æœ€å¤§é«˜åº¦** ã€‚

**ç¤ºä¾‹ 1ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/12/12/image.jpg)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** cuboids = [[50,45,20],[95,37,53],[45,23,12]]
> 
> **è¾“å‡ºï¼š** 190
> 
> **è§£é‡Šï¼š**
> 
> ç¬¬ 1 ä¸ªé•¿æ–¹ä½“æ”¾åœ¨åº•éƒ¨ï¼Œ53x37 çš„ä¸€é¢æœä¸‹ï¼Œé«˜åº¦ä¸º 95 ã€‚
> 
> ç¬¬ 0 ä¸ªé•¿æ–¹ä½“æ”¾åœ¨ä¸­é—´ï¼Œ45x20 çš„ä¸€é¢æœä¸‹ï¼Œé«˜åº¦ä¸º 50 ã€‚
> 
> ç¬¬ 2 ä¸ªé•¿æ–¹ä½“æ”¾åœ¨ä¸Šé¢ï¼Œ23x12 çš„ä¸€é¢æœä¸‹ï¼Œé«˜åº¦ä¸º 45 ã€‚
> 
> æ€»é«˜åº¦æ˜¯ 95 + 50 + 45 = 190 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** cuboids = [[38,25,45],[76,35,3]]
> 
> **è¾“å‡ºï¼š** 76
> 
> **è§£é‡Šï¼š**
> 
> æ— æ³•å°†ä»»ä½•é•¿æ–¹ä½“æ”¾åœ¨å¦ä¸€ä¸ªä¸Šé¢ã€‚
> 
> é€‰æ‹©ç¬¬ 1 ä¸ªé•¿æ–¹ä½“ç„¶åæ—‹è½¬å®ƒï¼Œä½¿ 35x3 çš„ä¸€é¢æœä¸‹ï¼Œå…¶é«˜åº¦ä¸º 76 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** cuboids = [[7,11,17],[7,17,11],[11,7,17],[11,17,7],[17,7,11],[17,11,7]]
> 
> **è¾“å‡ºï¼š** 102
> 
> **è§£é‡Šï¼š**
> 
> é‡æ–°æ’åˆ—é•¿æ–¹ä½“åï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰é•¿æ–¹ä½“çš„å°ºå¯¸éƒ½ç›¸åŒã€‚
> 
> ä½ å¯ä»¥æŠŠ 11x7 çš„ä¸€é¢æœä¸‹ï¼Œè¿™æ ·å®ƒä»¬çš„é«˜åº¦å°±æ˜¯ 17 ã€‚
> 
> å †å é•¿æ–¹ä½“çš„æœ€å¤§é«˜åº¦ä¸º 6 * 17 = 102 ã€‚
> 
> 

**æç¤ºï¼š**

  * `n == cuboids.length`
  * `1 <= n <= 100`
  * `1 <= widthi, lengthi, heighti <= 100`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1996 | [æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡](https://leetcode.com/problems/the-number-of-weak-characters-in-the-game) |  |  [`æ ˆ`](/outline/tag/stack.md) [`è´ªå¿ƒ`](/outline/tag/greedy.md) [`æ•°ç»„`](/outline/tag/array.md) `2+` | <font color=#ffb800>Medium</font> |
| 2358 | [åˆ†ç»„çš„æœ€å¤§æ•°é‡](https://leetcode.com/problems/maximum-number-of-groups-entering-a-competition) |  |  [`è´ªå¿ƒ`](/outline/tag/greedy.md) [`æ•°ç»„`](/outline/tag/array.md) [`æ•°å­¦`](/outline/tag/math.md) `1+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
