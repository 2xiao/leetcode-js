---
title: 2019. è§£å‡ºæ•°å­¦è¡¨è¾¾å¼çš„å­¦ç”Ÿåˆ†æ•°
description: LeetCode,2019. è§£å‡ºæ•°å­¦è¡¨è¾¾å¼çš„å­¦ç”Ÿåˆ†æ•°,è§£å‡ºæ•°å­¦è¡¨è¾¾å¼çš„å­¦ç”Ÿåˆ†æ•°,The Score of Students Solving Math Expression,è§£é¢˜æ€è·¯,æ ˆ,è®°å¿†åŒ–æœç´¢,æ•°ç»„,æ•°å­¦,å­—ç¬¦ä¸²,åŠ¨æ€è§„åˆ’
keywords:
  - LeetCode
  - 2019. è§£å‡ºæ•°å­¦è¡¨è¾¾å¼çš„å­¦ç”Ÿåˆ†æ•°
  - è§£å‡ºæ•°å­¦è¡¨è¾¾å¼çš„å­¦ç”Ÿåˆ†æ•°
  - The Score of Students Solving Math Expression
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - è®°å¿†åŒ–æœç´¢
  - æ•°ç»„
  - æ•°å­¦
  - å­—ç¬¦ä¸²
  - åŠ¨æ€è§„åˆ’
---

# 2019. è§£å‡ºæ•°å­¦è¡¨è¾¾å¼çš„å­¦ç”Ÿåˆ†æ•°

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`è®°å¿†åŒ–æœç´¢`](/tag/memoization.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/the-score-of-students-solving-math-expression) [`LeetCode`](https://leetcode.com/problems/the-score-of-students-solving-math-expression)

## é¢˜ç›®

You are given a string `s` that contains digits `0-9`, addition symbols `'+'`,
and multiplication symbols `'*'` **only** , representing a **valid** math
expression of **single digit numbers** (e.g., `3+5*2`). This expression was
given to `n` elementary school students. The students were instructed to get
the answer of the expression by following this **order of operations** :

  1. Compute **multiplication** , reading from **left to right** ; Then,
  2. Compute **addition** , reading from **left to right**.

You are given an integer array `answers` of length `n`, which are the
submitted answers of the students in no particular order. You are asked to
grade the `answers`, by following these **rules** :

  * If an answer **equals** the correct answer of the expression, this student will be rewarded `5` points;
  * Otherwise, if the answer **could be interpreted** as if the student applied the operators **in the wrong order** but had **correct arithmetic** , this student will be rewarded `2` points;
  * Otherwise, this student will be rewarded `0` points.

Return _the sum of the points of the students_.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/09/17/student_solving_math.png)

> Input: s = "7+3*1*2", answers = [20,13,42]
> 
> Output: 7
> 
> Explanation: As illustrated above, the correct answer of the expression is 13, therefore one student is rewarded 5 points: [20,_**13**_ ,42]
> 
> A student might have applied the operators in this wrong order: ((7+3)*1)*2 = 20. Therefore one student is rewarded 2 points: [_**20**_ ,13,42]
> 
> The points for the students are: [2,5,0]. The sum of the points is 2+5+0=7.

**Example 2:**

> Input: s = "3+5*2", answers = [13,0,10,13,13,16,16]
> 
> Output: 19
> 
> Explanation: The correct answer of the expression is 13, therefore three students are rewarded 5 points each: [**_13_** ,0,10,**_13_** ,**_13_** ,16,16]
> 
> A student might have applied the operators in this wrong order: ((3+5)*2 = 16. Therefore two students are rewarded 2 points: [13,0,10,13,13,**_16_** ,**_16_**]
> 
> The points for the students are: [5,0,0,5,5,2,2]. The sum of the points is 5+0+0+5+5+2+2=19.

**Example 3:**

> Input: s = "6+0*1", answers = [12,9,6,4,8,6]
> 
> Output: 10
> 
> Explanation: The correct answer of the expression is 6.
> 
> If a student had incorrectly done (6+0)*1, the answer would also be 6.
> 
> By the rules of grading, the students will still be rewarded 5 points (as they got the correct answer), not 2 points.
> 
> The points for the students are: [0,0,5,0,0,5]. The sum of the points is 10.

**Constraints:**

  * `3 <= s.length <= 31`
  * `s` represents a valid expression that contains only digits `0-9`, `'+'`, and `'*'` only.
  * All the integer operands in the expression are in the **inclusive** range `[0, 9]`.
  * `1 <=` The count of all operators (`'+'` and `'*'`) in the math expression `<= 15`
  * Test data are generated such that the correct answer of the expression is in the range of `[0, 1000]`.
  * `n == answers.length`
  * `1 <= n <= 10^4`
  * `0 <= answers[i] <= 1000`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œå®ƒ **åª** åŒ…å«æ•°å­— `0-9` ï¼ŒåŠ æ³•è¿ç®—ç¬¦ `'+'` å’Œä¹˜æ³•è¿ç®—ç¬¦ `'*'` ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºä¸€ä¸ª **åˆæ³•**
çš„åªå«æœ‰ **ä¸ªä½æ•°****æ•°å­—**  çš„æ•°å­¦è¡¨è¾¾å¼ï¼ˆæ¯”æ–¹è¯´ `3+5*2`ï¼‰ã€‚æœ‰ `n` ä½å°å­¦ç”Ÿå°†è®¡ç®—è¿™ä¸ªæ•°å­¦è¡¨è¾¾å¼ï¼Œå¹¶éµå¾ªå¦‚ä¸‹ **è¿ç®—é¡ºåº**  ï¼š

  1. æŒ‰ç…§ **ä»å·¦åˆ°å³**  çš„é¡ºåºè®¡ç®— **ä¹˜æ³•**  ï¼Œç„¶å
  2. æŒ‰ç…§ **ä»å·¦åˆ°å³**  çš„é¡ºåºè®¡ç®— **åŠ æ³•**  ã€‚

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `answers` ï¼Œè¡¨ç¤ºæ¯ä½å­¦ç”Ÿæäº¤çš„ç­”æ¡ˆã€‚ä½ çš„ä»»åŠ¡æ˜¯ç»™ `answer` æ•°ç»„æŒ‰ç…§å¦‚ä¸‹ **è§„åˆ™**  æ‰“åˆ†ï¼š

  * å¦‚æœä¸€ä½å­¦ç”Ÿçš„ç­”æ¡ˆ **ç­‰äº**  è¡¨è¾¾å¼çš„æ­£ç¡®ç»“æœï¼Œè¿™ä½å­¦ç”Ÿå°†å¾—åˆ° `5` åˆ†ã€‚
  * å¦åˆ™ï¼Œå¦‚æœç­”æ¡ˆç”± **ä¸€å¤„æˆ–å¤šå¤„é”™è¯¯çš„è¿ç®—é¡ºåº**  è®¡ç®—å¾—åˆ°ï¼Œé‚£ä¹ˆè¿™ä½å­¦ç”Ÿèƒ½å¾—åˆ° `2` åˆ†ã€‚
  * å¦åˆ™ï¼Œè¿™ä½å­¦ç”Ÿå°†å¾—åˆ° `0` åˆ†ã€‚

è¯·ä½ è¿”å›æ‰€æœ‰å­¦ç”Ÿçš„åˆ†æ•°å’Œã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/09/17/student_solving_math.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "7+3*1*2", answers = [20,13,42]
> 
> **è¾“å‡ºï¼š** 7
> 
> **è§£é‡Šï¼š** å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ­£ç¡®ç­”æ¡ˆä¸º 13 ï¼Œå› æ­¤æœ‰ä¸€ä½å­¦ç”Ÿå¾—åˆ†ä¸º 5 åˆ†ï¼š[20,_**13**_ ,42] ã€‚
> 
> ä¸€ä½å­¦ç”Ÿå¯èƒ½é€šè¿‡é”™è¯¯çš„è¿ç®—é¡ºåºå¾—åˆ°ç»“æœ 20 ï¼š7+3=10ï¼Œ10*1=10ï¼Œ10*2=20 ã€‚æ‰€ä»¥è¿™ä½å­¦ç”Ÿå¾—åˆ†ä¸º 2 åˆ†ï¼š[_**20**_ ,13,42] ã€‚
> 
> æ‰€æœ‰å­¦ç”Ÿå¾—åˆ†åˆ†åˆ«ä¸ºï¼š[2,5,0] ã€‚æ‰€æœ‰å¾—åˆ†ä¹‹å’Œä¸º 2+5+0=7 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "3+5*2", answers = [13,0,10,13,13,16,16]
> 
> **è¾“å‡ºï¼š** 19
> 
> **è§£é‡Šï¼š** è¡¨è¾¾å¼çš„æ­£ç¡®ç»“æœä¸º 13 ï¼Œæ‰€ä»¥æœ‰ 3 ä½å­¦ç”Ÿå¾—åˆ° 5 åˆ†ï¼š[_**13**_ ,0,10,_**13**_ ,_**13**_ ,16,16] ã€‚
> 
> å­¦ç”Ÿå¯èƒ½é€šè¿‡é”™è¯¯çš„è¿ç®—é¡ºåºå¾—åˆ°ç»“æœ 16 ï¼š3+5=8ï¼Œ8*2=16 ã€‚æ‰€ä»¥ä¸¤ä½å­¦ç”Ÿå¾—åˆ° 2 åˆ†ï¼š[13,0,10,13,13,_**16**_ ,_**16**_] ã€‚
> 
> æ‰€æœ‰å­¦ç”Ÿå¾—åˆ†åˆ†åˆ«ä¸ºï¼š[5,0,0,5,5,2,2] ã€‚æ‰€æœ‰å¾—åˆ†ä¹‹å’Œä¸º 5+0+0+5+5+2+2=19 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "6+0*1", answers = [12,9,6,4,8,6]
> 
> **è¾“å‡ºï¼š** 10
> 
> **è§£é‡Šï¼š** è¡¨è¾¾å¼çš„æ­£ç¡®ç»“æœä¸º 6 ã€‚
> 
> å¦‚æœä¸€ä½å­¦ç”Ÿé€šè¿‡é”™è¯¯çš„è¿ç®—é¡ºåºè®¡ç®—è¯¥è¡¨è¾¾å¼ï¼Œç»“æœä»ä¸º 6 ã€‚
> 
> æ ¹æ®æ‰“åˆ†è§„åˆ™ï¼Œè¿ç®—é¡ºåºé”™è¯¯çš„å­¦ç”Ÿä¹Ÿå°†å¾—åˆ° 5 åˆ†ï¼ˆå› ä¸ºä»–ä»¬ä»ç„¶å¾—åˆ°äº†æ­£ç¡®çš„ç»“æœï¼‰ï¼Œè€Œä¸æ˜¯ 2 åˆ†ã€‚
> 
> æ‰€æœ‰å­¦ç”Ÿå¾—åˆ†åˆ†åˆ«ä¸ºï¼š[0,0,5,0,0,5] ã€‚æ‰€æœ‰å¾—åˆ†ä¹‹å’Œä¸º 10 åˆ†ã€‚
> 
> 



**æç¤ºï¼š**

  * `3 <= s.length <= 31`
  * `s` è¡¨ç¤ºä¸€ä¸ªåªåŒ…å« `0-9` ï¼Œ`'+'` å’Œ `'*'` çš„åˆæ³•è¡¨è¾¾å¼ã€‚
  * è¡¨è¾¾å¼ä¸­æ‰€æœ‰æ•´æ•°è¿ç®—æ•°å­—éƒ½åœ¨é—­åŒºé—´ `[0, 9]` ä»¥å†…ã€‚
  * `1 <=` æ•°å­¦è¡¨è¾¾å¼ä¸­æ‰€æœ‰è¿ç®—ç¬¦æ•°ç›®ï¼ˆ`'+'` å’Œ `'*'`ï¼‰ `<= 15`
  * æµ‹è¯•æ•°æ®ä¿è¯æ­£ç¡®è¡¨è¾¾å¼ç»“æœåœ¨èŒƒå›´ `[0, 1000]` ä»¥å†…ã€‚
  * `n == answers.length`
  * `1 <= n <= 10^4`
  * `0 <= answers[i] <= 1000`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 224 | [åŸºæœ¬è®¡ç®—å™¨](https://leetcode.com/problems/basic-calculator) | [[âœ“]](/problem/0224.md) |  [`æ ˆ`](/tag/stack.md) [`é€’å½’`](/tag/recursion.md) [`æ•°å­¦`](/tag/math.md) `1+` | <font color=#ff334b>Hard</font> |
| 241 | [ä¸ºè¿ç®—è¡¨è¾¾å¼è®¾è®¡ä¼˜å…ˆçº§](https://leetcode.com/problems/different-ways-to-add-parentheses) |  |  [`é€’å½’`](/tag/recursion.md) [`è®°å¿†åŒ–æœç´¢`](/tag/memoization.md) [`æ•°å­¦`](/tag/math.md) `2+` | <font color=#ffb800>Medium</font> |