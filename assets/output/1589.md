# [1589. æ‰€æœ‰æ’åˆ—ä¸­çš„æœ€å¤§å’Œ](https://2xiao.github.io/leetcode-js/problem/1589.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-sum-obtained-of-any-permutation) [`LeetCode`](https://leetcode.com/problems/maximum-sum-obtained-of-any-permutation)

## é¢˜ç›®

We have an array of integers, `nums`, and an array of `requests` where
`requests[i] = [starti, endi]`. The `ith` request asks for the sum of
`nums[starti] + nums[starti + 1] + ... + nums[endi - 1] + nums[endi]`. Both
`starti` and `endi` are _0-indexed_.

Return _the maximum total sum of all requests**among all permutations** of_
`nums`.

Since the answer may be too large, return it **modulo** `109 + 7`.



**Example 1:**

> Input: nums = [1,2,3,4,5], requests = [[1,3],[0,1]]
> 
> Output: 19
> 
> Explanation: One permutation of nums is [2,1,3,4,5] with the following result: 
> 
> requests[0] -> nums[1] + nums[2] + nums[3] = 1 + 3 + 4 = 8
> 
> requests[1] -> nums[0] + nums[1] = 2 + 1 = 3
> 
> Total sum: 8 + 3 = 11.
> 
> A permutation with a higher total sum is [3,5,4,2,1] with the following result:
> 
> requests[0] -> nums[1] + nums[2] + nums[3] = 5 + 4 + 2 = 11
> 
> requests[1] -> nums[0] + nums[1] = 3 + 5  = 8
> 
> Total sum: 11 + 8 = 19, which is the best that you can do.

**Example 2:**

> Input: nums = [1,2,3,4,5,6], requests = [[0,1]]
> 
> Output: 11
> 
> Explanation: A permutation with the max total sum is [6,5,4,3,2,1] with request sums [11].

**Example 3:**

> Input: nums = [1,2,3,4,5,10], requests = [[0,2],[1,3],[1,1]]
> 
> Output: 47
> 
> Explanation: A permutation with the max total sum is [4,10,5,3,2,1] with request sums [19,18,10].



**Constraints:**

  * `n == nums.length`
  * `1 <= n <= 10^5`
  * `0 <= nums[i] <= 10^5`
  * `1 <= requests.length <= 10^5`
  * `requests[i].length == 2`
  * `0 <= starti <= endi < n`


## é¢˜ç›®å¤§æ„

æœ‰ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œå’Œä¸€ä¸ªæŸ¥è¯¢æ•°ç»„ `requests` ï¼Œå…¶ä¸­ `requests[i] = [starti, endi]` ã€‚ç¬¬ `i`
ä¸ªæŸ¥è¯¢æ±‚ `nums[starti] + nums[starti + 1] + ... + nums[endi - 1] + nums[endi]` çš„ç»“æœ
ï¼Œ`starti` å’Œ `endi` æ•°ç»„ç´¢å¼•éƒ½æ˜¯ **ä» 0 å¼€å§‹** çš„ã€‚

ä½ å¯ä»¥ä»»æ„æ’åˆ— `nums` ä¸­çš„æ•°å­—ï¼Œè¯·ä½ è¿”å›æ‰€æœ‰æŸ¥è¯¢ç»“æœä¹‹å’Œçš„æœ€å¤§å€¼ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·ä½ å°†å®ƒå¯¹ `109 + 7` **å–ä½™**  åè¿”å›ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,3,4,5], requests = [[1,3],[0,1]]
> 
> **è¾“å‡ºï¼š** 19
> 
> **è§£é‡Šï¼š** ä¸€ä¸ªå¯è¡Œçš„ nums æ’åˆ—ä¸º [2,1,3,4,5]ï¼Œå¹¶æœ‰å¦‚ä¸‹ç»“æœï¼š
> 
> requests[0] -> nums[1] + nums[2] + nums[3] = 1 + 3 + 4 = 8
> 
> requests[1] -> nums[0] + nums[1] = 2 + 1 = 3
> 
> æ€»å’Œä¸ºï¼š8 + 3 = 11ã€‚
> 
> ä¸€ä¸ªæ€»å’Œæ›´å¤§çš„æ’åˆ—ä¸º [3,5,4,2,1]ï¼Œå¹¶æœ‰å¦‚ä¸‹ç»“æœï¼š
> 
> requests[0] -> nums[1] + nums[2] + nums[3] = 5 + 4 + 2 = 11
> 
> requests[1] -> nums[0] + nums[1] = 3 + 5  = 8
> 
> æ€»å’Œä¸ºï¼š 11 + 8 = 19ï¼Œè¿™ä¸ªæ–¹æ¡ˆæ˜¯æ‰€æœ‰æ’åˆ—ä¸­æŸ¥è¯¢ä¹‹å’Œæœ€å¤§çš„ç»“æœã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,3,4,5,6], requests = [[0,1]]
> 
> **è¾“å‡ºï¼š** 11
> 
> **è§£é‡Šï¼š** ä¸€ä¸ªæ€»å’Œæœ€å¤§çš„æ’åˆ—ä¸º [6,5,4,3,2,1] ï¼ŒæŸ¥è¯¢å’Œä¸º [11]ã€‚

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,3,4,5,10], requests = [[0,2],[1,3],[1,1]]
> 
> **è¾“å‡ºï¼š** 47
> 
> **è§£é‡Šï¼š** ä¸€ä¸ªå’Œæœ€å¤§çš„æ’åˆ—ä¸º [4,10,5,3,2,1] ï¼ŒæŸ¥è¯¢ç»“æœåˆ†åˆ«ä¸º [19,18,10]ã€‚



**æç¤ºï¼š**

  * `n == nums.length`
  * `1 <= n <= 10^5`
  * `0 <= nums[i] <= 10^5`
  * `1 <= requests.length <= 10^5`
  * `requests[i].length == 2`
  * `0 <= starti <= endi < n`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```