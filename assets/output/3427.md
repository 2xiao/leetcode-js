---
title: 3427. å˜é•¿å­æ•°ç»„æ±‚å’Œ
description: LeetCode 3427. å˜é•¿å­æ•°ç»„æ±‚å’Œé¢˜è§£ï¼ŒSum of Variable Length Subarraysï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3427. å˜é•¿å­æ•°ç»„æ±‚å’Œ
  - å˜é•¿å­æ•°ç»„æ±‚å’Œ
  - Sum of Variable Length Subarrays
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å‰ç¼€å’Œ
---

# 3427. å˜é•¿å­æ•°ç»„æ±‚å’Œ

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/sum-of-variable-length-subarrays) [`LeetCode`](https://leetcode.com/problems/sum-of-variable-length-subarrays)

## é¢˜ç›®

You are given an integer array `nums` of size `n`. For **each** index `i`
where `0 <= i < n`, define a subarray `nums[start ... i]` where `start =
max(0, i - nums[i])`.

Return the total sum of all elements from the subarray defined for each index
in the array.



**Example 1:**

**Input:** nums = [2,3,1]

**Output:** 11

**Explanation:**

i | Subarray | Sum  
---|---|---  
0 | `nums[0] = [2]` | 2  
1 | `nums[0 ... 1] = [2, 3]` | 5  
2 | `nums[1 ... 2] = [3, 1]` | 4  
**Total Sum** |   | 11  
  
The total sum is 11. Hence, 11 is the output.

**Example 2:**

**Input:** nums = [3,1,1,2]

**Output:** 13

**Explanation:**

i | Subarray | Sum  
---|---|---  
0 | `nums[0] = [3]` | 3  
1 | `nums[0 ... 1] = [3, 1]` | 4  
2 | `nums[1 ... 2] = [1, 1]` | 2  
3 | `nums[1 ... 3] = [1, 1, 2]` | 4  
**Total Sum** |   | 13  
  
The total sum is 13. Hence, 13 is the output.



**Constraints:**

  * `1 <= n == nums.length <= 100`
  * `1 <= nums[i] <= 1000`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` ã€‚å¯¹äº **æ¯ä¸ª** ä¸‹æ ‡ `i`ï¼ˆ`0 <= i < n`ï¼‰ï¼Œå®šä¹‰å¯¹åº”çš„å­æ•°ç»„ `nums[start
... i]`ï¼ˆ`start = max(0, i - nums[i])`ï¼‰ã€‚

è¿”å›ä¸ºæ•°ç»„ä¸­æ¯ä¸ªä¸‹æ ‡å®šä¹‰çš„å­æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ€»å’Œã€‚

**å­æ•°ç»„**  æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­ã€**éç©º** çš„å…ƒç´ åºåˆ—ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** nums = [2,3,1]

**è¾“å‡ºï¼š** 11

**è§£é‡Šï¼š**

ä¸‹æ ‡ i | å­æ•°ç»„ | å’Œ  
---|---|---  
0 | `nums[0] = [2]` | 2  
1 | `nums[0 ... 1] = [2, 3]` | 5  
2 | `nums[1 ... 2] = [3, 1]` | 4  
**æ€»å’Œ** |   | 11  
  
æ€»å’Œä¸º 11 ã€‚å› æ­¤ï¼Œè¾“å‡º 11 ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** nums = [3,1,1,2]

**è¾“å‡ºï¼š** 13

**è§£é‡Šï¼š**

ä¸‹æ ‡ i | å­æ•°ç»„ | å’Œ  
---|---|---  
0 | `nums[0] = [3]` | 3  
1 | `nums[0 ... 1] = [3, 1]` | 4  
2 | `nums[1 ... 2] = [1, 1]` | 2  
3 | `nums[1 ... 3] = [1, 1, 2]` | 4  
**æ€»å’Œ** |   | 13  
  
æ€»å’Œä¸º 13 ã€‚å› æ­¤ï¼Œè¾“å‡ºä¸º 13 ã€‚



**æç¤ºï¼š**

  * `1 <= n == nums.length <= 100`
  * `1 <= nums[i] <= 1000`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 303 | åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜ | [[âœ“]](/problem/0303.md) |  [`è®¾è®¡`](/tag/design.md) [`æ•°ç»„`](/tag/array.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/range-sum-query-immutable) [ğŸ”—](https://leetcode.com/problems/range-sum-query-immutable) |
| 689 | ä¸‰ä¸ªæ— é‡å å­æ•°ç»„çš„æœ€å¤§å’Œ | [[âœ“]](/problem/0689.md) |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-sum-of-3-non-overlapping-subarrays) [ğŸ”—](https://leetcode.com/problems/maximum-sum-of-3-non-overlapping-subarrays) |