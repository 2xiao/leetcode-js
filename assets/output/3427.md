---
title: 3427. 变长子数组求和
description: LeetCode 3427. 变长子数组求和题解，Sum of Variable Length Subarrays，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 3427. 变长子数组求和
  - 变长子数组求和
  - Sum of Variable Length Subarrays
  - 解题思路
  - 数组
  - 前缀和
---

# 3427. 变长子数组求和

🟢 <font color=#15bd66>Easy</font>&emsp; 🔖&ensp; [`数组`](/tag/array.md) [`前缀和`](/tag/prefix-sum.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/sum-of-variable-length-subarrays) [`LeetCode`](https://leetcode.com/problems/sum-of-variable-length-subarrays)

## 题目

You are given an integer array `nums` of size `n`. For **each** index `i`
where `0 <= i < n`, define a subarray `nums[start ... i]` where `start =
max(0, i - nums[i])`.

Return the total sum of all elements from the subarray defined for each index
in the array.



**Example 1:**

**Input:** nums = [2,3,1]

**Output:** 11

**Explanation:**

i | Subarray | Sum  
---|---|---  
0 | `nums[0] = [2]` | 2  
1 | `nums[0 ... 1] = [2, 3]` | 5  
2 | `nums[1 ... 2] = [3, 1]` | 4  
**Total Sum** |   | 11  
  
The total sum is 11. Hence, 11 is the output.

**Example 2:**

**Input:** nums = [3,1,1,2]

**Output:** 13

**Explanation:**

i | Subarray | Sum  
---|---|---  
0 | `nums[0] = [3]` | 3  
1 | `nums[0 ... 1] = [3, 1]` | 4  
2 | `nums[1 ... 2] = [1, 1]` | 2  
3 | `nums[1 ... 3] = [1, 1, 2]` | 4  
**Total Sum** |   | 13  
  
The total sum is 13. Hence, 13 is the output.



**Constraints:**

  * `1 <= n == nums.length <= 100`
  * `1 <= nums[i] <= 1000`


## 题目大意

给你一个长度为 `n` 的整数数组 `nums` 。对于 **每个** 下标 `i`（`0 <= i < n`），定义对应的子数组 `nums[start
... i]`（`start = max(0, i - nums[i])`）。

返回为数组中每个下标定义的子数组中所有元素的总和。

**子数组**  是数组中的一个连续、**非空** 的元素序列。



**示例 1：**

**输入：** nums = [2,3,1]

**输出：** 11

**解释：**

下标 i | 子数组 | 和  
---|---|---  
0 | `nums[0] = [2]` | 2  
1 | `nums[0 ... 1] = [2, 3]` | 5  
2 | `nums[1 ... 2] = [3, 1]` | 4  
**总和** |   | 11  
  
总和为 11 。因此，输出 11 。

**示例 2：**

**输入：** nums = [3,1,1,2]

**输出：** 13

**解释：**

下标 i | 子数组 | 和  
---|---|---  
0 | `nums[0] = [3]` | 3  
1 | `nums[0 ... 1] = [3, 1]` | 4  
2 | `nums[1 ... 2] = [1, 1]` | 2  
3 | `nums[1 ... 3] = [1, 1, 2]` | 4  
**总和** |   | 13  
  
总和为 13 。因此，输出为 13 。



**提示：**

  * `1 <= n == nums.length <= 100`
  * `1 <= nums[i] <= 1000`


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 303 | 区域和检索 - 数组不可变 | [[✓]](/problem/0303.md) |  [`设计`](/tag/design.md) [`数组`](/tag/array.md) [`前缀和`](/tag/prefix-sum.md) | 🟢 | [🀄️](https://leetcode.cn/problems/range-sum-query-immutable) [🔗](https://leetcode.com/problems/range-sum-query-immutable) |
| 689 | 三个无重叠子数组的最大和 | [[✓]](/problem/0689.md) |  [`数组`](/tag/array.md) [`动态规划`](/tag/dynamic-programming.md) | 🔴 | [🀄️](https://leetcode.cn/problems/maximum-sum-of-3-non-overlapping-subarrays) [🔗](https://leetcode.com/problems/maximum-sum-of-3-non-overlapping-subarrays) |