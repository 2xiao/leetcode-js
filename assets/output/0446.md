# [446. ç­‰å·®æ•°åˆ—åˆ’åˆ† II - å­åºåˆ—](https://leetcode.com/problems/arithmetic-slices-ii-subsequence)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/arithmetic-slices-ii-subsequence)

## é¢˜ç›®

Given an integer array `nums`, return _the number of all the**arithmetic
subsequences** of_ `nums`.

A sequence of numbers is called arithmetic if it consists of **at least three
elements** and if the difference between any two consecutive elements is the
same.

- For example, `[1, 3, 5, 7, 9]`, `[7, 7, 7, 7]`, and `[3, -1, -5, -9]` are arithmetic sequences.
- For example, `[1, 1, 2, 5, 7]` is not an arithmetic sequence.

A **subsequence** of an array is a sequence that can be formed by removing
some elements (possibly none) of the array.

- For example, `[2,5,10]` is a subsequence of `[1,2,1,**_2_** ,4,1,_**5**_ ,_**10**_]`.

The test cases are generated so that the answer fits in **32-bit** integer.

**Example 1:**

> Input: nums = [2,4,6,8,10]
>
> Output: 7
>
> Explanation: All arithmetic subsequence slices are:
>
> [2,4,6]
>
> [4,6,8]
>
> [6,8,10]
>
> [2,4,6,8]
>
> [4,6,8,10]
>
> [2,4,6,8,10]
>
> [2,6,10]

**Example 2:**

> Input: nums = [7,7,7,7,7]
>
> Output: 16
>
> Explanation: Any subsequence of this array is arithmetic.

**Constraints:**

- `1  <= nums.length <= 1000`
- `-2^31 <= nums[i] <= 2^31 - 1`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œè¿”å› `nums` ä¸­æ‰€æœ‰ **ç­‰å·®å­åºåˆ—** çš„æ•°ç›®ã€‚

å¦‚æœä¸€ä¸ªåºåˆ—ä¸­ **è‡³å°‘æœ‰ä¸‰ä¸ªå…ƒç´ ** ï¼Œå¹¶ä¸”ä»»æ„ä¸¤ä¸ªç›¸é‚»å…ƒç´ ä¹‹å·®ç›¸åŒï¼Œåˆ™ç§°è¯¥åºåˆ—ä¸ºç­‰å·®åºåˆ—ã€‚

- ä¾‹å¦‚ï¼Œ`[1, 3, 5, 7, 9]`ã€`[7, 7, 7, 7]` å’Œ `[3, -1, -5, -9]` éƒ½æ˜¯ç­‰å·®åºåˆ—ã€‚
- å†ä¾‹å¦‚ï¼Œ`[1, 1, 2, 5, 7]` ä¸æ˜¯ç­‰å·®åºåˆ—ã€‚

æ•°ç»„ä¸­çš„å­åºåˆ—æ˜¯ä»æ•°ç»„ä¸­åˆ é™¤ä¸€äº›å…ƒç´ ï¼ˆä¹Ÿå¯èƒ½ä¸åˆ é™¤ï¼‰å¾—åˆ°çš„ä¸€ä¸ªåºåˆ—ã€‚

- ä¾‹å¦‚ï¼Œ`[2,5,10]` æ˜¯ `[1,2,1,_**2**_ ,4,1,**_5_** ,_**10**_]` çš„ä¸€ä¸ªå­åºåˆ—ã€‚

é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆæ˜¯ä¸€ä¸ª **32-bit** æ•´æ•°ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** nums = [2,4,6,8,10]
>
> **è¾“å‡ºï¼š** 7
>
> **è§£é‡Šï¼š** æ‰€æœ‰çš„ç­‰å·®å­åºåˆ—ä¸ºï¼š
>
> [2,4,6]
>
> [4,6,8]
>
> [6,8,10]
>
> [2,4,6,8]
>
> [4,6,8,10]
>
> [2,4,6,8,10]
>
> [2,6,10]

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** nums = [7,7,7,7,7]
>
> **è¾“å‡ºï¼š** 16
>
> **è§£é‡Šï¼š** æ•°ç»„ä¸­çš„ä»»æ„å­åºåˆ—éƒ½æ˜¯ç­‰å·®å­åºåˆ—ã€‚

**æç¤ºï¼š**

- `1  <= nums.length <= 1000`
- `-2^31 <= nums[i] <= 2^31 - 1`

## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 413 | [ç­‰å·®æ•°åˆ—åˆ’åˆ†](https://leetcode.com/problems/arithmetic-slices) |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ffb800>Medium</font> |
| 2453 | [æ‘§æ¯ä¸€ç³»åˆ—ç›®æ ‡](https://leetcode.com/problems/destroy-sequential-targets) |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`è®¡æ•°`](/tag/counting.md) | <font color=#ffb800>Medium</font> |
| 2484 | [ç»Ÿè®¡å›æ–‡å­åºåˆ—æ•°ç›®](https://leetcode.com/problems/count-palindromic-subsequences) |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> |
