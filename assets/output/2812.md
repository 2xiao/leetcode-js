# [2812. æ‰¾å‡ºæœ€å®‰å…¨è·¯å¾„](https://leetcode.com/problems/find-the-safest-path-in-a-grid)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/outline/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/outline/tag/union-find.md) [`æ•°ç»„`](/outline/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/outline/tag/binary-search.md) [`çŸ©é˜µ`](/outline/tag/matrix.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/find-the-safest-path-in-a-grid)

## é¢˜ç›®

You are given a **0-indexed** 2D matrix `grid` of size `n x n`, where `(r, c)`
represents:

  * A cell containing a thief if `grid[r][c] = 1`
  * An empty cell if `grid[r][c] = 0`

You are initially positioned at cell `(0, 0)`. In one move, you can move to
any adjacent cell in the grid, including cells containing thieves.

The **safeness factor** of a path on the grid is defined as the **minimum**
manhattan distance from any cell in the path to any thief in the grid.

Return _the**maximum safeness factor** of all paths leading to cell _`(n - 1,
n - 1)`_._

An **adjacent** cell of cell `(r, c)`, is one of the cells `(r, c + 1)`, `(r,
c - 1)`, `(r + 1, c)` and `(r - 1, c)` if it exists.

The **Manhattan distance** between two cells `(a, b)` and `(x, y)` is equal to
`|a - x| + |b - y|`, where `|val|` denotes the absolute value of val.



**Example 1:**

![](https://assets.leetcode.com/uploads/2023/07/02/example1.png)

> Input: grid = [[1,0,0],[0,0,0],[0,0,1]]
> 
> Output: 0
> 
> Explanation: All paths from (0, 0) to (n - 1, n - 1) go through the thieves in cells (0, 0) and (n - 1, n - 1).

**Example 2:**

![](https://assets.leetcode.com/uploads/2023/07/02/example2.png)

> Input: grid = [[0,0,1],[0,0,0],[0,0,0]]
> 
> Output: 2
> 
> Explanation: The path depicted in the picture above has a safeness factor of 2 since:
> - The closest cell of the path to the thief at cell (0, 2) is cell (0, 0). The distance between them is | 0 - 0 | + | 0 - 2 | = 2.
> 
> It can be shown that there are no other paths with a higher safeness factor.

**Example 3:**

![](https://assets.leetcode.com/uploads/2023/07/02/example3.png)

> Input: grid = [[0,0,0,1],[0,0,0,0],[0,0,0,0],[1,0,0,0]]
> 
> Output: 2
> 
> Explanation: The path depicted in the picture above has a safeness factor of 2 since:
> - The closest cell of the path to the thief at cell (0, 3) is cell (1, 2). The distance between them is | 0 - 1 | + | 3 - 2 | = 2.
> - The closest cell of the path to the thief at cell (3, 0) is cell (3, 2). The distance between them is | 3 - 3 | + | 0 - 2 | = 2.
> 
> It can be shown that there are no other paths with a higher safeness factor.

**Constraints:**

  * `1 <= grid.length == n <= 400`
  * `grid[i].length == n`
  * `grid[i][j]` is either `0` or `1`.
  * There is at least one thief in the `grid`.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹ã€å¤§å°ä¸º `n x n` çš„äºŒç»´çŸ©é˜µ `grid` ï¼Œå…¶ä¸­ `(r, c)` è¡¨ç¤ºï¼š

  * å¦‚æœ `grid[r][c] = 1` ï¼Œåˆ™è¡¨ç¤ºä¸€ä¸ªå­˜åœ¨å°å·çš„å•å…ƒæ ¼
  * å¦‚æœ `grid[r][c] = 0` ï¼Œåˆ™è¡¨ç¤ºä¸€ä¸ªç©ºå•å…ƒæ ¼

ä½ æœ€å¼€å§‹ä½äºå•å…ƒæ ¼ `(0, 0)` ã€‚åœ¨ä¸€æ­¥ç§»åŠ¨ä¸­ï¼Œä½ å¯ä»¥ç§»åŠ¨åˆ°çŸ©é˜µä¸­çš„ä»»ä¸€ç›¸é‚»å•å…ƒæ ¼ï¼ŒåŒ…æ‹¬å­˜åœ¨å°å·çš„å•å…ƒæ ¼ã€‚

çŸ©é˜µä¸­è·¯å¾„çš„ **å®‰å…¨ç³»æ•°** å®šä¹‰ä¸ºï¼šä»è·¯å¾„ä¸­ä»»ä¸€å•å…ƒæ ¼åˆ°çŸ©é˜µä¸­ä»»ä¸€å°å·æ‰€åœ¨å•å…ƒæ ¼çš„ **æœ€å°** æ›¼å“ˆé¡¿è·ç¦»ã€‚

è¿”å›æ‰€æœ‰é€šå‘å•å…ƒæ ¼ __`(n - 1, n - 1)` çš„è·¯å¾„ä¸­çš„ **æœ€å¤§å®‰å…¨ç³»æ•°** ã€‚

å•å…ƒæ ¼ `(r, c)` çš„æŸä¸ª **ç›¸é‚»** å•å…ƒæ ¼ï¼Œæ˜¯æŒ‡åœ¨çŸ©é˜µä¸­å­˜åœ¨çš„ `(r, c + 1)`ã€`(r, c - 1)`ã€`(r + 1, c)` å’Œ
`(r - 1, c)` ä¹‹ä¸€ã€‚

ä¸¤ä¸ªå•å…ƒæ ¼ `(a, b)` å’Œ `(x, y)` ä¹‹é—´çš„ **æ›¼å“ˆé¡¿è·ç¦»** ç­‰äº `| a - x | + | b - y |` ï¼Œå…¶ä¸­ `|val|` è¡¨ç¤º `val` çš„ç»å¯¹å€¼ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2023/07/02/example1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[1,0,0],[0,0,0],[0,0,1]]
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š** ä» (0, 0) åˆ° (n - 1, n - 1) çš„æ¯æ¡è·¯å¾„éƒ½ç»è¿‡å­˜åœ¨å°å·çš„å•å…ƒæ ¼ (0, 0) å’Œ (n - 1, n - 1) ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2023/07/02/example2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[0,0,1],[0,0,0],[0,0,0]]
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š**
> 
> ä¸Šå›¾æ‰€ç¤ºè·¯å¾„çš„å®‰å…¨ç³»æ•°ä¸º 2ï¼š
> - è¯¥è·¯å¾„ä¸Šè·ç¦»å°å·æ‰€åœ¨å•å…ƒæ ¼ï¼ˆ0ï¼Œ2ï¼‰æœ€è¿‘çš„å•å…ƒæ ¼æ˜¯ï¼ˆ0ï¼Œ0ï¼‰ã€‚å®ƒä»¬ä¹‹é—´çš„æ›¼å“ˆé¡¿è·ç¦»ä¸º | 0 - 0 | + | 0 - 2 | = 2 ã€‚
> 
> å¯ä»¥è¯æ˜ï¼Œä¸å­˜åœ¨å®‰å…¨ç³»æ•°æ›´é«˜çš„å…¶ä»–è·¯å¾„ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode.com/uploads/2023/07/02/example3.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[0,0,0,1],[0,0,0,0],[0,0,0,0],[1,0,0,0]]
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š**
> 
> ä¸Šå›¾æ‰€ç¤ºè·¯å¾„çš„å®‰å…¨ç³»æ•°ä¸º 2ï¼š
> - è¯¥è·¯å¾„ä¸Šè·ç¦»å°å·æ‰€åœ¨å•å…ƒæ ¼ï¼ˆ0ï¼Œ3ï¼‰æœ€è¿‘çš„å•å…ƒæ ¼æ˜¯ï¼ˆ1ï¼Œ2ï¼‰ã€‚å®ƒä»¬ä¹‹é—´çš„æ›¼å“ˆé¡¿è·ç¦»ä¸º | 0 - 1 | + | 3 - 2 | = 2 ã€‚
> - è¯¥è·¯å¾„ä¸Šè·ç¦»å°å·æ‰€åœ¨å•å…ƒæ ¼ï¼ˆ3ï¼Œ0ï¼‰æœ€è¿‘çš„å•å…ƒæ ¼æ˜¯ï¼ˆ3ï¼Œ2ï¼‰ã€‚å®ƒä»¬ä¹‹é—´çš„æ›¼å“ˆé¡¿è·ç¦»ä¸º | 3 - 3 | + | 0 - 2 | = 2 ã€‚
> 
> å¯ä»¥è¯æ˜ï¼Œä¸å­˜åœ¨å®‰å…¨ç³»æ•°æ›´é«˜çš„å…¶ä»–è·¯å¾„ã€‚



**æç¤ºï¼š**

  * `1 <= grid.length == n <= 400`
  * `grid[i].length == n`
  * `grid[i][j]` ä¸º `0` æˆ– `1`
  * `grid` è‡³å°‘å­˜åœ¨ä¸€ä¸ªå°å·


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1631 | [æœ€å°ä½“åŠ›æ¶ˆè€—è·¯å¾„](https://leetcode.com/problems/path-with-minimum-effort) |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/outline/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/outline/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/outline/tag/union-find.md) `4+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
