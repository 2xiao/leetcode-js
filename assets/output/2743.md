# [2743. è®¡ç®—æ²¡æœ‰é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²æ•°é‡ ğŸ”’](https://2xiao.github.io/leetcode-js/problem/2743.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/count-substrings-without-repeating-character) [`LeetCode`](https://leetcode.com/problems/count-substrings-without-repeating-character)

## é¢˜ç›®

You are given a string `s` consisting only of lowercase English letters. We
call a substring **special** if it contains no character which has occurred at
least twice (in other words, it does not contain a repeating character). Your
task is to count the number of **special** substrings. For example, in the
string `"pop"`, the substring `"po"` is a **special** substring, however,
`"pop"` is not **special** (since `'p'` has occurred twice).

Return _the number of**special** substrings._

A **substring** is a contiguous sequence of characters within a string. For
example, `"abc"` is a substring of `"abcd"`, but `"acd"` is not.



**Example 1:**

> Input: s = "abcd"
> 
> Output: 10
> 
> Explanation: Since each character occurs once, every substring is a special substring. We have 4 substrings of length one, 3 of length two, 2 of length three, and 1 substring of length four. So overall there are 4 + 3 + 2 + 1 = 10 special substrings.

**Example 2:**

> Input: s = "ooo"
> 
> Output: 3
> 
> Explanation: Any substring with a length of at least two contains a repeating character. So we have to count the number of substrings of length one, which is 3.

**Example 3:**

> Input: s = "abab"
> 
> Output: 7
> 
> Explanation: Special substrings are as follows (sorted by their start positions):
> 
> Special substrings of length 1: "a", "b", "a", "b"
> 
> Special substrings of length 2: "ab", "ba", "ab"
> 
> And it can be shown that there are no special substrings with a length of at least three. So the answer would be 4 + 3 = 7.



**Constraints:**

  * `1 <= s.length <= 10^5`
  * `s` consists of lowercase English letters


## é¢˜ç›®å¤§æ„

ç»™å®šä½ ä¸€ä¸ªåªåŒ…å«å°å†™è‹±æ–‡å­—æ¯çš„å­—ç¬¦ä¸² `s` ã€‚å¦‚æœä¸€ä¸ªå­å­—ç¬¦ä¸²ä¸åŒ…å«ä»»ä½•å­—ç¬¦è‡³å°‘å‡ºç°ä¸¤æ¬¡ï¼ˆæ¢å¥è¯è¯´ï¼Œå®ƒä¸åŒ…å«é‡å¤å­—ç¬¦ï¼‰ï¼Œåˆ™ç§°å…¶ä¸º **ç‰¹æ®Š**
å­å­—ç¬¦ä¸²ã€‚ä½ çš„ä»»åŠ¡æ˜¯è®¡ç®— **ç‰¹æ®Š** å­å­—ç¬¦ä¸²çš„æ•°é‡ã€‚ä¾‹å¦‚ï¼Œåœ¨å­—ç¬¦ä¸² `"pop"` ä¸­ï¼Œå­ä¸² `"po"` æ˜¯ä¸€ä¸ªç‰¹æ®Šå­å­—ç¬¦ä¸²ï¼Œç„¶è€Œ `"pop"`
ä¸æ˜¯ **ç‰¹æ®Š** å­å­—ç¬¦ä¸²ï¼ˆå› ä¸º `'p'` å‡ºç°äº†ä¸¤æ¬¡ï¼‰ã€‚

è¿”å› **ç‰¹æ®Š** å­å­—ç¬¦ä¸²çš„æ•°é‡ã€‚

**å­å­—ç¬¦ä¸²** æ˜¯æŒ‡å­—ç¬¦ä¸²ä¸­è¿ç»­çš„å­—ç¬¦åºåˆ—ã€‚ä¾‹å¦‚ï¼Œ`"abc"` æ˜¯ `"abcd"` çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ï¼Œä½† `"acd"` ä¸æ˜¯ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "abcd"
> 
> **è¾“å‡ºï¼š** 10
> 
> **è§£é‡Šï¼š** ç”±äºæ¯ä¸ªå­—ç¬¦åªå‡ºç°ä¸€æ¬¡ï¼Œæ¯ä¸ªå­ä¸²éƒ½æ˜¯ç‰¹æ®Šå­ä¸²ã€‚é•¿åº¦ä¸º 1 çš„å­ä¸²æœ‰ 4 ä¸ªï¼Œé•¿åº¦ä¸º 2 çš„æœ‰ 3 ä¸ªï¼Œé•¿åº¦ä¸º 3 çš„æœ‰ 2 ä¸ªï¼Œé•¿åº¦ä¸º 4 çš„æœ‰ 1 ä¸ªã€‚æ‰€ä»¥ä¸€å…±æœ‰ 4 + 3 + 2 + 1 = 10 ä¸ªç‰¹æ®Šå­ä¸²ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "ooo"
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** ä»»ä½•é•¿åº¦è‡³å°‘ä¸º 2 çš„å­ä¸²éƒ½åŒ…å«é‡å¤å­—ç¬¦ã€‚æ‰€ä»¥æˆ‘ä»¬è¦è®¡ç®—é•¿åº¦ä¸º 1 çš„å­ä¸²çš„æ•°é‡ï¼Œå³ 3 ä¸ªã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "abab"
> 
> **è¾“å‡ºï¼š** 7
> 
> **è§£é‡Šï¼š** ç‰¹æ®Šå­ä¸²å¦‚ä¸‹ï¼ˆæŒ‰èµ·å§‹ä½ç½®æ’åºï¼‰ï¼š 
> 
> é•¿åº¦ä¸º 1 çš„ç‰¹æ®Šå­ä¸²ï¼š"a", "b", "a", "b" 
> 
> é•¿åº¦ä¸º 2 çš„ç‰¹æ®Šå­ä¸²ï¼š"ab", "ba", "ab" 
> 
> å¹¶ä¸”å¯ä»¥è¯æ˜æ²¡æœ‰é•¿åº¦è‡³å°‘ä¸º 3 çš„ç‰¹æ®Šå­ä¸²ã€‚æ‰€ä»¥ç­”æ¡ˆæ˜¯4 + 3 = 7ã€‚



**æç¤ºï¼š**

  * `1 <= s.length <= 10^5`
  * `s` åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2953 | [ç»Ÿè®¡å®Œå…¨å­å­—ç¬¦ä¸²](https://leetcode.com/problems/count-complete-substrings) |  |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ff334b>Hard</font> |