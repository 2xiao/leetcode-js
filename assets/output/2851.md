# [2851. å­—ç¬¦ä¸²è½¬æ¢](https://leetcode.com/problems/string-transformation)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°å­¦`](/leetcode/outline/tag/math.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md) [`å­—ç¬¦ä¸²åŒ¹é…`](/leetcode/outline/tag/string-matching.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/string-transformation)


## é¢˜ç›®

You are given two strings `s` and `t` of equal length `n`. You can perform the
following operation on the string `s`:

  * Remove a **suffix** of `s` of length `l` where `0 < l < n` and append it at the start of `s`.  
For example, let `s = 'abcd'` then in one operation you can remove the suffix
`'cd'` and append it in front of `s` making `s = 'cdab'`.

You are also given an integer `k`. Return _the number of ways in which_`s`
_can be transformed into_`t` _in**exactly** _`k` _operations._

Since the answer can be large, return it **modulo** `109 + 7`.



**Example 1:**

> Input: s = "abcd", t = "cdab", k = 2
> 
> Output: 2
> 
> Explanation: 
> 
> First way:
> 
> In first operation, choose suffix from index = 3, so resulting s = "dabc".
> 
> In second operation, choose suffix from index = 3, so resulting s = "cdab".
> 
> 
> 
> Second way:
> 
> In first operation, choose suffix from index = 1, so resulting s = "bcda".
> 
> In second operation, choose suffix from index = 1, so resulting s = "cdab".

**Example 2:**

> Input: s = "ababab", t = "ababab", k = 1
> 
> Output: 2
> 
> Explanation: 
> 
> First way:
> 
> Choose suffix from index = 2, so resulting s = "ababab".
> 
> 
> 
> Second way:
> 
> Choose suffix from index = 4, so resulting s = "ababab".

**Constraints:**

  * `2 <= s.length <= 5 * 10^5`
  * `1 <= k <= 1015`
  * `s.length == t.length`
  * `s` and `t` consist of only lowercase English alphabets.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸¤ä¸ªé•¿åº¦éƒ½ä¸º `n` çš„å­—ç¬¦ä¸² `s` å’Œ `t` ã€‚ä½ å¯ä»¥å¯¹å­—ç¬¦ä¸² `s` æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

  * å°† `s` é•¿åº¦ä¸º `l` ï¼ˆ`0 < l < n`ï¼‰çš„ **åç¼€å­—ç¬¦ä¸²**  åˆ é™¤ï¼Œå¹¶å°†å®ƒæ·»åŠ åœ¨ `s` çš„å¼€å¤´ã€‚  
æ¯”æ–¹è¯´ï¼Œ`s = 'abcd'` ï¼Œé‚£ä¹ˆä¸€æ¬¡æ“ä½œä¸­ï¼Œä½ å¯ä»¥åˆ é™¤åç¼€ `'cd'` ï¼Œå¹¶å°†å®ƒæ·»åŠ åˆ° `s` çš„å¼€å¤´ï¼Œå¾—åˆ° `s = 'cdab'` ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•° `k` ï¼Œè¯·ä½ è¿”å› **æ°å¥½** `k` æ¬¡æ“ä½œå°† _ _`s` å˜ä¸º _ _`t` çš„æ–¹æ¡ˆæ•°ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¿”å›ç­”æ¡ˆå¯¹ `109 + 7` **å–ä½™**  åçš„ç»“æœã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "abcd", t = "cdab", k = 2
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š**
> 
> ç¬¬ä¸€ç§æ–¹æ¡ˆï¼š
> 
> ç¬¬ä¸€æ¬¡æ“ä½œï¼Œé€‰æ‹© index = 3 å¼€å§‹çš„åç¼€ï¼Œå¾—åˆ° s = "dabc" ã€‚
> 
> ç¬¬äºŒæ¬¡æ“ä½œï¼Œé€‰æ‹© index = 3 å¼€å§‹çš„åç¼€ï¼Œå¾—åˆ° s = "cdab" ã€‚
> 
> 
> 
> ç¬¬äºŒç§æ–¹æ¡ˆï¼š
> 
> ç¬¬ä¸€æ¬¡æ“ä½œï¼Œé€‰æ‹© index = 1 å¼€å§‹çš„åç¼€ï¼Œå¾—åˆ° s = "bcda" ã€‚
> 
> ç¬¬äºŒæ¬¡æ“ä½œï¼Œé€‰æ‹© index = 1 å¼€å§‹çš„åç¼€ï¼Œå¾—åˆ° s = "cdab" ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "ababab", t = "ababab", k = 1
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š**
> 
> ç¬¬ä¸€ç§æ–¹æ¡ˆï¼š
> 
> é€‰æ‹© index = 2 å¼€å§‹çš„åç¼€ï¼Œå¾—åˆ° s = "ababab" ã€‚
> 
> 
> 
> ç¬¬äºŒç§æ–¹æ¡ˆï¼š
> 
> é€‰æ‹© index = 4 å¼€å§‹çš„åç¼€ï¼Œå¾—åˆ° s = "ababab" ã€‚
> 
> 



**æç¤ºï¼š**

  * `2 <= s.length <= 5 * 10^5`
  * `1 <= k <= 1015`
  * `s.length == t.length`
  * `s` å’Œ `t` éƒ½åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```