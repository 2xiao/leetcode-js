# [3212. ç»Ÿè®¡ X å’Œ Y é¢‘æ•°ç›¸ç­‰çš„å­çŸ©é˜µæ•°é‡](https://leetcode.com/problems/count-submatrices-with-equal-frequency-of-x-and-y)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`çŸ©é˜µ`](/leetcode/outline/tag/matrix.md) [`å‰ç¼€å’Œ`](/leetcode/outline/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/count-submatrices-with-equal-frequency-of-x-and-y)


## é¢˜ç›®

Given a 2D character matrix `grid`, where `grid[i][j]` is either `'X'`, `'Y'`,
or `'.'`, return the number of submatrices that contain:

  * `grid[0][0]`
  * an **equal** frequency of `'X'` and `'Y'`.
  * **at least** one `'X'`.



**Example 1:**

**Input:** grid = [["X","Y","."],["Y",".","."]]

**Output:** 3

**Explanation:**

**![](https://assets.leetcode.com/uploads/2024/06/07/examplems.png)**

**Example 2:**

**Input:** grid = [["X","X"],["X","Y"]]

**Output:** 0

**Explanation:**

No submatrix has an equal frequency of `'X'` and `'Y'`.

**Example 3:**

**Input:** grid = [[".","."],[".","."]]

**Output:** 0

**Explanation:**

No submatrix has at least one `'X'`.



**Constraints:**

  * `1 <= grid.length, grid[i].length <= 1000`
  * `grid[i][j]` is either `'X'`, `'Y'`, or `'.'`.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªäºŒç»´å­—ç¬¦çŸ©é˜µ `grid`ï¼Œå…¶ä¸­ `grid[i][j]` å¯èƒ½æ˜¯ `'X'`ã€`'Y'` æˆ– `'.'`ï¼Œè¿”å›æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„å­çŸ©é˜µæ•°é‡ï¼š

  * åŒ…å« `grid[0][0]`
  * `'X'` å’Œ `'Y'` çš„é¢‘æ•°ç›¸ç­‰ã€‚
  * è‡³å°‘åŒ…å«ä¸€ä¸ª `'X'`ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** grid = [["X","Y","."],["Y",".","."]]

**è¾“å‡ºï¼š** 3

**è§£é‡Šï¼š**

**![](https://assets.leetcode.com/uploads/2024/06/07/examplems.png)**

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** grid = [["X","X"],["X","Y"]]

**è¾“å‡ºï¼š** 0

**è§£é‡Šï¼š**

ä¸å­˜åœ¨æ»¡è¶³ `'X'` å’Œ `'Y'` é¢‘æ•°ç›¸ç­‰çš„å­çŸ©é˜µã€‚

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š** grid = [[".","."],[".","."]]

**è¾“å‡ºï¼š** 0

**è§£é‡Šï¼š**

ä¸å­˜åœ¨æ»¡è¶³è‡³å°‘åŒ…å«ä¸€ä¸ª `'X'` çš„å­çŸ©é˜µã€‚



**æç¤ºï¼š**

  * `1 <= grid.length, grid[i].length <= 1000`
  * `grid[i][j]` å¯èƒ½æ˜¯ `'X'`ã€`'Y'` æˆ– `'.'`.


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1224 | [æœ€å¤§ç›¸ç­‰é¢‘ç‡](https://leetcode.com/problems/maximum-equal-frequency) |  |  [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) | <font color=#ff334b>Hard</font> |
| 1504 | [ç»Ÿè®¡å…¨ 1 å­çŸ©å½¢](https://leetcode.com/problems/count-submatrices-with-all-ones) |  |  [`æ ˆ`](/leetcode/outline/tag/stack.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md) `2+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
