---
title: 2764. æ•°ç»„æ˜¯å¦è¡¨ç¤ºæŸäºŒå‰æ ‘çš„å‰åºéå† ğŸ”’
description: LeetCode 2764. æ•°ç»„æ˜¯å¦è¡¨ç¤ºæŸäºŒå‰æ ‘çš„å‰åºéå† ğŸ”’é¢˜è§£ï¼ŒIs Array a Preorder of Some â€ŒBinary Treeï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2764. æ•°ç»„æ˜¯å¦è¡¨ç¤ºæŸäºŒå‰æ ‘çš„å‰åºéå† ğŸ”’
  - æ•°ç»„æ˜¯å¦è¡¨ç¤ºæŸäºŒå‰æ ‘çš„å‰åºéå†
  - Is Array a Preorder of Some â€ŒBinary Tree
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - æ ‘
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - äºŒå‰æ ‘
---

# 2764. æ•°ç»„æ˜¯å¦è¡¨ç¤ºæŸäºŒå‰æ ‘çš„å‰åºéå† ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/is-array-a-preorder-of-some-binary-tree) [`LeetCode`](https://leetcode.com/problems/is-array-a-preorder-of-some-binary-tree)

## é¢˜ç›®

Given a **0-indexed** integer **2D array** `nodes`, your task is to determine
if the given array represents the **preorder** traversal of some **binary**
tree.

For each index `i`, `nodes[i] = [id, parentId]`, where `id` is the id of the
node at the index `i` and `parentId` is the id of its parent in the tree (if
the node has no parent, then `parentId == -1`).

Return `true` _if the given array_ _represents the preorder traversal of some
tree, and_ `false` _otherwise._

**Note:** the **preorder** traversal of a tree is a recursive way to traverse
a tree in which we first visit the current node, then we do the preorder
traversal for the left child, and finally, we do it for the right child.



**Example 1:**

> Input: nodes = [[0,-1],[1,0],[2,0],[3,2],[4,2]]
> 
> Output: true
> 
> Explanation: The given nodes make the tree in the picture below.
> 
> We can show that this is the preorder traversal of the tree, first we visit node 0, then we do the preorder traversal of the right child which is [1], then we do the preorder traversal of the left child which is [2,3,4].
> 
> 

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2700-2799/2764.Is%20Array%20a%20Preorder%20of%20Some%20%E2%80%8CBinary%20Tree/images/1.png)

**Example 2:**

> Input: nodes = [[0,-1],[1,0],[2,0],[3,1],[4,1]]
> 
> Output: false
> 
> Explanation: The given nodes make the tree in the picture below.
> 
> For the preorder traversal, first we visit node 0, then we do the preorder traversal of the right child which is [1,3,4], but we can see that in the given order, 2 comes between 1 and 3, so, it's not the preorder traversal of the tree.
> 
> 

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2700-2799/2764.Is%20Array%20a%20Preorder%20of%20Some%20%E2%80%8CBinary%20Tree/images/2.png)



**Constraints:**

  * `1 <= nodes.length <= 10^5`
  * `nodes[i].length == 2`
  * `0 <= nodes[i][0] <= 10^5`
  * `-1 <= nodes[i][1] <= 10^5`
  * The input is generated such that `nodes` make a binary tree.


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªä»¥ **0** ä¸ºèµ·å§‹ç´¢å¼•çš„æ•´æ•° **äºŒç»´æ•°ç»„** `nodes` ï¼Œä½ çš„ä»»åŠ¡æ˜¯ç¡®å®šç»™å®šçš„æ•°ç»„æ˜¯å¦è¡¨ç¤ºæŸä¸ª **äºŒå‰** æ ‘çš„ **å‰åº** éå†ã€‚

å¯¹äºæ¯ä¸ªç´¢å¼• `i` ï¼Œ`nodes[i] = [id, parentId]` ï¼Œå…¶ä¸­ `id` æ˜¯ç´¢å¼• `i` å¤„èŠ‚ç‚¹çš„ idï¼Œ`parentId`
æ˜¯å…¶åœ¨æ ‘ä¸­çš„çˆ¶èŠ‚ç‚¹ idï¼ˆå¦‚æœè¯¥èŠ‚ç‚¹æ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼Œåˆ™ `parentId = -1` ï¼‰ã€‚

å¦‚æœç»™å®šçš„æ•°ç»„è¡¨ç¤ºæŸä¸ªæ ‘çš„å‰åºéå†ï¼Œåˆ™è¿”å› `true` ï¼Œå¦åˆ™è¿”å› `false` ã€‚

**æ³¨æ„** ï¼šæ ‘çš„ **å‰åº** éå†æ˜¯ä¸€ç§é€’å½’çš„éå†æ–¹å¼ï¼Œå®ƒé¦–å…ˆè®¿é—®å½“å‰èŠ‚ç‚¹ï¼Œç„¶åå¯¹å·¦å­èŠ‚ç‚¹è¿›è¡Œå‰åºéå†ï¼Œæœ€åå¯¹å³å­èŠ‚ç‚¹è¿›è¡Œå‰åºéå†ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nodes = [[0,-1],[1,0],[2,0],[3,2],[4,2]]
> 
> **è¾“å‡ºï¼š** true
> 
> **è§£é‡Šï¼š** ç»™å®šçš„ nodes æ•°ç»„å¯ä»¥æ„æˆä¸‹é¢å›¾ç‰‡ä¸­çš„æ ‘ã€‚ 
> 
> æˆ‘ä»¬å¯ä»¥éªŒè¯è¿™æ˜¯æ ‘çš„å‰åºéå†ï¼Œé¦–å…ˆè®¿é—®èŠ‚ç‚¹ 0ï¼Œç„¶åå¯¹å·¦å­èŠ‚ç‚¹è¿›è¡Œå‰åºéå†ï¼Œå³ [1] ï¼Œç„¶åå¯¹å³å­èŠ‚ç‚¹è¿›è¡Œå‰åºéå†ï¼Œå³ [2,3,4] ã€‚
> 
> 

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2700-2799/2764.Is%20Array%20a%20Preorder%20of%20Some%20%E2%80%8CBinary%20Tree/images/1.png)

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nodes = [[0,-1],[1,0],[2,0],[3,1],[4,1]]
> 
> **è¾“å‡ºï¼š** false
> 
> **è§£é‡Šï¼š** ç»™å®šçš„ nodes æ•°ç»„å¯ä»¥æ„æˆä¸‹é¢å›¾ç‰‡ä¸­çš„æ ‘ã€‚ 
> 
> å¯¹äºå‰åºéå†ï¼Œé¦–å…ˆè®¿é—®èŠ‚ç‚¹ 0ï¼Œç„¶åå¯¹å·¦å­èŠ‚ç‚¹è¿›è¡Œå‰åºéå†ï¼Œå³ [1,3,4]ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨ç»™å®šçš„é¡ºåºä¸­ï¼Œ2 ä½äº 1 å’Œ 3 ä¹‹é—´ï¼Œå› æ­¤å®ƒä¸æ˜¯æ ‘çš„å‰åºéå†ã€‚
> 
> 

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2700-2799/2764.Is%20Array%20a%20Preorder%20of%20Some%20%E2%80%8CBinary%20Tree/images/2.png)



**æç¤ºï¼š**

  * `1 <= nodes.length <= 10^5`
  * `nodes[i].length == 2`
  * `0 <= nodes[i][0] <= 10^5`
  * `-1 <= nodes[i][1] <= 10^5`
  * ç”Ÿæˆçš„è¾“å…¥ä¿è¯ `nodes` å¯ä»¥ç»„æˆäºŒå‰æ ‘ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```