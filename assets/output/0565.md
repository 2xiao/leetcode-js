# [565. æ•°ç»„åµŒå¥—](https://leetcode.com/problems/array-nesting)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/array-nesting)

## é¢˜ç›®

You are given an integer array `nums` of length `n` where `nums` is a
permutation of the numbers in the range `[0, n - 1]`.

You should build a set `s[k] = {nums[k], nums[nums[k]], nums[nums[nums[k]]],
... }` subjected to the following rule:

  * The first element in `s[k]` starts with the selection of the element `nums[k]` of `index = k`.
  * The next element in `s[k]` should be `nums[nums[k]]`, and then `nums[nums[nums[k]]]`, and so on.
  * We stop adding right before a duplicate element occurs in `s[k]`.

Return _the longest length of a set_ `s[k]`.



**Example 1:**

> Input: nums = [5,4,0,3,1,6,2]
> 
> Output: 4
> 
> Explanation: 
> 
> nums[0] = 5, nums[1] = 4, nums[2] = 0, nums[3] = 3, nums[4] = 1, nums[5] = 6, nums[6] = 2.
> 
> One of the longest sets s[k]:
> 
> s[0] = {nums[0], nums[5], nums[6], nums[2]} = {5, 6, 2, 0}

**Example 2:**

> Input: nums = [0,1,2]
> 
> Output: 1

**Constraints:**

  * `1 <= nums.length <= 10^5`
  * `0 <= nums[i] < nums.length`
  * All the values of `nums` are **unique**.


## é¢˜ç›®å¤§æ„

ç´¢å¼•ä»`0`å¼€å§‹é•¿åº¦ä¸º`N`çš„æ•°ç»„`A`ï¼ŒåŒ…å«`0`åˆ°`N - 1`çš„æ‰€æœ‰æ•´æ•°ã€‚æ‰¾åˆ°æœ€å¤§çš„é›†åˆ`S`å¹¶è¿”å›å…¶å¤§å°ï¼Œå…¶ä¸­ `S[i] = {A[i],
A[A[i]], A[A[A[i]]], ... }`ä¸”éµå®ˆä»¥ä¸‹çš„è§„åˆ™ã€‚

å‡è®¾é€‰æ‹©ç´¢å¼•ä¸º`i`çš„å…ƒç´ `A[i]`ä¸º`S`çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œ`S`çš„ä¸‹ä¸€ä¸ªå…ƒç´ åº”è¯¥æ˜¯`A[A[i]]`ï¼Œä¹‹åæ˜¯`A[A[A[i]]]...`
ä»¥æ­¤ç±»æ¨ï¼Œä¸æ–­æ·»åŠ ç›´åˆ°`S`å‡ºç°é‡å¤çš„å…ƒç´ ã€‚



**ç¤ºä¾‹  1:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** A = [5,4,0,3,1,6,2]
> 
> **è¾“å‡º:** 4
> 
> **è§£é‡Š:** 
> 
> A[0] = 5, A[1] = 4, A[2] = 0, A[3] = 3, A[4] = 1, A[5] = 6, A[6] = 2.
> 
> 
> 
> å…¶ä¸­ä¸€ç§æœ€é•¿çš„ S[K]:
> 
> S[0] = {A[0], A[5], A[6], A[2]} = {5, 6, 2, 0}
> 
> 



**æç¤ºï¼š**

  * `1 <= nums.length <= 10^5`
  * `0 <= nums[i] < nums.length`
  * `A`ä¸­ä¸å«æœ‰é‡å¤çš„å…ƒç´ ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 339 | [åµŒå¥—åˆ—è¡¨åŠ æƒå’Œ](https://leetcode.com/problems/nested-list-weight-sum) |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/breadth-first-search.md) | <font color=#ffb800>Medium</font> |
| 341 | [æ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨è¿­ä»£å™¨](https://leetcode.com/problems/flatten-nested-list-iterator) |  |  [`æ ˆ`](/leetcode/outline/tag/stack.md) [`æ ‘`](/leetcode/outline/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md) `3+` | <font color=#ffb800>Medium</font> |
| 364 | [åµŒå¥—åˆ—è¡¨åŠ æƒå’Œ II](https://leetcode.com/problems/nested-list-weight-sum-ii) |  |  [`æ ˆ`](/leetcode/outline/tag/stack.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/breadth-first-search.md) | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
