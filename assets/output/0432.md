# [432. å…¨ O(1) çš„æ•°æ®ç»“æ„](https://leetcode.com/problems/all-oone-data-structure)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`é“¾è¡¨`](/tag/linked-list.md) [`åŒå‘é“¾è¡¨`](/tag/doubly-linked-list.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/all-oone-data-structure)

## é¢˜ç›®

Design a data structure to store the strings' count with the ability to return
the strings with minimum and maximum counts.

Implement the `AllOne` class:

  * `AllOne()` Initializes the object of the data structure.
  * `inc(String key)` Increments the count of the string `key` by `1`. If `key` does not exist in the data structure, insert it with count `1`.
  * `dec(String key)` Decrements the count of the string `key` by `1`. If the count of `key` is `0` after the decrement, remove it from the data structure. It is guaranteed that `key` exists in the data structure before the decrement.
  * `getMaxKey()` Returns one of the keys with the maximal count. If no element exists, return an empty string `""`.
  * `getMinKey()` Returns one of the keys with the minimum count. If no element exists, return an empty string `""`.

**Note** that each function must run in `O(1)` average time complexity.



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["AllOne", "inc", "inc", "getMaxKey", "getMinKey", "inc", "getMaxKey", "getMinKey"]
> 
> [[], ["hello"], ["hello"], [], [], ["leet"], [], []]
> 
> **Output**
> 
> [null, null, null, "hello", "hello", null, "hello", "leet"]
> 
> 
> 
> **Explanation**
> 
> AllOne allOne = new AllOne();
> 
> allOne.inc("hello");
> 
> allOne.inc("hello");
> 
> allOne.getMaxKey(); // return "hello"
> 
> allOne.getMinKey(); // return "hello"
> 
> allOne.inc("leet");
> 
> allOne.getMaxKey(); // return "hello"
> 
> allOne.getMinKey(); // return "leet"

**Constraints:**

  * `1 <= key.length <= 10`
  * `key` consists of lowercase English letters.
  * It is guaranteed that for each call to `dec`, `key` is existing in the data structure.
  * At most `5 * 10^4` calls will be made to `inc`, `dec`, `getMaxKey`, and `getMinKey`.


## é¢˜ç›®å¤§æ„

è¯·ä½ è®¾è®¡ä¸€ä¸ªç”¨äºå­˜å‚¨å­—ç¬¦ä¸²è®¡æ•°çš„æ•°æ®ç»“æ„ï¼Œå¹¶èƒ½å¤Ÿè¿”å›è®¡æ•°æœ€å°å’Œæœ€å¤§çš„å­—ç¬¦ä¸²ã€‚

å®ç° `AllOne` ç±»ï¼š

  * `AllOne()` åˆå§‹åŒ–æ•°æ®ç»“æ„çš„å¯¹è±¡ã€‚
  * `inc(String key)` å­—ç¬¦ä¸² `key` çš„è®¡æ•°å¢åŠ  `1` ã€‚å¦‚æœæ•°æ®ç»“æ„ä¸­å°šä¸å­˜åœ¨ `key` ï¼Œé‚£ä¹ˆæ’å…¥è®¡æ•°ä¸º `1` çš„ `key` ã€‚
  * `dec(String key)` å­—ç¬¦ä¸² `key` çš„è®¡æ•°å‡å°‘ `1` ã€‚å¦‚æœ `key` çš„è®¡æ•°åœ¨å‡å°‘åä¸º `0` ï¼Œé‚£ä¹ˆéœ€è¦å°†è¿™ä¸ª `key` ä»æ•°æ®ç»“æ„ä¸­åˆ é™¤ã€‚æµ‹è¯•ç”¨ä¾‹ä¿è¯ï¼šåœ¨å‡å°‘è®¡æ•°å‰ï¼Œ`key` å­˜åœ¨äºæ•°æ®ç»“æ„ä¸­ã€‚
  * `getMaxKey()` è¿”å›ä»»æ„ä¸€ä¸ªè®¡æ•°æœ€å¤§çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæ²¡æœ‰å…ƒç´ å­˜åœ¨ï¼Œè¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸² `""` ã€‚
  * `getMinKey()` è¿”å›ä»»æ„ä¸€ä¸ªè®¡æ•°æœ€å°çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæ²¡æœ‰å…ƒç´ å­˜åœ¨ï¼Œè¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸² `""` ã€‚

**æ³¨æ„ï¼š** æ¯ä¸ªå‡½æ•°éƒ½åº”å½“æ»¡è¶³ `O(1)` å¹³å‡æ—¶é—´å¤æ‚åº¦ã€‚



**ç¤ºä¾‹ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥**
> 
> ["AllOne", "inc", "inc", "getMaxKey", "getMinKey", "inc", "getMaxKey", "getMinKey"]
> 
> [[], ["hello"], ["hello"], [], [], ["leet"], [], []]
> 
> **è¾“å‡º**
> 
> [null, null, null, "hello", "hello", null, "hello", "leet"]
> 
> 
> 
> **è§£é‡Š**
> 
> AllOne allOne = new AllOne();
> 
> allOne.inc("hello");
> 
> allOne.inc("hello");
> 
> allOne.getMaxKey(); // è¿”å› "hello"
> 
> allOne.getMinKey(); // è¿”å› "hello"
> 
> allOne.inc("leet");
> 
> allOne.getMaxKey(); // è¿”å› "hello"
> 
> allOne.getMinKey(); // è¿”å› "leet"
> 
> 



**æç¤ºï¼š**

  * `1 <= key.length <= 10`
  * `key` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ
  * æµ‹è¯•ç”¨ä¾‹ä¿è¯ï¼šåœ¨æ¯æ¬¡è°ƒç”¨ `dec` æ—¶ï¼Œæ•°æ®ç»“æ„ä¸­æ€»å­˜åœ¨ `key`
  * æœ€å¤šè°ƒç”¨ `inc`ã€`dec`ã€`getMaxKey` å’Œ `getMinKey` æ–¹æ³• `5 * 10^4` æ¬¡


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```