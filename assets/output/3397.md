---
title: 3397. 执行操作后不同元素的最大数量
description: LeetCode 3397. 执行操作后不同元素的最大数量题解，Maximum Number of Distinct Elements After Operations，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 3397. 执行操作后不同元素的最大数量
  - 执行操作后不同元素的最大数量
  - Maximum Number of Distinct Elements After Operations
  - 解题思路
  - 贪心
  - 数组
  - 排序
---

# 3397. 执行操作后不同元素的最大数量

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`贪心`](/tag/greedy.md) [`数组`](/tag/array.md) [`排序`](/tag/sorting.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/maximum-number-of-distinct-elements-after-operations) [`LeetCode`](https://leetcode.com/problems/maximum-number-of-distinct-elements-after-operations)

## 题目

You are given an integer array `nums` and an integer `k`.

You are allowed to perform the following **operation** on each element of the
array **at most** _once_ :

  * Add an integer in the range `[-k, k]` to the element.

Return the **maximum** possible number of **distinct** elements in `nums`
after performing the **operations**.



**Example 1:**

**Input:** nums = [1,2,2,3,3,4], k = 2

**Output:** 6

**Explanation:**

`nums` changes to `[-1, 0, 1, 2, 3, 4]` after performing operations on the
first four elements.

**Example 2:**

**Input:** nums = [4,4,4,4], k = 1

**Output:** 3

**Explanation:**

By adding -1 to `nums[0]` and 1 to `nums[1]`, `nums` changes to `[3, 5, 4,
4]`.



**Constraints:**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^9`
  * `0 <= k <= 10^9`


## 题目大意

给你一个整数数组 `nums` 和一个整数 `k`。

你可以对数组中的每个元素 **最多** 执行 **一次  **以下操作：

  * 将一个在范围 `[-k, k]` 内的整数加到该元素上。

返回执行这些操作后，`nums` 中可能拥有的不同元素的 **最大  **数量。



**示例 1：**

**输入：** nums = [1,2,2,3,3,4], k = 2

**输出：** 6

**解释：**

对前四个元素执行操作，`nums` 变为 `[-1, 0, 1, 2, 3, 4]`，可以获得 6 个不同的元素。

**示例 2：**

**输入：** nums = [4,4,4,4], k = 1

**输出：** 3

**解释：**

对 `nums[0]` 加 -1，以及对 `nums[1]` 加 1，`nums` 变为 `[3, 5, 4, 4]`，可以获得 3 个不同的元素。



**提示：**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^9`
  * `0 <= k <= 10^9`


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1481 | 不同整数的最少数目 |  |  [`贪心`](/tag/greedy.md) [`数组`](/tag/array.md) [`哈希表`](/tag/hash-table.md) `2+` | 🟠 | [🀄️](https://leetcode.cn/problems/least-number-of-unique-integers-after-k-removals) [🔗](https://leetcode.com/problems/least-number-of-unique-integers-after-k-removals) |