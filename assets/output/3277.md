# [3277. æŸ¥è¯¢å­æ•°ç»„æœ€å¤§å¼‚æˆ–å€¼](https://leetcode.com/problems/maximum-xor-score-subarray-queries)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-xor-score-subarray-queries)


## é¢˜ç›®

You are given an array `nums` of `n` integers, and a 2D integer array
`queries` of size `q`, where `queries[i] = [li, ri]`.

For each query, you must find the **maximum XOR score** of any subarray of
`nums[li..ri]`.

The **XOR score** of an array `a` is found by repeatedly applying the
following operations on `a` so that only one element remains, that is the
**score** :

  * Simultaneously replace `a[i]` with `a[i] XOR a[i + 1]` for all indices `i` except the last one.
  * Remove the last element of `a`.

Return an array `answer` of size `q` where `answer[i]` is the answer to query
`i`.



**Example 1:**

**Input:** nums = [2,8,4,32,16,1], queries = [[0,2],[1,4],[0,5]]

**Output:** [12,60,60]

**Explanation:**

In the first query, `nums[0..2]` has 6 subarrays `[2]`, `[8]`, `[4]`, `[2,
8]`, `[8, 4]`, and `[2, 8, 4]` each with a respective XOR score of 2, 8, 4,
10, 12, and 6. The answer for the query is 12, the largest of all XOR scores.

In the second query, the subarray of `nums[1..4]` with the largest XOR score
is `nums[1..4]` with a score of 60.

In the third query, the subarray of `nums[0..5]` with the largest XOR score is
`nums[1..4]` with a score of 60.

**Example 2:**

**Input:** nums = [0,7,3,2,8,5,1], queries = [[0,3],[1,5],[2,4],[2,6],[5,6]]

**Output:** [7,14,11,14,5]

**Explanation:**

Index | nums[li..ri] | Maximum XOR Score Subarray | Maximum Subarray XOR Score  
---|---|---|---  
0 | [0, 7, 3, 2] | [7] | 7  
1 | [7, 3, 2, 8, 5] | [7, 3, 2, 8] | 14  
2 | [3, 2, 8] | [3, 2, 8] | 11  
3 | [3, 2, 8, 5, 1] | [2, 8, 5, 1] | 14  
4 | [5, 1] | [5] | 5  
  


**Constraints:**

  * `1 <= n == nums.length <= 2000`
  * `0 <= nums[i] <= 231 - 1`
  * `1 <= q == queries.length <= 10^5`
  * `queries[i].length == 2 `
  * `queries[i] = [li, ri]`
  * `0 <= li <= ri <= n - 1`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªç”± `n` ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ `nums`ï¼Œä»¥åŠä¸€ä¸ªå¤§å°ä¸º `q` çš„äºŒç»´æ•´æ•°æ•°ç»„ `queries`ï¼Œå…¶ä¸­ `queries[i] = [li,
ri]`ã€‚

å¯¹äºæ¯ä¸€ä¸ªæŸ¥è¯¢ï¼Œä½ éœ€è¦æ‰¾å‡º `nums[li..ri]` ä¸­ä»»æ„ å­æ•°ç»„ çš„ **æœ€å¤§å¼‚æˆ–å€¼** ã€‚

**æ•°ç»„çš„å¼‚æˆ–å€¼** éœ€è¦å¯¹æ•°ç»„ `a` åå¤æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼Œç›´åˆ°åªå‰©ä¸€ä¸ªå…ƒç´ ï¼Œå‰©ä¸‹çš„é‚£ä¸ªå…ƒç´ å°±æ˜¯ **å¼‚æˆ–å€¼** ï¼š

  * å¯¹äºé™¤æœ€åä¸€ä¸ªä¸‹æ ‡ä»¥å¤–çš„æ‰€æœ‰ä¸‹æ ‡ `i`ï¼ŒåŒæ—¶å°† `a[i]` æ›¿æ¢ä¸º `a[i] XOR a[i + 1]` ã€‚
  * ç§»é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚

è¿”å›ä¸€ä¸ªå¤§å°ä¸º `q` çš„æ•°ç»„ `answer`ï¼Œå…¶ä¸­ `answer[i]` è¡¨ç¤ºæŸ¥è¯¢ `i` çš„ç­”æ¡ˆã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** nums = [2,8,4,32,16,1], queries = [[0,2],[1,4],[0,5]]

**è¾“å‡ºï¼š** [12,60,60]

**è§£é‡Šï¼š**

åœ¨ç¬¬ä¸€ä¸ªæŸ¥è¯¢ä¸­ï¼Œ`nums[0..2]` çš„å­æ•°ç»„åˆ†åˆ«æ˜¯ `[2]`, `[8]`, `[4]`, `[2, 8]`, `[8, 4]`, å’Œ `[2,
8, 4]`ï¼Œå®ƒä»¬çš„å¼‚æˆ–å€¼åˆ†åˆ«ä¸º 2, 8, 4, 10, 12, å’Œ 6ã€‚æŸ¥è¯¢çš„ç­”æ¡ˆæ˜¯ 12ï¼Œæ‰€æœ‰å¼‚æˆ–å€¼ä¸­çš„æœ€å¤§å€¼ã€‚

åœ¨ç¬¬äºŒä¸ªæŸ¥è¯¢ä¸­ï¼Œ`nums[1..4]` çš„å­æ•°ç»„ä¸­æœ€å¤§çš„å¼‚æˆ–å€¼æ˜¯å­æ•°ç»„ `nums[1..4]` çš„å¼‚æˆ–å€¼ï¼Œä¸º 60ã€‚

åœ¨ç¬¬ä¸‰ä¸ªæŸ¥è¯¢ä¸­ï¼Œ`nums[0..5]` çš„å­æ•°ç»„ä¸­æœ€å¤§çš„å¼‚æˆ–å€¼æ˜¯å­æ•°ç»„ `nums[1..4]` çš„å¼‚æˆ–å€¼ï¼Œä¸º 60ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** nums = [0,7,3,2,8,5,1], queries = [[0,3],[1,5],[2,4],[2,6],[5,6]]

**è¾“å‡ºï¼š** [7,14,11,14,5]

**è§£é‡Šï¼š**

ä¸‹æ ‡ | nums[li..ri] | æœ€å¤§å¼‚æˆ–å€¼å­æ•°ç»„ | å­æ•°ç»„æœ€å¤§å¼‚æˆ–å€¼  
---|---|---|---  
0 | [0, 7, 3, 2] | [7] | 7  
1 | [7, 3, 2, 8, 5] | [7, 3, 2, 8] | 14  
2 | [3, 2, 8] | [3, 2, 8] | 11  
3 | [3, 2, 8, 5, 1] | [2, 8, 5, 1] | 14  
4 | [5, 1] | [5] | 5  
  


**æç¤ºï¼š**

  * `1 <= n == nums.length <= 2000`
  * `0 <= nums[i] <= 231 - 1`
  * `1 <= q == queries.length <= 10^5`
  * `queries[i].length == 2`
  * `queries[i] = [li, ri]`
  * `0 <= li <= ri <= n - 1`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1787 | [ä½¿æ‰€æœ‰åŒºé—´çš„å¼‚æˆ–ç»“æœä¸ºé›¶](https://leetcode.com/problems/make-the-xor-of-all-segments-equal-to-zero) |  |  [`ä½è¿ç®—`](/leetcode/outline/tag/bit-manipulation.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
