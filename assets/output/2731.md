# [2731. ç§»åŠ¨æœºå™¨äºº](https://leetcode.com/problems/movement-of-robots)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è„‘ç­‹æ€¥è½¬å¼¯`](/leetcode/outline/tag/brainteaser.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å‰ç¼€å’Œ`](/leetcode/outline/tag/prefix-sum.md) [`æ’åº`](/leetcode/outline/tag/sorting.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/movement-of-robots)


## é¢˜ç›®

Some robots are standing on an infinite number line with their initial
coordinates given by a **0-indexed** integer array `nums` and will start
moving once given the command to move. The robots will move a unit distance
each second.

You are given a string `s` denoting the direction in which robots will move on
command. `'L'` means the robot will move towards the left side or negative
side of the number line, whereas `'R'` means the robot will move towards the
right side or positive side of the number line.

If two robots collide, they will start moving in opposite directions.

Return _the sum of distances between all the  pairs of robots _`d` _seconds
after  the command. _Since the sum can be very large, return it modulo `109 +
7`.

**Note:**

  * For two robots at the index `i` and `j`, pair `(i,j)` and pair `(j,i)` are considered the same pair.
  * When robots collide, they **instantly change** their directions without wasting any time.
  * Collision happens when two robots share the same place in a moment. 
> 
> * For example, if a robot is positioned in 0 going to the right and another is positioned in 2 going to the left, the next second they'll be both in 1 and they will change direction and the next second the first one will be in 0, heading left, and another will be in 2, heading right.
> 
> * For example, if a robot is positioned in 0 going to the right and another is positioned in 1 going to the left, the next second the first one will be in 0, heading left, and another will be in 1, heading right.



**Example 1:**

> Input: nums = [-2,0,2], s = "RLL", d = 3
> 
> Output: 8
> 
> Explanation: 
> 
> After 1 second, the positions are [-1,-1,1]. Now, the robot at index 0 will move left, and the robot at index 1 will move right.
> 
> After 2 seconds, the positions are [-2,0,0]. Now, the robot at index 1 will move left, and the robot at index 2 will move right.
> 
> After 3 seconds, the positions are [-3,-1,1].
> 
> The distance between the robot at index 0 and 1 is abs(-3 - (-1)) = 2.
> 
> The distance between the robot at index 0 and 2 is abs(-3 - 1) = 4.
> 
> The distance between the robot at index 1 and 2 is abs(-1 - 1) = 2.
> 
> The sum of the pairs of all distances = 2 + 4 + 2 = 8.

**Example 2:**

> Input: nums = [1,0], s = "RL", d = 2
> 
> Output: 5
> 
> Explanation: 
> 
> After 1 second, the positions are [2,-1].
> 
> After 2 seconds, the positions are [3,-2].
> 
> The distance between the two robots is abs(-2 - 3) = 5.

**Constraints:**

  * `2 <= nums.length <= 10^5`
  * `-2 * 109 <= nums[i] <= 2 * 10^9`
  * `0 <= d <= 10^9`
  * `nums.length == s.length `
  * `s` consists of 'L' and 'R' only
  * `nums[i]` will be unique.


## é¢˜ç›®å¤§æ„

æœ‰ä¸€äº›æœºå™¨äººåˆ†å¸ƒåœ¨ä¸€æ¡æ— é™é•¿çš„æ•°è½´ä¸Šï¼Œä»–ä»¬åˆå§‹åæ ‡ç”¨ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹çš„æ•´æ•°æ•°ç»„ `nums`
è¡¨ç¤ºã€‚å½“ä½ ç»™æœºå™¨äººä¸‹è¾¾å‘½ä»¤æ—¶ï¼Œå®ƒä»¬ä»¥æ¯ç§’é’Ÿä¸€å•ä½çš„é€Ÿåº¦å¼€å§‹ç§»åŠ¨ã€‚

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œæ¯ä¸ªå­—ç¬¦æŒ‰é¡ºåºåˆ†åˆ«è¡¨ç¤ºæ¯ä¸ªæœºå™¨äººç§»åŠ¨çš„æ–¹å‘ã€‚`'L'` è¡¨ç¤ºæœºå™¨äººå¾€å·¦æˆ–è€…æ•°è½´çš„è´Ÿæ–¹å‘ç§»åŠ¨ï¼Œ`'R'`
è¡¨ç¤ºæœºå™¨äººå¾€å³æˆ–è€…æ•°è½´çš„æ­£æ–¹å‘ç§»åŠ¨ã€‚

å½“ä¸¤ä¸ªæœºå™¨äººç›¸æ’æ—¶ï¼Œå®ƒä»¬å¼€å§‹æ²¿ç€åŸæœ¬ç›¸åçš„æ–¹å‘ç§»åŠ¨ã€‚

è¯·ä½ è¿”å›æŒ‡ä»¤é‡å¤æ‰§è¡Œ `d` ç§’åï¼Œæ‰€æœ‰æœºå™¨äººä¹‹é—´ä¸¤ä¸¤è·ç¦»ä¹‹å’Œã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·ä½ å°†ç­”æ¡ˆå¯¹ `109 + 7` å–ä½™åè¿”å›ã€‚

**æ³¨æ„ï¼š**

  * å¯¹äºåæ ‡åœ¨ `i` å’Œ `j` çš„ä¸¤ä¸ªæœºå™¨äººï¼Œ`(i,j)` å’Œ `(j,i)` è§†ä¸ºç›¸åŒçš„åæ ‡å¯¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœºå™¨äººè§†ä¸ºæ— å·®åˆ«çš„ã€‚
  * å½“æœºå™¨äººç›¸æ’æ—¶ï¼Œå®ƒä»¬ **ç«‹å³æ”¹å˜**  å®ƒä»¬çš„å‰è¿›æ–¹å‘ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸æ¶ˆè€—ä»»ä½•æ—¶é—´ã€‚
  * å½“ä¸¤ä¸ªæœºå™¨äººåœ¨åŒä¸€æ—¶åˆ»å æ®ç›¸åŒçš„ä½ç½®æ—¶ï¼Œå°±ä¼šç›¸æ’ã€‚

> 
> * ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªæœºå™¨äººä½äºä½ç½® 0 å¹¶å¾€å³ç§»åŠ¨ï¼Œå¦ä¸€ä¸ªæœºå™¨äººä½äºä½ç½® 2 å¹¶å¾€å·¦ç§»åŠ¨ï¼Œä¸‹ä¸€ç§’ï¼Œå®ƒä»¬éƒ½å°†å æ®ä½ç½® 1ï¼Œå¹¶æ”¹å˜æ–¹å‘ã€‚å†ä¸‹ä¸€ç§’é’Ÿåï¼Œç¬¬ä¸€ä¸ªæœºå™¨äººä½äºä½ç½® 0 å¹¶å¾€å·¦ç§»åŠ¨ï¼Œè€Œå¦ä¸€ä¸ªæœºå™¨äººä½äºä½ç½® 2 å¹¶å¾€å³ç§»åŠ¨ã€‚

> 
> * ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªæœºå™¨äººä½äºä½ç½® 0 å¹¶å¾€å³ç§»åŠ¨ï¼Œå¦ä¸€ä¸ªæœºå™¨äººä½äºä½ç½® 1 å¹¶å¾€å·¦ç§»åŠ¨ï¼Œä¸‹ä¸€ç§’ï¼Œç¬¬ä¸€ä¸ªæœºå™¨äººä½äºä½ç½® 0 å¹¶å¾€å·¦è¡Œé©¶ï¼Œè€Œå¦ä¸€ä¸ªæœºå™¨äººä½äºä½ç½® 1 å¹¶å¾€å³ç§»åŠ¨ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [-2,0,2], s = "RLL", d = 3
> 
> **è¾“å‡ºï¼š** 8
> 
> **è§£é‡Šï¼š**
> 
> 1 ç§’åï¼Œæœºå™¨äººçš„ä½ç½®ä¸º [-1,-1,1] ã€‚ç°åœ¨ä¸‹æ ‡ä¸º 0 çš„æœºå™¨äººå¼€å§‹å¾€å·¦ç§»åŠ¨ï¼Œä¸‹æ ‡ä¸º 1 çš„æœºå™¨äººå¼€å§‹å¾€å³ç§»åŠ¨ã€‚
> 
> 2 ç§’åï¼Œæœºå™¨äººçš„ä½ç½®ä¸º [-2,0,0] ã€‚ç°åœ¨ä¸‹æ ‡ä¸º 1 çš„æœºå™¨äººå¼€å§‹å¾€å·¦ç§»åŠ¨ï¼Œä¸‹æ ‡ä¸º 2 çš„æœºå™¨äººå¼€å§‹å¾€å³ç§»åŠ¨ã€‚
> 
> 3 ç§’åï¼Œæœºå™¨äººçš„ä½ç½®ä¸º [-3,-1,1] ã€‚
> 
> ä¸‹æ ‡ä¸º 0 å’Œ 1 çš„æœºå™¨äººä¹‹é—´è·ç¦»ä¸º abs(-3 - (-1)) = 2 ã€‚
> 
> ä¸‹æ ‡ä¸º 0 å’Œ 2 çš„æœºå™¨äººä¹‹é—´çš„è·ç¦»ä¸º abs(-3 - 1) = 4 ã€‚
> 
> ä¸‹æ ‡ä¸º 1 å’Œ 2 çš„æœºå™¨äººä¹‹é—´çš„è·ç¦»ä¸º abs(-1 - 1) = 2 ã€‚
> 
> æ‰€æœ‰æœºå™¨äººå¯¹ä¹‹é—´çš„æ€»è·ç¦»ä¸º 2 + 4 + 2 = 8 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,0], s = "RL", d = 2
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š**
> 
> 1 ç§’åï¼Œæœºå™¨äººçš„ä½ç½®ä¸º [2,-1] ã€‚
> 
> 2 ç§’åï¼Œæœºå™¨äººçš„ä½ç½®ä¸º [3,-2] ã€‚
> 
> ä¸¤ä¸ªæœºå™¨äººçš„è·ç¦»ä¸º abs(-2 - 3) = 5 ã€‚
> 
> 



**æç¤ºï¼š**

  * `2 <= nums.length <= 10^5`
  * `-2 * 109 <= nums[i] <= 2 * 10^9`
  * `0 <= d <= 10^9`
  * `nums.length == s.length `
  * `s` åªåŒ…å« `'L'` å’Œ `'R'` ã€‚
  * `nums[i]` äº’ä¸ç›¸åŒã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1503 | [æ‰€æœ‰èš‚èšæ‰ä¸‹æ¥å‰çš„æœ€åä¸€åˆ»](https://leetcode.com/problems/last-moment-before-all-ants-fall-out-of-a-plank) |  |  [`è„‘ç­‹æ€¥è½¬å¼¯`](/leetcode/outline/tag/brainteaser.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`æ¨¡æ‹Ÿ`](/leetcode/outline/tag/simulation.md) | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
