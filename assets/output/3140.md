# [3140. è¿ç»­ç©ºä½™åº§ä½ II](https://leetcode.com/problems/consecutive-available-seats-ii)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°æ®åº“`](/tag/database.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/consecutive-available-seats-ii)

## é¢˜ç›®

Table: `Cinema`

> 
> 
> 
> 
> 
> +-------------+------+
> 
> | Column Name | Type |
> 
> +-------------+------+
> 
> | seat_id> 
>  | int  |
> 
> | free> 
> > 
> | bool |
> 
> +-------------+------+
> 
> seat_id is an auto-increment column for this table.
> 
> Each row of this table indicates whether the ith seat is free or not. 1 means free while 0 means occupied.
> 
> 

Write a solution to find the **length** of **longest consecutive sequence** of
**available** seats in the cinema.

Note:

  * There will always be **at most** **one** longest consecutive sequence.
  * If there are **multiple**  consecutive sequences with the **same length** , include all of them in the output.

Return _the result table**ordered** by_ `first_seat_id` _**in ascending
order**_.

The result format is in the following example.



**Example:**

**Input:**

Cinema table:

> 
> 
> 
> 
> 
> +---------+------+
> 
> | seat_id | free |
> 
> +---------+------+
> 
> | 1> 
>    | 1> 
> |
> 
> | 2> 
>    | 0> 
> |
> 
> | 3> 
>    | 1> 
> |
> 
> | 4> 
>    | 1> 
> |
> 
> | 5> 
>    | 1> 
> |
> 
> +---------+------+
> 
> 

**Output:**

> 
> 
> 
> 
> 
> +-----------------+----------------+-----------------------+
> 
> | first_seat_id   | last_seat_id   | consecutive_seats_len |
> 
> +-----------------+----------------+-----------------------+
> 
> | 3> 
> > 
> > 
>    | 5> 
> > 
> > 
>   | 3> 
> > 
> > 
> > 
> > 
>  |
> 
> +-----------------+----------------+-----------------------+
> 
> 

**Explanation:**

  * Longest consecutive sequence of available seats starts from seat 3 and ends at seat 5 with a length of 3.

Output table is ordered by first_seat_id in ascending order.


## é¢˜ç›®å¤§æ„

è¡¨ï¼š`Cinema`

> 
> 
> 
> 
> 
> +-------------+------+
> 
> | Column Name | Type |
> 
> +-------------+------+
> 
> | seat_id> 
>  | int  |
> 
> | free> 
> > 
> | bool |
> 
> +-------------+------+
> 
> seat_id æ˜¯è¿™å¼ è¡¨ä¸­çš„è‡ªå¢åˆ—ã€‚
> 
> è¿™å¼ è¡¨çš„æ¯ä¸€è¡Œè¡¨ç¤ºç¬¬ i ä¸ªä½œä¸ºæ˜¯å¦ç©ºä½™ã€‚1 è¡¨ç¤ºç©ºä½™ï¼Œè€Œ 0 è¡¨ç¤ºè¢«å ç”¨ã€‚
> 
> 

ç¼–å†™ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ¥æ‰¾åˆ°ç”µå½±é™¢ä¸­ **æœ€é•¿çš„ç©ºä½™åº§ä½** çš„ **é•¿åº¦** ã€‚

æ³¨æ„ï¼š

  * ä¿è¯ **æœ€å¤šæœ‰ä¸€ä¸ª** æœ€é•¿è¿ç»­åºåˆ—ã€‚
  * å¦‚æœæœ‰ **å¤šä¸ª** **ç›¸åŒé•¿åº¦** çš„è¿ç»­åºåˆ—ï¼Œå°†å®ƒä»¬å…¨éƒ¨è¾“å‡ºã€‚

è¿”å›ç»“æœè¡¨ä»¥ `first_seat_id` **å‡åºæ’åº** ã€‚

ç»“æœè¡¨çš„æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºã€‚



**ç¤ºä¾‹ï¼š**

**è¾“å…¥ï¼š**

Cinema è¡¨ï¼š

> 
> 
> 
> 
> 
> +---------+------+
> 
> | seat_id | free |
> 
> +---------+------+
> 
> | 1> 
>    | 1> 
> |
> 
> | 2> 
>    | 0> 
> |
> 
> | 3> 
>    | 1> 
> |
> 
> | 4> 
>    | 1> 
> |
> 
> | 5> 
>    | 1> 
> |
> 
> +---------+------+
> 
> 

**è¾“å‡ºï¼š**

> 
> 
> 
> 
> 
> +-----------------+----------------+-----------------------+
> 
> | first_seat_id   | last_seat_id   | consecutive_seats_len |
> 
> +-----------------+----------------+-----------------------+
> 
> | 3> 
> > 
> > 
>    | 5> 
> > 
> > 
>   | 3> 
> > 
> > 
> > 
> > 
>  |
> 
> +-----------------+----------------+-----------------------+
> 
> 

**è§£é‡Šï¼š**

  * å¯ç”¨åº§ä½çš„æœ€é•¿è¿ç»­åºåˆ—ä»åº§ä½ 3 å¼€å§‹ï¼Œåˆ°åº§ä½ 5 ç»“æŸï¼Œé•¿åº¦ä¸º 3ã€‚

è¾“å‡ºè¡¨ä»¥ first_seat_id å‡åºæ’åºã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```