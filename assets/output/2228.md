---
title: 2228. 7 å¤©å†…ä¸¤æ¬¡è´­ä¹°çš„ç”¨æˆ· ğŸ”’
description: LeetCode 2228. 7 å¤©å†…ä¸¤æ¬¡è´­ä¹°çš„ç”¨æˆ· ğŸ”’é¢˜è§£ï¼ŒUsers With Two Purchases Within Seven Daysï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2228. 7 å¤©å†…ä¸¤æ¬¡è´­ä¹°çš„ç”¨æˆ· ğŸ”’
  - 7 å¤©å†…ä¸¤æ¬¡è´­ä¹°çš„ç”¨æˆ·
  - Users With Two Purchases Within Seven Days
  - è§£é¢˜æ€è·¯
  - æ•°æ®åº“
---

# 2228. 7 å¤©å†…ä¸¤æ¬¡è´­ä¹°çš„ç”¨æˆ· ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°æ®åº“`](/tag/database.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/users-with-two-purchases-within-seven-days) [`LeetCode`](https://leetcode.com/problems/users-with-two-purchases-within-seven-days)

## é¢˜ç›®

Table: `Purchases`

> 
> 
> 
> 
> 
> +---------------+------+
> 
> | Column Name   | Type |
> 
> +---------------+------+
> 
> | purchase_id   | int  |
> 
> | user_id> 
>    | int  |
> 
> | purchase_date | date |
> 
> +---------------+------+
> 
> purchase_id contains unique values.
> 
> This table contains logs of the dates that users purchased from a certain retailer.
> 
> 



Write a solution to report the IDs of the users that made any two purchases
**at most** `7` days apart.

Return the result table ordered by `user_id`.

The result format is in the following example.



**Example 1:**

> Input: 
> 
> Purchases table:
> 
> +-------------+---------+---------------+
> 
> | purchase_id | user_id | purchase_date |
> 
> +-------------+---------+---------------+
> 
> | 4> 
> > 
>    | 2> 
>    | 2022-03-13> 
> |
> 
> | 1> 
> > 
>    | 5> 
>    | 2022-02-11> 
> |
> 
> | 3> 
> > 
>    | 7> 
>    | 2022-06-19> 
> |
> 
> | 6> 
> > 
>    | 2> 
>    | 2022-03-20> 
> |
> 
> | 5> 
> > 
>    | 7> 
>    | 2022-06-19> 
> |
> 
> | 2> 
> > 
>    | 2> 
>    | 2022-06-08> 
> |
> 
> +-------------+---------+---------------+
> 
> Output: 
> 
> +---------+
> 
> | user_id |
> 
> +---------+
> 
> | 2> 
>    |
> 
> | 7> 
>    |
> 
> +---------+
> 
> Explanation: 
> 
> User 2 had two purchases on 2022-03-13 and 2022-03-20. Since the second purchase is within 7 days of the first purchase, we add their ID.
> 
> User 5 had only 1 purchase.
> 
> User 7 had two purchases on the same day so we add their ID.
> 
> 


## é¢˜ç›®å¤§æ„

è¡¨: `Purchases`

> 
> 
> 
> 
> 
> +---------------+------+
> 
> | Column Name   | Type |
> 
> +---------------+------+
> 
> | purchase_id   | int  |
> 
> | user_id> 
>    | int  |
> 
> | purchase_date | date |
> 
> +---------------+------+
> 
> purchase_id åŒ…å«å”¯ä¸€å€¼ã€‚
> 
> è¯¥è¡¨åŒ…å«ç”¨æˆ·ä»æŸä¸ªé›¶å”®å•†è´­ä¹°çš„æ—¥æœŸçš„æ—¥å¿—ã€‚
> 
> 



ç¼–å†™è§£å†³æ–¹æ¡ˆï¼Œè·å– **æœ€å¤š  **é—´éš” `7` å¤©è¿›è¡Œä¸¤æ¬¡è´­ä¹°çš„ç”¨æˆ·çš„ idã€‚

è¿”å› _æŒ‰`user_id` æ’åºçš„ç»“æœè¡¨ã€‚_

ç»“æœæ ¼å¼å¦‚ä¸‹æ‰€ç¤ºã€‚



**ç¤ºä¾‹ 1:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** 
> 
> Purchases è¡¨:
> 
> +-------------+---------+---------------+
> 
> | purchase_id | user_id | purchase_date |
> 
> +-------------+---------+---------------+
> 
> | 4> 
> > 
>    | 2> 
>    | 2022-03-13> 
> |
> 
> | 1> 
> > 
>    | 5> 
>    | 2022-02-11> 
> |
> 
> | 3> 
> > 
>    | 7> 
>    | 2022-06-19> 
> |
> 
> | 6> 
> > 
>    | 2> 
>    | 2022-03-20> 
> |
> 
> | 5> 
> > 
>    | 7> 
>    | 2022-06-19> 
> |
> 
> | 2> 
> > 
>    | 2> 
>    | 2022-06-08> 
> |
> 
> +-------------+---------+---------------+
> 
> **è¾“å‡º:** 
> 
> +---------+
> 
> | user_id |
> 
> +---------+
> 
> | 2> 
>    |
> 
> | 7> 
>    |
> 
> +---------+
> 
> **è§£é‡Š:** 
> 
> ç”¨æˆ· 2 åœ¨ 2022-03-13 å’Œ 2022-03-20 æœ‰ä¸¤æ¬¡è´­ä¹°ã€‚ç”±äºç¬¬äºŒæ¬¡è´­ä¹°æ˜¯åœ¨ç¬¬ä¸€æ¬¡è´­ä¹°åçš„ 7 å¤©å†…ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä»–ä»¬çš„ IDã€‚
> 
> ç”¨æˆ· 5 åªè´­ä¹°äº† 1 æ¬¡ã€‚
> 
> ç”¨æˆ· 7 åœ¨åŒä¸€å¤©æœ‰ä¸¤æ¬¡è´­ä¹°ï¼Œæ‰€ä»¥æˆ‘ä»¬æ·»åŠ äº†ä»–ä»¬çš„ IDã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1709 | è®¿é—®æ—¥æœŸä¹‹é—´æœ€å¤§çš„ç©ºæ¡£æœŸ ğŸ”’ |  |  [`æ•°æ®åº“`](/tag/database.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/biggest-window-between-visits) [ğŸ”—](https://leetcode.com/problems/biggest-window-between-visits) |