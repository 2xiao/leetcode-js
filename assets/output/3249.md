# [3249. ç»Ÿè®¡å¥½èŠ‚ç‚¹çš„æ•°ç›®](https://2xiao.github.io/leetcode-js/problem/3249.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/count-the-number-of-good-nodes) [`LeetCode`](https://leetcode.com/problems/count-the-number-of-good-nodes)

## é¢˜ç›®

There is an **undirected** tree with `n` nodes labeled from `0` to `n - 1`,
and rooted at node `0`. You are given a 2D integer array `edges` of length `n
- 1`, where `edges[i] = [ai, bi]` indicates that there is an edge between
nodes `ai` and `bi` in the tree.

A node is **good** if all the subtrees rooted at its children have the same
size.

Return the number of **good** nodes in the given tree.

A **subtree** of `treeName` is a tree consisting of a node in `treeName` and
all of its descendants.



**Example 1:**

**Input:** edges = [[0,1],[0,2],[1,3],[1,4],[2,5],[2,6]]

**Output:** 7

**Explanation:**

![](https://assets.leetcode.com/uploads/2024/05/26/tree1.png)

All of the nodes of the given tree are good.

**Example 2:**

**Input:** edges = [[0,1],[1,2],[2,3],[3,4],[0,5],[1,6],[2,7],[3,8]]

**Output:** 6

**Explanation:**

![](https://assets.leetcode.com/uploads/2024/06/03/screenshot-2024-06-03-193552.png)

There are 6 good nodes in the given tree. They are colored in the image above.

**Example 3:**

**Input:** edges =
[[0,1],[1,2],[1,3],[1,4],[0,5],[5,6],[6,7],[7,8],[0,9],[9,10],[9,12],[10,11]]

**Output:** 12

**Explanation:**

![](https://assets.leetcode.com/uploads/2024/08/08/rob.jpg)

All nodes except node 9 are good.



**Constraints:**

  * `2 <= n <= 10^5`
  * `edges.length == n - 1`
  * `edges[i].length == 2`
  * `0 <= ai, bi < n`
  * The input is generated such that `edges` represents a valid tree.


## é¢˜ç›®å¤§æ„

ç°æœ‰ä¸€æ£µ **æ— å‘** æ ‘ï¼Œæ ‘ä¸­åŒ…å« `n` ä¸ªèŠ‚ç‚¹ï¼ŒæŒ‰ä» `0` åˆ° `n - 1` æ ‡è®°ã€‚æ ‘çš„æ ¹èŠ‚ç‚¹æ˜¯èŠ‚ç‚¹ `0` ã€‚ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n - 1`
çš„äºŒç»´æ•´æ•°æ•°ç»„ `edges`ï¼Œå…¶ä¸­ `edges[i] = [ai, bi]` è¡¨ç¤ºæ ‘ä¸­èŠ‚ç‚¹ `ai` ä¸èŠ‚ç‚¹ `bi` ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚

å¦‚æœä¸€ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ä¸ºæ ¹çš„ å­æ ‘ åŒ…å«çš„èŠ‚ç‚¹æ•°ç›¸åŒï¼Œåˆ™è®¤ä¸ºè¯¥èŠ‚ç‚¹æ˜¯ä¸€ä¸ª **å¥½èŠ‚ç‚¹** ã€‚

è¿”å›ç»™å®šæ ‘ä¸­**å¥½èŠ‚ç‚¹** çš„æ•°é‡ã€‚

**å­æ ‘**  æŒ‡çš„æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ä»¥åŠå®ƒæ‰€æœ‰åä»£èŠ‚ç‚¹æ„æˆçš„ä¸€æ£µæ ‘ã€‚





**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** edges = [[0,1],[0,2],[1,3],[1,4],[2,5],[2,6]]

**è¾“å‡ºï¼š** 7

**è¯´æ˜ï¼š**

![](https://assets.leetcode.com/uploads/2024/05/26/tree1.png)

æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯å¥½èŠ‚ç‚¹ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** edges = [[0,1],[1,2],[2,3],[3,4],[0,5],[1,6],[2,7],[3,8]]

**è¾“å‡ºï¼š** 6

**è¯´æ˜ï¼š**

![](https://assets.leetcode.com/uploads/2024/06/03/screenshot-2024-06-03-193552.png)

æ ‘ä¸­æœ‰ 6 ä¸ªå¥½èŠ‚ç‚¹ã€‚ä¸Šå›¾ä¸­å·²å°†è¿™äº›èŠ‚ç‚¹ç€è‰²ã€‚

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š** edges =
[[0,1],[1,2],[1,3],[1,4],[0,5],[5,6],[6,7],[7,8],[0,9],[9,10],[9,12],[10,11]]

**è¾“å‡ºï¼š** 12

**è§£é‡Šï¼š**

![](https://assets.leetcode.com/uploads/2024/08/08/rob.jpg)

é™¤äº†èŠ‚ç‚¹ 9 ä»¥å¤–å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯å¥½èŠ‚ç‚¹ã€‚



**æç¤ºï¼š**

  * `2 <= n <= 10^5`
  * `edges.length == n - 1`
  * `edges[i].length == 2`
  * `0 <= ai, bi < n`
  * è¾“å…¥ç¡®ä¿ `edges` æ€»è¡¨ç¤ºä¸€æ£µæœ‰æ•ˆçš„æ ‘ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 559 | [N å‰æ ‘çš„æœ€å¤§æ·±åº¦](https://leetcode.com/problems/maximum-depth-of-n-ary-tree) | [[âœ“]](/problem/0559.md) |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) | <font color=#15bd66>Easy</font> |