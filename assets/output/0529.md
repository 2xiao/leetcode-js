# [529. æ‰«é›·æ¸¸æˆ](https://2xiao.github.io/leetcode-js/problem/0529.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minesweeper) [`LeetCode`](https://leetcode.com/problems/minesweeper)

## é¢˜ç›®

Let's play the minesweeper game
([Wikipedia](https://en.wikipedia.org/wiki/Minesweeper_\(video_game\)),
[online game](http://minesweeperonline.com))!

You are given an `m x n` char matrix `board` representing the game board
where:

  * `'M'` represents an unrevealed mine,
  * `'E'` represents an unrevealed empty square,
  * `'B'` represents a revealed blank square that has no adjacent mines (i.e., above, below, left, right, and all 4 diagonals),
  * digit (`'1'` to `'8'`) represents how many mines are adjacent to this revealed square, and
  * `'X'` represents a revealed mine.

You are also given an integer array `click` where `click = [clickr, clickc]`
represents the next click position among all the unrevealed squares (`'M'` or
`'E'`).

Return _the board after revealing this position according to the following
rules_ :

  1. If a mine `'M'` is revealed, then the game is over. You should change it to `'X'`.
  2. If an empty square `'E'` with no adjacent mines is revealed, then change it to a revealed blank `'B'` and all of its adjacent unrevealed squares should be revealed recursively.
  3. If an empty square `'E'` with at least one adjacent mine is revealed, then change it to a digit (`'1'` to `'8'`) representing the number of adjacent mines.
  4. Return the board when no more squares will be revealed.



**Example 1:**

![](https://assets.leetcode.com/uploads/2023/08/09/untitled.jpeg)

> Input: board = [["E","E","E","E","E"],["E","E","M","E","E"],["E","E","E","E","E"],["E","E","E","E","E"]], click = [3,0]
> 
> Output: [["B","1","E","1","B"],["B","1","M","1","B"],["B","1","1","1","B"],["B","B","B","B","B"]]

**Example 2:**

![](https://assets.leetcode.com/uploads/2023/08/09/untitled-2.jpeg)

> Input: board = [["B","1","E","1","B"],["B","1","M","1","B"],["B","1","1","1","B"],["B","B","B","B","B"]], click = [1,2]
> 
> Output: [["B","1","E","1","B"],["B","1","X","1","B"],["B","1","1","1","B"],["B","B","B","B","B"]]

**Constraints:**

  * `m == board.length`
  * `n == board[i].length`
  * `1 <= m, n <= 50`
  * `board[i][j]` is either `'M'`, `'E'`, `'B'`, or a digit from `'1'` to `'8'`.
  * `click.length == 2`
  * `0 <= clickr < m`
  * `0 <= clickc < n`
  * `board[clickr][clickc]` is either `'M'` or `'E'`.


## é¢˜ç›®å¤§æ„

è®©æˆ‘ä»¬ä¸€èµ·æ¥ç©æ‰«é›·æ¸¸æˆï¼

ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º `m x n` äºŒç»´å­—ç¬¦çŸ©é˜µ `board` ï¼Œè¡¨ç¤ºæ‰«é›·æ¸¸æˆçš„ç›˜é¢ï¼Œå…¶ä¸­ï¼š

  * `'M'` ä»£è¡¨ä¸€ä¸ª **æœªæŒ–å‡ºçš„** åœ°é›·ï¼Œ
  * `'E'` ä»£è¡¨ä¸€ä¸ª**æœªæŒ–å‡ºçš„** ç©ºæ–¹å—ï¼Œ
  * `'B'`** ** ä»£è¡¨æ²¡æœ‰ç›¸é‚»ï¼ˆä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³ï¼Œå’Œæ‰€æœ‰4ä¸ªå¯¹è§’çº¿ï¼‰åœ°é›·çš„**å·²æŒ–å‡ºçš„** ç©ºç™½æ–¹å—ï¼Œ
  * **æ•°å­—** ï¼ˆ`'1'` åˆ° `'8'`ï¼‰è¡¨ç¤ºæœ‰å¤šå°‘åœ°é›·ä¸è¿™å—**å·²æŒ–å‡ºçš„** æ–¹å—ç›¸é‚»ï¼Œ
  * `'X'` åˆ™è¡¨ç¤ºä¸€ä¸ª**å·²æŒ–å‡ºçš„** åœ°é›·ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `click` ï¼Œå…¶ä¸­ `click = [clickr, clickc]` è¡¨ç¤ºåœ¨æ‰€æœ‰**æœªæŒ–å‡ºçš„** æ–¹å—ï¼ˆ`'M'` æˆ–è€…
`'E'`ï¼‰ä¸­çš„ä¸‹ä¸€ä¸ªç‚¹å‡»ä½ç½®ï¼ˆ`clickr` æ˜¯è¡Œä¸‹æ ‡ï¼Œ`clickc` æ˜¯åˆ—ä¸‹æ ‡ï¼‰ã€‚

æ ¹æ®ä»¥ä¸‹è§„åˆ™ï¼Œè¿”å›ç›¸åº”ä½ç½®è¢«ç‚¹å‡»åå¯¹åº”çš„ç›˜é¢ï¼š

  1. å¦‚æœä¸€ä¸ªåœ°é›·ï¼ˆ`'M'`ï¼‰è¢«æŒ–å‡ºï¼Œæ¸¸æˆå°±ç»“æŸäº†- æŠŠå®ƒæ”¹ä¸º `'X'` ã€‚
  2. å¦‚æœä¸€ä¸ª**æ²¡æœ‰ç›¸é‚»åœ°é›·** çš„ç©ºæ–¹å—ï¼ˆ`'E'`ï¼‰è¢«æŒ–å‡ºï¼Œä¿®æ”¹å®ƒä¸ºï¼ˆ`'B'`ï¼‰ï¼Œå¹¶ä¸”æ‰€æœ‰å’Œå…¶ç›¸é‚»çš„**æœªæŒ–å‡º** æ–¹å—éƒ½åº”è¯¥è¢«é€’å½’åœ°æ­éœ²ã€‚
  3. å¦‚æœä¸€ä¸ª**è‡³å°‘ä¸ä¸€ä¸ªåœ°é›·ç›¸é‚»** çš„ç©ºæ–¹å—ï¼ˆ`'E'`ï¼‰è¢«æŒ–å‡ºï¼Œä¿®æ”¹å®ƒä¸ºæ•°å­—ï¼ˆ`'1'` åˆ° `'8'` ï¼‰ï¼Œè¡¨ç¤ºç›¸é‚»åœ°é›·çš„æ•°é‡ã€‚
  4. å¦‚æœåœ¨æ­¤æ¬¡ç‚¹å‡»ä¸­ï¼Œè‹¥æ— æ›´å¤šæ–¹å—å¯è¢«æ­éœ²ï¼Œåˆ™è¿”å›ç›˜é¢ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2023/08/09/untitled.jpeg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** board = [["E","E","E","E","E"],["E","E","M","E","E"],["E","E","E","E","E"],["E","E","E","E","E"]], click = [3,0]
> 
> **è¾“å‡ºï¼š**[["B","1","E","1","B"],["B","1","M","1","B"],["B","1","1","1","B"],["B","B","B","B","B"]]
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2023/08/09/untitled-2.jpeg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** board = [["B","1","E","1","B"],["B","1","M","1","B"],["B","1","1","1","B"],["B","B","B","B","B"]], click = [1,2]
> 
> **è¾“å‡ºï¼š**[["B","1","E","1","B"],["B","1","X","1","B"],["B","1","1","1","B"],["B","B","B","B","B"]]
> 
> 



**æç¤ºï¼š**

  * `m == board.length`
  * `n == board[i].length`
  * `1 <= m, n <= 50`
  * `board[i][j]` ä¸º `'M'`ã€`'E'`ã€`'B'` æˆ–æ•°å­— `'1'` åˆ° `'8'` ä¸­çš„ä¸€ä¸ª
  * `click.length == 2`
  * `0 <= clickr < m`
  * `0 <= clickc < n`
  * `board[clickr][clickc]` ä¸º `'M'` æˆ– `'E'`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2101 | [å¼•çˆ†æœ€å¤šçš„ç‚¸å¼¹](https://leetcode.com/problems/detonate-the-maximum-bombs) |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å›¾`](/tag/graph.md) `3+` | <font color=#ffb800>Medium</font> |