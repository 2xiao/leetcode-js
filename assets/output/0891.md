# [891. å­åºåˆ—å®½åº¦ä¹‹å’Œ](https://leetcode.com/problems/sum-of-subsequence-widths)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/sum-of-subsequence-widths)

## é¢˜ç›®

The **width** of a sequence is the difference between the maximum and minimum
elements in the sequence.

Given an array of integers `nums`, return _the sum of the**widths** of all the
non-empty **subsequences** of _`nums`. Since the answer may be very large,
return it **modulo** `109 + 7`.

A **subsequence** is a sequence that can be derived from an array by deleting
some or no elements without changing the order of the remaining elements. For
example, `[3,6,2,7]` is a subsequence of the array `[0,3,1,6,2,2,7]`.



**Example 1:**

> Input: nums = [2,1,3]
> 
> Output: 6
> 
> Explanation: The subsequences are [1], [2], [3], [2,1], [2,3], [1,3], [2,1,3].
> 
> The corresponding widths are 0, 0, 0, 1, 1, 2, 2.
> 
> The sum of these widths is 6.

**Example 2:**

> Input: nums = [2]
> 
> Output: 0

**Constraints:**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^5`


## é¢˜ç›®å¤§æ„

ä¸€ä¸ªåºåˆ—çš„ **å®½åº¦** å®šä¹‰ä¸ºè¯¥åºåˆ—ä¸­æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ çš„å·®å€¼ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œè¿”å› `nums` çš„æ‰€æœ‰éç©º **å­åºåˆ—** çš„ **å®½åº¦ä¹‹å’Œ** ã€‚ç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤§ï¼Œè¯·è¿”å›å¯¹ `109 + 7`
**å–ä½™** åçš„ç»“æœã€‚

**å­åºåˆ—** å®šä¹‰ä¸ºä»ä¸€ä¸ªæ•°ç»„é‡Œåˆ é™¤ä¸€äº›ï¼ˆæˆ–è€…ä¸åˆ é™¤ï¼‰å…ƒç´ ï¼Œä½†ä¸æ”¹å˜å‰©ä¸‹å…ƒç´ çš„é¡ºåºå¾—åˆ°çš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œ`[3,6,2,7]` å°±æ˜¯æ•°ç»„
`[0,3,1,6,2,2,7]` çš„ä¸€ä¸ªå­åºåˆ—ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [2,1,3]
> 
> **è¾“å‡ºï¼š** 6
> 
> **è§£é‡Šï¼š** å­åºåˆ—ä¸º [1], [2], [3], [2,1], [2,3], [1,3], [2,1,3] ã€‚
> 
> ç›¸åº”çš„å®½åº¦æ˜¯ 0, 0, 0, 1, 1, 2, 2 ã€‚
> 
> å®½åº¦ä¹‹å’Œæ˜¯ 6 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [2]
> 
> **è¾“å‡ºï¼š** 0
> 
> 



**æç¤ºï¼š**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```