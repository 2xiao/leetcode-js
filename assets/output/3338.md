---
title: 3338. 第二高的薪水 II 🔒
description: LeetCode 3338. 第二高的薪水 II 🔒题解，Second Highest Salary II，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 3338. 第二高的薪水 II 🔒
  - 第二高的薪水 II
  - Second Highest Salary II
  - 解题思路
  - 数据库
---

# 3338. 第二高的薪水 II 🔒

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`数据库`](/tag/database.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/second-highest-salary-ii) [`LeetCode`](https://leetcode.com/problems/second-highest-salary-ii)

## 题目

Table: `employees`

> 
> 
> 
> 
> 
> +------------------+---------+
> 
> | Column Name> 
>   | Type> 
> |
> 
> +------------------+---------+
> 
> | emp_id> 
> > 
>    | int> 
>  |
> 
> | salary> 
> > 
>    | int> 
>  |
> 
> | dept> 
> > 
> > 
>  | varchar |
> 
> +------------------+---------+
> 
> emp_id is the unique key for this table.
> 
> Each row of this table contains information about an employee including their ID, salary, and department.
> 
> 

Write a solution to find the employees who earn the **second-highest salary**
in each department. If **multiple employees have the second-highest salary** ,
**include** **all employees** with **that salary**.

Return _the result table_ _ordered by_ `emp_id` _in_ _**ascending**_ _order_.

The result format is in the following example.



**Example:**

**Input:**

employees table:

> 
> 
> 
> 
> 
> +--------+--------+-----------+
> 
> | emp_id | salary | dept> 
>   |
> 
> +--------+--------+-----------+
> 
> | 1> 
>   | 70000  | Sales> 
>  |
> 
> | 2> 
>   | 80000  | Sales> 
>  |
> 
> | 3> 
>   | 80000  | Sales> 
>  |
> 
> | 4> 
>   | 90000  | Sales> 
>  |
> 
> | 5> 
>   | 55000  | IT> 
> > 
> |
> 
> | 6> 
>   | 65000  | IT> 
> > 
> |
> 
> | 7> 
>   | 65000  | IT> 
> > 
> |
> 
> | 8> 
>   | 50000  | Marketing |
> 
> | 9> 
>   | 55000  | Marketing |
> 
> | 10> 
>  | 55000  | HR> 
> > 
> |
> 
> +--------+--------+-----------+
> 
> 

**Output:**

> 
> 
> 
> 
> 
> +--------+-----------+
> 
> | emp_id | dept> 
>   |
> 
> +--------+-----------+
> 
> | 2> 
>   | Sales> 
>  |
> 
> | 3> 
>   | Sales> 
>  |
> 
> | 5> 
>   | IT> 
> > 
> |
> 
> | 8> 
>   | Marketing |
> 
> +--------+-----------+
> 
> 

**Explanation:**

  * **Sales Department** : 
> 
> * Highest salary is 90000 (emp_id: 4)
> 
> * Second-highest salary is 80000 (emp_id: 2, 3)
> 
> * Both employees with salary 80000 are included
  * **IT Department** : 
> 
> * Highest salary is 65000 (emp_id: 6, 7)
> 
> * Second-highest salary is 55000 (emp_id: 5)
> 
> * Only emp_id 5 is included as they have the second-highest salary
  * **Marketing Department** : 
> 
> * Highest salary is 55000 (emp_id: 9)
> 
> * Second-highest salary is 50000 (emp_id: 8)
> 
> * Employee 8 is included
  * **HR Department** : 
> 
> * Only has one employee
> 
> * Not included in the result as it has fewer than 2 employees


## 题目大意

表：`employees`

> 
> 
> 
> 
> 
> +------------------+---------+
> 
> | Column Name> 
>   | Type> 
> |
> 
> +------------------+---------+
> 
> | emp_id> 
> > 
>    | int> 
>  |
> 
> | salary> 
> > 
>    | int> 
>  |
> 
> | dept> 
> > 
> > 
>  | varchar |
> 
> +------------------+---------+
> 
> emp_id 是这张表的唯一主键。
> 
> 这张表的每一行包含雇员信息，包括他们的 ID，薪水和部门。
> 
> 

编写一个解决方案来找到每个部门中 **薪水第二高** 的雇员。如果 **有多个雇员有第二高的薪水，在结果中包含所有获得该薪水的雇员** 。

返回结果表以 `emp_id` **升序  **排序。

结果格式如下所示。



**示例：**

**输入：**

employees 表：

> 
> 
> 
> 
> 
> +--------+--------+-----------+
> 
> | emp_id | salary | dept> 
>   |
> 
> +--------+--------+-----------+
> 
> | 1> 
>   | 70000  | Sales> 
>  |
> 
> | 2> 
>   | 80000  | Sales> 
>  |
> 
> | 3> 
>   | 80000  | Sales> 
>  |
> 
> | 4> 
>   | 90000  | Sales> 
>  |
> 
> | 5> 
>   | 55000  | IT> 
> > 
> |
> 
> | 6> 
>   | 65000  | IT> 
> > 
> |
> 
> | 7> 
>   | 65000  | IT> 
> > 
> |
> 
> | 8> 
>   | 50000  | Marketing |
> 
> | 9> 
>   | 55000  | Marketing |
> 
> | 10> 
>  | 55000  | HR> 
> > 
> |
> 
> +--------+--------+-----------+
> 
> 

**输出：**

> 
> 
> 
> 
> 
> +--------+-----------+
> 
> | emp_id | dept> 
>   |
> 
> +--------+-----------+
> 
> | 2> 
>   | Sales> 
>  |
> 
> | 3> 
>   | Sales> 
>  |
> 
> | 5> 
>   | IT> 
> > 
> |
> 
> | 8> 
>   | Marketing |
> 
> +--------+-----------+
> 
> 

**解释：**

  * **销售部门：**
> 
> * 最高薪水为 90000 (emp_id: 4)
> 
> * 第二高的薪水为 80000 (emp_id: 2, 3)
> 
> * 两个薪水为 80000 的雇员都被包含
  * **IT 部门：**
> 
> * 最高薪水为 65000 (emp_id: 6, 7)
> 
> * 第二高的薪水为 55000 (emp_id: 5)
> 
> * 只有 emp_id 为 5 的雇员被包含，因为他的薪水第二高
  * **市场部门：**
> 
> * 最高薪水为 55000 (emp_id: 9)
> 
> * 第二高的薪水为 50000 (emp_id: 8)
> 
> * 雇员 8 被包含
  * **人力资源部门：**
> 
> * 只有一个雇员
> 
> * 因为少于 2 个雇员，所以没有包含在结果中


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```