# [2862. å®Œå…¨å­é›†çš„æœ€å¤§å…ƒç´ å’Œ](https://2xiao.github.io/leetcode-js/problem/2862.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`æ•°è®º`](/tag/number-theory.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-element-sum-of-a-complete-subset-of-indices) [`LeetCode`](https://leetcode.com/problems/maximum-element-sum-of-a-complete-subset-of-indices)

## é¢˜ç›®

You are given a **1****-indexed** array `nums`. Your task is to select a
**complete subset** from `nums` where every pair of selected indices
multiplied is a perfect square,. i. e. if you select `ai` and `aj`, `i * j`
must be a perfect square.

Return the _sum_ of the complete subset with the _maximum sum_.



**Example 1:**

**Input:** nums = [8,7,3,5,7,2,4,9]

**Output:** 16

**Explanation:**

We select elements at indices 2 and 8 and 2` * 8` is a perfect square.

**Example 2:**

**Input:** nums = [8,10,3,8,1,13,7,9,4]

**Output:** 20

**Explanation:**

We select elements at indices 1, 4, and 9. `1 * 4`, `1 * 9`, `4 * 9` are
perfect squares.



**Constraints:**

  * `1 <= n == nums.length <= 10^4`
  * `1 <= nums[i] <= 10^9`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **1** å¼€å§‹ã€ç”± `n` ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ã€‚ä½ éœ€è¦ä» `nums` é€‰æ‹©ä¸€ä¸ª **å®Œå…¨é›†** ï¼Œå…¶ä¸­æ¯å¯¹å…ƒç´ ä¸‹æ ‡çš„ä¹˜ç§¯éƒ½æ˜¯ä¸€ä¸ª
å®Œå…¨å¹³æ–¹æ•°ï¼Œä¾‹å¦‚é€‰æ‹© `ai` å’Œ `aj` ï¼Œ`i * j` ä¸€å®šæ˜¯å®Œå…¨å¹³æ–¹æ•°ã€‚

è¿”å› **å®Œå…¨å­é›†** æ‰€èƒ½å–åˆ°çš„ **æœ€å¤§å…ƒç´ å’Œ** ã€‚



**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** nums = [8,7,3,5,7,2,4,9]

**è¾“å‡ºï¼š** 16

**è§£é‡Šï¼š**

æˆ‘ä»¬é€‰æ‹©ä¸‹æ ‡ä¸º 2 å’Œ 8 çš„å…ƒç´ ï¼Œå¹¶ä¸” `2 * 8` æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** nums = [8,10,3,8,1,13,7,9,4]

**è¾“å‡ºï¼š** 20

**è§£é‡Šï¼š**

æˆ‘ä»¬é€‰æ‹©ä¸‹æ ‡ä¸º 1, 4, 9 çš„å…ƒç´ ã€‚`1 * 4`, `1 * 9`, `4 * 9` æ˜¯å®Œå…¨å¹³æ–¹æ•°ã€‚



**æç¤ºï¼š**

  * `1 <= n == nums.length <= 10^4`
  * `1 <= nums[i] <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1425 | [å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ](https://leetcode.com/problems/constrained-subsequence-sum) |  |  [`é˜Ÿåˆ—`](/tag/queue.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) `3+` | <font color=#ff334b>Hard</font> |
| 1911 | [æœ€å¤§å­åºåˆ—äº¤æ›¿å’Œ](https://leetcode.com/problems/maximum-alternating-subsequence-sum) |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ffb800>Medium</font> |