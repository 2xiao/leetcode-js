# [411. æœ€çŸ­ç‹¬å å•è¯ç¼©å†™ ğŸ”’](https://2xiao.github.io/leetcode-js/problem/0411.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`å›æº¯`](/tag/backtracking.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minimum-unique-word-abbreviation) [`LeetCode`](https://leetcode.com/problems/minimum-unique-word-abbreviation)

## é¢˜ç›®

A string can be **abbreviated** by replacing any number of **non-adjacent**
substrings with their lengths. For example, a string such as `"substitution"`
could be abbreviated as (but not limited to):

  * `"s10n"` (`"s _ubstitutio_ n"`)
  * `"sub4u4"` (`"sub _stit_ u _tion_ "`)
  * `"12"` (`"_substitution_ "`)
  * `"su3i1u2on"` (`"su _bst_ i _t_ u _ti_ on"`)
  * `"substitution"` (no substrings replaced)

Note that `"s55n"` (`"s _ubsti_ _tutio_ n"`) is not a valid abbreviation of
`"substitution"` because the replaced substrings are adjacent.

The **length** of an abbreviation is the number of letters that were not
replaced plus the number of substrings that were replaced. For example, the
abbreviation `"s10n"` has a length of `3` (`2` letters + `1` substring) and
`"su3i1u2on"` has a length of `9` (`6` letters + `3` substrings).

Given a target string `target` and an array of strings `dictionary`, return
_an**abbreviation** of _`target` _with the**shortest possible length** such
that it is **not an abbreviation** of **any** string in _`dictionary` _. If
there are multiple shortest abbreviations, return any of them_.



**Example 1:**

> Input: target = "apple", dictionary = ["blade"]
> 
> Output: "a4"
> 
> Explanation: The shortest abbreviation of "apple" is "5", but this is also an abbreviation of "blade".
> 
> The next shortest abbreviations are "a4" and "4e". "4e" is an abbreviation of blade while "a4" is not.
> 
> Hence, return "a4".

**Example 2:**

> Input: target = "apple", dictionary = ["blade","plain","amber"]
> 
> Output: "1p3"
> 
> Explanation: "5" is an abbreviation of both "apple" but also every word in the dictionary.
> 
> "a4" is an abbreviation of "apple" but also "amber".
> 
> "4e" is an abbreviation of "apple" but also "blade".
> 
> "1p3", "2p2", and "3l1" are the next shortest abbreviations of "apple".
> 
> Since none of them are abbreviations of words in the dictionary, returning any of them is correct.

**Constraints:**

  * `m == target.length`
  * `n == dictionary.length`
  * `1 <= m <= 21`
  * `0 <= n <= 1000`
  * `1 <= dictionary[i].length <= 100`
  * `log2(n) + m <= 21` if `n > 0`
  * `target` and `dictionary[i]` consist of lowercase English letters.
  * `dictionary` does not contain `target`.


## é¢˜ç›®å¤§æ„

é€šè¿‡å°†ä»»æ„æ•°é‡çš„ **ä¸ç›¸é‚»** å­å­—ç¬¦ä¸²æ›¿æ¢ä¸ºå®ƒä»¬çš„é•¿åº¦ï¼Œå¯ä»¥å®Œæˆå¯¹å­—ç¬¦ä¸²çš„ **ç¼©å†™** ã€‚ ä¾‹å¦‚ï¼Œåƒ `"substitution"`
è¿™æ ·çš„å­—ç¬¦ä¸²å¯ä»¥ç¼©å†™ä¸ºï¼ˆä½†ä¸é™äºï¼‰ï¼š

  * `"s10n"` (`"s **ubstitutio** n"`)
  * `"sub4u4"` (`"sub **stit** u **tion** "`)
  * `"12"` (`"**substitution** "`)
  * `"su3i1u2on"` (`"su **bst** i **t** u **ti** on"`)
  * `"substitution"` (ä¸æ›¿æ¢å­å­—ç¬¦ä¸²)

æ³¨æ„ï¼š`"s55n"` (`"s **ubsti** **tutio** n"`) ä¸æ˜¯ `"substitution"`
çš„æœ‰æ•ˆç¼©å†™å½¢å¼ï¼Œå› ä¸ºå®ƒè¯•å›¾æ›¿æ¢ä¸¤ä¸ªç›¸é‚»çš„å­å­—ç¬¦ä¸²ã€‚

ç¼©å†™çš„ **é•¿åº¦** æ˜¯æœªè¢«æ›¿æ¢çš„å­—æ¯æ•°åŠ ä¸Šè¢«æ›¿æ¢çš„å­—ç¬¦ä¸²æ•°ã€‚ä¾‹å¦‚ï¼Œç¼©å†™ `"s10n"` çš„é•¿åº¦ä¸º `3`ï¼ˆ`2` ä¸ªå­—æ¯ + `1` ä¸ªå­å­—ç¬¦ä¸²ï¼‰ï¼Œè€Œ
`"su3i1u2on"` çš„é•¿åº¦ä¸º `9`ï¼ˆ`6` ä¸ªå­—æ¯ + `3` å­å­—ç¬¦ä¸²ï¼‰ã€‚

ç»™ä½ ä¸€ä¸ªç›®æ ‡å­—ç¬¦ä¸² `target` å’Œä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ `dictionary` ä½œä¸ºå­—å…¸ï¼Œä¸º __`target` æ‰¾å‡ºå¹¶è¿”å›ä¸€ä¸ª **æœ€çŸ­**
é•¿åº¦çš„ç¼©å†™å­—ç¬¦ä¸²ï¼ŒåŒæ—¶è¿™ä¸ªç¼©å†™å­—ç¬¦ä¸² **ä¸æ˜¯** å­—å…¸ `dictionary` ä¸­å…¶ä»–å­—ç¬¦ä¸²çš„ç¼©å†™å½¢å¼ã€‚å¦‚æœæœ‰å¤šä¸ªæœ‰æ•ˆç­”æ¡ˆï¼Œå¯ä»¥è¿”å›å…¶ä¸­ä»»æ„ä¸€ä¸ªã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** target = "apple", dictionary = ["blade"]
> 
> **è¾“å‡ºï¼š** "a4"
> 
> **è§£é‡Šï¼š** "apple" çš„æœ€çŸ­ç¼©å†™å½¢å¼ä¸º "5" ï¼Œä½†è¿™ä¹Ÿæ˜¯ "blade" çš„ç¼©å†™å½¢å¼ä¹‹ä¸€ã€‚
> 
> ä¸‹ä¸€ç»„æœ€çŸ­ç¼©å†™æ˜¯ "a4" å’Œ "4e" ï¼Œå…¶ä¸­ "4e" ä¹Ÿæ˜¯ "blade" çš„ç¼©å†™å½¢å¼ä¹‹ä¸€ï¼Œè€Œ "a4" ä¸æ˜¯ã€‚
> 
> å› æ­¤ï¼Œè¿”å› "a4" ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** target = "apple", dictionary = ["blade","plain","amber"]
> 
> **è¾“å‡ºï¼š** "1p3"
> 
> **è§£é‡Šï¼š** "5" åŒæ—¶æ˜¯ "apple" å’Œå­—å…¸ä¸­æ‰€æœ‰å•è¯çš„ç¼©å†™å½¢å¼ã€‚
> 
> "a4" åŒæ—¶æ˜¯ "apple" å’Œ "amber" çš„ç¼©å†™å½¢å¼ã€‚
> 
> "4e" åŒæ—¶æ˜¯ "apple" å’Œ "blade" çš„ç¼©å†™å½¢å¼ã€‚
> 
> "1p3"ã€"2p2" å’Œ "3l1" æ˜¯ "apple" çš„ä¸‹ä¸€ç»„æœ€çŸ­ç¼©å†™å½¢å¼ã€‚
> 
> å› ä¸ºå®ƒä»¬ä¸æ˜¯å­—å…¸ä¸­å…¶ä»–å•è¯çš„ç¼©å†™å½¢å¼ï¼Œè¿”å›å…¶ä¸­ä»»æ„ä¸€ä¸ªéƒ½æ˜¯æ­£ç¡®çš„ã€‚
> 
> 



**æç¤ºï¼š**

  * `target.length == m`
  * `dictionary.length == n`
  * `1 <= m <= 21`
  * `0 <= n <= 1000`
  * `1 <= dictionary[i].length <= 100`
  * å¦‚æœ `n > 0` ï¼Œé‚£ä¹ˆ `log2(n) + m <= 21`
  * `target` å’Œ `dictionary[i]` ä»…åŒ…å«å°å†™å­—ç¬¦
  * `dictionary` ä¸åŒ…å« `target`ã€‚




## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 320 | [åˆ—ä¸¾å•è¯çš„å…¨éƒ¨ç¼©å†™ ğŸ”’](https://leetcode.com/problems/generalized-abbreviation) |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`å›æº¯`](/tag/backtracking.md) | <font color=#ffb800>Medium</font> |
| 408 | [æœ‰æ•ˆå•è¯ç¼©å†™ ğŸ”’](https://leetcode.com/problems/valid-word-abbreviation) |  |  [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | <font color=#15bd66>Easy</font> |
| 527 | [å•è¯ç¼©å†™ ğŸ”’](https://leetcode.com/problems/word-abbreviation) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`å­—å…¸æ ‘`](/tag/trie.md) [`æ•°ç»„`](/tag/array.md) `2+` | <font color=#ff334b>Hard</font> |