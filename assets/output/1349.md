# [1349. å‚åŠ è€ƒè¯•çš„æœ€å¤§å­¦ç”Ÿæ•°](https://2xiao.github.io/leetcode-js/problem/1349.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`çŠ¶æ€å‹ç¼©`](/tag/bitmask.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-students-taking-exam) [`LeetCode`](https://leetcode.com/problems/maximum-students-taking-exam)

## é¢˜ç›®

Given a `m * n` matrix `seats`  that represent seats distributions in a
classroom. If a seat is broken, it is denoted by `'#'` character otherwise it
is denoted by a `'.'` character.

Students can see the answers of those sitting next to the left, right, upper
left and upper right, but he cannot see the answers of the student sitting
directly in front or behind him. Return the **maximum** number of students
that can take the exam together without any cheating being possible.

Students must be placed in seats in good condition.



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/01/29/image.png)

> Input: seats = [["#",".","#","#",".","#"],
> 
> > 
> > 
> > 
> > 
> [".","#","#","#","#","."],
> 
> > 
> > 
> > 
> > 
> ["#",".","#","#",".","#"]]
> 
> Output: 4
> 
> Explanation: Teacher can place 4 students in available seats so they don't cheat on the exam. 

**Example 2:**

> Input: seats = [[".","#"],
> 
> > 
> > 
> > 
> > 
> ["#","#"],
> 
> > 
> > 
> > 
> > 
> ["#","."],
> 
> > 
> > 
> > 
> > 
> ["#","#"],
> 
> > 
> > 
> > 
> > 
> [".","#"]]
> 
> Output: 3
> 
> Explanation: Place all students in available seats. 
> 
> 

**Example 3:**

> Input: seats = [["#",".","**.** ",".","#"],
> 
> > 
> > 
> > 
> > 
> ["**.** ","#","**.** ","#","**.** "],
> 
> > 
> > 
> > 
> > 
> ["**.** ",".","#",".","**.** "],
> 
> > 
> > 
> > 
> > 
> ["**.** ","#","**.** ","#","**.** "],
> 
> > 
> > 
> > 
> > 
> ["#",".","**.** ",".","#"]]
> 
> Output: 10
> 
> Explanation: Place students in available seats in column 1, 3 and 5.

**Constraints:**

  * `seats` contains only characters `'.' and``'#'.`
  * `m == seats.length`
  * `n == seats[i].length`
  * `1 <= m <= 8`
  * `1 <= n <= 8`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `m * n` çš„çŸ©é˜µ `seats` è¡¨ç¤ºæ•™å®¤ä¸­çš„åº§ä½åˆ†å¸ƒã€‚å¦‚æœåº§ä½æ˜¯åçš„ï¼ˆä¸å¯ç”¨ï¼‰ï¼Œå°±ç”¨ `'#'` è¡¨ç¤ºï¼›å¦åˆ™ï¼Œç”¨ `'.'` è¡¨ç¤ºã€‚

å­¦ç”Ÿå¯ä»¥çœ‹åˆ°å·¦ä¾§ã€å³ä¾§ã€å·¦ä¸Šã€å³ä¸Šè¿™å››ä¸ªæ–¹å‘ä¸Šç´§é‚»ä»–çš„å­¦ç”Ÿçš„ç­”å·ï¼Œä½†æ˜¯çœ‹ä¸åˆ°ç›´æ¥ååœ¨ä»–å‰é¢æˆ–è€…åé¢çš„å­¦ç”Ÿçš„ç­”å·ã€‚è¯·ä½ è®¡ç®—å¹¶è¿”å›è¯¥è€ƒåœºå¯ä»¥å®¹çº³çš„åŒæ—¶å‚åŠ è€ƒè¯•ä¸”æ— æ³•ä½œå¼Šçš„
**æœ€å¤§  **å­¦ç”Ÿäººæ•°ã€‚

å­¦ç”Ÿå¿…é¡»ååœ¨çŠ¶å†µè‰¯å¥½çš„åº§ä½ä¸Šã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/02/09/image.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** seats = [["#",".","#","#",".","#"],
> 
> > 
> > 
> > 
>   [".","#","#","#","#","."],
> 
> > 
> > 
> > 
>   ["#",".","#","#",".","#"]]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** æ•™å¸ˆå¯ä»¥è®© 4 ä¸ªå­¦ç”Ÿååœ¨å¯ç”¨çš„åº§ä½ä¸Šï¼Œè¿™æ ·ä»–ä»¬å°±æ— æ³•åœ¨è€ƒè¯•ä¸­ä½œå¼Šã€‚ 
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** seats = [[".","#"],
> 
> > 
> > 
> > 
>   ["#","#"],
> 
> > 
> > 
> > 
>   ["#","."],
> 
> > 
> > 
> > 
>   ["#","#"],
> 
> > 
> > 
> > 
>   [".","#"]]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** è®©æ‰€æœ‰å­¦ç”Ÿååœ¨å¯ç”¨çš„åº§ä½ä¸Šã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** seats = [["#",".","**.** ",".","#"],
> 
> > 
> > 
> > 
>   ["**.** ","#","**.** ","#","**.** "],
> 
> > 
> > 
> > 
>   ["**.** ",".","#",".","**.** "],
> 
> > 
> > 
> > 
>   ["**.** ","#","**.** ","#","**.** "],
> 
> > 
> > 
> > 
>   ["#",".","**.** ",".","#"]]
> 
> **è¾“å‡ºï¼š** 10
> 
> **è§£é‡Šï¼š** è®©å­¦ç”Ÿååœ¨ç¬¬ 1ã€3 å’Œ 5 åˆ—çš„å¯ç”¨åº§ä½ä¸Šã€‚
> 
> 



**æç¤ºï¼š**

  * `seats` åªåŒ…å«å­—ç¬¦ `'.' å’Œ``'#'`
  * `m == seats.length`
  * `n == seats[i].length`
  * `1 <= m <= 8`
  * `1 <= n <= 8`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```