# [3041. ä¿®æ”¹æ•°ç»„åæœ€å¤§åŒ–æ•°ç»„ä¸­çš„è¿ç»­å…ƒç´ æ•°ç›®](https://leetcode.com/problems/maximize-consecutive-elements-in-an-array-after-modification)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md) [`æ’åº`](/outline/tag/sorting.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximize-consecutive-elements-in-an-array-after-modification)

## é¢˜ç›®

You are given a **0-indexed** array `nums` consisting of **positive**
integers.

Initially, you can increase the value of **any** element in the array by **at
most** `1`.

After that, you need to select **one or more** elements from the final array
such that those elements are **consecutive** when sorted in increasing order.
For example, the elements `[3, 4, 5]` are consecutive while `[3, 4, 6]` and
`[1, 1, 2, 3]` are not.

Return _the**maximum** number of elements that you can select_.



**Example 1:**

> Input: nums = [2,1,5,1,1]
> 
> Output: 3
> 
> Explanation: We can increase the elements at indices 0 and 3. The resulting array is nums = [3,1,5,2,1].
> 
> We select the elements [_**3**_ ,_**1**_ ,5,_**2**_ ,1] and we sort them to obtain [1,2,3], which are consecutive.
> 
> It can be shown that we cannot select more than 3 consecutive elements.

**Example 2:**

> Input: nums = [1,4,7,10]
> 
> Output: 1
> 
> Explanation: The maximum consecutive elements that we can select is 1.

**Constraints:**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^6`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0**  å¼€å§‹åªåŒ…å« **æ­£**  æ•´æ•°çš„æ•°ç»„ `nums` ã€‚

ä¸€å¼€å§‹ï¼Œä½ å¯ä»¥å°†æ•°ç»„ä¸­ **ä»»æ„æ•°é‡** å…ƒç´ å¢åŠ  **è‡³å¤š** `1` ã€‚

ä¿®æ”¹åï¼Œä½ å¯ä»¥ä»æœ€ç»ˆæ•°ç»„ä¸­é€‰æ‹© **ä¸€ä¸ªæˆ–è€…æ›´å¤š**  å…ƒç´ ï¼Œå¹¶ç¡®ä¿è¿™äº›å…ƒç´ å‡åºæ’åºåæ˜¯ **è¿ç»­**  çš„ã€‚æ¯”æ–¹è¯´ï¼Œ`[3, 4, 5]` æ˜¯è¿ç»­çš„ï¼Œä½†æ˜¯
`[3, 4, 6]` å’Œ `[1, 1, 2, 3]` ä¸æ˜¯è¿ç»­çš„ã€‚

è¯·ä½ è¿”å› **æœ€å¤š**  å¯ä»¥é€‰å‡ºçš„å…ƒç´ æ•°ç›®ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [2,1,5,1,1]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** æˆ‘ä»¬å°†ä¸‹æ ‡ 0 å’Œ 3 å¤„çš„å…ƒç´ å¢åŠ  1 ï¼Œå¾—åˆ°ç»“æœæ•°ç»„ nums = [3,1,5,2,1] ã€‚
> 
> æˆ‘ä»¬é€‰æ‹©å…ƒç´  [_**3**_ ,_**1**_ ,5,_**2**_ ,1] å¹¶å°†å®ƒä»¬æ’åºå¾—åˆ° [1,2,3] ï¼Œæ˜¯è¿ç»­å…ƒç´ ã€‚
> 
> æœ€å¤šå¯ä»¥å¾—åˆ° 3 ä¸ªè¿ç»­å…ƒç´ ã€‚

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,4,7,10]
> 
> **è¾“å‡ºï¼š** 1
> 
> **è§£é‡Šï¼š** æˆ‘ä»¬å¯ä»¥é€‰æ‹©çš„æœ€å¤šå…ƒç´ æ•°ç›®æ˜¯ 1 ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^6`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```