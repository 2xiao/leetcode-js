---
title: 490. 迷宫 🔒
description: LeetCode 490. 迷宫 🔒题解，The Maze，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 490. 迷宫 🔒
  - 迷宫
  - The Maze
  - 解题思路
  - 深度优先搜索
  - 广度优先搜索
  - 数组
  - 矩阵
---

# 490. 迷宫 🔒

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`深度优先搜索`](/tag/depth-first-search.md) [`广度优先搜索`](/tag/breadth-first-search.md) [`数组`](/tag/array.md) [`矩阵`](/tag/matrix.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/the-maze) [`LeetCode`](https://leetcode.com/problems/the-maze)

## 题目

There is a ball in a `maze` with empty spaces (represented as `0`) and walls
(represented as `1`). The ball can go through the empty spaces by rolling
**up, down, left or right** , but it won't stop rolling until hitting a wall.
When the ball stops, it could choose the next direction.

Given the `m x n` `maze`, the ball's `start` position and the `destination`,
where `start = [startrow, startcol]` and `destination = [destinationrow,
destinationcol]`, return `true` if the ball can stop at the destination,
otherwise return `false`.

You may assume that **the borders of the maze are all walls** (see examples).



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0400-0499/0490.The%20Maze/images/maze1-1-grid.jpg)

> Input: maze = [[0,0,1,0,0],[0,0,0,0,0],[0,0,0,1,0],[1,1,0,1,1],[0,0,0,0,0]], start = [0,4], destination = [4,4]
> 
> Output: true
> 
> Explanation: One possible way is : left -> down -> left -> down -> right -> down -> right.

**Example 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0400-0499/0490.The%20Maze/images/maze1-2-grid.jpg)

> Input: maze = [[0,0,1,0,0],[0,0,0,0,0],[0,0,0,1,0],[1,1,0,1,1],[0,0,0,0,0]], start = [0,4], destination = [3,2]
> 
> Output: false
> 
> Explanation: There is no way for the ball to stop at the destination. Notice that you can pass through the destination but you cannot stop there.

**Example 3:**

> Input: maze = [[0,0,0,0,0],[1,1,0,0,1],[0,0,0,0,0],[0,1,0,0,1],[0,1,0,0,0]], start = [4,3], destination = [0,1]
> 
> Output: false

**Constraints:**

  * `m == maze.length`
  * `n == maze[i].length`
  * `1 <= m, n <= 100`
  * `maze[i][j]` is `0` or `1`.
  * `start.length == 2`
  * `destination.length == 2`
  * `0 <= startrow, destinationrow < m`
  * `0 <= startcol, destinationcol < n`
  * Both the ball and the destination exist in an empty space, and they will not be in the same position initially.
  * The maze contains **at least 2 empty spaces**.


## 题目大意

由空地（用 `0` 表示）和墙（用 `1` 表示）组成的迷宫 `maze` 中有一个球。球可以途经空地向**上、下、左、右**
四个方向滚动，且在遇到墙壁前不会停止滚动。当球停下时，可以选择向下一个方向滚动。

给你一个大小为 `m x n` 的迷宫 `maze` ，以及球的初始位置 `start` 和目的地 `destination` ，其中 `start =
[startrow, startcol]` 且 `destination = [destinationrow, destinationcol]`
。请你判断球能否在目的地停下：如果可以，返回 `true` ；否则，返回 `false` 。

你可以 **假定迷宫的边缘都是墙壁** （参考示例）。



**示例 1：**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0400-0499/0490.The%20Maze/images/maze1-1-grid.jpg)

> 
> 
> 
> 
> 
> **输入：** maze = [[0,0,1,0,0],[0,0,0,0,0],[0,0,0,1,0],[1,1,0,1,1],[0,0,0,0,0]], start = [0,4], destination = [4,4]
> 
> **输出：** true
> 
> **解释：** 一种可能的路径是 : 左 -> 下 -> 左 -> 下 -> 右 -> 下 -> 右。
> 
> 

**示例 2：**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0400-0499/0490.The%20Maze/images/maze1-2-grid.jpg)

> 
> 
> 
> 
> 
> **输入：** maze = [[0,0,1,0,0],[0,0,0,0,0],[0,0,0,1,0],[1,1,0,1,1],[0,0,0,0,0]], start = [0,4], destination = [3,2]
> 
> **输出：** false
> 
> **解释：** 不存在能够使球停在目的地的路径。注意，球可以经过目的地，但无法在那里停驻。
> 
> 

**示例 3：**

> 
> 
> 
> 
> 
> **输入：** maze = [[0,0,0,0,0],[1,1,0,0,1],[0,0,0,0,0],[0,1,0,0,1],[0,1,0,0,0]], start = [4,3], destination = [0,1]
> 
> **输出：** false
> 
> 



**提示：**

  * `m == maze.length`
  * `n == maze[i].length`
  * `1 <= m, n <= 100`
  * `maze[i][j]` is `0` or `1`.
  * `start.length == 2`
  * `destination.length == 2`
  * `0 <= startrow, destinationrow < m`
  * `0 <= startcol, destinationcol < n`
  * 球和目的地都在空地上，且初始时它们不在同一位置
  * 迷宫 **至少包括 2 块空地**


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 499 | 迷宫 III 🔒 |  |  [`深度优先搜索`](/tag/depth-first-search.md) [`广度优先搜索`](/tag/breadth-first-search.md) [`图`](/tag/graph.md) `5+` | 🔴 | [🀄️](https://leetcode.cn/problems/the-maze-iii) [🔗](https://leetcode.com/problems/the-maze-iii) |
| 505 | 迷宫 II 🔒 |  |  [`深度优先搜索`](/tag/depth-first-search.md) [`广度优先搜索`](/tag/breadth-first-search.md) [`图`](/tag/graph.md) `4+` | 🟠 | [🀄️](https://leetcode.cn/problems/the-maze-ii) [🔗](https://leetcode.com/problems/the-maze-ii) |