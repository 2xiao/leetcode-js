---
title: 3369. 设计数组统计跟踪器 🔒
description: LeetCode 3369. 设计数组统计跟踪器 🔒题解，Design an Array Statistics Tracker，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 3369. 设计数组统计跟踪器 🔒
  - 设计数组统计跟踪器
  - Design an Array Statistics Tracker
  - 解题思路
  - 设计
  - 队列
  - 哈希表
  - 二分查找
  - 数据流
  - 有序集合
  - 堆（优先队列）
---

# 3369. 设计数组统计跟踪器 🔒

🔴 <font color=#ff334b>Hard</font>&emsp; 🔖&ensp; [`设计`](/tag/design.md) [`队列`](/tag/queue.md) [`哈希表`](/tag/hash-table.md) [`二分查找`](/tag/binary-search.md) [`数据流`](/tag/data-stream.md) [`有序集合`](/tag/ordered-set.md) [`堆（优先队列）`](/tag/heap-priority-queue.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/design-an-array-statistics-tracker) [`LeetCode`](https://leetcode.com/problems/design-an-array-statistics-tracker)

## 题目

Design a data structure that keeps track of the values in it and answers some
queries regarding their mean, median, and mode.

Implement the `StatisticsTracker` class.

  * `StatisticsTracker()`: Initialize the `StatisticsTracker` object with an empty array.
  * `void addNumber(int number)`: Add `number` to the data structure.
  * `void removeFirstAddedNumber()`: Remove the earliest added number from the data structure.
  * `int getMean()`: Return the floored **mean** of the numbers in the data structure.
  * `int getMedian()`: Return the **median** of the numbers in the data structure.
  * `int getMode()`: Return the **mode** of the numbers in the data structure. If there are multiple modes, return the smallest one.

**Note** :

  * The **mean** of an array is the sum of all the values divided by the number of values in the array.
  * The **median** of an array is the middle element of the array when it is sorted in non-decreasing order. If there are two choices for a median, the larger of the two values is taken.
  * The **mode** of an array is the element that appears most often in the array.



**Example 1:**

**Input:**  
["StatisticsTracker", "addNumber", "addNumber", "addNumber", "addNumber",
"getMean", "getMedian", "getMode", "removeFirstAddedNumber", "getMode"]  
[[], [4], [4], [2], [3], [], [], [], [], []]

**Output:**  
[null, null, null, null, null, 3, 4, 4, null, 2]

**Explanation**

StatisticsTracker statisticsTracker = new StatisticsTracker();  
statisticsTracker.addNumber(4); // The data structure now contains [4]  
statisticsTracker.addNumber(4); // The data structure now contains [4, 4]  
statisticsTracker.addNumber(2); // The data structure now contains [4, 4, 2]  
statisticsTracker.addNumber(3); // The data structure now contains [4, 4, 2,
3]  
statisticsTracker.getMean(); // return 3  
statisticsTracker.getMedian(); // return 4  
statisticsTracker.getMode(); // return 4  
statisticsTracker.removeFirstAddedNumber(); // The data structure now contains
[4, 2, 3]  
statisticsTracker.getMode(); // return 2

**Example 2:**

**Input:**  
["StatisticsTracker", "addNumber", "addNumber", "getMean",
"removeFirstAddedNumber", "addNumber", "addNumber", "removeFirstAddedNumber",
"getMedian", "addNumber", "getMode"]  
[[], [9], [5], [], [], [5], [6], [], [], [8], []]

**Output:**  
[null, null, null, 7, null, null, null, null, 6, null, 5]

**Explanation**

StatisticsTracker statisticsTracker = new StatisticsTracker();  
statisticsTracker.addNumber(9); // The data structure now contains [9]  
statisticsTracker.addNumber(5); // The data structure now contains [9, 5]  
statisticsTracker.getMean(); // return 7  
statisticsTracker.removeFirstAddedNumber(); // The data structure now contains
[5]  
statisticsTracker.addNumber(5); // The data structure now contains [5, 5]  
statisticsTracker.addNumber(6); // The data structure now contains [5, 5, 6]  
statisticsTracker.removeFirstAddedNumber(); // The data structure now contains
[5, 6]  
statisticsTracker.getMedian(); // return 6  
statisticsTracker.addNumber(8); // The data structure now contains [5, 6, 8]  
statisticsTracker.getMode(); // return 5



**Constraints:**

  * `1 <= number <= 10^9`
  * At most, `10^5` calls will be made to `addNumber`, `removeFirstAddedNumber`, `getMean`, `getMedian`, and `getMode` in total.
  * `removeFirstAddedNumber`, `getMean`, `getMedian`, and `getMode` will be called only if there is at least one element in the data structure.


## 题目大意

设计一个数据结构来跟踪它其中的值，并回答一些有关其平均值、中位数和众数的询问。

实现 `StatisticsTracker` 类。

  * `StatisticsTracker()`：用空数组初始化 `StatisticsTracker` 对象。
  * `void addNumber(int number)`：将 `number` 添加到数据结构中。
  * `void removeFirstAddedNumber()`：从数据结构删除最早添加的数字。
  * `int getMean()`：返回数据结构中数字向下取整的 **平均值** 。
  * `int getMedian()`：返回数据结构中数字的 **中位数** 。
  * `int getMode()`：返回数据结构中数字的 **众数** 。如果有多个众数，返回最小的那个。

**注意：**

  * 数组的 **平均值** 是所有值的和除以数组中值的数量。
  * 数组的 **中位数** 是在非递减顺序排序后数组的中间元素。如果中位数有两个选择，则取两个值中较大的一个。
  * 数组的 **众数**  是数组中出现次数最多的元素。



**示例 1：**

**输入：**  
["StatisticsTracker", "addNumber", "addNumber", "addNumber", "addNumber",
"getMean", "getMedian", "getMode", "removeFirstAddedNumber", "getMode"]  
[[], [4], [4], [2], [3], [], [], [], [], []]

**输出：**  
[null, null, null, null, null, 3, 4, 4, null, 2]

**解释：**

StatisticsTracker statisticsTracker = new StatisticsTracker();  
statisticsTracker.addNumber(4); // 现在数据结构中有 [4]  
statisticsTracker.addNumber(4); // 现在数据结构中有 [4, 4]  
statisticsTracker.addNumber(2); // 现在数据结构中有 [4, 4, 2]  
statisticsTracker.addNumber(3); // 现在数据结构中有 [4, 4, 2, 3]  
statisticsTracker.getMean(); // return 3  
statisticsTracker.getMedian(); // return 4  
statisticsTracker.getMode(); // return 4  
statisticsTracker.removeFirstAddedNumber(); // 现在数据结构中有 [4, 2, 3]  
statisticsTracker.getMode(); // return 2

**示例 2：**

**输入：**  
["StatisticsTracker", "addNumber", "addNumber", "getMean",
"removeFirstAddedNumber", "addNumber", "addNumber", "removeFirstAddedNumber",
"getMedian", "addNumber", "getMode"]  
[[], [9], [5], [], [], [5], [6], [], [], [8], []]

**输出：**  
[null, null, null, 7, null, null, null, null, 6, null, 5]

**解释：**

StatisticsTracker statisticsTracker = new StatisticsTracker();  
statisticsTracker.addNumber(9); // 现在数据结构中有 [9]  
statisticsTracker.addNumber(5); // 现在数据结构中有 [9, 5]  
statisticsTracker.getMean(); // return 7  
statisticsTracker.removeFirstAddedNumber(); // 现在数据结构中有 [5]  
statisticsTracker.addNumber(5); // 现在数据结构中有 [5, 5]  
statisticsTracker.addNumber(6); // 现在数据结构中有 [5, 5, 6]  
statisticsTracker.removeFirstAddedNumber(); // 现在数据结构中有 [5, 6]  
statisticsTracker.getMedian(); // return 6  
statisticsTracker.addNumber(8); // 现在数据结构中有 [5, 6, 8]  
statisticsTracker.getMode(); // return 5



**提示：**

  * `1 <= number <= 10^9`
  * `addNumber`，`removeFirstAddedNumber`，`getMean`，`getMedian` 和 `getMode` 的总调用次数最多为 `10^5`。
  * `removeFirstAddedNumber`，`getMean`，`getMedian` 和 `getMode` 只会在数据结构中至少有一个元素时被调用。


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```