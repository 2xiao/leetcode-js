# [1503. æ‰€æœ‰èš‚èšæ‰ä¸‹æ¥å‰çš„æœ€åä¸€åˆ»](https://leetcode.com/problems/last-moment-before-all-ants-fall-out-of-a-plank)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è„‘ç­‹æ€¥è½¬å¼¯`](/leetcode/outline/tag/brainteaser.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`æ¨¡æ‹Ÿ`](/leetcode/outline/tag/simulation.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/last-moment-before-all-ants-fall-out-of-a-plank)


## é¢˜ç›®

We have a wooden plank of the length `n` **units**. Some ants are walking on
the plank, each ant moves with a speed of **1 unit per second**. Some of the
ants move to the **left** , the other move to the **right**.

When two ants moving in two **different** directions meet at some point, they
change their directions and continue moving again. Assume changing directions
does not take any additional time.

When an ant reaches **one end** of the plank at a time `t`, it falls out of
the plank immediately.

Given an integer `n` and two integer arrays `left` and `right`, the positions
of the ants moving to the left and the right, return _the moment when the last
ant(s) fall out of the plank_.



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/06/17/ants.jpg)

> Input: n = 4, left = [4,3], right = [0,1]
> 
> Output: 4
> 
> Explanation: In the image above:
> 
> -The ant at index 0 is named A and going to the right.
> 
> -The ant at index 1 is named B and going to the right.
> 
> -The ant at index 3 is named C and going to the left.
> 
> -The ant at index 4 is named D and going to the left.
> 
> The last moment when an ant was on the plank is t = 4 seconds. After that, it falls immediately out of the plank. (i.e., We can say that at t = 4.0000000001, there are no ants on the plank).

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/06/17/ants2.jpg)

> Input: n = 7, left = [], right = [0,1,2,3,4,5,6,7]
> 
> Output: 7
> 
> Explanation: All ants are going to the right, the ant at index 0 needs 7 seconds to fall.

**Example 3:**

![](https://assets.leetcode.com/uploads/2020/06/17/ants3.jpg)

> Input: n = 7, left = [0,1,2,3,4,5,6,7], right = []
> 
> Output: 7
> 
> Explanation: All ants are going to the left, the ant at index 7 needs 7 seconds to fall.

**Constraints:**

  * `1 <= n <= 10^4`
  * `0 <= left.length <= n + 1`
  * `0 <= left[i] <= n`
  * `0 <= right.length <= n + 1`
  * `0 <= right[i] <= n`
  * `1 <= left.length + right.length <= n + 1`
  * All values of `left` and `right` are unique, and each value can appear **only in one** of the two arrays.


## é¢˜ç›®å¤§æ„

æœ‰ä¸€å—æœ¨æ¿ï¼Œé•¿åº¦ä¸º `n` ä¸ª **å•ä½** ã€‚ä¸€äº›èš‚èšåœ¨æœ¨æ¿ä¸Šç§»åŠ¨ï¼Œæ¯åªèš‚èšéƒ½ä»¥ **æ¯ç§’ä¸€ä¸ªå•ä½** çš„é€Ÿåº¦ç§»åŠ¨ã€‚å…¶ä¸­ï¼Œä¸€éƒ¨åˆ†èš‚èšå‘ **å·¦**
ç§»åŠ¨ï¼Œå…¶ä»–èš‚èšå‘ **å³** ç§»åŠ¨ã€‚

å½“ä¸¤åªå‘ **ä¸åŒ** æ–¹å‘ç§»åŠ¨çš„èš‚èšåœ¨æŸä¸ªç‚¹ç›¸é‡æ—¶ï¼Œå®ƒä»¬ä¼šåŒæ—¶æ”¹å˜ç§»åŠ¨æ–¹å‘å¹¶ç»§ç»­ç§»åŠ¨ã€‚å‡è®¾æ›´æ”¹æ–¹å‘ä¸ä¼šèŠ±è´¹ä»»ä½•é¢å¤–æ—¶é—´ã€‚

è€Œå½“èš‚èšåœ¨æŸä¸€æ—¶åˆ» `t` åˆ°è¾¾æœ¨æ¿çš„ä¸€ç«¯æ—¶ï¼Œå®ƒç«‹å³ä»æœ¨æ¿ä¸Šæ‰ä¸‹æ¥ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` å’Œä¸¤ä¸ªæ•´æ•°æ•°ç»„ `left` ä»¥åŠ `right` ã€‚ä¸¤ä¸ªæ•°ç»„åˆ†åˆ«æ ‡è¯†å‘å·¦æˆ–è€…å‘å³ç§»åŠ¨çš„èš‚èšåœ¨ `t = 0`
æ—¶çš„ä½ç½®ã€‚è¯·ä½ è¿”å›æœ€åä¸€åªèš‚èšä»æœ¨æ¿ä¸Šæ‰ä¸‹æ¥çš„æ—¶åˆ»ã€‚



**ç¤ºä¾‹ 1ï¼š**



![](https://assets.leetcode.com/uploads/2020/06/17/ants.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 4, left = [4,3], right = [0,1]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** å¦‚ä¸Šå›¾æ‰€ç¤ºï¼š
> 
> -ä¸‹æ ‡ 0 å¤„çš„èš‚èšå‘½åä¸º A å¹¶å‘å³ç§»åŠ¨ã€‚
> 
> -ä¸‹æ ‡ 1 å¤„çš„èš‚èšå‘½åä¸º B å¹¶å‘å³ç§»åŠ¨ã€‚
> 
> -ä¸‹æ ‡ 3 å¤„çš„èš‚èšå‘½åä¸º C å¹¶å‘å·¦ç§»åŠ¨ã€‚
> 
> -ä¸‹æ ‡ 4 å¤„çš„èš‚èšå‘½åä¸º D å¹¶å‘å·¦ç§»åŠ¨ã€‚
> 
> è¯·æ³¨æ„ï¼Œèš‚èšåœ¨æœ¨æ¿ä¸Šçš„æœ€åæ—¶åˆ»æ˜¯ t = 4 ç§’ï¼Œä¹‹åèš‚èšç«‹å³ä»æœ¨æ¿ä¸Šæ‰ä¸‹æ¥ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´åœ¨ t = 4.0000000001 æ—¶ï¼Œæœ¨æ¿ä¸Šæ²¡æœ‰èš‚èšï¼‰ã€‚

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2020/06/17/ants2.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 7, left = [], right = [0,1,2,3,4,5,6,7]
> 
> **è¾“å‡ºï¼š** 7
> 
> **è§£é‡Šï¼š** æ‰€æœ‰èš‚èšéƒ½å‘å³ç§»åŠ¨ï¼Œä¸‹æ ‡ä¸º 0 çš„èš‚èšéœ€è¦ 7 ç§’æ‰èƒ½ä»æœ¨æ¿ä¸Šæ‰è½ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode.com/uploads/2020/06/17/ants3.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 7, left = [0,1,2,3,4,5,6,7], right = []
> 
> **è¾“å‡ºï¼š** 7
> 
> **è§£é‡Šï¼š** æ‰€æœ‰èš‚èšéƒ½å‘å·¦ç§»åŠ¨ï¼Œä¸‹æ ‡ä¸º 7 çš„èš‚èšéœ€è¦ 7 ç§’æ‰èƒ½ä»æœ¨æ¿ä¸Šæ‰è½ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= n <= 10^4`
  * `0 <= left.length <= n + 1`
  * `0 <= left[i] <= n`
  * `0 <= right.length <= n + 1`
  * `0 <= right[i] <= n`
  * `1 <= left.length + right.length <= n + 1`
  * `left` å’Œ `right` ä¸­çš„æ‰€æœ‰å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸ªå€¼ **åªèƒ½å‡ºç°åœ¨äºŒè€…ä¹‹ä¸€** ä¸­ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2211 | [ç»Ÿè®¡é“è·¯ä¸Šçš„ç¢°æ’æ¬¡æ•°](https://leetcode.com/problems/count-collisions-on-a-road) |  |  [`æ ˆ`](/leetcode/outline/tag/stack.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) [`æ¨¡æ‹Ÿ`](/leetcode/outline/tag/simulation.md) | <font color=#ffb800>Medium</font> |
| 2731 | [ç§»åŠ¨æœºå™¨äºº](https://leetcode.com/problems/movement-of-robots) |  |  [`è„‘ç­‹æ€¥è½¬å¼¯`](/leetcode/outline/tag/brainteaser.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å‰ç¼€å’Œ`](/leetcode/outline/tag/prefix-sum.md) `1+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
