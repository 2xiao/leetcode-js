---
title: 2676. èŠ‚æµ ğŸ”’
description: LeetCode,2676. èŠ‚æµ ğŸ”’,èŠ‚æµ,Throttle,è§£é¢˜æ€è·¯
keywords:
  - LeetCode
  - 2676. èŠ‚æµ ğŸ”’
  - èŠ‚æµ
  - Throttle
  - è§£é¢˜æ€è·¯
---

# 2676. èŠ‚æµ ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/throttle) [`LeetCode`](https://leetcode.com/problems/throttle)

## é¢˜ç›®

Given a function `fn` and a time in milliseconds `t`, return a **throttled**
version of that function.

A **throttled** function is first called without delay and then, for a time
interval of `t` milliseconds, can't be executed but should store the latest
function arguments provided to call `fn` with them after the end of the delay.

For instance, `t = 50ms`, and the function was called at `30ms`, `40ms`, and
`60ms`.

At `30ms`, without delay, the **throttled** function `fn` should be called
with the arguments, and calling the **throttled** function `fn` should be
blocked for the following `t` milliseconds.

At `40ms`, the function should just save arguments.

At `60ms`, arguments should overwrite currently stored arguments from the
second call because the second and third calls are made before `80ms`. Once
the delay has passed, the **throttled** function `fn` should be called with
the latest arguments provided during the delay period, and it should also
create another delay period of `80ms + t`.

![Throttle
Diagram](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2600-2699/2676.Throttle/images/screen-
shot-2023-04-08-at-120313-pm.png)The above diagram shows how throttle will
transform events. Each rectangle represents 100ms and the throttle time is
400ms. Each color represents a different set of inputs.



**Example 1:**

> Input: 
> 
> t = 100, 
> 
> calls = [
> 
>   {"t":20,"inputs":[1]}
> 
> ]
> 
> Output: [{"t":20,"inputs":[1]}]
> 
> Explanation: The 1st call is always called without delay

**Example 2:**

> Input: 
> 
> t = 50, 
> 
> calls = [
> 
>   {"t":50,"inputs":[1]},
> 
>   {"t":75,"inputs":[2]}
> 
> ]
> 
> Output: [{"t":50,"inputs":[1]},{"t":100,"inputs":[2]}]
> 
> Explanation: 
> 
> The 1st is called a function with arguments (1) without delay.
> 
> The 2nd is called at 75ms, within the delay period because 50ms + 50ms = 100ms, so the next call can be reached at 100ms. Therefore, we save arguments from the 2nd call to use them at the callback of the 1st call.

**Example 3:**

> Input: 
> 
> t = 70, 
> 
> calls = [
> 
>   {"t":50,"inputs":[1]},
> 
>   {"t":75,"inputs":[2]},
> 
>   {"t":90,"inputs":[8]},
> 
>   {"t": 140, "inputs":[5,7]},
> 
>   {"t": 300, "inputs": [9,4]}
> 
> ]
> 
> Output: [{"t":50,"inputs":[1]},{"t":120,"inputs":[8]},{"t":190,"inputs":[5,7]},{"t":300,"inputs":[9,4]}]
> 
> Explanation: 
> 
> The 1st is called a function with arguments (1) without delay.
> 
> The 2nd is called at 75ms within the delay period because 50ms + 70ms = 120ms, so it should only save arguments. 
> 
> The 3rd is also called within the delay period, and because we need just the latest function arguments, we overwrite previous ones. After the delay period, we do a callback at 120ms with saved arguments. That callback makes another delay period of 120ms + 70ms = 190ms so that the next function can be called at 190ms.
> 
> The 4th is called at 140ms in the delay period, so it should be called as a callback at 190ms. That will create another delay period of 190ms + 70ms = 260ms.
> 
> The 5th is called at 300ms, but it is after 260ms, so it should be called immediately and should create another delay period of 300ms + 70ms = 370ms.



**Constraints:**

  * `0 <= t <= 1000`
  * `1 <= calls.length <= 10`
  * `0 <= calls[i].t <= 1000`
  * `0 <= calls[i].inputs[j], calls[i].inputs.length <= 10`


## é¢˜ç›®å¤§æ„

ç°ç»™å®šä¸€ä¸ªå‡½æ•° `fn` å’Œä¸€ä¸ªä»¥æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´ `t` ï¼Œè¯·ä½ è¿”å›è¯¥å‡½æ•°çš„ **èŠ‚æµ** ç‰ˆæœ¬ã€‚

**èŠ‚æµ** å‡½æ•°é¦–å…ˆç«‹å³è¢«è°ƒç”¨ï¼Œç„¶ååœ¨ `t` æ¯«ç§’çš„æ—¶é—´é—´éš”å†…ä¸èƒ½å†æ¬¡æ‰§è¡Œï¼Œä½†åº”è¯¥å­˜å‚¨æœ€æ–°çš„å‡½æ•°å‚æ•°ï¼Œä»¥ä¾¿åœ¨å»¶è¿Ÿç»“æŸåä½¿ç”¨è¿™äº›å‚æ•°è°ƒç”¨ `fn` ã€‚

ä¾‹å¦‚ï¼Œ`t = 50ms` ï¼Œå¹¶ä¸”å‡½æ•°åœ¨ `30ms` ã€ `40ms` å’Œ `60ms` æ—¶è¢«è°ƒç”¨ã€‚

åœ¨ `30ms`ï¼Œ**èŠ‚æµ** å‡½æ•° `fn` ä¼šä»¥è¿™äº›å‡½æ•°è°ƒç”¨ï¼Œå¹¶ä¸”å¯¹ **èŠ‚æµ** å‡½æ•° `fn` çš„è°ƒç”¨åœ¨æ¥ä¸‹æ¥çš„ `t` æ¯«ç§’ä¼šè¢«é˜»å¡ã€‚

åœ¨ `40ms`ï¼Œå‡½æ•°åº”å½“åªæ˜¯å­˜å‚¨å‚æ•°ã€‚

åœ¨ `60ms`ï¼Œå‚æ•°åº”è¯¥è¦†ç›–ç¬¬äºŒæ¬¡è°ƒç”¨ä¸­å½“å‰å­˜å‚¨çš„å‚æ•°ï¼Œå› ä¸ºç¬¬äºŒæ¬¡å’Œç¬¬ä¸‰æ¬¡è°ƒç”¨æ˜¯åœ¨ `80ms`
ä¹‹å‰è¿›è¡Œçš„ã€‚å»¶è¿Ÿç»“æŸåï¼Œåº”è¯¥ä½¿ç”¨å»¶è¿ŸæœŸé—´æä¾›çš„æœ€æ–°å‚æ•°æ¥è°ƒç”¨ **èŠ‚æµ** å‡½æ•° `fn`ï¼Œå¹¶ä¸”å®ƒè¿˜åº”è¯¥åˆ›å»ºå¦ä¸€ä¸ª `80ms + t` çš„å»¶è¿Ÿã€‚

![Throttle
Diagram](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2600-2699/2676.Throttle/images/screen-
shot-2023-04-08-at-120313-pm.png)ä¸Šé¢çš„å›¾ç¤ºå±•ç¤ºäº†èŠ‚æµå¦‚ä½•è½¬æ¢äº‹ä»¶ã€‚æ¯ä¸ªçŸ©å½¢ä»£è¡¨100æ¯«ç§’ï¼ŒèŠ‚æµæ—¶é—´ä¸º400æ¯«ç§’ã€‚æ¯ç§é¢œè‰²ä»£è¡¨ä¸åŒçš„è¾“å…¥é›†åˆã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** t = 100, 
> 
> calls = [
> 
>   {"t":20,"inputs":[1]}
> 
> ]
> 
> **è¾“å‡ºï¼š**[{"t":20,"inputs":[1]}]
> 
> **è§£é‡Šï¼š** ç¬¬ä¸€æ¬¡è°ƒç”¨æ€»æ˜¯ç«‹å³æ‰§è¡Œï¼Œæ²¡æœ‰å»¶è¿Ÿã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** t = 50, 
> 
> calls = [
> 
>   {"t":50,"inputs":[1]},
> 
>   {"t":75,"inputs":[2]}
> 
> ]
> 
> **è¾“å‡ºï¼š**[{"t":50,"inputs":[1]},{"t":100,"inputs":[2]}]
> 
> **è§£é‡Šï¼š**
> 
> ç¬¬ä¸€æ¬¡è°ƒç”¨ç«‹å³æ‰§è¡Œå¸¦æœ‰å‚æ•° (1) çš„å‡½æ•°ã€‚ 
> 
> ç¬¬äºŒæ¬¡è°ƒç”¨å‘ç”Ÿåœ¨ 75æ¯«ç§’ æ—¶ï¼Œåœ¨å»¶è¿ŸæœŸé—´å†…ï¼Œå› ä¸º 50æ¯«ç§’ + 50æ¯«ç§’ = 100æ¯«ç§’ï¼Œæ‰€ä»¥ä¸‹ä¸€æ¬¡è°ƒç”¨å¯ä»¥åœ¨ 100æ¯«ç§’ æ—¶æ‰§è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¿å­˜ç¬¬äºŒæ¬¡è°ƒç”¨çš„å‚æ•°ï¼Œä»¥ä¾¿åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨çš„å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** t = 70, 
> 
> calls = [
> 
>   {"t":50,"inputs":[1]},
> 
>   {"t":75,"inputs":[2]},
> 
>   {"t":90,"inputs":[8]},
> 
>   {"t": 140, "inputs":[5,7]},
> 
>   {"t": 300, "inputs": [9,4]}
> 
> ]
> 
> **è¾“å‡ºï¼š**[{"t":50,"inputs":[1]},{"t":120,"inputs":[8]},{"t":190,"inputs":[5,7]},{"t":300,"inputs":[9,4]}]
> 
> **è§£é‡Šï¼š**
> 
> ç¬¬ä¸€æ¬¡è°ƒç”¨ç«‹å³æ‰§è¡Œå¸¦æœ‰å‚æ•° (1) çš„å‡½æ•°ã€‚ 
> 
> ç¬¬äºŒæ¬¡è°ƒç”¨å‘ç”Ÿåœ¨ 75æ¯«ç§’ æ—¶ï¼Œåœ¨å»¶è¿ŸæœŸé—´å†…ï¼Œå› ä¸º 50æ¯«ç§’ + 70æ¯«ç§’ = 120æ¯«ç§’ï¼Œæ‰€ä»¥å®ƒåªåº”ä¿å­˜å‚æ•°ã€‚ 
> 
> ç¬¬ä¸‰æ¬¡è°ƒç”¨ä¹Ÿåœ¨å»¶è¿ŸæœŸé—´å†…ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦æœ€æ–°çš„å‡½æ•°å‚æ•°ï¼Œæ‰€ä»¥è¦†ç›–ä¹‹å‰çš„å‚æ•°ã€‚å»¶è¿ŸæœŸè¿‡åï¼Œåœ¨ 120æ¯«ç§’æ—¶è¿›è¡Œå›è°ƒï¼Œå¹¶ä½¿ç”¨ä¿å­˜çš„å‚æ•°è¿›è¡Œè°ƒç”¨ã€‚è¯¥å›è°ƒä¼šåˆ›å»ºå¦ä¸€ä¸ªå»¶è¿ŸæœŸé—´ï¼Œæ—¶é•¿ä¸º 120æ¯«ç§’ + 70æ¯«ç§’ = 190æ¯«ç§’ï¼Œä»¥ä¾¿ä¸‹ä¸€ä¸ªå‡½æ•°å¯ä»¥åœ¨ 190æ¯«ç§’æ—¶è°ƒç”¨ã€‚ 
> 
> ç¬¬å››æ¬¡è°ƒç”¨å‘ç”Ÿåœ¨ 140æ¯«ç§’ï¼Œåœ¨å»¶è¿ŸæœŸé—´å†…ï¼Œå› æ­¤åº”åœ¨190æ¯«ç§’æ—¶ä½œä¸ºå›è°ƒè¿›è¡Œè°ƒç”¨ã€‚è¿™å°†åˆ›å»ºå¦ä¸€ä¸ªå»¶è¿ŸæœŸé—´ï¼Œæ—¶é•¿ä¸º 190æ¯«ç§’ + 70æ¯«ç§’ = 260æ¯«ç§’ã€‚ 
> 
> ç¬¬äº”æ¬¡è°ƒç”¨å‘ç”Ÿåœ¨ 300æ¯«ç§’ï¼Œä½†å®ƒæ˜¯åœ¨ 260æ¯«ç§’ ä¹‹åï¼Œæ‰€ä»¥åº”ç«‹å³è°ƒç”¨ï¼Œå¹¶åˆ›å»ºå¦ä¸€ä¸ªå»¶è¿ŸæœŸé—´ï¼Œæ—¶é•¿ä¸º 300æ¯«ç§’ + 70æ¯«ç§’ = 370æ¯«ç§’ã€‚



**æç¤ºï¼š**

  * `0 <= t <= 1000`
  * `1 <= calls.length <= 10`
  * `0 <= calls[i].t <= 1000`
  * `0 <= calls[i].inputs[i], calls[i].inputs.length <= 10`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2627 | [å‡½æ•°é˜²æŠ–](https://leetcode.com/problems/debounce) | [[âœ“]](/problem/2627.md) |  | <font color=#ffb800>Medium</font> |
| 2636 | [Promise å¯¹è±¡æ±  ğŸ”’](https://leetcode.com/problems/promise-pool) | [[âœ“]](/problem/2636.md) |  | <font color=#ffb800>Medium</font> |
| 2637 | [æœ‰æ—¶é—´é™åˆ¶çš„ Promise å¯¹è±¡](https://leetcode.com/problems/promise-time-limit) | [[âœ“]](/problem/2637.md) |  | <font color=#ffb800>Medium</font> |