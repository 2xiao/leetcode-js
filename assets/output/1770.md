# [1770. æ‰§è¡Œä¹˜æ³•è¿ç®—çš„æœ€å¤§åˆ†æ•°](https://leetcode.com/problems/maximum-score-from-performing-multiplication-operations)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-score-from-performing-multiplication-operations)

## é¢˜ç›®

You are given two **0-indexed** integer arrays `nums` and `multipliers`**** of
size `n` and `m` respectively, where `n >= m`.

You begin with a score of `0`. You want to perform **exactly** `m` operations.
On the `ith` operation (**0-indexed**) you will:

  * Choose one integer `x` from **either the start or the end** of the array `nums`.
  * Add `multipliers[i] * x` to your score. 
> 
> * Note that `multipliers[0]` corresponds to the first operation, `multipliers[1]` to the second operation, and so on.
  * Remove `x` from `nums`.

Return _the**maximum** score after performing _`m` _operations._



**Example 1:**

> Input: nums = [1,2,3], multipliers = [3,2,1]
> 
> Output: 14
> 
> Explanation:  An optimal solution is as follows:
> - Choose from the end, [1,2,**_3_**], adding 3 * 3 = 9 to the score.
> - Choose from the end, [1,**_2_**], adding 2 * 2 = 4 to the score.
> - Choose from the end, [**_1_**], adding 1 * 1 = 1 to the score.
> 
> The total score is 9 + 4 + 1 = 14.

**Example 2:**

> Input: nums = [-5,-3,-3,-2,7,1], multipliers = [-10,-5,3,4,6]
> 
> Output: 102
> 
> Explanation: An optimal solution is as follows:
> - Choose from the start, [_**-5**_ ,-3,-3,-2,7,1], adding -5 * -10 = 50 to the score.
> - Choose from the start, [**_-3_** ,-3,-2,7,1], adding -3 * -5 = 15 to the score.
> - Choose from the start, [**_-3_** ,-2,7,1], adding -3 * 3 = -9 to the score.
> - Choose from the end, [-2,7,**_1_**], adding 1 * 4 = 4 to the score.
> - Choose from the end, [-2,**_7_**], adding 7 * 6 = 42 to the score. 
> 
> The total score is 50 + 15 - 9 + 4 + 42 = 102.

**Constraints:**

  * `n == nums.length`
  * `m == multipliers.length`
  * `1 <= m <= 300`
  * `m <= n <= 10^5`` `
  * `-1000 <= nums[i], multipliers[i] <= 1000`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸¤ä¸ªé•¿åº¦åˆ†åˆ« `n` å’Œ `m` çš„æ•´æ•°æ•°ç»„ `nums` å’Œ `multipliers`**** ï¼Œå…¶ä¸­ `n >= m` ï¼Œæ•°ç»„ä¸‹æ ‡ **ä» 1
å¼€å§‹** è®¡æ•°ã€‚

åˆå§‹æ—¶ï¼Œä½ çš„åˆ†æ•°ä¸º `0` ã€‚ä½ éœ€è¦æ‰§è¡Œæ°å¥½ `m` æ­¥æ“ä½œã€‚åœ¨ç¬¬ `i` æ­¥æ“ä½œï¼ˆ**ä» 1 å¼€å§‹** è®¡æ•°ï¼‰ä¸­ï¼Œéœ€è¦ï¼š

  * é€‰æ‹©æ•°ç»„ `nums` **å¼€å¤´å¤„æˆ–è€…æœ«å°¾å¤„** çš„æ•´æ•° `x` ã€‚
  * ä½ è·å¾— `multipliers[i] * x` åˆ†ï¼Œå¹¶ç´¯åŠ åˆ°ä½ çš„åˆ†æ•°ä¸­ã€‚
  * å°† `x` ä»æ•°ç»„ `nums` ä¸­ç§»é™¤ã€‚

åœ¨æ‰§è¡Œ __`m` æ­¥æ“ä½œåï¼Œè¿”å› **æœ€å¤§** åˆ†æ•° _ã€‚_

**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,2,3], multipliers = [3,2,1]
> 
> **è¾“å‡ºï¼š** 14
> 
> **è§£é‡Šï¼š** ä¸€ç§æœ€ä¼˜è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š
> - é€‰æ‹©æœ«å°¾å¤„çš„æ•´æ•° 3 ï¼Œ[1,2,**3**] ï¼Œå¾— 3 * 3 = 9 åˆ†ï¼Œç´¯åŠ åˆ°åˆ†æ•°ä¸­ã€‚
> - é€‰æ‹©æœ«å°¾å¤„çš„æ•´æ•° 2 ï¼Œ[1,**2**] ï¼Œå¾— 2 * 2 = 4 åˆ†ï¼Œç´¯åŠ åˆ°åˆ†æ•°ä¸­ã€‚
> - é€‰æ‹©æœ«å°¾å¤„çš„æ•´æ•° 1 ï¼Œ[**1**] ï¼Œå¾— 1 * 1 = 1 åˆ†ï¼Œç´¯åŠ åˆ°åˆ†æ•°ä¸­ã€‚
> 
> æ€»åˆ†æ•°ä¸º 9 + 4 + 1 = 14 ã€‚

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [-5,-3,-3,-2,7,1], multipliers = [-10,-5,3,4,6]
> 
> **è¾“å‡ºï¼š** 102
> 
> **è§£é‡Šï¼š** ä¸€ç§æœ€ä¼˜è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š
> - é€‰æ‹©å¼€å¤´å¤„çš„æ•´æ•° -5 ï¼Œ[**-5** ,-3,-3,-2,7,1] ï¼Œå¾— -5 * -10 = 50 åˆ†ï¼Œç´¯åŠ åˆ°åˆ†æ•°ä¸­ã€‚
> - é€‰æ‹©å¼€å¤´å¤„çš„æ•´æ•° -3 ï¼Œ[**-3** ,-3,-2,7,1] ï¼Œå¾— -3 * -5 = 15 åˆ†ï¼Œç´¯åŠ åˆ°åˆ†æ•°ä¸­ã€‚
> - é€‰æ‹©å¼€å¤´å¤„çš„æ•´æ•° -3 ï¼Œ[**-3** ,-2,7,1] ï¼Œå¾— -3 * 3 = -9 åˆ†ï¼Œç´¯åŠ åˆ°åˆ†æ•°ä¸­ã€‚
> - é€‰æ‹©æœ«å°¾å¤„çš„æ•´æ•° 1 ï¼Œ[-2,7,**1**] ï¼Œå¾— 1 * 4 = 4 åˆ†ï¼Œç´¯åŠ åˆ°åˆ†æ•°ä¸­ã€‚
> - é€‰æ‹©æœ«å°¾å¤„çš„æ•´æ•° 7 ï¼Œ[-2,**7**] ï¼Œå¾— 7 * 6 = 42 åˆ†ï¼Œç´¯åŠ åˆ°åˆ†æ•°ä¸­ã€‚
> 
> æ€»åˆ†æ•°ä¸º 50 + 15 - 9 + 4 + 42 = 102 ã€‚
> 
> 

**æç¤ºï¼š**

  * `n == nums.length`
  * `m == multipliers.length`
  * `1 <= m <= 10^3`
  * `m <= n <= 10^5`` `
  * `-1000 <= nums[i], multipliers[i] <= 1000`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1423 | [å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°](https://leetcode.com/problems/maximum-points-you-can-obtain-from-cards) |  |  [`æ•°ç»„`](/tag/array.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ffb800>Medium</font> |
| 1690 | [çŸ³å­æ¸¸æˆ VII](https://leetcode.com/problems/stone-game-vii) |  |  [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) `1+` | <font color=#ffb800>Medium</font> |
| 2931 | [è´­ä¹°ç‰©å“çš„æœ€å¤§å¼€é”€](https://leetcode.com/problems/maximum-spending-after-buying-items) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md) `2+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
