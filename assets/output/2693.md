---
title: 2693. ä½¿ç”¨è‡ªå®šä¹‰ä¸Šä¸‹æ–‡è°ƒç”¨å‡½æ•°
description: LeetCode 2693. ä½¿ç”¨è‡ªå®šä¹‰ä¸Šä¸‹æ–‡è°ƒç”¨å‡½æ•°é¢˜è§£ï¼ŒCall Function with Custom Contextï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2693. ä½¿ç”¨è‡ªå®šä¹‰ä¸Šä¸‹æ–‡è°ƒç”¨å‡½æ•°
  - ä½¿ç”¨è‡ªå®šä¹‰ä¸Šä¸‹æ–‡è°ƒç”¨å‡½æ•°
  - Call Function with Custom Context
  - è§£é¢˜æ€è·¯
---

# 2693. ä½¿ç”¨è‡ªå®šä¹‰ä¸Šä¸‹æ–‡è°ƒç”¨å‡½æ•°

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/call-function-with-custom-context) [`LeetCode`](https://leetcode.com/problems/call-function-with-custom-context)

## é¢˜ç›®

Enhance all functions to have the `callPolyfill` method. The method accepts an
object `obj` as it's first parameter and any number of additional arguments.
The `obj` becomes the `this` context for the function. The additional
arguments are passed to the function (that the `callPolyfill` method belongs
on).

For example if you had the function:

> 
> 
> 
> 
> 
> function tax(price, taxRate) {
> 
>   const totalCost = price * (1 + taxRate);
> 
>   console.log(`The cost of ${this.item} is ${totalCost}`);
> 
> }
> 
> 

Calling this function like `tax(10, 0.1)` will log `"The cost of undefined is
11"`. This is because the `this` context was not defined.

However, calling the function like `tax.callPolyfill({item: "salad"}, 10,
0.1)` will log `"The cost of salad is 11"`. The `this` context was
appropriately set, and the function logged an appropriate output.

Please solve this without using the built-in `Function.call` method.



**Example 1:**

> Input:
> 
> fn = function add(b) {
> 
>   return this.a + b;
> 
> }
> 
> args = [{"a": 5}, 7]
> 
> Output: 12
> 
> Explanation:
> 
> fn.callPolyfill({"a": 5}, 7); // 12
> 
> callPolyfill sets the "this" context to {"a": 5}. 7 is passed as an argument.

**Example 2:**

> Input: 
> 
> fn = function tax(price, taxRate) { 
> 
>  return `The cost of the ${this.item} is ${price * taxRate}`; 
> 
> }
> 
> args = [{"item": "burger"}, 10, 1.1]
> 
> Output: "The cost of the burger is 11"
> 
> Explanation: callPolyfill sets the "this" context to {"item": "burger"}. 10 and 1.1 are passed as additional arguments.

**Constraints:**

  * `typeof args[0] == 'object' and args[0] != null`
  * `1 <= args.length <= 100`
  * `2 <= JSON.stringify(args[0]).length <= 10^5`


## é¢˜ç›®å¤§æ„

å¢å¼ºæ‰€æœ‰å‡½æ•°ï¼Œä½¿å…¶å…·æœ‰ `callPolyfill` æ–¹æ³•ã€‚è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªå¯¹è±¡ `obj` ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä»¥åŠä»»æ„æ•°é‡çš„é™„åŠ å‚æ•°ã€‚`obj` æˆä¸ºå‡½æ•°çš„
`this` ä¸Šä¸‹æ–‡ã€‚é™„åŠ å‚æ•°å°†ä¼ é€’ç»™è¯¥å‡½æ•°ï¼ˆå³ `callPolyfill` æ–¹æ³•æ‰€å±çš„å‡½æ•°ï¼‰ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä»¥ä¸‹å‡½æ•°ï¼š

> 
> 
> 
> 
> 
> function tax(price, taxRate) {
> 
>   const totalCost = price * (1 + taxRate);
> 
>   console.log(`The cost of ${this.item} is ${totalCost}`);
> 
> }
> 
> 

è°ƒç”¨ `tax(10, 0.1)` å°†è¾“å‡º `"The cost of undefined is 11"` ã€‚è¿™æ˜¯å› ä¸º `this` ä¸Šä¸‹æ–‡æœªå®šä¹‰ã€‚

ç„¶è€Œï¼Œè°ƒç”¨ `tax.callPolyfill({item: "salad"}, 10, 0.1)` å°†è¾“å‡º `"The cost of salad is
11"` ã€‚`this` ä¸Šä¸‹æ–‡è¢«æ­£ç¡®è®¾ç½®ï¼Œå‡½æ•°è¾“å‡ºäº†é€‚å½“çš„ç»“æœã€‚

è¯·åœ¨ä¸ä½¿ç”¨å†…ç½®çš„ `Function.call` æ–¹æ³•çš„æƒ…å†µä¸‹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> fn = function add(b) {
> 
>   return this.a + b;
> 
> }
> 
> args = [{"a": 5}, 7]
> 
> **è¾“å‡ºï¼š** 12
> 
> **è§£é‡Šï¼š**
> 
> fn.callPolyfill({"a": 5}, 7); // 12
> 
> callPolyfill å°† "this" ä¸Šä¸‹æ–‡è®¾ç½®ä¸º {"a": 5} ï¼Œå¹¶å°† 7 ä½œä¸ºå‚æ•°ä¼ é€’ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> fn = function tax(price, taxRate) { 
> 
>  return `The cost of the ${this.item} is ${price * taxRate}`; 
> 
> }
> 
> args = [{"item": "burger"}, 10, 1,1]
> 
> **è¾“å‡ºï¼š** "The cost of the burger is 11"
> 
> **è§£é‡Šï¼š**callPolyfill å°† "this" ä¸Šä¸‹æ–‡è®¾ç½®ä¸º {"item": "burger"} ï¼Œå¹¶å°† 10 å’Œ 1.1 ä½œä¸ºé™„åŠ å‚æ•°ä¼ é€’ã€‚
> 
> 



**æç¤ºï¼š**

  * `typeof args[0] == 'object' and args[0] != null`
  * `1 <= args.length <= 100`
  * `2 <= JSON.stringify(args[0]).length <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```