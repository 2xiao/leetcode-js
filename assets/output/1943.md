# [1943. æè¿°ç»˜ç”»ç»“æœ](https://leetcode.com/problems/describe-the-painting)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`å‰ç¼€å’Œ`](/leetcode/outline/tag/prefix-sum.md) [`æ’åº`](/leetcode/outline/tag/sorting.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/describe-the-painting)


## é¢˜ç›®

There is a long and thin painting that can be represented by a number line.
The painting was painted with multiple overlapping segments where each segment
was painted with a **unique** color. You are given a 2D integer array
`segments`, where `segments[i] = [starti, endi, colori]` represents the
**half-closed segment** `[starti, endi)` with `colori` as the color.

The colors in the overlapping segments of the painting were **mixed** when it
was painted. When two or more colors mix, they form a new color that can be
represented as a **set** of mixed colors.

  * For example, if colors `2`, `4`, and `6` are mixed, then the resulting mixed color is `{2,4,6}`.

For the sake of simplicity, you should only output the **sum** of the elements
in the set rather than the full set.

You want to **describe** the painting with the **minimum** number of non-
overlapping **half-closed segments** of these mixed colors. These segments can
be represented by the 2D array `painting` where `painting[j] = [leftj, rightj,
mixj]` describes a **half-closed segment** `[leftj, rightj)` with the mixed
color **sum** of `mixj`.

  * For example, the painting created with `segments = [[1,4,5],[1,7,7]]` can be described by `painting = [[1,4,12],[4,7,7]]` because: 
> 
> * `[1,4)` is colored `{5,7}` (with a sum of `12`) from both the first and second segments.
> 
> * `[4,7)` is colored `{7}` from only the second segment.

Return _the 2D array_`painting` _describing the finished painting (excluding
any parts that are**not** painted). You may return the segments in **any
order**_.

A **half-closed segment** `[a, b)` is the section of the number line between
points `a` and `b` **including** point `a` and **not including** point `b`.



**Example 1:**

![](https://assets.leetcode.com/uploads/2021/06/18/1.png)

> Input: segments = [[1,4,5],[4,7,7],[1,7,9]]
> 
> Output: [[1,4,14],[4,7,16]]
> 
> Explanation: The painting can be described as follows:
> - [1,4) is colored {5,9} (with a sum of 14) from the first and third segments.
> - [4,7) is colored {7,9} (with a sum of 16) from the second and third segments.

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/06/18/2.png)

> Input: segments = [[1,7,9],[6,8,15],[8,10,7]]
> 
> Output: [[1,6,9],[6,7,24],[7,8,15],[8,10,7]]
> 
> Explanation: The painting can be described as follows:
> - [1,6) is colored 9 from the first segment.
> - [6,7) is colored {9,15} (with a sum of 24) from the first and second segments.
> - [7,8) is colored 15 from the second segment.
> - [8,10) is colored 7 from the third segment.

**Example 3:**

![](https://assets.leetcode.com/uploads/2021/07/04/c1.png)

> Input: segments = [[1,4,5],[1,4,7],[4,7,1],[4,7,11]]
> 
> Output: [[1,4,12],[4,7,12]]
> 
> Explanation: The painting can be described as follows:
> - [1,4) is colored {5,7} (with a sum of 12) from the first and second segments.
> - [4,7) is colored {1,11} (with a sum of 12) from the third and fourth segments.
> 
> Note that returning a single segment [1,7) is incorrect because the mixed color sets are different.

**Constraints:**

  * `1 <= segments.length <= 2 * 10^4`
  * `segments[i].length == 3`
  * `1 <= starti < endi <= 10^5`
  * `1 <= colori <= 10^9`
  * Each `colori` is distinct.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªç»†é•¿çš„ç”»ï¼Œç”¨æ•°è½´è¡¨ç¤ºã€‚è¿™å¹…ç”»ç”±è‹¥å¹²æœ‰é‡å çš„çº¿æ®µè¡¨ç¤ºï¼Œæ¯ä¸ªçº¿æ®µæœ‰ **ç‹¬ä¸€æ— äºŒ**  çš„é¢œè‰²ã€‚ç»™ä½ äºŒç»´æ•´æ•°æ•°ç»„ `segments` ï¼Œå…¶ä¸­
`segments[i] = [starti, endi, colori]` è¡¨ç¤ºçº¿æ®µä¸º **åŠå¼€åŒºé—´**  `[starti, endi)` ä¸”é¢œè‰²ä¸º
`colori` ã€‚

çº¿æ®µé—´é‡å éƒ¨åˆ†çš„é¢œè‰²ä¼šè¢« **æ··åˆ**  ã€‚å¦‚æœæœ‰ä¸¤ç§æˆ–è€…æ›´å¤šé¢œè‰²æ··åˆæ—¶ï¼Œå®ƒä»¬ä¼šå½¢æˆä¸€ç§æ–°çš„é¢œè‰²ï¼Œç”¨ä¸€ä¸ª **é›†åˆ**  è¡¨ç¤ºè¿™ä¸ªæ··åˆé¢œè‰²ã€‚

  * æ¯”æ–¹è¯´ï¼Œå¦‚æœé¢œè‰² `2` ï¼Œ`4` å’Œ `6` è¢«æ··åˆï¼Œé‚£ä¹ˆç»“æœé¢œè‰²ä¸º `{2,4,6}` ã€‚

ä¸ºäº†ç®€åŒ–é¢˜ç›®ï¼Œä½ ä¸éœ€è¦è¾“å‡ºæ•´ä¸ªé›†åˆï¼Œåªéœ€è¦ç”¨é›†åˆä¸­æ‰€æœ‰å…ƒç´ çš„ **å’Œ**  æ¥è¡¨ç¤ºé¢œè‰²é›†åˆã€‚

ä½ æƒ³è¦ç”¨ **æœ€å°‘æ•°ç›®**  ä¸é‡å  **åŠå¼€åŒºé—´**  æ¥ **è¡¨ç¤º**  è¿™å¹…æ··åˆé¢œè‰²çš„ç”»ã€‚è¿™äº›çº¿æ®µå¯ä»¥ç”¨äºŒç»´æ•°ç»„ `painting` è¡¨ç¤ºï¼Œå…¶ä¸­
`painting[j] = [leftj, rightj, mixj]` è¡¨ç¤ºä¸€ä¸ª **åŠå¼€åŒºé—´**`[leftj, rightj)` çš„é¢œè‰² **å’Œ**
ä¸º `mixj` ã€‚

  * æ¯”æ–¹è¯´ï¼Œè¿™å¹…ç”»ç”± `segments = [[1,4,5],[1,7,7]]` ç»„æˆï¼Œé‚£ä¹ˆå®ƒå¯ä»¥è¡¨ç¤ºä¸º `painting = [[1,4,12],[4,7,7]]` ï¼Œå› ä¸ºï¼š 
> 
> * `[1,4)` ç”±é¢œè‰² `{5,7}` ç»„æˆï¼ˆå’Œä¸º `12`ï¼‰ï¼Œåˆ†åˆ«æ¥è‡ªç¬¬ä¸€ä¸ªçº¿æ®µå’Œç¬¬äºŒä¸ªçº¿æ®µã€‚
> 
> * `[4,7)` ç”±é¢œè‰² `{7}` ç»„æˆï¼Œæ¥è‡ªç¬¬äºŒä¸ªçº¿æ®µã€‚

è¯·ä½ è¿”å›äºŒç»´æ•°ç»„ `painting` ï¼Œå®ƒè¡¨ç¤ºæœ€ç»ˆç»˜ç”»çš„ç»“æœï¼ˆ**æ²¡æœ‰**  è¢«æ¶‚è‰²çš„éƒ¨åˆ†ä¸å‡ºç°åœ¨ç»“æœä¸­ï¼‰ã€‚ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº**
è¿”å›æœ€ç»ˆæ•°ç»„çš„ç»“æœã€‚

**åŠå¼€åŒºé—´  **`[a, b)` æ˜¯æ•°è½´ä¸Šç‚¹ `a` å’Œç‚¹ `b` ä¹‹é—´çš„éƒ¨åˆ†ï¼Œ**åŒ…å«** ç‚¹ `a` ä¸” **ä¸åŒ…å«**  ç‚¹ `b` ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/06/18/1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** segments = [[1,4,5],[4,7,7],[1,7,9]]
> 
> **è¾“å‡ºï¼š**[[1,4,14],[4,7,16]]
> 
> **è§£é‡Šï¼š** ç»˜ç”»ç»“æœå¯ä»¥è¡¨ç¤ºä¸ºï¼š
> - [1,4) é¢œè‰²ä¸º {5,9} ï¼ˆå’Œä¸º 14ï¼‰ï¼Œåˆ†åˆ«æ¥è‡ªç¬¬ä¸€å’Œç¬¬äºŒä¸ªçº¿æ®µã€‚
> - [4,7) é¢œè‰²ä¸º {7,9} ï¼ˆå’Œä¸º 16ï¼‰ï¼Œåˆ†åˆ«æ¥è‡ªç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªçº¿æ®µã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/06/18/2.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** segments = [[1,7,9],[6,8,15],[8,10,7]]
> 
> **è¾“å‡ºï¼š**[[1,6,9],[6,7,24],[7,8,15],[8,10,7]]
> 
> **è§£é‡Šï¼š** ç»˜ç”»ç»“æœå¯ä»¥ä»¥è¡¨ç¤ºä¸ºï¼š
> - [1,6) é¢œè‰²ä¸º 9 ï¼Œæ¥è‡ªç¬¬ä¸€ä¸ªçº¿æ®µã€‚
> - [6,7) é¢œè‰²ä¸º {9,15} ï¼ˆå’Œä¸º 24ï¼‰ï¼Œæ¥è‡ªç¬¬ä¸€å’Œç¬¬äºŒä¸ªçº¿æ®µã€‚
> - [7,8) é¢œè‰²ä¸º 15 ï¼Œæ¥è‡ªç¬¬äºŒä¸ªçº¿æ®µã€‚
> - [8,10) é¢œè‰²ä¸º 7 ï¼Œæ¥è‡ªç¬¬ä¸‰ä¸ªçº¿æ®µã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode.com/uploads/2021/07/04/c1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** segments = [[1,4,5],[1,4,7],[4,7,1],[4,7,11]]
> 
> **è¾“å‡ºï¼š**[[1,4,12],[4,7,12]]
> 
> **è§£é‡Šï¼š** ç»˜ç”»ç»“æœå¯ä»¥è¡¨ç¤ºä¸ºï¼š
> - [1,4) é¢œè‰²ä¸º {5,7} ï¼ˆå’Œä¸º 12ï¼‰ï¼Œåˆ†åˆ«æ¥è‡ªç¬¬ä¸€å’Œç¬¬äºŒä¸ªçº¿æ®µã€‚
> - [4,7) é¢œè‰²ä¸º {1,11} ï¼ˆå’Œä¸º 12ï¼‰ï¼Œåˆ†åˆ«æ¥è‡ªç¬¬ä¸‰å’Œç¬¬å››ä¸ªçº¿æ®µã€‚
> 
> æ³¨æ„ï¼Œåªè¿”å›ä¸€ä¸ªå•ç‹¬çš„çº¿æ®µ [1,7) æ˜¯ä¸æ­£ç¡®çš„ï¼Œå› ä¸ºæ··åˆé¢œè‰²çš„é›†åˆä¸ç›¸åŒã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= segments.length <= 2 * 10^4`
  * `segments[i].length == 3`
  * `1 <= starti < endi <= 10^5`
  * `1 <= colori <= 10^9`
  * æ¯ç§é¢œè‰² `colori` äº’ä¸ç›¸åŒã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [æ¯æ®µå»ºç­‘ç‰©çš„å¹³å‡é«˜åº¦](https://leetcode.com/problems/average-height-of-buildings-in-each-segment)
- [æ¯å¤©ç»˜åˆ¶æ–°åŒºåŸŸçš„æ•°é‡](https://leetcode.com/problems/amount-of-new-area-painted-each-day)
- [å­—æ¯ç§»ä½ II](https://leetcode.com/problems/shifting-letters-ii)

::::
