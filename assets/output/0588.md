# [588. è®¾è®¡å†…å­˜æ–‡ä»¶ç³»ç»Ÿ ğŸ”’](https://2xiao.github.io/leetcode-js/problem/0588.html)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`å­—å…¸æ ‘`](/tag/trie.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/design-in-memory-file-system) [`LeetCode`](https://leetcode.com/problems/design-in-memory-file-system)

## é¢˜ç›®

Design a data structure that simulates an in-memory file system.

Implement the FileSystem class:

  * `FileSystem()` Initializes the object of the system.
  * `List<String> ls(String path)`
> 
> * If `path` is a file path, returns a list that only contains this file's name.
> 
> * If `path` is a directory path, returns the list of file and directory names **in this directory**.
The answer should in **lexicographic order**.

  * `void mkdir(String path)` Makes a new directory according to the given `path`. The given directory path does not exist. If the middle directories in the path do not exist, you should create them as well.
  * `void addContentToFile(String filePath, String content)`
> 
> * If `filePath` does not exist, creates that file containing given `content`.
> 
> * If `filePath` already exists, appends the given `content` to original content.
  * `String readContentFromFile(String filePath)` Returns the content in the file at `filePath`.



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0500-0599/0588.Design%20In-
Memory%20File%20System/images/filesystem.png)

> 
> 
> 
> 
> 
> **Input**
> 
> ["FileSystem", "ls", "mkdir", "addContentToFile", "ls", "readContentFromFile"]
> 
> [[], ["/"], ["/a/b/c"], ["/a/b/c/d", "hello"], ["/"], ["/a/b/c/d"]]
> 
> **Output**
> 
> [null, [], null, null, ["a"], "hello"]
> 
> 
> 
> **Explanation**
> 
> FileSystem fileSystem = new FileSystem();
> 
> fileSystem.ls("/"); // return []
> 
> fileSystem.mkdir("/a/b/c");
> 
> fileSystem.addContentToFile("/a/b/c/d", "hello");
> 
> fileSystem.ls("/"); // return ["a"]
> 
> fileSystem.readContentFromFile("/a/b/c/d"); // return "hello"
> 
> 

**Constraints:**

  * `1 <= path.length, filePath.length <= 100`
  * `path` and `filePath` are absolute paths which begin with `'/'` and do not end with `'/'` except that the path is just `"/"`.
  * You can assume that all directory names and file names only contain lowercase letters, and the same names will not exist in the same directory.
  * You can assume that all operations will be passed valid parameters, and users will not attempt to retrieve file content or list a directory or file that does not exist.
  * `1 <= content.length <= 50`
  * At most `300` calls will be made to `ls`, `mkdir`, `addContentToFile`, and `readContentFromFile`.


## é¢˜ç›®å¤§æ„

è®¾è®¡ä¸€ä¸ªå†…å­˜æ–‡ä»¶ç³»ç»Ÿï¼Œæ¨¡æ‹Ÿä»¥ä¸‹åŠŸèƒ½ï¼š

å®ç°æ–‡ä»¶ç³»ç»Ÿç±»:

  * `FileSystem()` åˆå§‹åŒ–ç³»ç»Ÿå¯¹è±¡
  * `List<String> ls(String path)`
> 
> * å¦‚æœ `path` æ˜¯ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œåˆ™è¿”å›ä¸€ä¸ªä»…åŒ…å«è¯¥æ–‡ä»¶åç§°çš„åˆ—è¡¨ã€‚
> 
> * å¦‚æœ `path` æ˜¯ä¸€ä¸ªç›®å½•è·¯å¾„ï¼Œåˆ™è¿”å›è¯¥ç›®å½•ä¸­æ–‡ä»¶å’Œ **ç›®å½•å** çš„åˆ—è¡¨ã€‚

> 
> > 
>   ç­”æ¡ˆåº”è¯¥ æŒ‰**å­—å…¸é¡ºåº** æ’åˆ—ã€‚

  * `void mkdir(String path)` æ ¹æ®ç»™å®šçš„è·¯å¾„åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ã€‚ç»™å®šçš„ç›®å½•è·¯å¾„ä¸å­˜åœ¨ã€‚å¦‚æœè·¯å¾„ä¸­çš„ä¸­é—´ç›®å½•ä¸å­˜åœ¨ï¼Œæ‚¨ä¹Ÿåº”è¯¥åˆ›å»ºå®ƒä»¬ã€‚
  * `void addContentToFile(String filePath, String content)`
> 
> * å¦‚æœ `filePath` ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºåŒ…å«ç»™å®šå†…å®¹ `content`çš„æ–‡ä»¶ã€‚
> 
> * å¦‚æœ `filePath` å·²ç»å­˜åœ¨ï¼Œå°†ç»™å®šçš„å†…å®¹ `content`é™„åŠ åˆ°åŸå§‹å†…å®¹ã€‚
  * `String readContentFromFile(String filePath)` è¿”å› `filePath`ä¸‹çš„æ–‡ä»¶å†…å®¹ã€‚



**ç¤ºä¾‹ 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/0500-0599/0588.Design%20In-
Memory%20File%20System/images/filesystem.png)

> 
> 
> 
> 
> 
> **è¾“å…¥:** 
> 
> ["FileSystem","ls","mkdir","addContentToFile","ls","readContentFromFile"]
> 
> [[],["/"],["/a/b/c"],["/a/b/c/d","hello"],["/"],["/a/b/c/d"]]
> 
> **è¾“å‡º:**
> 
> [null,[],null,null,["a"],"hello"]
> 
> 
> 
> **è§£é‡Š:**
> 
> FileSystem fileSystem = new FileSystem();
> 
> fileSystem.ls("/");> 
> > 
> > 
> > 
> > 
> > 
>  // è¿”å› []
> 
> fileSystem.mkdir("/a/b/c");
> 
> fileSystem.addContentToFile("/a/b/c/d", "hello");
> 
> fileSystem.ls("/");> 
> > 
> > 
> > 
> > 
> > 
>  // è¿”å› ["a"]
> 
> fileSystem.readContentFromFile("/a/b/c/d"); // è¿”å› "hello"



**æ³¨æ„:**

  * `1 <= path.length, filePath.length <= 100`
  * `path` å’Œ `filePath` éƒ½æ˜¯ç»å¯¹è·¯å¾„ï¼Œé™¤éæ˜¯æ ¹ç›®å½• `â€˜/â€™` è‡ªèº«ï¼Œå…¶ä»–è·¯å¾„éƒ½æ˜¯ä»¥ `â€˜/â€™` å¼€å¤´ä¸” **ä¸** ä»¥ `â€˜/â€™` ç»“æŸã€‚
  * ä½ å¯ä»¥å‡å®šæ‰€æœ‰æ“ä½œçš„å‚æ•°éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œå³ç”¨æˆ·ä¸ä¼šè·å–ä¸å­˜åœ¨æ–‡ä»¶çš„å†…å®¹ï¼Œæˆ–è€…è·å–ä¸å­˜åœ¨æ–‡ä»¶å¤¹å’Œæ–‡ä»¶çš„åˆ—è¡¨ã€‚
  * ä½ å¯ä»¥å‡å®šæ‰€æœ‰æ–‡ä»¶å¤¹åå­—å’Œæ–‡ä»¶åå­—éƒ½åªåŒ…å«å°å†™å­—æ¯ï¼Œä¸”åŒä¸€æ–‡ä»¶å¤¹ä¸‹ä¸ä¼šæœ‰ç›¸åŒåå­—çš„æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶ã€‚
  * `1 <= content.length <= 50`
  * `ls`, `mkdir`, `addContentToFile`, and `readContentFromFile` æœ€å¤šè¢«è°ƒç”¨ `300` æ¬¡


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 146 | [LRU ç¼“å­˜](https://leetcode.com/problems/lru-cache) | [[âœ“]](/problem/0146.md) |  [`è®¾è®¡`](/tag/design.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`é“¾è¡¨`](/tag/linked-list.md) `1+` | <font color=#ffb800>Medium</font> |
| 460 | [LFU ç¼“å­˜](https://leetcode.com/problems/lfu-cache) |  |  [`è®¾è®¡`](/tag/design.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`é“¾è¡¨`](/tag/linked-list.md) `1+` | <font color=#ff334b>Hard</font> |
| 635 | [è®¾è®¡æ—¥å¿—å­˜å‚¨ç³»ç»Ÿ ğŸ”’](https://leetcode.com/problems/design-log-storage-system) |  |  [`è®¾è®¡`](/tag/design.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | <font color=#ffb800>Medium</font> |