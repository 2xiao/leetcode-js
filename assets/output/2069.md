# [2069. æ¨¡æ‹Ÿè¡Œèµ°æœºå™¨äºº II](https://2xiao.github.io/leetcode-js/problem/2069.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/walking-robot-simulation-ii) [`LeetCode`](https://leetcode.com/problems/walking-robot-simulation-ii)

## é¢˜ç›®

A `width x height` grid is on an XY-plane with the **bottom-left** cell at
`(0, 0)` and the **top-right** cell at `(width - 1, height - 1)`. The grid is
aligned with the four cardinal directions (`"North"`, `"East"`, `"South"`, and
`"West"`). A robot is **initially** at cell `(0, 0)` facing direction
`"East"`.

The robot can be instructed to move for a specific number of **steps**. For
each step, it does the following.

  1. Attempts to move **forward one** cell in the direction it is facing.
  2. If the cell the robot is **moving to** is **out of bounds** , the robot instead **turns** 90 degrees **counterclockwise** and retries the step.

After the robot finishes moving the number of steps required, it stops and
awaits the next instruction.

Implement the `Robot` class:

  * `Robot(int width, int height)` Initializes the `width x height` grid with the robot at `(0, 0)` facing `"East"`.
  * `void step(int num)` Instructs the robot to move forward `num` steps.
  * `int[] getPos()` Returns the current cell the robot is at, as an array of length 2, `[x, y]`.
  * `String getDir()` Returns the current direction of the robot, `"North"`, `"East"`, `"South"`, or `"West"`.



**Example 1:**

![example-1](https://assets.leetcode.com/uploads/2021/10/09/example-1.png)

> 
> 
> 
> 
> 
> **Input**
> 
> ["Robot", "step", "step", "getPos", "getDir", "step", "step", "step", "getPos", "getDir"]
> 
> [[6, 3], [2], [2], [], [], [2], [1], [4], [], []]
> 
> **Output**
> 
> [null, null, null, [4, 0], "East", null, null, null, [1, 2], "West"]
> 
> 
> 
> **Explanation**
> 
> Robot robot = new Robot(6, 3); // Initialize the grid and the robot at (0, 0) facing East.
> 
> robot.step(2);  // It moves two steps East to (2, 0), and faces East.
> 
> robot.step(2);  // It moves two steps East to (4, 0), and faces East.
> 
> robot.getPos(); // return [4, 0]
> 
> robot.getDir(); // return "East"
> 
> robot.step(2);  // It moves one step East to (5, 0), and faces East.
> 
> > 
> > 
> > 
> > 
> // Moving the next step East would be out of bounds, so it turns and faces North.
> 
> > 
> > 
> > 
> > 
> // Then, it moves one step North to (5, 1), and faces North.
> 
> robot.step(1);  // It moves one step North to (5, 2), and faces **North** (not West).
> 
> robot.step(4);  // Moving the next step North would be out of bounds, so it turns and faces West.
> 
> > 
> > 
> > 
> > 
> // Then, it moves four steps West to (1, 2), and faces West.
> 
> robot.getPos(); // return [1, 2]
> 
> robot.getDir(); // return "West"
> 
> 

**Constraints:**

  * `2 <= width, height <= 100`
  * `1 <= num <= 10^5`
  * At most `10^4` calls **in total** will be made to `step`, `getPos`, and `getDir`.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªåœ¨ XY å¹³é¢ä¸Šçš„ `width x height` çš„ç½‘æ ¼å›¾ï¼Œ**å·¦ä¸‹è§’**  çš„æ ¼å­ä¸º `(0, 0)` ï¼Œ**å³ä¸Šè§’**  çš„æ ¼å­ä¸º
`(width - 1, height - 1)` ã€‚ç½‘æ ¼å›¾ä¸­ç›¸é‚»æ ¼å­ä¸ºå››ä¸ªåŸºæœ¬æ–¹å‘ä¹‹ä¸€ï¼ˆ`"North"`ï¼Œ`"East"`ï¼Œ`"South"` å’Œ
`"West"`ï¼‰ã€‚ä¸€ä¸ªæœºå™¨äºº **åˆå§‹**  åœ¨æ ¼å­ `(0, 0)` ï¼Œæ–¹å‘ä¸º `"East"` ã€‚

æœºå™¨äººå¯ä»¥æ ¹æ®æŒ‡ä»¤ç§»åŠ¨æŒ‡å®šçš„ **æ­¥æ•°**  ã€‚æ¯ä¸€æ­¥ï¼Œå®ƒå¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œã€‚

  1. æ²¿ç€å½“å‰æ–¹å‘å°è¯• **å¾€å‰ä¸€æ­¥**  ã€‚
  2. å¦‚æœæœºå™¨äººä¸‹ä¸€æ­¥å°†åˆ°è¾¾çš„æ ¼å­ **è¶…å‡ºäº†è¾¹ç•Œ**  ï¼Œæœºå™¨äººä¼š **é€†æ—¶é’ˆ**  è½¬ 90 åº¦ï¼Œç„¶åå†å°è¯•å¾€å‰ä¸€æ­¥ã€‚

å¦‚æœæœºå™¨äººå®Œæˆäº†æŒ‡ä»¤è¦æ±‚çš„ç§»åŠ¨æ­¥æ•°ï¼Œå®ƒå°†åœæ­¢ç§»åŠ¨å¹¶ç­‰å¾…ä¸‹ä¸€ä¸ªæŒ‡ä»¤ã€‚

è¯·ä½ å®ç° `Robot` ç±»ï¼š

  * `Robot(int width, int height)` åˆå§‹åŒ–ä¸€ä¸ª `width x height` çš„ç½‘æ ¼å›¾ï¼Œæœºå™¨äººåˆå§‹åœ¨ `(0, 0)` ï¼Œæ–¹å‘æœ `"East"` ã€‚
  * `void step(int num)` ç»™æœºå™¨äººä¸‹è¾¾å‰è¿› `num` æ­¥çš„æŒ‡ä»¤ã€‚
  * `int[] getPos()` è¿”å›æœºå™¨äººå½“å‰æ‰€å¤„çš„æ ¼å­ä½ç½®ï¼Œç”¨ä¸€ä¸ªé•¿åº¦ä¸º 2 çš„æ•°ç»„ `[x, y]` è¡¨ç¤ºã€‚
  * `String getDir()` è¿”å›å½“å‰æœºå™¨äººçš„æœå‘ï¼Œä¸º `"North"` ï¼Œ`"East"` ï¼Œ`"South"` æˆ–è€… `"West"` ã€‚



**ç¤ºä¾‹ 1ï¼š**

![example-1](https://assets.leetcode.com/uploads/2021/10/09/example-1.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> ["Robot", "step", "step", "getPos", "getDir", "step", "step", "step", "getPos", "getDir"]
> 
> [[6, 3], [2], [2], [], [], [2], [1], [4], [], []]
> 
> **è¾“å‡ºï¼š**
> 
> [null, null, null, [4, 0], "East", null, null, null, [1, 2], "West"]
> 
> 
> 
> **è§£é‡Šï¼š**
> 
> Robot robot = new Robot(6, 3); // åˆå§‹åŒ–ç½‘æ ¼å›¾ï¼Œæœºå™¨äººåœ¨ (0, 0) ï¼Œæœä¸œã€‚
> 
> robot.step(2);  // æœºå™¨äººæœä¸œç§»åŠ¨ 2 æ­¥ï¼Œåˆ°è¾¾ (2, 0) ï¼Œå¹¶æœä¸œã€‚
> 
> robot.step(2);  // æœºå™¨äººæœä¸œç§»åŠ¨ 2 æ­¥ï¼Œåˆ°è¾¾ (4, 0) ï¼Œå¹¶æœä¸œã€‚
> 
> robot.getPos(); // è¿”å› [4, 0]
> 
> robot.getDir(); // è¿”å› "East"
> 
> robot.step(2);  // æœä¸œç§»åŠ¨ 1 æ­¥åˆ°è¾¾ (5, 0) ï¼Œå¹¶æœä¸œã€‚
> 
> > 
> > 
> > 
> > 
> // ä¸‹ä¸€æ­¥ç»§ç»­å¾€ä¸œç§»åŠ¨å°†å‡ºç•Œï¼Œæ‰€ä»¥é€†æ—¶é’ˆè½¬å˜æ–¹å‘æœåŒ—ã€‚
> 
> > 
> > 
> > 
> > 
> // ç„¶åï¼Œå¾€åŒ—ç§»åŠ¨ 1 æ­¥åˆ°è¾¾ (5, 1) ï¼Œå¹¶æœåŒ—ã€‚
> 
> robot.step(1);  // æœåŒ—ç§»åŠ¨ 1 æ­¥åˆ°è¾¾ (5, 2) ï¼Œå¹¶æœ **åŒ—** ï¼ˆä¸æ˜¯æœè¥¿ï¼‰ã€‚
> 
> robot.step(4);  // ä¸‹ä¸€æ­¥ç»§ç»­å¾€åŒ—ç§»åŠ¨å°†å‡ºç•Œï¼Œæ‰€ä»¥é€†æ—¶é’ˆè½¬å˜æ–¹å‘æœè¥¿ã€‚
> 
> > 
> > 
> > 
> > 
> // ç„¶åï¼Œç§»åŠ¨ 4 æ­¥åˆ° (1, 2) ï¼Œå¹¶æœè¥¿ã€‚
> 
> robot.getPos(); // è¿”å› [1, 2]
> 
> robot.getDir(); // è¿”å› "West"
> 
> 
> 
> 



**æç¤ºï¼š**

  * `2 <= width, height <= 100`
  * `1 <= num <= 10^5`
  * `step` ï¼Œ`getPos` å’Œ `getDir` **æ€»å…±  **è°ƒç”¨æ¬¡æ•°ä¸è¶…è¿‡ `10^4` æ¬¡ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 874 | [æ¨¡æ‹Ÿè¡Œèµ°æœºå™¨äºº](https://leetcode.com/problems/walking-robot-simulation) |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md) | <font color=#ffb800>Medium</font> |