---
title: 1411. ç»™ N x 3 ç½‘æ ¼å›¾æ¶‚è‰²çš„æ–¹æ¡ˆæ•°
description: LeetCode,1411. ç»™ N x 3 ç½‘æ ¼å›¾æ¶‚è‰²çš„æ–¹æ¡ˆæ•°,ç»™ N x 3 ç½‘æ ¼å›¾æ¶‚è‰²çš„æ–¹æ¡ˆæ•°,Number of Ways to Paint N Ã— 3 Grid,è§£é¢˜æ€è·¯,åŠ¨æ€è§„åˆ’
keywords:
  - LeetCode
  - 1411. ç»™ N x 3 ç½‘æ ¼å›¾æ¶‚è‰²çš„æ–¹æ¡ˆæ•°
  - ç»™ N x 3 ç½‘æ ¼å›¾æ¶‚è‰²çš„æ–¹æ¡ˆæ•°
  - Number of Ways to Paint N Ã— 3 Grid
  - è§£é¢˜æ€è·¯
  - åŠ¨æ€è§„åˆ’
---

# 1411. ç»™ N x 3 ç½‘æ ¼å›¾æ¶‚è‰²çš„æ–¹æ¡ˆæ•°

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/number-of-ways-to-paint-n-3-grid) [`LeetCode`](https://leetcode.com/problems/number-of-ways-to-paint-n-3-grid)

## é¢˜ç›®

You have a `grid` of size `n x 3` and you want to paint each cell of the grid
with exactly one of the three colors: **Red** , **Yellow,** or **Green** while
making sure that no two adjacent cells have the same color (i.e., no two cells
that share vertical or horizontal sides have the same color).

Given `n` the number of rows of the grid, return _the number of ways_ you can
paint this `grid`. As the answer may grow large, the answer **must be**
computed modulo `109 + 7`.



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/03/26/e1.png)

> Input: n = 1
> 
> Output: 12
> 
> Explanation: There are 12 possible way to paint the grid as shown.

**Example 2:**

> Input: n = 5000
> 
> Output: 30228214

**Constraints:**

  * `n == grid.length`
  * `1 <= n <= 5000`


## é¢˜ç›®å¤§æ„

ä½ æœ‰ä¸€ä¸ª `n x 3` çš„ç½‘æ ¼å›¾ `grid` ï¼Œä½ éœ€è¦ç”¨ **çº¢ï¼Œé»„ï¼Œç»¿**
ä¸‰ç§é¢œè‰²ä¹‹ä¸€ç»™æ¯ä¸€ä¸ªæ ¼å­ä¸Šè‰²ï¼Œä¸”ç¡®ä¿ç›¸é‚»æ ¼å­é¢œè‰²ä¸åŒï¼ˆä¹Ÿå°±æ˜¯æœ‰ç›¸åŒæ°´å¹³è¾¹æˆ–è€…å‚ç›´è¾¹çš„æ ¼å­é¢œè‰²ä¸åŒï¼‰ã€‚

ç»™ä½ ç½‘æ ¼å›¾çš„è¡Œæ•° `n` ã€‚

è¯·ä½ è¿”å›ç»™ `grid` æ¶‚è‰²çš„æ–¹æ¡ˆæ•°ã€‚ç”±äºç­”æ¡ˆå¯èƒ½ä¼šéå¸¸å¤§ï¼Œè¯·ä½ è¿”å›ç­”æ¡ˆå¯¹ `10^9 + 7` å–ä½™çš„ç»“æœã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 1
> 
> **è¾“å‡ºï¼š** 12
> 
> **è§£é‡Šï¼š** æ€»å…±æœ‰ 12 ç§å¯è¡Œçš„æ–¹æ³•ï¼š
> 
> ![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/04/12/e1.png)
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 2
> 
> **è¾“å‡ºï¼š** 54
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3
> 
> **è¾“å‡ºï¼š** 246
> 
> 

**ç¤ºä¾‹ 4ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 7
> 
> **è¾“å‡ºï¼š** 106494
> 
> 

**ç¤ºä¾‹ 5ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 5000
> 
> **è¾“å‡ºï¼š** 30228214
> 
> 



**æç¤ºï¼š**

  * `n == grid.length`
  * `grid[i].length == 3`
  * `1 <= n <= 5000`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1931 | ç”¨ä¸‰ç§ä¸åŒé¢œè‰²ä¸ºç½‘æ ¼æ¶‚è‰² |  |  [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/painting-a-grid-with-three-different-colors) [ğŸ”—](https://leetcode.com/problems/painting-a-grid-with-three-different-colors) |