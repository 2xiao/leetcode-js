---
title: 1357. æ¯éš” n ä¸ªé¡¾å®¢æ‰“æŠ˜
description: LeetCode,1357. æ¯éš” n ä¸ªé¡¾å®¢æ‰“æŠ˜,æ¯éš” n ä¸ªé¡¾å®¢æ‰“æŠ˜,Apply Discount Every n Orders,è§£é¢˜æ€è·¯,è®¾è®¡,æ•°ç»„,å“ˆå¸Œè¡¨
keywords:
  - LeetCode
  - 1357. æ¯éš” n ä¸ªé¡¾å®¢æ‰“æŠ˜
  - æ¯éš” n ä¸ªé¡¾å®¢æ‰“æŠ˜
  - Apply Discount Every n Orders
  - è§£é¢˜æ€è·¯
  - è®¾è®¡
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
---

# 1357. æ¯éš” n ä¸ªé¡¾å®¢æ‰“æŠ˜

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/apply-discount-every-n-orders) [`LeetCode`](https://leetcode.com/problems/apply-discount-every-n-orders)

## é¢˜ç›®

There is a supermarket that is frequented by many customers. The products sold
at the supermarket are represented as two parallel integer arrays `products`
and `prices`, where the `ith` product has an ID of `products[i]` and a price
of `prices[i]`.

When a customer is paying, their bill is represented as two parallel integer
arrays `product` and `amount`, where the `jth` product they purchased has an
ID of `product[j]`, and `amount[j]` is how much of the product they bought.
Their subtotal is calculated as the sum of each `amount[j] * (price of the jth
product)`.

The supermarket decided to have a sale. Every `nth` customer paying for their
groceries will be given a **percentage discount**. The discount amount is
given by `discount`, where they will be given `discount` percent off their
subtotal. More formally, if their subtotal is `bill`, then they would actually
pay `bill * ((100 - discount) / 100)`.

Implement the `Cashier` class:

  * `Cashier(int n, int discount, int[] products, int[] prices)` Initializes the object with `n`, the `discount`, and the `products` and their `prices`.
  * `double getBill(int[] product, int[] amount)` Returns the final total of the bill with the discount applied (if any). Answers within `10-5` of the actual value will be accepted.



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["Cashier","getBill","getBill","getBill","getBill","getBill","getBill","getBill"]
> 
> [[3,50,[1,2,3,4,5,6,7],[100,200,300,400,300,200,100]],[[1,2],[1,2]],[[3,7],[10,10]],[[1,2,3,4,5,6,7],[1,1,1,1,1,1,1]],[[4],[10]],[[7,3],[10,10]],[[7,5,3,1,6,4,2],[10,10,10,9,9,9,7]],[[2,3,5],[5,3,2]]]
> 
> **Output**
> 
> [null,500.0,4000.0,800.0,4000.0,4000.0,7350.0,2500.0]
> 
> **Explanation**
> 
> Cashier cashier = new Cashier(3,50,[1,2,3,4,5,6,7],[100,200,300,400,300,200,100]);
> 
> cashier.getBill([1,2],[1,2]);> 
> > 
> > 
> > 
> > 
> > 
> // return 500.0. 1st customer, no discount.
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
>  // bill = 1 * 100 + 2 * 200 = 500.
> 
> cashier.getBill([3,7],[10,10]);> 
> > 
> > 
> > 
> > 
>   // return 4000.0. 2nd customer, no discount.
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
>  // bill = 10 * 300 + 10 * 100 = 4000.
> 
> cashier.getBill([1,2,3,4,5,6,7],[1,1,1,1,1,1,1]);> 
> // return 800.0. 3rd customer, 50% discount.
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
>  // Original bill = 1600
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
>  // Actual bill = 1600 * ((100 - 50) / 100) = 800.
> 
> cashier.getBill([4],[10]);> 
> > 
> > 
> > 
> > 
> > 
>    // return 4000.0. 4th customer, no discount.
> 
> cashier.getBill([7,3],[10,10]);> 
> > 
> > 
> > 
> > 
>   // return 4000.0. 5th customer, no discount.
> 
> cashier.getBill([7,5,3,1,6,4,2],[10,10,10,9,9,9,7]); // return 7350.0. 6th customer, 50% discount.
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
>  // Original bill = 14700, but with
> 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
>  // Actual bill = 14700 * ((100 - 50) / 100) = 7350.
> 
> cashier.getBill([2,3,5],[5,3,2]);> 
> > 
> > 
> > 
> > 
> // return 2500.0.  7th customer, no discount.

**Constraints:**

  * `1 <= n <= 10^4`
  * `0 <= discount <= 100`
  * `1 <= products.length <= 200`
  * `prices.length == products.length`
  * `1 <= products[i] <= 200`
  * `1 <= prices[i] <= 1000`
  * The elements in `products` are **unique**.
  * `1 <= product.length <= products.length`
  * `amount.length == product.length`
  * `product[j]` exists in `products`.
  * `1 <= amount[j] <= 1000`
  * The elements of `product` are **unique**.
  * At most `1000` calls will be made to `getBill`.
  * Answers within `10-5` of the actual value will be accepted.


## é¢˜ç›®å¤§æ„

è¶…å¸‚é‡Œæ­£åœ¨ä¸¾è¡Œæ‰“æŠ˜æ´»åŠ¨ï¼Œæ¯éš” `n` ä¸ªé¡¾å®¢ä¼šå¾—åˆ° `discount` çš„æŠ˜æ‰£ã€‚

è¶…å¸‚é‡Œæœ‰ä¸€äº›å•†å“ï¼Œç¬¬ `i` ç§å•†å“ä¸º `products[i]` ä¸”æ¯ä»¶å•å“çš„ä»·æ ¼ä¸º `prices[i]` ã€‚

ç»“è´¦ç³»ç»Ÿä¼šç»Ÿè®¡é¡¾å®¢çš„æ•°ç›®ï¼Œæ¯éš” `n` ä¸ªé¡¾å®¢ç»“è´¦æ—¶ï¼Œè¯¥é¡¾å®¢çš„è´¦å•éƒ½ä¼šæ‰“æŠ˜ï¼ŒæŠ˜æ‰£ä¸º `discount` ï¼ˆä¹Ÿå°±æ˜¯å¦‚æœåŸæœ¬è´¦å•ä¸º `x`
ï¼Œé‚£ä¹ˆå®é™…é‡‘é¢ä¼šå˜æˆ `x - (discount * x) / 100` ï¼‰ï¼Œç„¶åç³»ç»Ÿä¼šé‡æ–°å¼€å§‹è®¡æ•°ã€‚

é¡¾å®¢ä¼šè´­ä¹°ä¸€äº›å•†å“ï¼Œ `product[i]` æ˜¯é¡¾å®¢è´­ä¹°çš„ç¬¬ `i` ç§å•†å“ï¼Œ `amount[i]` æ˜¯å¯¹åº”çš„è´­ä¹°è¯¥ç§å•†å“çš„æ•°ç›®ã€‚

è¯·ä½ å®ç° `Cashier` ç±»ï¼š

  * `Cashier(int n, int discount, int[] products, int[] prices)` åˆå§‹åŒ–å®ä¾‹å¯¹è±¡ï¼Œå‚æ•°åˆ†åˆ«ä¸ºæ‰“æŠ˜é¢‘ç‡ `n` ï¼ŒæŠ˜æ‰£å¤§å° `discount` ï¼Œè¶…å¸‚é‡Œçš„å•†å“åˆ—è¡¨ `products` å’Œå®ƒä»¬çš„ä»·æ ¼ `prices` ã€‚
  * `double getBill(int[] product, int[] amount)` è¿”å›è´¦å•çš„å®é™…é‡‘é¢ï¼ˆå¦‚æœæœ‰æ‰“æŠ˜ï¼Œè¯·è¿”å›æ‰“æŠ˜åçš„ç»“æœï¼‰ã€‚è¿”å›ç»“æœä¸æ ‡å‡†ç­”æ¡ˆè¯¯å·®åœ¨ `10^-5` ä»¥å†…éƒ½è§†ä¸ºæ­£ç¡®ç»“æœã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥**
> 
> ["Cashier","getBill","getBill","getBill","getBill","getBill","getBill","getBill"]
> 
> [[3,50,[1,2,3,4,5,6,7],[100,200,300,400,300,200,100]],[[1,2],[1,2]],[[3,7],[10,10]],[[1,2,3,4,5,6,7],[1,1,1,1,1,1,1]],[[4],[10]],[[7,3],[10,10]],[[7,5,3,1,6,4,2],[10,10,10,9,9,9,7]],[[2,3,5],[5,3,2]]]
> 
> **è¾“å‡º**
> 
> [null,500.0,4000.0,800.0,4000.0,4000.0,7350.0,2500.0]
> 
> **è§£é‡Š**
> 
> Cashier cashier = new Cashier(3,50,[1,2,3,4,5,6,7],[100,200,300,400,300,200,100]);
> 
> cashier.getBill([1,2],[1,2]);> 
> > 
> > 
> > 
> > 
> > 
> // è¿”å› 500.0, è´¦å•é‡‘é¢ä¸º = 1 * 100 + 2 * 200 = 500.
> 
> cashier.getBill([3,7],[10,10]);> 
> > 
> > 
> > 
> > 
>   // è¿”å› 4000.0
> 
> cashier.getBill([1,2,3,4,5,6,7],[1,1,1,1,1,1,1]);> 
> // è¿”å› 800.0 ï¼Œè´¦å•åŸæœ¬ä¸º 1600.0 ï¼Œä½†ç”±äºè¯¥é¡¾å®¢æ˜¯ç¬¬ä¸‰ä½é¡¾å®¢ï¼Œä»–å°†å¾—åˆ° 50% çš„æŠ˜æ‰£ï¼Œæ‰€ä»¥å®é™…é‡‘é¢ä¸º 1600 - 1600 * (50 / 100) = 800 ã€‚
> 
> cashier.getBill([4],[10]);> 
> > 
> > 
> > 
> > 
> > 
>    // è¿”å› 4000.0
> 
> cashier.getBill([7,3],[10,10]);> 
> > 
> > 
> > 
> > 
>   // è¿”å› 4000.0
> 
> cashier.getBill([7,5,3,1,6,4,2],[10,10,10,9,9,9,7]); // è¿”å› 7350.0 ï¼Œè´¦å•åŸæœ¬ä¸º 14700.0 ï¼Œä½†ç”±äºç³»ç»Ÿè®¡æ•°å†æ¬¡è¾¾åˆ°ä¸‰ï¼Œè¯¥é¡¾å®¢å°†å¾—åˆ° 50% çš„æŠ˜æ‰£ï¼Œå®é™…é‡‘é¢ä¸º 7350.0 ã€‚
> 
> cashier.getBill([2,3,5],[5,3,2]);> 
> > 
> > 
> > 
> > 
> // è¿”å› 2500.0
> 
> 



**æç¤ºï¼š**

  * `1 <= n <= 10^4`
  * `0 <= discount <= 100`
  * `1 <= products.length <= 200`
  * `1 <= products[i] <= 200`
  * `products` åˆ—è¡¨ä¸­ **ä¸ä¼š**  æœ‰é‡å¤çš„å…ƒç´ ã€‚
  * `prices.length == products.length`
  * `1 <= prices[i] <= 1000`
  * `1 <= product.length <= products.length`
  * `product[i]` åœ¨ `products` å‡ºç°è¿‡ã€‚
  * `amount.length == product.length`
  * `1 <= amount[i] <= 1000`
  * æœ€å¤šæœ‰ `1000` æ¬¡å¯¹ `getBill` å‡½æ•°çš„è°ƒç”¨ã€‚
  * è¿”å›ç»“æœä¸æ ‡å‡†ç­”æ¡ˆè¯¯å·®åœ¨ `10^-5` ä»¥å†…éƒ½è§†ä¸ºæ­£ç¡®ç»“æœã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2288 | [ä»·æ ¼å‡å…](https://leetcode.com/problems/apply-discount-to-prices) |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) | <font color=#ffb800>Medium</font> |