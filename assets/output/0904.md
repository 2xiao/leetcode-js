---
title: 904. æ°´æœæˆç¯®
description: LeetCode 904. æ°´æœæˆç¯®é¢˜è§£ï¼ŒFruit Into Basketsï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 904. æ°´æœæˆç¯®
  - æ°´æœæˆç¯®
  - Fruit Into Baskets
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - æ»‘åŠ¨çª—å£
---

# 904. æ°´æœæˆç¯®

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/fruit-into-baskets) [`LeetCode`](https://leetcode.com/problems/fruit-into-baskets)

## é¢˜ç›®

You are visiting a farm that has a single row of fruit trees arranged from
left to right. The trees are represented by an integer array `fruits` where
`fruits[i]` is the **type** of fruit the `ith` tree produces.

You want to collect as much fruit as possible. However, the owner has some
strict rules that you must follow:

  * You only have **two** baskets, and each basket can only hold a **single type** of fruit. There is no limit on the amount of fruit each basket can hold.
  * Starting from any tree of your choice, you must pick **exactly one fruit** from **every** tree (including the start tree) while moving to the right. The picked fruits must fit in one of your baskets.
  * Once you reach a tree with fruit that cannot fit in your baskets, you must stop.

Given the integer array `fruits`, return _the**maximum** number of fruits you
can pick_.



**Example 1:**

> Input: fruits = [_1,2,1_]
> 
> Output: 3
> 
> Explanation: We can pick from all 3 trees.

**Example 2:**

> Input: fruits = [0,_1,2,2_]
> 
> Output: 3
> 
> Explanation: We can pick from trees [1,2,2].
> 
> If we had started at the first tree, we would only pick from trees [0,1].

**Example 3:**

> Input: fruits = [1,_2,3,2,2_]
> 
> Output: 4
> 
> Explanation: We can pick from trees [2,3,2,2].
> 
> If we had started at the first tree, we would only pick from trees [1,2].

**Constraints:**

  * `1 <= fruits.length <= 10^5`
  * `0 <= fruits[i] < fruits.length`


## é¢˜ç›®å¤§æ„

ä½ æ­£åœ¨æ¢è®¿ä¸€å®¶å†œåœºï¼Œå†œåœºä»å·¦åˆ°å³ç§æ¤äº†ä¸€æ’æœæ ‘ã€‚è¿™äº›æ ‘ç”¨ä¸€ä¸ªæ•´æ•°æ•°ç»„ `fruits` è¡¨ç¤ºï¼Œå…¶ä¸­ `fruits[i]` æ˜¯ç¬¬ `i` æ£µæ ‘ä¸Šçš„æ°´æœ
**ç§ç±»** ã€‚

ä½ æƒ³è¦å°½å¯èƒ½å¤šåœ°æ”¶é›†æ°´æœã€‚ç„¶è€Œï¼Œå†œåœºçš„ä¸»äººè®¾å®šäº†ä¸€äº›ä¸¥æ ¼çš„è§„çŸ©ï¼Œä½ å¿…é¡»æŒ‰ç…§è¦æ±‚é‡‡æ‘˜æ°´æœï¼š

  * ä½ åªæœ‰ **ä¸¤ä¸ª** ç¯®å­ï¼Œå¹¶ä¸”æ¯ä¸ªç¯®å­åªèƒ½è£… **å•ä¸€ç±»å‹** çš„æ°´æœã€‚æ¯ä¸ªç¯®å­èƒ½å¤Ÿè£…çš„æ°´æœæ€»é‡æ²¡æœ‰é™åˆ¶ã€‚
  * ä½ å¯ä»¥é€‰æ‹©ä»»æ„ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œä½ å¿…é¡»ä» **æ¯æ£µ** æ ‘ï¼ˆåŒ…æ‹¬å¼€å§‹é‡‡æ‘˜çš„æ ‘ï¼‰ä¸Š **æ°å¥½æ‘˜ä¸€ä¸ªæ°´æœ** ã€‚é‡‡æ‘˜çš„æ°´æœåº”å½“ç¬¦åˆç¯®å­ä¸­çš„æ°´æœç±»å‹ã€‚æ¯é‡‡æ‘˜ä¸€æ¬¡ï¼Œä½ å°†ä¼šå‘å³ç§»åŠ¨åˆ°ä¸‹ä¸€æ£µæ ‘ï¼Œå¹¶ç»§ç»­é‡‡æ‘˜ã€‚
  * ä¸€æ—¦ä½ èµ°åˆ°æŸæ£µæ ‘å‰ï¼Œä½†æ°´æœä¸ç¬¦åˆç¯®å­çš„æ°´æœç±»å‹ï¼Œé‚£ä¹ˆå°±å¿…é¡»åœæ­¢é‡‡æ‘˜ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `fruits` ï¼Œè¿”å›ä½ å¯ä»¥æ”¶é›†çš„æ°´æœçš„ **æœ€å¤§** æ•°ç›®ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** fruits = [_**1,2,1**_]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** å¯ä»¥é‡‡æ‘˜å…¨éƒ¨ 3 æ£µæ ‘ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** fruits = [0,_**1,2,2**_]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** å¯ä»¥é‡‡æ‘˜ [1,2,2] è¿™ä¸‰æ£µæ ‘ã€‚
> 
> å¦‚æœä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œåˆ™åªèƒ½é‡‡æ‘˜ [0,1] è¿™ä¸¤æ£µæ ‘ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** fruits = [1,_**2,3,2,2**_]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** å¯ä»¥é‡‡æ‘˜ [2,3,2,2] è¿™å››æ£µæ ‘ã€‚
> 
> å¦‚æœä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œåˆ™åªèƒ½é‡‡æ‘˜ [1,2] è¿™ä¸¤æ£µæ ‘ã€‚
> 
> 

**ç¤ºä¾‹ 4ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** fruits = [3,3,3,_**1,2,1,1,2**_ ,3,3,4]
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š** å¯ä»¥é‡‡æ‘˜ [1,2,1,1,2] è¿™äº”æ£µæ ‘ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= fruits.length <= 10^5`
  * `0 <= fruits[i] < fruits.length`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 2401 | æœ€é•¿ä¼˜é›…å­æ•°ç»„ |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/longest-nice-subarray) [ğŸ”—](https://leetcode.com/problems/longest-nice-subarray) |