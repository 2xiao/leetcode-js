# [2211. ç»Ÿè®¡é“è·¯ä¸Šçš„ç¢°æ’æ¬¡æ•°](https://leetcode.com/problems/count-collisions-on-a-road)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/outline/tag/stack.md) [`å­—ç¬¦ä¸²`](/outline/tag/string.md) [`æ¨¡æ‹Ÿ`](/outline/tag/simulation.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/count-collisions-on-a-road)

## é¢˜ç›®

There are `n` cars on an infinitely long road. The cars are numbered from `0`
to `n - 1` from left to right and each car is present at a **unique** point.

You are given a **0-indexed** string `directions` of length `n`.
`directions[i]` can be either `'L'`, `'R'`, or `'S'` denoting whether the
`ith` car is moving towards the **left** , towards the **right** , or
**staying** at its current point respectively. Each moving car has the **same
speed**.

The number of collisions can be calculated as follows:

  * When two cars moving in **opposite** directions collide with each other, the number of collisions increases by `2`.
  * When a moving car collides with a stationary car, the number of collisions increases by `1`.

After a collision, the cars involved can no longer move and will stay at the
point where they collided. Other than that, cars cannot change their state or
direction of motion.

Return _the**total number of collisions** that will happen on the road_.



**Example 1:**

> Input: directions = "RLRSLL"
> 
> Output: 5
> 
> Explanation:
> 
> The collisions that will happen on the road are:
> - Cars 0 and 1 will collide with each other. Since they are moving in opposite directions, the number of collisions becomes 0 + 2 = 2.
> - Cars 2 and 3 will collide with each other. Since car 3 is stationary, the number of collisions becomes 2 + 1 = 3.
> - Cars 3 and 4 will collide with each other. Since car 3 is stationary, the number of collisions becomes 3 + 1 = 4.
> - Cars 4 and 5 will collide with each other. After car 4 collides with car 3, it will stay at the point of collision and get hit by car 5. The number of collisions becomes 4 + 1 = 5.
> 
> Thus, the total number of collisions that will happen on the road is 5. 

**Example 2:**

> Input: directions = "LLRR"
> 
> Output: 0
> 
> Explanation:
> 
> No cars will collide with each other. Thus, the total number of collisions that will happen on the road is 0.



**Constraints:**

  * `1 <= directions.length <= 10^5`
  * `directions[i]` is either `'L'`, `'R'`, or `'S'`.


## é¢˜ç›®å¤§æ„

åœ¨ä¸€æ¡æ— é™é•¿çš„å…¬è·¯ä¸Šæœ‰ `n` è¾†æ±½è½¦æ­£åœ¨è¡Œé©¶ã€‚æ±½è½¦æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºæŒ‰ä» `0` åˆ° `n - 1` ç¼–å·ï¼Œæ¯è¾†è½¦éƒ½åœ¨ä¸€ä¸ª **ç‹¬ç‰¹çš„** ä½ç½®ã€‚

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„å­—ç¬¦ä¸² `directions` ï¼Œé•¿åº¦ä¸º `n` ã€‚`directions[i]` å¯ä»¥æ˜¯ `'L'`ã€`'R'` æˆ–
`'S'` åˆ†åˆ«è¡¨ç¤ºç¬¬ `i` è¾†è½¦æ˜¯å‘ **å·¦** ã€å‘ **å³** æˆ–è€… **åœç•™** åœ¨å½“å‰ä½ç½®ã€‚æ¯è¾†è½¦ç§»åŠ¨æ—¶ **é€Ÿåº¦ç›¸åŒ** ã€‚

ç¢°æ’æ¬¡æ•°å¯ä»¥æŒ‰ä¸‹è¿°æ–¹å¼è®¡ç®—ï¼š

  * å½“ä¸¤è¾†ç§»åŠ¨æ–¹å‘ **ç›¸å**  çš„è½¦ç›¸æ’æ—¶ï¼Œç¢°æ’æ¬¡æ•°åŠ  `2` ã€‚
  * å½“ä¸€è¾†ç§»åŠ¨çš„è½¦å’Œä¸€è¾†é™æ­¢çš„è½¦ç›¸æ’æ—¶ï¼Œç¢°æ’æ¬¡æ•°åŠ  `1` ã€‚

ç¢°æ’å‘ç”Ÿåï¼Œæ¶‰åŠçš„è½¦è¾†å°†æ— æ³•ç»§ç»­ç§»åŠ¨å¹¶åœç•™åœ¨ç¢°æ’ä½ç½®ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ±½è½¦ä¸èƒ½æ”¹å˜å®ƒä»¬çš„çŠ¶æ€æˆ–ç§»åŠ¨æ–¹å‘ã€‚

è¿”å›åœ¨è¿™æ¡é“è·¯ä¸Šå‘ç”Ÿçš„ **ç¢°æ’æ€»æ¬¡æ•°** ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** directions = "RLRSLL"
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š**
> 
> å°†ä¼šåœ¨é“è·¯ä¸Šå‘ç”Ÿçš„ç¢°æ’åˆ—å‡ºå¦‚ä¸‹ï¼š
> - è½¦ 0 å’Œè½¦ 1 ä¼šäº’ç›¸ç¢°æ’ã€‚ç”±äºå®ƒä»¬æŒ‰ç›¸åæ–¹å‘ç§»åŠ¨ï¼Œç¢°æ’æ•°é‡å˜ä¸º 0 + 2 = 2 ã€‚
> - è½¦ 2 å’Œè½¦ 3 ä¼šäº’ç›¸ç¢°æ’ã€‚ç”±äº 3 æ˜¯é™æ­¢çš„ï¼Œç¢°æ’æ•°é‡å˜ä¸º 2 + 1 = 3 ã€‚
> - è½¦ 3 å’Œè½¦ 4 ä¼šäº’ç›¸ç¢°æ’ã€‚ç”±äº 3 æ˜¯é™æ­¢çš„ï¼Œç¢°æ’æ•°é‡å˜ä¸º 3 + 1 = 4 ã€‚
> - è½¦ 4 å’Œè½¦ 5 ä¼šäº’ç›¸ç¢°æ’ã€‚åœ¨è½¦ 4 å’Œè½¦ 3 ç¢°æ’ä¹‹åï¼Œè½¦ 4 ä¼šå¾…åœ¨ç¢°æ’ä½ç½®ï¼Œæ¥ç€å’Œè½¦ 5 ç¢°æ’ã€‚ç¢°æ’æ•°é‡å˜ä¸º 4 + 1 = 5 ã€‚
> 
> å› æ­¤ï¼Œå°†ä¼šåœ¨é“è·¯ä¸Šå‘ç”Ÿçš„ç¢°æ’æ€»æ¬¡æ•°æ˜¯ 5 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** directions = "LLRR"
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š**
> 
> ä¸å­˜åœ¨ä¼šå‘ç”Ÿç¢°æ’çš„è½¦è¾†ã€‚å› æ­¤ï¼Œå°†ä¼šåœ¨é“è·¯ä¸Šå‘ç”Ÿçš„ç¢°æ’æ€»æ¬¡æ•°æ˜¯ 0 ã€‚



**æç¤ºï¼š**

  * `1 <= directions.length <= 10^5`
  * `directions[i]` çš„å€¼ä¸º `'L'`ã€`'R'` æˆ– `'S'`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 735 | [å°è¡Œæ˜Ÿç¢°æ’](https://leetcode.com/problems/asteroid-collision) |  |  [`æ ˆ`](/outline/tag/stack.md) [`æ•°ç»„`](/outline/tag/array.md) [`æ¨¡æ‹Ÿ`](/outline/tag/simulation.md) | <font color=#ffb800>Medium</font> |
| 853 | [è½¦é˜Ÿ](https://leetcode.com/problems/car-fleet) |  |  [`æ ˆ`](/outline/tag/stack.md) [`æ•°ç»„`](/outline/tag/array.md) [`æ’åº`](/outline/tag/sorting.md) `1+` | <font color=#ffb800>Medium</font> |
| 1503 | [æ‰€æœ‰èš‚èšæ‰ä¸‹æ¥å‰çš„æœ€åä¸€åˆ»](https://leetcode.com/problems/last-moment-before-all-ants-fall-out-of-a-plank) |  |  [`è„‘ç­‹æ€¥è½¬å¼¯`](/outline/tag/brainteaser.md) [`æ•°ç»„`](/outline/tag/array.md) [`æ¨¡æ‹Ÿ`](/outline/tag/simulation.md) | <font color=#ffb800>Medium</font> |
| 1776 | [è½¦é˜Ÿ II](https://leetcode.com/problems/car-fleet-ii) |  |  [`æ ˆ`](/outline/tag/stack.md) [`æ•°ç»„`](/outline/tag/array.md) [`æ•°å­¦`](/outline/tag/math.md) `2+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
