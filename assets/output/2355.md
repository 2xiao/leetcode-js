---
title: 2355. ä½ èƒ½æ‹¿èµ°çš„æœ€å¤§å›¾ä¹¦æ•°é‡ ğŸ”’
description: LeetCode,2355. ä½ èƒ½æ‹¿èµ°çš„æœ€å¤§å›¾ä¹¦æ•°é‡ ğŸ”’,ä½ èƒ½æ‹¿èµ°çš„æœ€å¤§å›¾ä¹¦æ•°é‡,Maximum Number of Books You Can Take,è§£é¢˜æ€è·¯,æ ˆ,æ•°ç»„,åŠ¨æ€è§„åˆ’,å•è°ƒæ ˆ
keywords:
  - LeetCode
  - 2355. ä½ èƒ½æ‹¿èµ°çš„æœ€å¤§å›¾ä¹¦æ•°é‡ ğŸ”’
  - ä½ èƒ½æ‹¿èµ°çš„æœ€å¤§å›¾ä¹¦æ•°é‡
  - Maximum Number of Books You Can Take
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - æ•°ç»„
  - åŠ¨æ€è§„åˆ’
  - å•è°ƒæ ˆ
---

# 2355. ä½ èƒ½æ‹¿èµ°çš„æœ€å¤§å›¾ä¹¦æ•°é‡ ğŸ”’

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`å•è°ƒæ ˆ`](/tag/monotonic-stack.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-number-of-books-you-can-take) [`LeetCode`](https://leetcode.com/problems/maximum-number-of-books-you-can-take)

## é¢˜ç›®

You are given a **0-indexed** integer array `books` of length `n` where
`books[i]` denotes the number of books on the `ith` shelf of a bookshelf.

You are going to take books from a **contiguous** section of the bookshelf
spanning from `l` to `r` where `0 <= l <= r < n`. For each index `i` in the
range `l <= i < r`, you must take **strictly fewer** books from shelf `i` than
shelf `i + 1`.

Return _the**maximum** number of books you can take from the bookshelf._



**Example 1:**

> Input: books = [8,5,2,7,9]
> 
> Output: 19
> 
> Explanation:
> - Take 1 book from shelf 1.
> - Take 2 books from shelf 2.
> - Take 7 books from shelf 3.
> - Take 9 books from shelf 4.
> 
> You have taken 19 books, so return 19.
> 
> It can be proven that 19 is the maximum number of books you can take.

**Example 2:**

> Input: books = [7,0,3,4,5]
> 
> Output: 12
> 
> Explanation:
> - Take 3 books from shelf 2.
> - Take 4 books from shelf 3.
> - Take 5 books from shelf 4.
> 
> You have taken 12 books so return 12.
> 
> It can be proven that 12 is the maximum number of books you can take.

**Example 3:**

> Input: books = [8,2,3,7,3,4,0,1,4,3]
> 
> Output: 13
> 
> Explanation:
> - Take 1 book from shelf 0.
> - Take 2 books from shelf 1.
> - Take 3 books from shelf 2.
> - Take 7 books from shelf 3.
> 
> You have taken 13 books so return 13.
> 
> It can be proven that 13 is the maximum number of books you can take.

**Constraints:**

  * `1 <= books.length <= 10^5`
  * `0 <= books[i] <= 10^5`


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º `n` çš„**  ä¸‹æ ‡ä» 0 å¼€å§‹ **çš„æ•´æ•°æ•°ç»„ `books`ï¼Œå…¶ä¸­ `books[i]` è¡¨ç¤ºä¹¦æ¶çš„ç¬¬ `i` ä¸ªä¹¦æ¶ä¸Šçš„ä¹¦çš„æ•°é‡ã€‚

ä½ è¦ä»ä¹¦æ¶ `l` åˆ° `r` çš„ä¸€ä¸ª **è¿ç»­  **çš„éƒ¨åˆ†ä¸­å–ä¹¦ï¼Œå…¶ä¸­ `0 <= l <= r < n`ã€‚å¯¹äº `l <= i < r`
èŒƒå›´å†…çš„æ¯ä¸ªç´¢å¼• `i`ï¼Œä½ ä»ä¹¦æ¶ `i` å–ä¹¦çš„æ•°é‡å¿…é¡» **ä¸¥æ ¼å°äº** ä½ ä»ä¹¦æ¶ `i + 1` å–ä¹¦çš„æ•°é‡ã€‚

è¿”å› _ä½ èƒ½ä»ä¹¦æ¶ä¸Šæ‹¿èµ°çš„ä¹¦çš„  **æœ€å¤§  **æ•°é‡ã€‚_



**ç¤ºä¾‹ 1:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** books = [8,5,2,7,9]
> 
> **è¾“å‡º:** 19
> 
> **è§£é‡Š:**
> - ä»ä¹¦æ¶ 1 ä¸Šå– 1 æœ¬ä¹¦ã€‚
> - ä»ä¹¦æ¶ 2 ä¸Šå– 2 æœ¬ä¹¦ã€‚
> - ä»ä¹¦æ¶ 3 ä¸Šå– 7 æœ¬ä¹¦
> - ä»ä¹¦æ¶ 4 ä¸Šå– 9 æœ¬ä¹¦
> 
> ä½ å·²ç»æ‹¿äº†19æœ¬ä¹¦ï¼Œæ‰€ä»¥è¿”å› 19ã€‚
> 
> å¯ä»¥è¯æ˜ 19 æœ¬æ˜¯ä½ æ‰€èƒ½æ‹¿èµ°çš„ä¹¦çš„æœ€å¤§æ•°é‡ã€‚
> 
> 

**ç¤ºä¾‹  2:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** books = [7,0,3,4,5]
> 
> **è¾“å‡º:** 12
> 
> **è§£é‡Š:**
> - ä»ä¹¦æ¶ 2 ä¸Šå– 3 æœ¬ä¹¦ã€‚
> - ä»ä¹¦æ¶ 3 ä¸Šå– 4 æœ¬ä¹¦ã€‚
> - ä»ä¹¦æ¶ 4 ä¸Šå– 5 æœ¬ä¹¦ã€‚
> 
> ä½ å·²ç»æ‹¿äº† 12 æœ¬ä¹¦ï¼Œæ‰€ä»¥è¿”å› 12ã€‚
> 
> å¯ä»¥è¯æ˜ 12 æœ¬æ˜¯ä½ æ‰€èƒ½æ‹¿èµ°çš„ä¹¦çš„æœ€å¤§æ•°é‡ã€‚
> 
> 

**ç¤ºä¾‹ 3:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** books = [8,2,3,7,3,4,0,1,4,3]
> 
> **è¾“å‡º:** 13
> 
> **è§£é‡Š:**
> - ä»ä¹¦æ¶ 0 ä¸Šå– 1 æœ¬ä¹¦ã€‚
> - ä»ä¹¦æ¶ 1 ä¸Šå– 2 æœ¬ä¹¦ã€‚
> - ä»ä¹¦æ¶ 2 ä¸Šå– 3 æœ¬ä¹¦ã€‚
> - ä»ä¹¦æ¶ 3 ä¸Šå– 7 æœ¬ä¹¦ã€‚
> 
> ä½ å·²ç»æ‹¿äº† 13 æœ¬ä¹¦ï¼Œæ‰€ä»¥è¿”å› 13ã€‚
> 
> å¯ä»¥è¯æ˜ 13 æœ¬æ˜¯ä½ æ‰€èƒ½æ‹¿èµ°çš„ä¹¦çš„æœ€å¤§æ•°é‡ã€‚
> 
> 



**æç¤º:**

  * `1 <= books.length <= 10^5`
  * `0 <= books[i] <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 300 | æœ€é•¿é€’å¢å­åºåˆ— | [[âœ“]](/problem/0300.md) |  [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/longest-increasing-subsequence) [ğŸ”—](https://leetcode.com/problems/longest-increasing-subsequence) |
| 1800 | æœ€å¤§å‡åºå­æ•°ç»„å’Œ |  |  [`æ•°ç»„`](/tag/array.md) | <font color=#15bd66>Easy</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-ascending-subarray-sum) [ğŸ”—](https://leetcode.com/problems/maximum-ascending-subarray-sum) |
| 2865 | ç¾ä¸½å¡” I |  |  [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`å•è°ƒæ ˆ`](/tag/monotonic-stack.md) | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/beautiful-towers-i) [ğŸ”—](https://leetcode.com/problems/beautiful-towers-i) |
| 2866 | ç¾ä¸½å¡” II |  |  [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`å•è°ƒæ ˆ`](/tag/monotonic-stack.md) | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/beautiful-towers-ii) [ğŸ”—](https://leetcode.com/problems/beautiful-towers-ii) |