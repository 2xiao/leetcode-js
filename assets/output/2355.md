---
title: 2355. 你能拿走的最大图书数量 🔒
description: LeetCode 2355. 你能拿走的最大图书数量 🔒题解，Maximum Number of Books You Can Take，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 2355. 你能拿走的最大图书数量 🔒
  - 你能拿走的最大图书数量
  - Maximum Number of Books You Can Take
  - 解题思路
  - 栈
  - 数组
  - 动态规划
  - 单调栈
---

# 2355. 你能拿走的最大图书数量 🔒

🔴 <font color=#ff334b>Hard</font>&emsp; 🔖&ensp; [`栈`](/tag/stack.md) [`数组`](/tag/array.md) [`动态规划`](/tag/dynamic-programming.md) [`单调栈`](/tag/monotonic-stack.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/maximum-number-of-books-you-can-take) [`LeetCode`](https://leetcode.com/problems/maximum-number-of-books-you-can-take)

## 题目

You are given a **0-indexed** integer array `books` of length `n` where
`books[i]` denotes the number of books on the `ith` shelf of a bookshelf.

You are going to take books from a **contiguous** section of the bookshelf
spanning from `l` to `r` where `0 <= l <= r < n`. For each index `i` in the
range `l <= i < r`, you must take **strictly fewer** books from shelf `i` than
shelf `i + 1`.

Return _the**maximum** number of books you can take from the bookshelf._



**Example 1:**

> Input: books = [8,5,2,7,9]
> 
> Output: 19
> 
> Explanation:
> - Take 1 book from shelf 1.
> - Take 2 books from shelf 2.
> - Take 7 books from shelf 3.
> - Take 9 books from shelf 4.
> 
> You have taken 19 books, so return 19.
> 
> It can be proven that 19 is the maximum number of books you can take.

**Example 2:**

> Input: books = [7,0,3,4,5]
> 
> Output: 12
> 
> Explanation:
> - Take 3 books from shelf 2.
> - Take 4 books from shelf 3.
> - Take 5 books from shelf 4.
> 
> You have taken 12 books so return 12.
> 
> It can be proven that 12 is the maximum number of books you can take.

**Example 3:**

> Input: books = [8,2,3,7,3,4,0,1,4,3]
> 
> Output: 13
> 
> Explanation:
> - Take 1 book from shelf 0.
> - Take 2 books from shelf 1.
> - Take 3 books from shelf 2.
> - Take 7 books from shelf 3.
> 
> You have taken 13 books so return 13.
> 
> It can be proven that 13 is the maximum number of books you can take.

**Constraints:**

  * `1 <= books.length <= 10^5`
  * `0 <= books[i] <= 10^5`


## 题目大意

给定一个长度为 `n` 的**  下标从 0 开始 **的整数数组 `books`，其中 `books[i]` 表示书架的第 `i` 个书架上的书的数量。

你要从书架 `l` 到 `r` 的一个 **连续  **的部分中取书，其中 `0 <= l <= r < n`。对于 `l <= i < r`
范围内的每个索引 `i`，你从书架 `i` 取书的数量必须 **严格小于** 你从书架 `i + 1` 取书的数量。

返回 _你能从书架上拿走的书的  **最大  **数量。_



**示例 1:**

> 
> 
> 
> 
> 
> **输入:** books = [8,5,2,7,9]
> 
> **输出:** 19
> 
> **解释:**
> - 从书架 1 上取 1 本书。
> - 从书架 2 上取 2 本书。
> - 从书架 3 上取 7 本书
> - 从书架 4 上取 9 本书
> 
> 你已经拿了19本书，所以返回 19。
> 
> 可以证明 19 本是你所能拿走的书的最大数量。
> 
> 

**示例  2:**

> 
> 
> 
> 
> 
> **输入:** books = [7,0,3,4,5]
> 
> **输出:** 12
> 
> **解释:**
> - 从书架 2 上取 3 本书。
> - 从书架 3 上取 4 本书。
> - 从书架 4 上取 5 本书。
> 
> 你已经拿了 12 本书，所以返回 12。
> 
> 可以证明 12 本是你所能拿走的书的最大数量。
> 
> 

**示例 3:**

> 
> 
> 
> 
> 
> **输入:** books = [8,2,3,7,3,4,0,1,4,3]
> 
> **输出:** 13
> 
> **解释:**
> - 从书架 0 上取 1 本书。
> - 从书架 1 上取 2 本书。
> - 从书架 2 上取 3 本书。
> - 从书架 3 上取 7 本书。
> 
> 你已经拿了 13 本书，所以返回 13。
> 
> 可以证明 13 本是你所能拿走的书的最大数量。
> 
> 



**提示:**

  * `1 <= books.length <= 10^5`
  * `0 <= books[i] <= 10^5`


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 300 | 最长递增子序列 | [[✓]](/problem/0300.md) |  [`数组`](/tag/array.md) [`二分查找`](/tag/binary-search.md) [`动态规划`](/tag/dynamic-programming.md) | 🟠 | [🀄️](https://leetcode.cn/problems/longest-increasing-subsequence) [🔗](https://leetcode.com/problems/longest-increasing-subsequence) |
| 1800 | 最大升序子数组和 | [[✓]](/problem/1800.md) |  [`数组`](/tag/array.md) | 🟢 | [🀄️](https://leetcode.cn/problems/maximum-ascending-subarray-sum) [🔗](https://leetcode.com/problems/maximum-ascending-subarray-sum) |
| 2865 | 美丽塔 I |  |  [`栈`](/tag/stack.md) [`数组`](/tag/array.md) [`单调栈`](/tag/monotonic-stack.md) | 🟠 | [🀄️](https://leetcode.cn/problems/beautiful-towers-i) [🔗](https://leetcode.com/problems/beautiful-towers-i) |
| 2866 | 美丽塔 II |  |  [`栈`](/tag/stack.md) [`数组`](/tag/array.md) [`单调栈`](/tag/monotonic-stack.md) | 🟠 | [🀄️](https://leetcode.cn/problems/beautiful-towers-ii) [🔗](https://leetcode.com/problems/beautiful-towers-ii) |