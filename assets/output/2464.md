# [2464. æœ‰æ•ˆåˆ†å‰²ä¸­çš„æœ€å°‘å­æ•°ç»„æ•°ç›® ğŸ”’](https://2xiao.github.io/leetcode-js/problem/2464.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`æ•°è®º`](/tag/number-theory.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minimum-subarrays-in-a-valid-split) [`LeetCode`](https://leetcode.com/problems/minimum-subarrays-in-a-valid-split)

## é¢˜ç›®

You are given an integer array `nums`.

Splitting of an integer array `nums` into **subarrays** is **valid** if:

  * the _greatest common divisor_ of the first and last elements of each subarray is **greater** than `1`, and
  * each element of `nums` belongs to exactly one subarray.

Return _the**minimum** number of subarrays in a **valid** subarray splitting
of_ `nums`. If a valid subarray splitting is not possible, return `-1`.

**Note** that:

  * The **greatest common divisor** of two numbers is the largest positive integer that evenly divides both numbers.
  * A **subarray** is a contiguous non-empty part of an array.



**Example 1:**

> Input: nums = [2,6,3,4,3]
> 
> Output: 2
> 
> Explanation: We can create a valid split in the following way: [2,6] | [3,4,3].
> - The starting element of the 1st subarray is 2 and the ending is 6. Their greatest common divisor is 2, which is greater than 1.
> - The starting element of the 2nd subarray is 3 and the ending is 3. Their greatest common divisor is 3, which is greater than 1.
> 
> It can be proved that 2 is the minimum number of subarrays that we can obtain in a valid split.

**Example 2:**

> Input: nums = [3,5]
> 
> Output: 2
> 
> Explanation: We can create a valid split in the following way: [3] | [5].
> - The starting element of the 1st subarray is 3 and the ending is 3. Their greatest common divisor is 3, which is greater than 1.
> - The starting element of the 2nd subarray is 5 and the ending is 5. Their greatest common divisor is 5, which is greater than 1.
> 
> It can be proved that 2 is the minimum number of subarrays that we can obtain in a valid split.

**Example 3:**

> Input: nums = [1,2,1]
> 
> Output: -1
> 
> Explanation: It is impossible to create valid split.

**Constraints:**

  * `1 <= nums.length <= 1000`
  * `1 <= nums[i] <= 10^5`


## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ã€‚

å¦‚æœè¦å°†æ•´æ•°æ•°ç»„ `nums` æ‹†åˆ†ä¸º **å­æ•°ç»„  **åæ˜¯ **æœ‰æ•ˆçš„** ï¼Œåˆ™å¿…é¡»æ»¡è¶³:

  * æ¯ä¸ªå­æ•°ç»„çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ çš„æœ€å¤§å…¬çº¦æ•° **å¤§äº** `1`ï¼Œä¸”
  * `nums` çš„æ¯ä¸ªå…ƒç´ åªå±äºä¸€ä¸ªå­æ•°ç»„ã€‚

è¿”å› `nums` çš„ **æœ‰æ•ˆ  **å­æ•°ç»„æ‹†åˆ†ä¸­çš„ **æœ€å°‘  **å­æ•°ç»„æ•°ç›®ã€‚å¦‚æœä¸èƒ½è¿›è¡Œæœ‰æ•ˆçš„å­æ•°ç»„æ‹†åˆ†ï¼Œåˆ™è¿”å› `-1`ã€‚

**æ³¨æ„** :

  * ä¸¤ä¸ªæ•°çš„ **æœ€å¤§å…¬çº¦æ•°  **æ˜¯èƒ½æ•´é™¤ä¸¤ä¸ªæ•°çš„æœ€å¤§æ­£æ•´æ•°ã€‚
  * **å­æ•°ç»„  **æ˜¯æ•°ç»„ä¸­è¿ç»­çš„éç©ºéƒ¨åˆ†ã€‚



**ç¤ºä¾‹ 1:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** nums = [2,6,3,4,3]
> 
> **è¾“å‡º:** 2
> 
> **è§£é‡Š:** æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åˆ›å»ºä¸€ä¸ªæœ‰æ•ˆçš„åˆ†å‰²: [2,6] | [3,4,3].
> - ç¬¬ä¸€ä¸ªå­æ•°ç»„çš„èµ·å§‹å…ƒç´ æ˜¯ 2ï¼Œç»“æŸå…ƒç´ æ˜¯ 6ã€‚å®ƒä»¬çš„æœ€å¤§å…¬çº¦æ•°æ˜¯ 2ï¼Œå¤§äº 1ã€‚
> - ç¬¬äºŒä¸ªå­æ•°ç»„çš„èµ·å§‹å…ƒç´ æ˜¯ 3ï¼Œç»“æŸå…ƒç´ æ˜¯ 3ã€‚å®ƒä»¬çš„æœ€å¤§å…¬çº¦æ•°æ˜¯ 3ï¼Œå¤§äº 1ã€‚
> 
> å¯ä»¥è¯æ˜ï¼Œ2 æ˜¯æˆ‘ä»¬åœ¨æœ‰æ•ˆåˆ†å‰²ä¸­å¯ä»¥è·å¾—çš„æœ€å°‘å­æ•°ç»„æ•°ã€‚
> 
> 

**ç¤ºä¾‹ 2:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** nums = [3,5]
> 
> **è¾“å‡º:** 2
> 
> **è§£é‡Š:** æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åˆ›å»ºä¸€ä¸ªæœ‰æ•ˆçš„åˆ†å‰²: [3] | [5].
> - ç¬¬ä¸€ä¸ªå­æ•°ç»„çš„èµ·å§‹å…ƒç´ æ˜¯ 3ï¼Œç»“æŸå…ƒç´ æ˜¯ 3ã€‚å®ƒä»¬çš„æœ€å¤§å…¬çº¦æ•°æ˜¯ 3ï¼Œå¤§äº 1ã€‚
> - ç¬¬äºŒä¸ªå­æ•°ç»„çš„èµ·å§‹å…ƒç´ æ˜¯ 5ï¼Œç»“æŸå…ƒç´ æ˜¯ 5ã€‚å®ƒä»¬çš„æœ€å¤§å…¬çº¦æ•°æ˜¯ 5ï¼Œå¤§äº 1ã€‚
> 
> å¯ä»¥è¯æ˜ï¼Œ2 æ˜¯æˆ‘ä»¬åœ¨æœ‰æ•ˆåˆ†å‰²ä¸­å¯ä»¥è·å¾—çš„æœ€å°‘å­æ•°ç»„æ•°ã€‚
> 
> 

**ç¤ºä¾‹  3:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** nums = [1,2,1]
> 
> **è¾“å‡º:** -1
> 
> **è§£é‡Š:** ä¸å¯èƒ½åˆ›å»ºæœ‰æ•ˆçš„åˆ†å‰²ã€‚



**æç¤º:**

  * `1 <= nums.length <= 1000`
  * `1 <= nums[i] <= 10^5`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2436 | [ä½¿å­æ•°ç»„æœ€å¤§å…¬çº¦æ•°å¤§äºä¸€çš„æœ€å°åˆ†å‰²æ•° ğŸ”’](https://leetcode.com/problems/minimum-split-into-subarrays-with-gcd-greater-than-one) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) `2+` | <font color=#ffb800>Medium</font> |