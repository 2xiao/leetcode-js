# [818. èµ›è½¦](https://leetcode.com/problems/race-car)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/race-car)


## é¢˜ç›®

Your car starts at position `0` and speed `+1` on an infinite number line.
Your car can go into negative positions. Your car drives automatically
according to a sequence of instructions `'A'` (accelerate) and `'R'`
(reverse):

  * When you get an instruction `'A'`, your car does the following: 
> 
> * `position += speed`
> 
> * `speed *= 2`
  * When you get an instruction `'R'`, your car does the following: 
> 
> * If your speed is positive then `speed = -1`
> 
> * otherwise `speed = 1`
Your position stays the same.

For example, after commands `"AAR"`, your car goes to positions `0 --> 1 --> 3
--> 3`, and your speed goes to `1 --> 2 --> 4 --> -1`.

Given a target position `target`, return _the length of the shortest sequence
of instructions to get there_.



**Example 1:**

> Input: target = 3
> 
> Output: 2
> 
> Explanation: 
> 
> The shortest instruction sequence is "AA".
> 
> Your position goes from 0 --> 1 --> 3.

**Example 2:**

> Input: target = 6
> 
> Output: 5
> 
> Explanation: 
> 
> The shortest instruction sequence is "AAARA".
> 
> Your position goes from 0 --> 1 --> 3 --> 7 --> 7 --> 6.

**Constraints:**

  * `1 <= target <= 10^4`


## é¢˜ç›®å¤§æ„

ä½ çš„èµ›è½¦å¯ä»¥ä»ä½ç½® `0` å¼€å§‹ï¼Œå¹¶ä¸”é€Ÿåº¦ä¸º `+1` ï¼Œåœ¨ä¸€æ¡æ— é™é•¿çš„æ•°è½´ä¸Šè¡Œé©¶ã€‚èµ›è½¦ä¹Ÿå¯ä»¥å‘è´Ÿæ–¹å‘è¡Œé©¶ã€‚èµ›è½¦å¯ä»¥æŒ‰ç…§ç”±åŠ é€ŸæŒ‡ä»¤ `'A'` å’Œå€’è½¦æŒ‡ä»¤
`'R'` ç»„æˆçš„æŒ‡ä»¤åºåˆ—è‡ªåŠ¨è¡Œé©¶ã€‚

  * å½“æ”¶åˆ°æŒ‡ä»¤ `'A'` æ—¶ï¼Œèµ›è½¦è¿™æ ·è¡Œé©¶ï¼š 
> 
> * `position += speed`
> 
> * `speed *= 2`
  * å½“æ”¶åˆ°æŒ‡ä»¤ `'R'` æ—¶ï¼Œèµ›è½¦è¿™æ ·è¡Œé©¶ï¼š 
> 
> * å¦‚æœé€Ÿåº¦ä¸ºæ­£æ•°ï¼Œé‚£ä¹ˆ`speed = -1`
> 
> * å¦åˆ™ `speed = 1`
å½“å‰æ‰€å¤„ä½ç½®ä¸å˜ã€‚

ä¾‹å¦‚ï¼Œåœ¨æ‰§è¡ŒæŒ‡ä»¤ `"AAR"` åï¼Œèµ›è½¦ä½ç½®å˜åŒ–ä¸º `0 --> 1 --> 3 --> 3` ï¼Œé€Ÿåº¦å˜åŒ–ä¸º `1 --> 2 --> 4 --> -1`
ã€‚

ç»™ä½ ä¸€ä¸ªç›®æ ‡ä½ç½® `target` ï¼Œè¿”å›èƒ½åˆ°è¾¾ç›®æ ‡ä½ç½®çš„æœ€çŸ­æŒ‡ä»¤åºåˆ—çš„é•¿åº¦ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** target = 3
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š**
> 
> æœ€çŸ­æŒ‡ä»¤åºåˆ—æ˜¯ "AA" ã€‚
> 
> ä½ç½®å˜åŒ– 0 --> 1 --> 3 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** target = 6
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š**
> 
> æœ€çŸ­æŒ‡ä»¤åºåˆ—æ˜¯ "AAARA" ã€‚
> 
> ä½ç½®å˜åŒ– 0 --> 1 --> 3 --> 7 --> 7 --> 6 ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= target <= 10^4`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```