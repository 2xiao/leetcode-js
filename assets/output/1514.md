# [1514. æ¦‚ç‡æœ€å¤§çš„è·¯å¾„](https://leetcode.com/problems/path-with-maximum-probability)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å›¾`](/tag/graph.md) [`æ•°ç»„`](/tag/array.md) [`æœ€çŸ­è·¯`](/tag/shortest-path.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/path-with-maximum-probability)

## é¢˜ç›®

You are given an undirected weighted graph of `n` nodes (0-indexed),
represented by an edge list where `edges[i] = [a, b]` is an undirected edge
connecting the nodes `a` and `b` with a probability of success of traversing
that edge `succProb[i]`.

Given two nodes `start` and `end`, find the path with the maximum probability
of success to go from `start` to `end` and return its success probability.

If there is no path from `start` to `end`, **return  0**. Your answer will be
accepted if it differs from the correct answer by at most **1e-5**.



**Example 1:**

**![](https://assets.leetcode.com/uploads/2019/09/20/1558_ex1.png)**

> Input: n = 3, edges = [[0,1],[1,2],[0,2]], succProb = [0.5,0.5,0.2], start = 0, end = 2
> 
> Output: 0.25000
> 
> Explanation:  There are two paths from start to end, one having a probability of success = 0.2 and the other has 0.5 * 0.5 = 0.25.

**Example 2:**

**![](https://assets.leetcode.com/uploads/2019/09/20/1558_ex2.png)**

> Input: n = 3, edges = [[0,1],[1,2],[0,2]], succProb = [0.5,0.5,0.3], start = 0, end = 2
> 
> Output: 0.30000

**Example 3:**

**![](https://assets.leetcode.com/uploads/2019/09/20/1558_ex3.png)**

> Input: n = 3, edges = [[0,1]], succProb = [0.5], start = 0, end = 2
> 
> Output: 0.00000
> 
> Explanation:  There is no path between 0 and 2.

**Constraints:**

  * `2 <= n <= 10^4`
  * `0 <= start, end < n`
  * `start != end`
  * `0 <= a, b < n`
  * `a != b`
  * `0 <= succProb.length == edges.length <= 2*10^4`
  * `0 <= succProb[i] <= 1`
  * There is at most one edge between every two nodes.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªç”± `n` ä¸ªèŠ‚ç‚¹ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ç»„æˆçš„æ— å‘åŠ æƒå›¾ï¼Œè¯¥å›¾ç”±ä¸€ä¸ªæè¿°è¾¹çš„åˆ—è¡¨ç»„æˆï¼Œå…¶ä¸­ `edges[i] = [a, b]` è¡¨ç¤ºè¿æ¥èŠ‚ç‚¹ a
å’Œ b çš„ä¸€æ¡æ— å‘è¾¹ï¼Œä¸”è¯¥è¾¹éå†æˆåŠŸçš„æ¦‚ç‡ä¸º `succProb[i]` ã€‚

æŒ‡å®šä¸¤ä¸ªèŠ‚ç‚¹åˆ†åˆ«ä½œä¸ºèµ·ç‚¹ `start` å’Œç»ˆç‚¹ `end` ï¼Œè¯·ä½ æ‰¾å‡ºä»èµ·ç‚¹åˆ°ç»ˆç‚¹æˆåŠŸæ¦‚ç‡æœ€å¤§çš„è·¯å¾„ï¼Œå¹¶è¿”å›å…¶æˆåŠŸæ¦‚ç‡ã€‚

å¦‚æœä¸å­˜åœ¨ä» `start` åˆ° `end` çš„è·¯å¾„ï¼Œè¯· **è¿”å› 0** ã€‚åªè¦ç­”æ¡ˆä¸æ ‡å‡†ç­”æ¡ˆçš„è¯¯å·®ä¸è¶…è¿‡ **1e-5** ï¼Œå°±ä¼šè¢«è§†ä½œæ­£ç¡®ç­”æ¡ˆã€‚



**ç¤ºä¾‹ 1ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/07/12/1558_ex1.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3, edges = [[0,1],[1,2],[0,2]], succProb = [0.5,0.5,0.2], start = 0, end = 2
> 
> **è¾“å‡ºï¼š** 0.25000
> 
> **è§£é‡Šï¼š** ä»èµ·ç‚¹åˆ°ç»ˆç‚¹æœ‰ä¸¤æ¡è·¯å¾„ï¼Œå…¶ä¸­ä¸€æ¡çš„æˆåŠŸæ¦‚ç‡ä¸º 0.2 ï¼Œè€Œå¦ä¸€æ¡ä¸º 0.5 * 0.5 = 0.25
> 
> 

**ç¤ºä¾‹ 2ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/07/12/1558_ex2.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3, edges = [[0,1],[1,2],[0,2]], succProb = [0.5,0.5,0.3], start = 0, end = 2
> 
> **è¾“å‡ºï¼š** 0.30000
> 
> 

**ç¤ºä¾‹ 3ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/07/12/1558_ex3.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3, edges = [[0,1]], succProb = [0.5], start = 0, end = 2
> 
> **è¾“å‡ºï¼š** 0.00000
> 
> **è§£é‡Šï¼š** èŠ‚ç‚¹ 0 å’Œ èŠ‚ç‚¹ 2 ä¹‹é—´ä¸å­˜åœ¨è·¯å¾„
> 
> 



**æç¤ºï¼š**

  * `2 <= n <= 10^4`
  * `0 <= start, end < n`
  * `start != end`
  * `0 <= a, b < n`
  * `a != b`
  * `0 <= succProb.length == edges.length <= 2*10^4`
  * `0 <= succProb[i] <= 1`
  * æ¯ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æœ€å¤šæœ‰ä¸€æ¡è¾¹


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1976 | [åˆ°è¾¾ç›®çš„åœ°çš„æ–¹æ¡ˆæ•°](https://leetcode.com/problems/number-of-ways-to-arrive-at-destination) |  |  [`å›¾`](/tag/graph.md) [`æ‹“æ‰‘æ’åº`](/tag/topological-sort.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) `1+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
