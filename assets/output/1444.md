# [1444. åˆ‡æŠ«è¨çš„æ–¹æ¡ˆæ•°](https://leetcode.com/problems/number-of-ways-of-cutting-a-pizza)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`è®°å¿†åŒ–æœç´¢`](/leetcode/outline/tag/memoization.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md) [`çŸ©é˜µ`](/leetcode/outline/tag/matrix.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/number-of-ways-of-cutting-a-pizza)


## é¢˜ç›®

Given a rectangular pizza represented as a `rows x cols` matrix containing the
following characters: `'A'` (an apple) and `'.'` (empty cell) and given the
integer `k`. You have to cut the pizza into `k` pieces using `k-1` cuts.

For each cut you choose the direction: vertical or horizontal, then you choose
a cut position at the cell boundary and cut the pizza into two pieces. If you
cut the pizza vertically, give the left part of the pizza to a person. If you
cut the pizza horizontally, give the upper part of the pizza to a person. Give
the last piece of pizza to the last person.

_Return the number of ways of cutting the pizza such that each piece
contains**at least** one apple. _Since the answer can be a huge number, return
this modulo 10^9 + 7.



**Example 1:**

**![](https://assets.leetcode.com/uploads/2020/04/23/ways_to_cut_apple_1.png)**

> Input: pizza = ["A..","AAA","..."], k = 3
> 
> Output: 3 
> 
> Explanation: The figure above shows the three ways to cut the pizza. Note that pieces must contain at least one apple.

**Example 2:**

> Input: pizza = ["A..","AA.","..."], k = 3
> 
> Output: 1

**Example 3:**

> Input: pizza = ["A..","A..","..."], k = 1
> 
> Output: 1

**Constraints:**

  * `1 <= rows, cols <= 50`
  * `rows == pizza.length`
  * `cols == pizza[i].length`
  * `1 <= k <= 10`
  * `pizza` consists of characters `'A'` and `'.'` only.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `rows x cols` å¤§å°çš„çŸ©å½¢æŠ«è¨å’Œä¸€ä¸ªæ•´æ•° `k` ï¼ŒçŸ©å½¢åŒ…å«ä¸¤ç§å­—ç¬¦ï¼š `'A'` ï¼ˆè¡¨ç¤ºè‹¹æœï¼‰å’Œ `'.'`
ï¼ˆè¡¨ç¤ºç©ºç™½æ ¼å­ï¼‰ã€‚ä½ éœ€è¦åˆ‡æŠ«è¨ `k-1` æ¬¡ï¼Œå¾—åˆ° `k` å—æŠ«è¨å¹¶é€ç»™åˆ«äººã€‚

åˆ‡æŠ«è¨çš„æ¯ä¸€åˆ€ï¼Œå…ˆè¦é€‰æ‹©æ˜¯å‘å‚ç›´è¿˜æ˜¯æ°´å¹³æ–¹å‘åˆ‡ï¼Œå†åœ¨çŸ©å½¢çš„è¾¹ç•Œä¸Šé€‰ä¸€ä¸ªåˆ‡çš„ä½ç½®ï¼Œå°†æŠ«è¨ä¸€åˆ†ä¸ºäºŒã€‚å¦‚æœå‚ç›´åœ°åˆ‡æŠ«è¨ï¼Œé‚£ä¹ˆéœ€è¦æŠŠå·¦è¾¹çš„éƒ¨åˆ†é€ç»™ä¸€ä¸ªäººï¼Œå¦‚æœæ°´å¹³åœ°åˆ‡ï¼Œé‚£ä¹ˆéœ€è¦æŠŠä¸Šé¢çš„éƒ¨åˆ†é€ç»™ä¸€ä¸ªäººã€‚åœ¨åˆ‡å®Œæœ€åä¸€åˆ€åï¼Œéœ€è¦æŠŠå‰©ä¸‹æ¥çš„ä¸€å—é€ç»™æœ€åä¸€ä¸ªäººã€‚

è¯·ä½ è¿”å›ç¡®ä¿æ¯ä¸€å—æŠ«è¨åŒ…å« **è‡³å°‘**  ä¸€ä¸ªè‹¹æœçš„åˆ‡æŠ«è¨æ–¹æ¡ˆæ•°ã€‚ç”±äºç­”æ¡ˆå¯èƒ½æ˜¯ä¸ªå¾ˆå¤§çš„æ•°å­—ï¼Œè¯·ä½ è¿”å›å®ƒå¯¹ 10^9 + 7 å–ä½™çš„ç»“æœã€‚



**ç¤ºä¾‹ 1ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/05/10/ways_to_cut_apple_1.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** pizza = ["A..","AAA","..."], k = 3
> 
> **è¾“å‡ºï¼š** 3 
> 
> **è§£é‡Šï¼š** ä¸Šå›¾å±•ç¤ºäº†ä¸‰ç§åˆ‡æŠ«è¨çš„æ–¹æ¡ˆã€‚æ³¨æ„æ¯ä¸€å—æŠ«è¨éƒ½è‡³å°‘åŒ…å«ä¸€ä¸ªè‹¹æœã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** pizza = ["A..","AA.","..."], k = 3
> 
> **è¾“å‡ºï¼š** 1
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** pizza = ["A..","A..","..."], k = 1
> 
> **è¾“å‡ºï¼š** 1
> 
> 



**æç¤ºï¼š**

  * `1 <= rows, cols <= 50`
  * `rows == pizza.length`
  * `cols == pizza[i].length`
  * `1 <= k <= 10`
  * `pizza` åªåŒ…å«å­—ç¬¦ `'A'` å’Œ `'.'` ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2312 | [å–æœ¨å¤´å—](https://leetcode.com/problems/selling-pieces-of-wood) |  |  [`è®°å¿†åŒ–æœç´¢`](/leetcode/outline/tag/memoization.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
