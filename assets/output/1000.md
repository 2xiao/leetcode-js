---
title: 1000. åˆå¹¶çŸ³å¤´çš„æœ€ä½æˆæœ¬
description: LeetCode,1000. åˆå¹¶çŸ³å¤´çš„æœ€ä½æˆæœ¬,åˆå¹¶çŸ³å¤´çš„æœ€ä½æˆæœ¬,Minimum Cost to Merge Stones,è§£é¢˜æ€è·¯,æ•°ç»„,åŠ¨æ€è§„åˆ’,å‰ç¼€å’Œ
keywords:
  - LeetCode
  - 1000. åˆå¹¶çŸ³å¤´çš„æœ€ä½æˆæœ¬
  - åˆå¹¶çŸ³å¤´çš„æœ€ä½æˆæœ¬
  - Minimum Cost to Merge Stones
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - åŠ¨æ€è§„åˆ’
  - å‰ç¼€å’Œ
---

# 1000. åˆå¹¶çŸ³å¤´çš„æœ€ä½æˆæœ¬

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minimum-cost-to-merge-stones) [`LeetCode`](https://leetcode.com/problems/minimum-cost-to-merge-stones)

## é¢˜ç›®

There are `n` piles of `stones` arranged in a row. The `ith` pile has
`stones[i]` stones.

A move consists of merging exactly `k` **consecutive** piles into one pile,
and the cost of this move is equal to the total number of stones in these `k`
piles.

Return _the minimum cost to merge all piles of stones into one pile_. If it is
impossible, return `-1`.



**Example 1:**

> Input: stones = [3,2,4,1], k = 2
> 
> Output: 20
> 
> Explanation: We start with [3, 2, 4, 1].
> 
> We merge [3, 2] for a cost of 5, and we are left with [5, 4, 1].
> 
> We merge [4, 1] for a cost of 5, and we are left with [5, 5].
> 
> We merge [5, 5] for a cost of 10, and we are left with [10].
> 
> The total cost was 20, and this is the minimum possible.

**Example 2:**

> Input: stones = [3,2,4,1], k = 3
> 
> Output: -1
> 
> Explanation: After any merge operation, there are 2 piles left, and we can't merge anymore.  So the task is impossible.

**Example 3:**

> Input: stones = [3,5,1,2,6], k = 3
> 
> Output: 25
> 
> Explanation: We start with [3, 5, 1, 2, 6].
> 
> We merge [5, 1, 2] for a cost of 8, and we are left with [3, 8, 6].
> 
> We merge [3, 8, 6] for a cost of 17, and we are left with [17].
> 
> The total cost was 25, and this is the minimum possible.

**Constraints:**

  * `n == stones.length`
  * `1 <= n <= 30`
  * `1 <= stones[i] <= 100`
  * `2 <= k <= 30`


## é¢˜ç›®å¤§æ„

æœ‰ `n` å †çŸ³å¤´æ’æˆä¸€æ’ï¼Œç¬¬ `i` å †ä¸­æœ‰ `stones[i]` å—çŸ³å¤´ã€‚

æ¯æ¬¡ **ç§»åŠ¨** éœ€è¦å°† **è¿ç»­çš„** `k` å †çŸ³å¤´åˆå¹¶ä¸ºä¸€å †ï¼Œè€Œè¿™æ¬¡ç§»åŠ¨çš„æˆæœ¬ä¸ºè¿™ `k` å †ä¸­çŸ³å¤´çš„æ€»æ•°ã€‚

è¿”å›æŠŠæ‰€æœ‰çŸ³å¤´åˆå¹¶æˆä¸€å †çš„æœ€ä½æˆæœ¬ã€‚å¦‚æœæ— æ³•åˆå¹¶æˆä¸€å †ï¼Œè¿”å› `-1` ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** stones = [3,2,4,1], K = 2
> 
> **è¾“å‡ºï¼š** 20
> 
> **è§£é‡Šï¼š**
> 
> ä» [3, 2, 4, 1] å¼€å§‹ã€‚
> 
> åˆå¹¶ [3, 2]ï¼Œæˆæœ¬ä¸º 5ï¼Œå‰©ä¸‹ [5, 4, 1]ã€‚
> 
> åˆå¹¶ [4, 1]ï¼Œæˆæœ¬ä¸º 5ï¼Œå‰©ä¸‹ [5, 5]ã€‚
> 
> åˆå¹¶ [5, 5]ï¼Œæˆæœ¬ä¸º 10ï¼Œå‰©ä¸‹ [10]ã€‚
> 
> æ€»æˆæœ¬ 20ï¼Œè¿™æ˜¯å¯èƒ½çš„æœ€å°å€¼ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** stones = [3,2,4,1], K = 3
> 
> **è¾“å‡ºï¼š** -1
> 
> **è§£é‡Šï¼š** ä»»ä½•åˆå¹¶æ“ä½œåï¼Œéƒ½ä¼šå‰©ä¸‹ 2 å †ï¼Œæˆ‘ä»¬æ— æ³•å†è¿›è¡Œåˆå¹¶ã€‚æ‰€ä»¥è¿™é¡¹ä»»åŠ¡æ˜¯ä¸å¯èƒ½å®Œæˆçš„ã€‚.
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** stones = [3,5,1,2,6], K = 3
> 
> **è¾“å‡ºï¼š** 25
> 
> **è§£é‡Šï¼š**
> 
> ä» [3, 5, 1, 2, 6] å¼€å§‹ã€‚
> 
> åˆå¹¶ [5, 1, 2]ï¼Œæˆæœ¬ä¸º 8ï¼Œå‰©ä¸‹ [3, 8, 6]ã€‚
> 
> åˆå¹¶ [3, 8, 6]ï¼Œæˆæœ¬ä¸º 17ï¼Œå‰©ä¸‹ [17]ã€‚
> 
> æ€»æˆæœ¬ 25ï¼Œè¿™æ˜¯å¯èƒ½çš„æœ€å°å€¼ã€‚
> 
> 



**æç¤ºï¼š**

  * `n == stones.length`
  * `1 <= n <= 30`
  * `1 <= stones[i] <= 100`
  * `2 <= k <= 30`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 312 | [æˆ³æ°”çƒ](https://leetcode.com/problems/burst-balloons) |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> |
| 1167 | [è¿æ¥æœ¨æ£çš„æœ€ä½è´¹ç”¨ ğŸ”’](https://leetcode.com/problems/minimum-cost-to-connect-sticks) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md) | <font color=#ffb800>Medium</font> |