# [850. çŸ©å½¢é¢ç§¯ II](https://leetcode.com/problems/rectangle-area-ii)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`çº¿æ®µæ ‘`](/outline/tag/segment-tree.md) [`æ•°ç»„`](/outline/tag/array.md) [`æœ‰åºé›†åˆ`](/outline/tag/ordered-set.md) [`æ‰«æçº¿`](/outline/tag/line-sweep.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/rectangle-area-ii)

## é¢˜ç›®

You are given a 2D array of axis-aligned `rectangles`. Each `rectangle[i] =
[xi1, yi1, xi2, yi2]` denotes the `ith` rectangle where `(xi1, yi1)` are the
coordinates of the **bottom-left corner** , and `(xi2, yi2)` are the
coordinates of the **top-right corner**.

Calculate the **total area** covered by all `rectangles` in the plane. Any
area covered by two or more rectangles should only be counted **once**.

Return _the**total area**_. Since the answer may be too large, return it
**modulo** `109 + 7`.



**Example 1:**

![](https://s3-lc-
upload.s3.amazonaws.com/uploads/2018/06/06/rectangle_area_ii_pic.png)

> Input: rectangles = [[0,0,2,2],[1,0,2,3],[1,0,3,1]]
> 
> Output: 6
> 
> Explanation: A total area of 6 is covered by all three rectangles, as illustrated in the picture.
> 
> From (1,1) to (2,2), the green and red rectangles overlap.
> 
> From (1,0) to (2,3), all three rectangles overlap.

**Example 2:**

> Input: rectangles = [[0,0,1000000000,1000000000]]
> 
> Output: 49
> 
> Explanation: The answer is 1018 modulo (109 + 7), which is 49.

**Constraints:**

  * `1 <= rectangles.length <= 200`
  * `rectanges[i].length == 4`
  * `0 <= xi1, yi1, xi2, yi2 <= 10^9`
  * `xi1 <= xi2`
  * `yi1 <= yi2`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªè½´å¯¹é½çš„äºŒç»´æ•°ç»„ `rectangles` ã€‚ å¯¹äº `rectangle[i] = [x1, y1, x2, y2]`ï¼Œå…¶ä¸­ï¼ˆx1ï¼Œy1ï¼‰æ˜¯çŸ©å½¢
`i` å·¦ä¸‹è§’çš„åæ ‡ï¼Œ `(xi1, yi1)` æ˜¯è¯¥çŸ©å½¢ **å·¦ä¸‹è§’** çš„åæ ‡ï¼Œ `(xi2, yi2)` æ˜¯è¯¥çŸ©å½¢ **å³ä¸Šè§’** çš„åæ ‡ã€‚

è®¡ç®—å¹³é¢ä¸­æ‰€æœ‰ `rectangles` æ‰€è¦†ç›–çš„ **æ€»é¢ç§¯** ã€‚ä»»ä½•è¢«ä¸¤ä¸ªæˆ–å¤šä¸ªçŸ©å½¢è¦†ç›–çš„åŒºåŸŸåº”åªè®¡ç®— **ä¸€æ¬¡** ã€‚

è¿”å› _**æ€»é¢ç§¯** _ã€‚å› ä¸ºç­”æ¡ˆå¯èƒ½å¤ªå¤§ï¼Œè¿”å› `109 + 7` çš„ **æ¨¡**  ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://s3-lc-
upload.s3.amazonaws.com/uploads/2018/06/06/rectangle_area_ii_pic.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** rectangles = [[0,0,2,2],[1,0,2,3],[1,0,3,1]]
> 
> **è¾“å‡ºï¼š** 6
> 
> **è§£é‡Šï¼š** å¦‚å›¾æ‰€ç¤ºï¼Œä¸‰ä¸ªçŸ©å½¢è¦†ç›–äº†æ€»é¢ç§¯ä¸º 6 çš„åŒºåŸŸã€‚
> 
> ä»(1,1)åˆ°(2,2)ï¼Œç»¿è‰²çŸ©å½¢å’Œçº¢è‰²çŸ©å½¢é‡å ã€‚
> 
> ä»(1,0)åˆ°(2,3)ï¼Œä¸‰ä¸ªçŸ©å½¢éƒ½é‡å ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** rectangles = [[0,0,1000000000,1000000000]]
> 
> **è¾“å‡ºï¼š** 49
> 
> **è§£é‡Šï¼š** ç­”æ¡ˆæ˜¯ 1018 å¯¹ (109 + 7) å–æ¨¡çš„ç»“æœï¼Œ å³ 49 ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= rectangles.length <= 200`
  * `rectanges[i].length = 4`
  * `0 <= xi1, yi1, xi2, yi2 <= 10^9`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```