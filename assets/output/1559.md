---
title: 1559. äºŒç»´ç½‘æ ¼å›¾ä¸­æ¢æµ‹ç¯
description: LeetCode 1559. äºŒç»´ç½‘æ ¼å›¾ä¸­æ¢æµ‹ç¯é¢˜è§£ï¼ŒDetect Cycles in 2D Gridï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1559. äºŒç»´ç½‘æ ¼å›¾ä¸­æ¢æµ‹ç¯
  - äºŒç»´ç½‘æ ¼å›¾ä¸­æ¢æµ‹ç¯
  - Detect Cycles in 2D Grid
  - è§£é¢˜æ€è·¯
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - å¹¶æŸ¥é›†
  - æ•°ç»„
  - çŸ©é˜µ
---

# 1559. äºŒç»´ç½‘æ ¼å›¾ä¸­æ¢æµ‹ç¯

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/detect-cycles-in-2d-grid) [`LeetCode`](https://leetcode.com/problems/detect-cycles-in-2d-grid)

## é¢˜ç›®

Given a 2D array of characters `grid` of size `m x n`, you need to find if
there exists any cycle consisting of the **same value** in `grid`.

A cycle is a path of **length 4 or more** in the grid that starts and ends at
the same cell. From a given cell, you can move to one of the cells adjacent to
it - in one of the four directions (up, down, left, or right), if it has the
**same value** of the current cell.

Also, you cannot move to the cell that you visited in your last move. For
example, the cycle `(1, 1) -> (1, 2) -> (1, 1)` is invalid because from `(1,
2)` we visited `(1, 1)` which was the last visited cell.

Return `true` if any cycle of the same value exists in `grid`, otherwise,
return `false`.



**Example 1:**

**![](https://assets.leetcode.com/uploads/2020/07/15/1.png)**

> Input: grid = [["a","a","a","a"],["a","b","b","a"],["a","b","b","a"],["a","a","a","a"]]
> 
> Output: true
> 
> Explanation: There are two valid cycles shown in different colors in the image below:
> 
> ![](https://assets.leetcode.com/uploads/2020/07/15/11.png)

**Example 2:**

**![](https://assets.leetcode.com/uploads/2020/07/15/22.png)**

> Input: grid = [["c","c","c","a"],["c","d","c","c"],["c","c","e","c"],["f","c","c","c"]]
> 
> Output: true
> 
> Explanation: There is only one valid cycle highlighted in the image below:
> 
> ![](https://assets.leetcode.com/uploads/2020/07/15/2.png)

**Example 3:**

**![](https://assets.leetcode.com/uploads/2020/07/15/3.png)**

> Input: grid = [["a","b","b"],["b","z","b"],["b","b","a"]]
> 
> Output: false

**Constraints:**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m, n <= 500`
  * `grid` consists only of lowercase English letters.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªäºŒç»´å­—ç¬¦ç½‘æ ¼æ•°ç»„ `grid` ï¼Œå¤§å°ä¸º `m x n` ï¼Œä½ éœ€è¦æ£€æŸ¥ `grid` ä¸­æ˜¯å¦å­˜åœ¨ **ç›¸åŒå€¼** å½¢æˆçš„ç¯ã€‚

ä¸€ä¸ªç¯æ˜¯ä¸€æ¡å¼€å§‹å’Œç»“æŸäºåŒä¸€ä¸ªæ ¼å­çš„é•¿åº¦ **å¤§äºç­‰äº 4**
çš„è·¯å¾„ã€‚å¯¹äºä¸€ä¸ªç»™å®šçš„æ ¼å­ï¼Œä½ å¯ä»¥ç§»åŠ¨åˆ°å®ƒä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ç›¸é‚»çš„æ ¼å­ä¹‹ä¸€ï¼Œå¯ä»¥ç§»åŠ¨çš„å‰ææ˜¯è¿™ä¸¤ä¸ªæ ¼å­æœ‰ **ç›¸åŒçš„å€¼  **ã€‚

åŒæ—¶ï¼Œä½ ä¹Ÿä¸èƒ½å›åˆ°ä¸Šä¸€æ¬¡ç§»åŠ¨æ—¶æ‰€åœ¨çš„æ ¼å­ã€‚æ¯”æ–¹è¯´ï¼Œç¯  `(1, 1) -> (1, 2) -> (1, 1)` æ˜¯ä¸åˆæ³•çš„ï¼Œå› ä¸ºä» `(1, 2)`
ç§»åŠ¨åˆ° `(1, 1)` å›åˆ°äº†ä¸Šä¸€æ¬¡ç§»åŠ¨æ—¶çš„æ ¼å­ã€‚

å¦‚æœ `grid` ä¸­æœ‰ç›¸åŒå€¼å½¢æˆçš„ç¯ï¼Œè¯·ä½ è¿”å› `true` ï¼Œå¦åˆ™è¿”å› `false` ã€‚



**ç¤ºä¾‹ 1ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/08/22/5482e1.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [["a","a","a","a"],["a","b","b","a"],["a","b","b","a"],["a","a","a","a"]]
> 
> **è¾“å‡ºï¼š** true
> 
> **è§£é‡Šï¼š** å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ‰ 2 ä¸ªç”¨ä¸åŒé¢œè‰²æ ‡å‡ºæ¥çš„ç¯ï¼š
> 
> ![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/08/22/5482e11.png)
> 
> 

**ç¤ºä¾‹ 2ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/08/22/5482e2.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [["c","c","c","a"],["c","d","c","c"],["c","c","e","c"],["f","c","c","c"]]
> 
> **è¾“å‡ºï¼š** true
> 
> **è§£é‡Šï¼š** å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåªæœ‰é«˜äº®æ‰€ç¤ºçš„ä¸€ä¸ªåˆæ³•ç¯ï¼š
> 
> ![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/08/22/5482e22.png)
> 
> 

**ç¤ºä¾‹ 3ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/08/22/5482e3.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [["a","b","b"],["b","z","b"],["b","b","a"]]
> 
> **è¾“å‡ºï¼š** false
> 
> 



**æç¤ºï¼š**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m <= 500`
  * `1 <= n <= 500`
  * `grid` åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```