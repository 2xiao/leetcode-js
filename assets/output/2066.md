# [2066. è´¦æˆ·ä½™é¢ ğŸ”’](https://2xiao.github.io/leetcode-js/problem/2066.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°æ®åº“`](/tag/database.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/account-balance) [`LeetCode`](https://leetcode.com/problems/account-balance)

## é¢˜ç›®

Table: `Transactions`

> 
> 
> 
> 
> 
> +-------------+------+
> 
> | Column Name | Type |
> 
> +-------------+------+
> 
> | account_id  | int  |
> 
> | day> 
> > 
>  | date |
> 
> | type> 
> > 
> | ENUM |
> 
> | amount> 
>   | int  |
> 
> +-------------+------+
> 
> (account_id, day) is the primary key (combination of columns with unique values) for this table.
> 
> Each row contains information about one transaction, including the transaction type, the day it occurred on, and the amount.
> 
> type is an ENUM (category) of the type ('Deposit','Withdraw') 
> 
> 



Write a solution to report the balance of each user after each transaction.
You may assume that the balance of each account before any transaction is `0`
and that the balance will never be below `0` at any moment.

Return the result table **in ascending order** by `account_id`, then by `day`
in case of a tie.

The result format is in the following example.



**Example 1:**

> Input: 
> 
> Transactions table:
> 
> +------------+------------+----------+--------+
> 
> | account_id | day> 
> > 
> | type> 
>  | amount |
> 
> +------------+------------+----------+--------+
> 
> | 1> 
> > 
>   | 2021-11-07 | Deposit  | 2000   |
> 
> | 1> 
> > 
>   | 2021-11-09 | Withdraw | 1000   |
> 
> | 1> 
> > 
>   | 2021-11-11 | Deposit  | 3000   |
> 
> | 2> 
> > 
>   | 2021-12-07 | Deposit  | 7000   |
> 
> | 2> 
> > 
>   | 2021-12-12 | Withdraw | 7000   |
> 
> +------------+------------+----------+--------+
> 
> Output: 
> 
> +------------+------------+---------+
> 
> | account_id | day> 
> > 
> | balance |
> 
> +------------+------------+---------+
> 
> | 1> 
> > 
>   | 2021-11-07 | 2000> 
> |
> 
> | 1> 
> > 
>   | 2021-11-09 | 1000> 
> |
> 
> | 1> 
> > 
>   | 2021-11-11 | 4000> 
> |
> 
> | 2> 
> > 
>   | 2021-12-07 | 7000> 
> |
> 
> | 2> 
> > 
>   | 2021-12-12 | 0> 
>    |
> 
> +------------+------------+---------+
> 
> Explanation: 
> 
> Account 1:
> - Initial balance is 0.
> - 2021-11-07 --> deposit 2000. Balance is 0 + 2000 = 2000.
> - 2021-11-09 --> withdraw 1000. Balance is 2000 - 1000 = 1000.
> - 2021-11-11 --> deposit 3000. Balance is 1000 + 3000 = 4000.
> 
> Account 2:
> - Initial balance is 0.
> - 2021-12-07 --> deposit 7000. Balance is 0 + 7000 = 7000.
> - 2021-12-12 --> withdraw 7000. Balance is 7000 - 7000 = 0.
> 
> 


## é¢˜ç›®å¤§æ„

è¡¨å: `Transactions`

> 
> 
> 
> 
> 
> +-------------+------+
> 
> | Column Name | Type |
> 
> +-------------+------+
> 
> | account_id  | int  |
> 
> | day> 
> > 
>  | date |
> 
> | type> 
> > 
> | ENUM |
> 
> | amount> 
>   | int  |
> 
> +-------------+------+
> 
> (account_id, day) æ˜¯è¯¥Transactionsè¡¨çš„ä¸»é”®.
> 
> è¡¨ä¸­çš„æ¯è¡Œæ•°æ®è¡¨ç¤ºä¸€æ¬¡äº¤æ˜“çš„ä¿¡æ¯, åŒ…æ‹¬æ­¤æ¬¡äº¤æ˜“çš„è´¦å·(account_id), äº¤æ˜“ç±»å‹(type), äº¤æ˜“å‘ç”Ÿæ—¶é—´(day), äº¤æ˜“å‘ç”Ÿé‡‘é¢(amount).
> 
> å…¶ä¸­äº¤æ˜“ç±»å‹(type)å­—æ®µåŒ…æ‹¬äº†ä¸¤ç§è¡Œä¸ºï¼šå­˜å…¥ ('Deposit'), å–å‡º('Withdraw').
> 
> 



è¯·å†™å‡ºèƒ½å¤Ÿè¿”å›ç”¨æˆ·æ¯æ¬¡äº¤æ˜“å®Œæˆåçš„è´¦æˆ·ä½™é¢. æˆ‘ä»¬çº¦å®šæ‰€æœ‰ç”¨æˆ·åœ¨è¿›è¡Œäº¤æ˜“å‰çš„è´¦æˆ·ä½™é¢éƒ½ä¸º0ï¼Œ å¹¶ä¸”ä¿è¯æ‰€æœ‰äº¤æ˜“è¡Œä¸ºåçš„ä½™é¢ä¸ä¸ºè´Ÿæ•°ã€‚

è¿”å›çš„ç»“æœè¯·ä¾æ¬¡æŒ‰ç…§ è´¦æˆ·ï¼ˆ`account_id`), æ—¥æœŸ( `day` ) è¿›è¡Œ**å‡åºæ’åº**  .

æŸ¥è¯¢ç»“æœçš„æ ¼å¼è¯·å‚ç…§ä»¥ä¸‹æµ‹è¯•æ ·ä¾‹.



**æµ‹è¯•æ ·ä¾‹1:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** 
> 
> Transactions è¡¨:
> 
> +------------+------------+----------+--------+
> 
> | account_id | day> 
> > 
> | type> 
>  | amount |
> 
> +------------+------------+----------+--------+
> 
> | 1> 
> > 
>   | 2021-11-07 | Deposit  | 2000   |
> 
> | 1> 
> > 
>   | 2021-11-09 | Withdraw | 1000   |
> 
> | 1> 
> > 
>   | 2021-11-11 | Deposit  | 3000   |
> 
> | 2> 
> > 
>   | 2021-12-07 | Deposit  | 7000   |
> 
> | 2> 
> > 
>   | 2021-12-12 | Withdraw | 7000   |
> 
> +------------+------------+----------+--------+
> 
> **è¾“å‡º:** 
> 
> +------------+------------+---------+
> 
> | account_id | day> 
> > 
> | balance |
> 
> +------------+------------+---------+
> 
> | 1> 
> > 
>   | 2021-11-07 | 2000> 
> |
> 
> | 1> 
> > 
>   | 2021-11-09 | 1000> 
> |
> 
> | 1> 
> > 
>   | 2021-11-11 | 4000> 
> |
> 
> | 2> 
> > 
>   | 2021-12-07 | 7000> 
> |
> 
> | 2> 
> > 
>   | 2021-12-12 | 0> 
>    |
> 
> +------------+------------+---------+
> 
> 
> 
> **è§£é‡Š:** 
> 
> è´¦æˆ·1:
> - åˆå§‹é‡‘é¢ä¸º 0.
> - 2021-11-07 --> å­˜å…¥2000. ä½™é¢å˜ä¸º 0 + 2000 = 2000.
> - 2021-11-09 --> å–å‡º1000. ä½™é¢å˜ä¸º 2000 - 1000 = 1000.
> - 2021-11-11 --> å­˜å…¥3000. ä½™é¢å˜ä¸º 1000 + 3000 = 4000.
> 
> è´¦æˆ·2:
> - åˆå§‹é‡‘é¢ä¸º 0.
> - 2021-12-07 --> å­˜å…¥7000. ä½™é¢å˜ä¸º 0 + 7000 = 7000.
> - 2021-12-12 --> å–å‡º 7000. ä½™é¢å˜ä¸º 7000 - 7000 = 0.
> 
> 


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```