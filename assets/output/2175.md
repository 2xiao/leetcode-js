# [2175. ä¸–ç•Œæ’åçš„å˜åŒ–](https://leetcode.com/problems/the-change-in-global-rankings)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°æ®åº“`](/tag/database.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/the-change-in-global-rankings)

## é¢˜ç›®

Table: `TeamPoints`

> 
> 
> 
> 
> 
> +-------------+---------+
> 
> | Column Name | Type> 
> |
> 
> +-------------+---------+
> 
> | team_id> 
>  | int> 
>  |
> 
> | name> 
> > 
> | varchar |
> 
> | points> 
>   | int> 
>  |
> 
> +-------------+---------+
> 
> team_id contains unique values.
> 
> Each row of this table contains the ID of a national team, the name of the country it represents, and the points it has in the global rankings. No two teams will represent the same country.
> 
> 



Table: `PointsChange`

> 
> 
> 
> 
> 
> +---------------+------+
> 
> | Column Name   | Type |
> 
> +---------------+------+
> 
> | team_id> 
>    | int  |
> 
> | points_change | int  |
> 
> +---------------+------+
> 
> team_id contains unique values.
> 
> Each row of this table contains the ID of a national team and the change in its points in the global rankings.
> 
> points_change can be:
> - 0: indicates no change in points.
> - positive: indicates an increase in points.
> - negative: indicates a decrease in points.
> 
> Each team_id that appears in TeamPoints will also appear in this table.
> 
> 



The **global ranking** of a national team is its rank after sorting all the
teams by their points **in descending order**. If two teams have the same
points, we break the tie by sorting them by their name **in lexicographical
order**.

The points of each national team should be updated based on its corresponding
`points_change` value.

Write a solution to calculate the change in the global rankings after updating
each team's points.

Return the result table in **any order**.

The result format is in the following example.



**Example 1:**

> Input: 
> 
> TeamPoints table:
> 
> +---------+-------------+--------+
> 
> | team_id | name> 
> > 
> | points |
> 
> +---------+-------------+--------+
> 
> | 3> 
>    | Algeria> 
>  | 1431   |
> 
> | 1> 
>    | Senegal> 
>  | 2132   |
> 
> | 2> 
>    | New Zealand | 1402   |
> 
> | 4> 
>    | Croatia> 
>  | 1817   |
> 
> +---------+-------------+--------+
> 
> PointsChange table:
> 
> +---------+---------------+
> 
> | team_id | points_change |
> 
> +---------+---------------+
> 
> | 3> 
>    | 399> 
> > 
>    |
> 
> | 2> 
>    | 0> 
> > 
> > 
>  |
> 
> | 4> 
>    | 13> 
> > 
> > 
> |
> 
> | 1> 
>    | -22> 
> > 
>    |
> 
> +---------+---------------+
> 
> Output: 
> 
> +---------+-------------+-----------+
> 
> | team_id | name> 
> > 
> | rank_diff |
> 
> +---------+-------------+-----------+
> 
> | 1> 
>    | Senegal> 
>  | 0> 
> > 
>  |
> 
> | 4> 
>    | Croatia> 
>  | -1> 
> > 
> |
> 
> | 3> 
>    | Algeria> 
>  | 1> 
> > 
>  |
> 
> | 2> 
>    | New Zealand | 0> 
> > 
>  |
> 
> +---------+-------------+-----------+
> 
> Explanation: 
> 
> The global rankings were as follows:
> 
> +---------+-------------+--------+------+
> 
> | team_id | name> 
> > 
> | points | rank |
> 
> +---------+-------------+--------+------+
> 
> | 1> 
>    | Senegal> 
>  | 2132   | 1> 
> |
> 
> | 4> 
>    | Croatia> 
>  | 1817   | 2> 
> |
> 
> | 3> 
>    | Algeria> 
>  | 1431   | 3> 
> |
> 
> | 2> 
>    | New Zealand | 1402   | 4> 
> |
> 
> +---------+-------------+--------+------+
> 
> After updating the points of each team, the rankings became the following:
> 
> +---------+-------------+--------+------+
> 
> | team_id | name> 
> > 
> | points | rank |
> 
> +---------+-------------+--------+------+
> 
> | 1> 
>    | Senegal> 
>  | 2110   | 1> 
> |
> 
> | 3> 
>    | Algeria> 
>  | 1830   | 2> 
> |
> 
> | 4> 
>    | Croatia> 
>  | 1830   | 3> 
> |
> 
> | 2> 
>    | New Zealand | 1402   | 4> 
> |
> 
> +---------+-------------+--------+------+
> 
> Since after updating the points Algeria and Croatia have the same points, they are ranked according to their lexicographic order.
> 
> Senegal lost 22 points but their rank did not change.
> 
> Croatia gained 13 points but their rank decreased by one.
> 
> Algeria gained 399 points and their rank increased by one.
> 
> New Zealand did not gain or lose points and their rank did not change.
> 
> 


## é¢˜ç›®å¤§æ„

è¡¨ï¼š`TeamPoints`

> 
> 
> 
> 
> 
> +-------------+---------+
> 
> | Column Name | Type> 
> |
> 
> +-------------+---------+
> 
> | team_id> 
>  | int> 
>  |
> 
> | name> 
> > 
> | varchar |
> 
> | points> 
>   | int> 
>  |
> 
> +-------------+---------+
> 
> team_id åŒ…å«å”¯ä¸€å€¼ã€‚
> 
> è¿™å¼ è¡¨çš„æ¯ä¸€è¡Œå‡åŒ…å«äº†ä¸€æ”¯å›½å®¶é˜Ÿçš„ IDï¼Œå®ƒæ‰€ä»£è¡¨çš„å›½å®¶ï¼Œä»¥åŠå®ƒåœ¨å…¨çƒæ’åä¸­çš„å¾—åˆ†ã€‚æ²¡æœ‰ä¸¤æ”¯é˜Ÿä¼ä»£è¡¨åŒä¸€ä¸ªå›½å®¶ã€‚
> 
> 



è¡¨ï¼š`PointsChange`

> 
> 
> 
> 
> 
> +---------------+------+
> 
> | Column Name   | Type |
> 
> +---------------+------+
> 
> | team_id> 
>    | int  |
> 
> | points_change | int  |
> 
> +---------------+------+
> 
> team_id åŒ…å«å”¯ä¸€å€¼ã€‚
> 
> è¿™å¼ è¡¨çš„æ¯ä¸€è¡Œå‡åŒ…å«äº†ä¸€æ”¯å›½å®¶é˜Ÿçš„ ID ä»¥åŠå®ƒåœ¨ä¸–ç•Œæ’åä¸­çš„å¾—åˆ†çš„å˜åŒ–ã€‚
> 
> åˆ†æ•°çš„å˜åŒ–åˆ†ä»¥ä¸‹æƒ…å†µï¼š
> - 0:ä»£è¡¨åˆ†æ•°æ²¡æœ‰æ”¹å˜
> - æ­£æ•°:ä»£è¡¨åˆ†æ•°å¢åŠ 
> - è´Ÿæ•°:ä»£è¡¨åˆ†æ•°é™ä½
> 
> TeamPoints è¡¨ä¸­å‡ºç°çš„æ¯ä¸€ä¸ª team_id å‡ä¼šåœ¨è¿™å¼ è¡¨ä¸­å‡ºç°ã€‚
> 
> 



å›½å®¶é˜Ÿçš„å…¨çƒæ’åæ˜¯æŒ‰**é™åºæ’åˆ—** æ‰€æœ‰é˜Ÿä¼çš„å¾—åˆ†åæ‰€å¾—å‡ºçš„æ’åã€‚å¦‚æœä¸¤æ”¯é˜Ÿä¼å¾—åˆ†ç›¸åŒï¼Œæˆ‘ä»¬å°†æŒ‰å…¶åç§°çš„ **å­—å…¸é¡ºåº** æ’åˆ—ä»¥æ‰“ç ´å¹³è¡¡ã€‚

æ¯æ”¯å›½å®¶é˜Ÿçš„åˆ†æ•°åº”æ ¹æ®å…¶ç›¸åº”çš„ `points_change` è¿›è¡Œæ›´æ–°ã€‚

ç¼–å†™è§£å†³æ–¹æ¡ˆæ¥è®¡ç®—åœ¨åˆ†æ•°æ›´æ–°åï¼Œæ¯ä¸ªé˜Ÿä¼çš„å…¨çƒæ’åçš„å˜åŒ–ã€‚

ä»¥**ä»»æ„é¡ºåº** è¿”å›ç»“æœã€‚

æŸ¥è¯¢ç»“æœçš„æ ¼å¼å¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š**
> 
> TeamPoints è¡¨ï¼š
> 
> +---------+-------------+--------+
> 
> | team_id | name> 
> > 
> | points |
> 
> +---------+-------------+--------+
> 
> | 3> 
>    | Algeria> 
>  | 1431   |
> 
> | 1> 
>    | Senegal> 
>  | 2132   |
> 
> | 2> 
>    | New Zealand | 1402   |
> 
> | 4> 
>    | Croatia> 
>  | 1817   |
> 
> +---------+-------------+--------+
> 
> PointsChange è¡¨ï¼š
> 
> +---------+---------------+
> 
> | team_id | points_change |
> 
> +---------+---------------+
> 
> | 3> 
>    | 399> 
> > 
>    |
> 
> | 2> 
>    | 0> 
> > 
> > 
>  |
> 
> | 4> 
>    | 13> 
> > 
> > 
> |
> 
> | 1> 
>    | -22> 
> > 
>    |
> 
> +---------+---------------+
> 
> **è¾“å‡ºï¼š**
> 
> +---------+-------------+-----------+
> 
> | team_id | name> 
> > 
> | rank_diff |
> 
> +---------+-------------+-----------+
> 
> | 1> 
>    | Senegal> 
>  | 0> 
> > 
>  |
> 
> | 4> 
>    | Croatia> 
>  | -1> 
> > 
> |
> 
> | 3> 
>    | Algeria> 
>  | 1> 
> > 
>  |
> 
> | 2> 
>    | New Zealand | 0> 
> > 
>  |
> 
> +---------+-------------+-----------+
> 
> **è§£é‡Šï¼š**
> 
> ä¸–ç•Œæ’åå¦‚ä¸‹æ‰€ç¤ºï¼š
> 
> +---------+-------------+--------+------+
> 
> | team_id | name> 
> > 
> | points | rank |
> 
> +---------+-------------+--------+------+
> 
> | 1> 
>    | Senegal> 
>  | 2132   | 1> 
> |
> 
> | 4> 
>    | Croatia> 
>  | 1817   | 2> 
> |
> 
> | 3> 
>    | Algeria> 
>  | 1431   | 3> 
> |
> 
> | 2> 
>    | New Zealand | 1402   | 4> 
> |
> 
> +---------+-------------+--------+------+
> 
> åœ¨æ›´æ–°åˆ†æ•°åï¼Œä¸–ç•Œæ’åå˜ä¸ºä¸‹è¡¨ï¼š
> 
> +---------+-------------+--------+------+
> 
> | team_id | name> 
> > 
> | points | rank |
> 
> +---------+-------------+--------+------+
> 
> | 1> 
>    | Senegal> 
>  | 2110   | 1> 
> |
> 
> | 3> 
>    | Algeria> 
>  | 1830   | 2> 
> |
> 
> | 4> 
>    | Croatia> 
>  | 1830   | 3> 
> |
> 
> | 2> 
>    | New Zealand | 1402   | 4> 
> |
> 
> +---------+-------------+--------+------+
> 
> ç”±äºåœ¨æ›´æ–°åˆ†æ•°åï¼ŒAlgeria å’Œ Croatia çš„å¾—åˆ†ç›¸åŒï¼Œå› æ­¤æ ¹æ®å­—å…¸é¡ºåºå¯¹å®ƒä»¬è¿›è¡Œæ’åºã€‚
> 
> Senegal ä¸¢å¤±äº†22åˆ†ä½†ä»–ä»¬çš„æ’åæ²¡æœ‰æ”¹å˜ã€‚
> 
> Croatia è·å¾—äº†13åˆ†ä½†æ˜¯ä»–ä»¬çš„æ’åä¸‹é™äº†1åã€‚
> 
> Algeria è·å¾—399åˆ†ï¼Œæ’åä¸Šå‡äº†1åã€‚
> 
> New Zealand æ²¡æœ‰è·å¾—æˆ–ä¸¢å¤±åˆ†æ•°ï¼Œä»–ä»¬çš„æ’åä¹Ÿæ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚
> 
> 


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```