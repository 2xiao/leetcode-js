---
title: 1856. å­æ•°ç»„æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼
description: LeetCode 1856. å­æ•°ç»„æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼é¢˜è§£ï¼ŒMaximum Subarray Min-Productï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1856. å­æ•°ç»„æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼
  - å­æ•°ç»„æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼
  - Maximum Subarray Min-Product
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - æ•°ç»„
  - å‰ç¼€å’Œ
  - å•è°ƒæ ˆ
---

# 1856. å­æ•°ç»„æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) [`å•è°ƒæ ˆ`](/tag/monotonic-stack.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-subarray-min-product) [`LeetCode`](https://leetcode.com/problems/maximum-subarray-min-product)

## é¢˜ç›®

The **min-product** of an array is equal to the **minimum value** in the array
**multiplied by** the array's **sum**.

  * For example, the array `[3,2,5]` (minimum value is `2`) has a min-product of `2 * (3+2+5) = 2 * 10 = 20`.

Given an array of integers `nums`, return _the**maximum min-product** of any
**non-empty subarray** of _`nums`. Since the answer may be large, return it
**modulo** `109 + 7`.

Note that the min-product should be maximized **before** performing the modulo
operation. Testcases are generated such that the maximum min-product
**without** modulo will fit in a **64-bit signed integer**.

A **subarray** is a **contiguous** part of an array.



**Example 1:**

> Input: nums = [1,_2,3,2_]
> 
> Output: 14
> 
> Explanation: The maximum min-product is achieved with the subarray [2,3,2] (minimum value is 2).
> 
> 2 * (2+3+2) = 2 * 7 = 14.

**Example 2:**

> Input: nums = [2,_3,3_ ,1,2]
> 
> Output: 18
> 
> Explanation: The maximum min-product is achieved with the subarray [3,3] (minimum value is 3).
> 
> 3 * (3+3) = 3 * 6 = 18.

**Example 3:**

> Input: nums = [3,1,_5,6,4_ ,2]
> 
> Output: 60
> 
> Explanation: The maximum min-product is achieved with the subarray [5,6,4] (minimum value is 4).
> 
> 4 * (5+6+4) = 4 * 15 = 60.

**Constraints:**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^7`


## é¢˜ç›®å¤§æ„

ä¸€ä¸ªæ•°ç»„çš„ **æœ€å°ä¹˜ç§¯** å®šä¹‰ä¸ºè¿™ä¸ªæ•°ç»„ä¸­ **æœ€å°å€¼** **ä¹˜ä»¥** æ•°ç»„çš„ **å’Œ** ã€‚

  * æ¯”æ–¹è¯´ï¼Œæ•°ç»„ `[3,2,5]` ï¼ˆæœ€å°å€¼æ˜¯ `2`ï¼‰çš„æœ€å°ä¹˜ç§¯ä¸º `2 * (3+2+5) = 2 * 10 = 20` ã€‚

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `nums` ï¼Œè¯·ä½ è¿”å› `nums` ä»»æ„ **éç©ºå­æ•°ç»„** çš„**æœ€å°ä¹˜ç§¯** çš„ **æœ€å¤§å€¼**
ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·ä½ è¿”å›ç­”æ¡ˆå¯¹ `109 + 7` **å–ä½™** çš„ç»“æœã€‚

è¯·æ³¨æ„ï¼Œæœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼è€ƒè™‘çš„æ˜¯å–ä½™æ“ä½œ **ä¹‹å‰** çš„ç»“æœã€‚é¢˜ç›®ä¿è¯æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼åœ¨ **ä¸å–ä½™** çš„æƒ…å†µä¸‹å¯ä»¥ç”¨ **64 ä½æœ‰ç¬¦å·æ•´æ•°**
ä¿å­˜ã€‚

**å­æ•°ç»„** å®šä¹‰ä¸ºä¸€ä¸ªæ•°ç»„çš„ **è¿ç»­** éƒ¨åˆ†ã€‚

**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,**2,3,2**]
> 
> **è¾“å‡ºï¼š** 14
> 
> **è§£é‡Šï¼š** æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼ç”±å­æ•°ç»„ [2,3,2] ï¼ˆæœ€å°å€¼æ˜¯ 2ï¼‰å¾—åˆ°ã€‚
> 
> 2 * (2+3+2) = 2 * 7 = 14 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [2,**3,3** ,1,2]
> 
> **è¾“å‡ºï¼š** 18
> 
> **è§£é‡Šï¼š** æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼ç”±å­æ•°ç»„ [3,3] ï¼ˆæœ€å°å€¼æ˜¯ 3ï¼‰å¾—åˆ°ã€‚
> 
> 3 * (3+3) = 3 * 6 = 18 ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [3,1,**5,6,4** ,2]
> 
> **è¾“å‡ºï¼š** 60
> 
> **è§£é‡Šï¼š** æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼ç”±å­æ•°ç»„ [5,6,4] ï¼ˆæœ€å°å€¼æ˜¯ 4ï¼‰å¾—åˆ°ã€‚
> 
> 4 * (5+6+4) = 4 * 15 = 60 ã€‚
> 
> 

**æç¤ºï¼š**

  * `1 <= nums.length <= 10^5`
  * `1 <= nums[i] <= 10^7`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 2334 | å…ƒç´ å€¼å¤§äºå˜åŒ–é˜ˆå€¼çš„å­æ•°ç»„ |  |  [`æ ˆ`](/tag/stack.md) [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`æ•°ç»„`](/tag/array.md) `1+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/subarray-with-elements-greater-than-varying-threshold) [ğŸ”—](https://leetcode.com/problems/subarray-with-elements-greater-than-varying-threshold) |