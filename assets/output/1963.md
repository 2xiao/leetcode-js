# [1963. ä½¿å­—ç¬¦ä¸²å¹³è¡¡çš„æœ€å°äº¤æ¢æ¬¡æ•°](https://leetcode.com/problems/minimum-number-of-swaps-to-make-the-string-balanced)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/leetcode/outline/tag/stack.md) [`è´ªå¿ƒ`](/leetcode/outline/tag/greedy.md) [`åŒæŒ‡é’ˆ`](/leetcode/outline/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/minimum-number-of-swaps-to-make-the-string-balanced)


## é¢˜ç›®

You are given a **0-indexed** string `s` of **even** length `n`. The string
consists of **exactly** `n / 2` opening brackets `'['` and `n / 2` closing
brackets `']'`.

A string is called **balanced** if and only if:

  * It is the empty string, or
  * It can be written as `AB`, where both `A` and `B` are **balanced** strings, or
  * It can be written as `[C]`, where `C` is a **balanced** string.

You may swap the brackets at **any** two indices **any** number of times.

Return _the**minimum** number of swaps to make _`s` _**balanced**_.



**Example 1:**

> Input: s = "][]["
> 
> Output: 1
> 
> Explanation: You can make the string balanced by swapping index 0 with index 3.
> 
> The resulting string is "[[]]".

**Example 2:**

> Input: s = "]]][[["
> 
> Output: 2
> 
> Explanation: You can do the following to make the string balanced:
> - Swap index 0 with index 4. s = "[]][][".
> - Swap index 1 with index 5. s = "[[][]]".
> 
> The resulting string is "[[][]]".

**Example 3:**

> Input: s = "[]"
> 
> Output: 0
> 
> Explanation: The string is already balanced.

**Constraints:**

  * `n == s.length`
  * `2 <= n <= 10^6`
  * `n` is even.
  * `s[i]` is either `'[' `or `']'`.
  * The number of opening brackets `'['` equals `n / 2`, and the number of closing brackets `']'` equals `n / 2`.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œ**ä¸‹æ ‡ä» 0 å¼€å§‹** ï¼Œä¸”é•¿åº¦ä¸ºå¶æ•° `n` ã€‚å­—ç¬¦ä¸² **æ°å¥½** ç”± `n / 2` ä¸ªå¼€æ‹¬å· `'['` å’Œ `n /
2` ä¸ªé—­æ‹¬å· `']'` ç»„æˆã€‚

åªæœ‰èƒ½æ»¡è¶³ä¸‹è¿°æ‰€æœ‰æ¡ä»¶çš„å­—ç¬¦ä¸²æ‰èƒ½ç§°ä¸º **å¹³è¡¡å­—ç¬¦ä¸²** ï¼š

  * å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œæˆ–è€…
  * å­—ç¬¦ä¸²å¯ä»¥è®°ä½œ `AB` ï¼Œå…¶ä¸­ `A` å’Œ `B` éƒ½æ˜¯ **å¹³è¡¡å­—ç¬¦ä¸²** ï¼Œæˆ–è€…
  * å­—ç¬¦ä¸²å¯ä»¥å†™æˆ `[C]` ï¼Œå…¶ä¸­ `C` æ˜¯ä¸€ä¸ª **å¹³è¡¡å­—ç¬¦ä¸²** ã€‚

ä½ å¯ä»¥äº¤æ¢ **ä»»æ„** ä¸¤ä¸ªä¸‹æ ‡æ‰€å¯¹åº”çš„æ‹¬å· **ä»»æ„** æ¬¡æ•°ã€‚

è¿”å›ä½¿ __`s` å˜æˆ **å¹³è¡¡å­—ç¬¦ä¸²** æ‰€éœ€è¦çš„ **æœ€å°** äº¤æ¢æ¬¡æ•°ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "][]["
> 
> **è¾“å‡ºï¼š** 1
> 
> **è§£é‡Šï¼š** äº¤æ¢ä¸‹æ ‡ 0 å’Œä¸‹æ ‡ 3 å¯¹åº”çš„æ‹¬å·ï¼Œå¯ä»¥ä½¿å­—ç¬¦ä¸²å˜æˆå¹³è¡¡å­—ç¬¦ä¸²ã€‚
> 
> æœ€ç»ˆå­—ç¬¦ä¸²å˜æˆ "[[]]" ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "]]][[["
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š** æ‰§è¡Œä¸‹è¿°æ“ä½œå¯ä»¥ä½¿å­—ç¬¦ä¸²å˜æˆå¹³è¡¡å­—ç¬¦ä¸²ï¼š
> - äº¤æ¢ä¸‹æ ‡ 0 å’Œä¸‹æ ‡ 4 å¯¹åº”çš„æ‹¬å·ï¼Œs = "[]][][" ã€‚
> - äº¤æ¢ä¸‹æ ‡ 1 å’Œä¸‹æ ‡ 5 å¯¹åº”çš„æ‹¬å·ï¼Œs = "[[][]]" ã€‚
> 
> æœ€ç»ˆå­—ç¬¦ä¸²å˜æˆ "[[][]]" ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "[]"
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š** è¿™ä¸ªå­—ç¬¦ä¸²å·²ç»æ˜¯å¹³è¡¡å­—ç¬¦ä¸²ã€‚
> 
> 



**æç¤ºï¼š**

  * `n == s.length`
  * `2 <= n <= 10^6`
  * `n` ä¸ºå¶æ•°
  * `s[i]` ä¸º`'['` æˆ– `']'`
  * å¼€æ‹¬å· `'['` çš„æ•°ç›®ä¸º `n / 2` ï¼Œé—­æ‹¬å· `']'` çš„æ•°ç›®ä¹Ÿæ˜¯ `n / 2`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·](https://leetcode.com/problems/remove-invalid-parentheses)
- [921. ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°‘æ·»åŠ ](https://leetcode.com/problems/minimum-add-to-make-parentheses-valid)
- [1249. ç§»é™¤æ— æ•ˆçš„æ‹¬å·](https://leetcode.com/problems/minimum-remove-to-make-valid-parentheses)
- [1541. å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²çš„æœ€å°‘æ’å…¥æ¬¡æ•°](https://leetcode.com/problems/minimum-insertions-to-balance-a-parentheses-string)

::::
