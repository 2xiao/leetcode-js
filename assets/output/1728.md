---
title: 1728. çŒ«å’Œè€é¼  II
description: LeetCode,1728. çŒ«å’Œè€é¼  II,çŒ«å’Œè€é¼  II,Cat and Mouse II,è§£é¢˜æ€è·¯,å›¾,æ‹“æ‰‘æ’åº,è®°å¿†åŒ–æœç´¢,æ•°ç»„,æ•°å­¦,åŠ¨æ€è§„åˆ’,åšå¼ˆ,çŸ©é˜µ
keywords:
  - LeetCode
  - 1728. çŒ«å’Œè€é¼  II
  - çŒ«å’Œè€é¼  II
  - Cat and Mouse II
  - è§£é¢˜æ€è·¯
  - å›¾
  - æ‹“æ‰‘æ’åº
  - è®°å¿†åŒ–æœç´¢
  - æ•°ç»„
  - æ•°å­¦
  - åŠ¨æ€è§„åˆ’
  - åšå¼ˆ
  - çŸ©é˜µ
---

# 1728. çŒ«å’Œè€é¼  II

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å›¾`](/tag/graph.md) [`æ‹“æ‰‘æ’åº`](/tag/topological-sort.md) [`è®°å¿†åŒ–æœç´¢`](/tag/memoization.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`åšå¼ˆ`](/tag/game-theory.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/cat-and-mouse-ii) [`LeetCode`](https://leetcode.com/problems/cat-and-mouse-ii)

## é¢˜ç›®

A game is played by a cat and a mouse named Cat and Mouse.

The environment is represented by a `grid` of size `rows x cols`, where each
element is a wall, floor, player (Cat, Mouse), or food.

  * Players are represented by the characters `'C'`(Cat)`,'M'`(Mouse).
  * Floors are represented by the character `'.'` and can be walked on.
  * Walls are represented by the character `'#'` and cannot be walked on.
  * Food is represented by the character `'F'` and can be walked on.
  * There is only one of each character `'C'`, `'M'`, and `'F'` in `grid`.

Mouse and Cat play according to the following rules:

  * Mouse **moves first** , then they take turns to move.
  * During each turn, Cat and Mouse can jump in one of the four directions (left, right, up, down). They cannot jump over the wall nor outside of the `grid`.
  * `catJump, mouseJump` are the maximum lengths Cat and Mouse can jump at a time, respectively. Cat and Mouse can jump less than the maximum length.
  * Staying in the same position is allowed.
  * Mouse can jump over Cat.

The game can end in 4 ways:

  * If Cat occupies the same position as Mouse, Cat wins.
  * If Cat reaches the food first, Cat wins.
  * If Mouse reaches the food first, Mouse wins.
  * If Mouse cannot get to the food within 1000 turns, Cat wins.

Given a `rows x cols` matrix `grid` and two integers `catJump` and
`mouseJump`, return `true` _if Mouse can win the game if both Cat and Mouse
play optimally, otherwise return_`false`.



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/09/12/sample_111_1955.png)

> Input: grid = ["####F","#C...","M...."], catJump = 1, mouseJump = 2
> 
> Output: true
> 
> Explanation: Cat cannot catch Mouse on its turn nor can it get the food before Mouse.

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/09/12/sample_2_1955.png)

> Input: grid = ["M.C...F"], catJump = 1, mouseJump = 4
> 
> Output: true

**Example 3:**

> Input: grid = ["M.C...F"], catJump = 1, mouseJump = 3
> 
> Output: false

**Constraints:**

  * `rows == grid.length`
  * `cols = grid[i].length`
  * `1 <= rows, cols <= 8`
  * `grid[i][j]` consist only of characters `'C'`, `'M'`, `'F'`, `'.'`, and `'#'`.
  * There is only one of each character `'C'`, `'M'`, and `'F'` in `grid`.
  * `1 <= catJump, mouseJump <= 8`


## é¢˜ç›®å¤§æ„

ä¸€åªçŒ«å’Œä¸€åªè€é¼ åœ¨ç©ä¸€ä¸ªå«åšçŒ«å’Œè€é¼ çš„æ¸¸æˆã€‚

å®ƒä»¬æ‰€å¤„çš„ç¯å¢ƒè®¾å®šæ˜¯ä¸€ä¸ª `rows x cols` çš„æ–¹æ ¼ `grid` ï¼Œå…¶ä¸­æ¯ä¸ªæ ¼å­å¯èƒ½æ˜¯ä¸€å µå¢™ã€ä¸€å—åœ°æ¿ã€ä¸€ä½ç©å®¶ï¼ˆçŒ«æˆ–è€…è€é¼ ï¼‰æˆ–è€…é£Ÿç‰©ã€‚

  * ç©å®¶ç”±å­—ç¬¦ `'C'` ï¼ˆä»£è¡¨çŒ«ï¼‰å’Œ `'M'` ï¼ˆä»£è¡¨è€é¼ ï¼‰è¡¨ç¤ºã€‚
  * åœ°æ¿ç”±å­—ç¬¦ `'.'` è¡¨ç¤ºï¼Œç©å®¶å¯ä»¥é€šè¿‡è¿™ä¸ªæ ¼å­ã€‚
  * å¢™ç”¨å­—ç¬¦ `'#'` è¡¨ç¤ºï¼Œç©å®¶ä¸èƒ½é€šè¿‡è¿™ä¸ªæ ¼å­ã€‚
  * é£Ÿç‰©ç”¨å­—ç¬¦ `'F'` è¡¨ç¤ºï¼Œç©å®¶å¯ä»¥é€šè¿‡è¿™ä¸ªæ ¼å­ã€‚
  * å­—ç¬¦ `'C'` ï¼Œ `'M'` å’Œ `'F'` åœ¨ `grid` ä¸­éƒ½åªä¼šå‡ºç°ä¸€æ¬¡ã€‚

çŒ«å’Œè€é¼ æŒ‰ç…§å¦‚ä¸‹è§„åˆ™ç§»åŠ¨ï¼š

  * è€é¼  **å…ˆç§»åŠ¨** ï¼Œç„¶åä¸¤åç©å®¶è½®æµç§»åŠ¨ã€‚
  * æ¯ä¸€æ¬¡æ“ä½œæ—¶ï¼ŒçŒ«å’Œè€é¼ å¯ä»¥è·³åˆ°ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¹‹ä¸€çš„æ ¼å­ï¼Œä»–ä»¬ä¸èƒ½è·³è¿‡å¢™ä¹Ÿä¸èƒ½è·³å‡º `grid` ã€‚
  * `catJump` å’Œ `mouseJump` æ˜¯çŒ«å’Œè€é¼ åˆ†åˆ«è·³ä¸€æ¬¡èƒ½åˆ°è¾¾çš„æœ€è¿œè·ç¦»ï¼Œå®ƒä»¬ä¹Ÿå¯ä»¥è·³å°äºæœ€å¤§è·ç¦»çš„é•¿åº¦ã€‚
  * å®ƒä»¬å¯ä»¥åœç•™åœ¨åŸåœ°ã€‚
  * è€é¼ å¯ä»¥è·³è·ƒè¿‡çŒ«çš„ä½ç½®ã€‚

æ¸¸æˆæœ‰ 4 ç§æ–¹å¼ä¼šç»“æŸï¼š

  * å¦‚æœçŒ«è·Ÿè€é¼ å¤„åœ¨ç›¸åŒçš„ä½ç½®ï¼Œé‚£ä¹ˆçŒ«è·èƒœã€‚
  * å¦‚æœçŒ«å…ˆåˆ°è¾¾é£Ÿç‰©ï¼Œé‚£ä¹ˆçŒ«è·èƒœã€‚
  * å¦‚æœè€é¼ å…ˆåˆ°è¾¾é£Ÿç‰©ï¼Œé‚£ä¹ˆè€é¼ è·èƒœã€‚
  * å¦‚æœè€é¼ ä¸èƒ½åœ¨ 1000 æ¬¡æ“ä½œä»¥å†…åˆ°è¾¾é£Ÿç‰©ï¼Œé‚£ä¹ˆçŒ«è·èƒœã€‚

ç»™ä½  `rows x cols` çš„çŸ©é˜µ `grid` å’Œä¸¤ä¸ªæ•´æ•° `catJump` å’Œ `mouseJump`
ï¼ŒåŒæ–¹éƒ½é‡‡å–æœ€ä¼˜ç­–ç•¥ï¼Œå¦‚æœè€é¼ è·èƒœï¼Œé‚£ä¹ˆè¯·ä½ è¿”å› `true` ï¼Œå¦åˆ™è¿”å› `false` ã€‚

**ç¤ºä¾‹ 1ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2021/01/17/sample_111_1955.png)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = ["####F","#C...","M...."], catJump = 1, mouseJump = 2
> 
> **è¾“å‡ºï¼š** true
> 
> **è§£é‡Šï¼š** çŒ«æ— æ³•æŠ“åˆ°è€é¼ ï¼Œä¹Ÿæ²¡æ³•æ¯”è€é¼ å…ˆåˆ°è¾¾é£Ÿç‰©ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2021/01/17/sample_2_1955.png)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = ["M.C...F"], catJump = 1, mouseJump = 4
> 
> **è¾“å‡ºï¼š** true
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = ["M.C...F"], catJump = 1, mouseJump = 3
> 
> **è¾“å‡ºï¼š** false
> 
> 

**ç¤ºä¾‹ 4ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = ["C...#","...#F","....#","M...."], catJump = 2, mouseJump = 5
> 
> **è¾“å‡ºï¼š** false
> 
> 

**ç¤ºä¾‹ 5ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [".M...","..#..","#..#.","C#.#.","...#F"], catJump = 3, mouseJump = 1
> 
> **è¾“å‡ºï¼š** true
> 
> 

**æç¤ºï¼š**

  * `rows == grid.length`
  * `cols = grid[i].length`
  * `1 <= rows, cols <= 8`
  * `grid[i][j]` åªåŒ…å«å­—ç¬¦ `'C'` ï¼Œ`'M'` ï¼Œ`'F'` ï¼Œ`'.'` å’Œ `'#'` ã€‚
  * `grid` ä¸­åªåŒ…å«ä¸€ä¸ª `'C'` ï¼Œ`'M'` å’Œ `'F'` ã€‚
  * `1 <= catJump, mouseJump <= 8`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 789 | é€ƒè„±é˜»ç¢è€… |  |  [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/escape-the-ghosts) [ğŸ”—](https://leetcode.com/problems/escape-the-ghosts) |
| 913 | çŒ«å’Œè€é¼  |  |  [`å›¾`](/tag/graph.md) [`æ‹“æ‰‘æ’åº`](/tag/topological-sort.md) [`è®°å¿†åŒ–æœç´¢`](/tag/memoization.md) `3+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/cat-and-mouse) [ğŸ”—](https://leetcode.com/problems/cat-and-mouse) |