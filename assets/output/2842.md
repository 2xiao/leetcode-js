---
title: 2842. ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²çš„ k å­åºåˆ—ç¾ä¸½å€¼æœ€å¤§çš„æ•°ç›®
description: LeetCode,2842. ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²çš„ k å­åºåˆ—ç¾ä¸½å€¼æœ€å¤§çš„æ•°ç›®,ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²çš„ k å­åºåˆ—ç¾ä¸½å€¼æœ€å¤§çš„æ•°ç›®,Count K-Subsequences of a String With Maximum Beauty,è§£é¢˜æ€è·¯,è´ªå¿ƒ,å“ˆå¸Œè¡¨,æ•°å­¦,å­—ç¬¦ä¸²,ç»„åˆæ•°å­¦
keywords:
  - LeetCode
  - 2842. ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²çš„ k å­åºåˆ—ç¾ä¸½å€¼æœ€å¤§çš„æ•°ç›®
  - ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²çš„ k å­åºåˆ—ç¾ä¸½å€¼æœ€å¤§çš„æ•°ç›®
  - Count K-Subsequences of a String With Maximum Beauty
  - è§£é¢˜æ€è·¯
  - è´ªå¿ƒ
  - å“ˆå¸Œè¡¨
  - æ•°å­¦
  - å­—ç¬¦ä¸²
  - ç»„åˆæ•°å­¦
---

# 2842. ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²çš„ k å­åºåˆ—ç¾ä¸½å€¼æœ€å¤§çš„æ•°ç›®

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ•°å­¦`](/tag/math.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`ç»„åˆæ•°å­¦`](/tag/combinatorics.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/count-k-subsequences-of-a-string-with-maximum-beauty) [`LeetCode`](https://leetcode.com/problems/count-k-subsequences-of-a-string-with-maximum-beauty)

## é¢˜ç›®

You are given a string `s` and an integer `k`.

A **k-subsequence** is a **subsequence** of `s`, having length `k`, and all
its characters are **unique** , **i.e**., every character occurs once.

Let `f(c)` denote the number of times the character `c` occurs in `s`.

The **beauty** of a **k-subsequence** is the **sum** of `f(c)` for every
character `c` in the k-subsequence.

For example, consider `s = "abbbdd"` and `k = 2`:

  * `f('a') = 1`, `f('b') = 3`, `f('d') = 2`
  * Some k-subsequences of `s` are: 
> 
> * `"_**ab**_ bbdd"` -> `"ab"` having a beauty of `f('a') + f('b') = 4`
> 
> * `"_**a**_ bbb** _d_** d"` -> `"ad"` having a beauty of `f('a') + f('d') = 3`
> 
> * `"a** _b_** bb _**d**_ d"` -> `"bd"` having a beauty of `f('b') + f('d') = 5`

Return _an integer denoting the number of k-subsequences_ _whose**beauty** is
the **maximum** among all **k-subsequences**_. Since the answer may be too
large, return it modulo `109 + 7`.

A subsequence of a string is a new string formed from the original string by
deleting some (possibly none) of the characters without disturbing the
relative positions of the remaining characters.

**Notes**

  * `f(c)` is the number of times a character `c` occurs in `s`, not a k-subsequence.
  * Two k-subsequences are considered different if one is formed by an index that is not present in the other. So, two k-subsequences may form the same string.



**Example 1:**

> Input: s = "bcca", k = 2
> 
> Output: 4
> 
> Explanation: From s we have f('a') = 1, f('b') = 1, and f('c') = 2.
> 
> The k-subsequences of s are: 
> 
> **_bc_** ca having a beauty of f('b') + f('c') = 3 
> 
> **_b_** c _**c**_ a having a beauty of f('b') + f('c') = 3 
> 
> **_b_** cc** _a_** having a beauty of f('b') + f('a') = 2 
> 
> b** _c_** c _**a**_**** having a beauty of f('c') + f('a') = 3
> 
> bc** _ca_** having a beauty of f('c') + f('a') = 3 
> 
> There are 4 k-subsequences that have the maximum beauty, 3. 
> 
> Hence, the answer is 4. 

**Example 2:**

> Input: s = "abbcd", k = 4
> 
> Output: 2
> 
> Explanation: From s we have f('a') = 1, f('b') = 2, f('c') = 1, and f('d') = 1. 
> 
> The k-subsequences of s are: 
> 
> _**ab**_ b** _cd_** having a beauty of f('a') + f('b') + f('c') + f('d') = 5
> 
> _**a**_ b _**bcd**_ having a beauty of f('a') + f('b') + f('c') + f('d') = 5 
> 
> There are 2 k-subsequences that have the maximum beauty, 5. 
> 
> Hence, the answer is 2. 

**Constraints:**

  * `1 <= s.length <= 2 * 10^5`
  * `1 <= k <= s.length`
  * `s` consists only of lowercase English letters.


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªæ•´æ•° `k` ã€‚

**k å­åºåˆ—** æŒ‡çš„æ˜¯ `s` çš„ä¸€ä¸ªé•¿åº¦ä¸º `k` çš„ **å­åºåˆ—**  ï¼Œä¸”æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯ **å”¯ä¸€**
çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªå­—ç¬¦åœ¨å­åºåˆ—é‡Œåªå‡ºç°è¿‡ä¸€æ¬¡ã€‚

å®šä¹‰ `f(c)` ä¸ºå­—ç¬¦ `c` åœ¨ `s` ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚

k å­åºåˆ—çš„ **ç¾ä¸½å€¼**  å®šä¹‰ä¸ºè¿™ä¸ªå­åºåˆ—ä¸­æ¯ä¸€ä¸ªå­—ç¬¦ `c` çš„ `f(c)` ä¹‹ **å’Œ**  ã€‚

æ¯”æ–¹è¯´ï¼Œ`s = "abbbdd"` å’Œ `k = 2` ï¼Œæˆ‘ä»¬æœ‰ï¼š

  * `f('a') = 1`, `f('b') = 3`, `f('d') = 2`
  * `s` çš„éƒ¨åˆ† k å­åºåˆ—ä¸ºï¼š 
> 
> * `"_**ab**_ bbdd"` -> `"ab"` ï¼Œç¾ä¸½å€¼ä¸º `f('a') + f('b') = 4`
> 
> * `"_**a**_ bbb _**d**_ d"` -> `"ad"` ï¼Œç¾ä¸½å€¼ä¸º `f('a') + f('d') = 3`
> 
> * `"a _**b**_ bb _**d**_ d"` -> `"bd"` ï¼Œç¾ä¸½å€¼ä¸º `f('b') + f('d') = 5`

è¯·ä½ è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æœ‰ **k å­åºåˆ—  **é‡Œé¢ **ç¾ä¸½å€¼** æ˜¯ **æœ€å¤§å€¼**  çš„å­åºåˆ—æ•°ç›®ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œå°†ç»“æœå¯¹ `109 + 7`
å–ä½™åè¿”å›ã€‚

ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­åºåˆ—æŒ‡çš„æ˜¯ä»åŸå­—ç¬¦ä¸²é‡Œé¢åˆ é™¤ä¸€äº›å­—ç¬¦ï¼ˆä¹Ÿå¯èƒ½ä¸€ä¸ªå­—ç¬¦ä¹Ÿä¸åˆ é™¤ï¼‰ï¼Œä¸æ”¹å˜å‰©ä¸‹å­—ç¬¦é¡ºåºè¿æ¥å¾—åˆ°çš„æ–°å­—ç¬¦ä¸²ã€‚

**æ³¨æ„ï¼š**

  * `f(c)` æŒ‡çš„æ˜¯å­—ç¬¦ `c` åœ¨å­—ç¬¦ä¸² `s` çš„å‡ºç°æ¬¡æ•°ï¼Œä¸æ˜¯åœ¨ k å­åºåˆ—é‡Œçš„å‡ºç°æ¬¡æ•°ã€‚
  * ä¸¤ä¸ª k å­åºåˆ—å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªå­—ç¬¦åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ä¸‹æ ‡ä¸åŒï¼Œåˆ™å®ƒä»¬æ˜¯ä¸¤ä¸ªä¸åŒçš„å­åºåˆ—ã€‚æ‰€ä»¥ä¸¤ä¸ªä¸åŒçš„ k å­åºåˆ—å¯èƒ½äº§ç”Ÿç›¸åŒçš„å­—ç¬¦ä¸²ã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "bcca", k = 2
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** s ä¸­æˆ‘ä»¬æœ‰ f('a') = 1 ï¼Œf('b') = 1 å’Œ f('c') = 2 ã€‚
> 
> s çš„ k å­åºåˆ—ä¸ºï¼š
> 
> _**bc**_ ca ï¼Œç¾ä¸½å€¼ä¸º f('b') + f('c') = 3
> 
> _**b**_ c _**c**_ a ï¼Œç¾ä¸½å€¼ä¸º f('b') + f('c') = 3
> 
> _**b**_ cc _**a**_ ï¼Œç¾ä¸½å€¼ä¸º f('b') + f('a') = 2
> 
> b _**c**_ c _**a**_**** ï¼Œç¾ä¸½å€¼ä¸º f('c') + f('a') = 3
> 
> bc _**ca**_ ï¼Œç¾ä¸½å€¼ä¸º f('c') + f('a') = 3
> 
> æ€»å…±æœ‰ 4 ä¸ª k å­åºåˆ—ç¾ä¸½å€¼ä¸ºæœ€å¤§å€¼ 3 ã€‚
> 
> æ‰€ä»¥ç­”æ¡ˆä¸º 4 ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** s = "abbcd", k = 4
> 
> **è¾“å‡ºï¼š** 2
> 
> **è§£é‡Šï¼š** s ä¸­æˆ‘ä»¬æœ‰ f('a') = 1 ï¼Œf('b') = 2 ï¼Œf('c') = 1 å’Œ f('d') = 1 ã€‚
> 
> s çš„ k å­åºåˆ—ä¸ºï¼š
> 
> _**ab**_ b _**cd**_ ï¼Œç¾ä¸½å€¼ä¸º f('a') + f('b') + f('c') + f('d') = 5
> 
> **_a_** b _**bcd**_ ï¼Œç¾ä¸½å€¼ä¸º f('a') + f('b') + f('c') + f('d') = 5 
> 
> æ€»å…±æœ‰ 2 ä¸ª k å­åºåˆ—ç¾ä¸½å€¼ä¸ºæœ€å¤§å€¼ 5 ã€‚
> 
> æ‰€ä»¥ç­”æ¡ˆä¸º 2 ã€‚
> 
> 



**æç¤ºï¼š**

  * `1 <= s.length <= 2 * 10^5`
  * `1 <= k <= s.length`
  * `s` åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 940 | [ä¸åŒçš„å­åºåˆ— II](https://leetcode.com/problems/distinct-subsequences-ii) |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> |