# [2813. å­åºåˆ—æœ€å¤§ä¼˜é›…åº¦](https://leetcode.com/problems/maximum-elegance-of-a-k-length-subsequence)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ’åº`](/tag/sorting.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/maximum-elegance-of-a-k-length-subsequence)

## é¢˜ç›®

You are given a **0-indexed** 2D integer array `items` of length `n` and an
integer `k`.

`items[i] = [profiti, categoryi]`, where `profiti` and `categoryi` denote the
profit and category of the `ith` item respectively.

Let's define the **elegance** of a **subsequence** of `items` as `total_profit
+ distinct_categories2`, where `total_profit` is the sum of all profits in the
subsequence, and `distinct_categories` is the number of **distinct**
categories from all the categories in the selected subsequence.

Your task is to find the **maximum elegance** from all subsequences of size
`k` in `items`.

Return _an integer denoting the maximum elegance of a subsequence of_`items`
_with size exactly_`k`.

**Note:** A subsequence of an array is a new array generated from the original
array by deleting some elements (possibly none) without changing the remaining
elements' relative order.



**Example 1:**

> Input: items = [[3,2],[5,1],[10,1]], k = 2
> 
> Output: 17
> 
> Explanation: In this example, we have to select a subsequence of size 2.
> 
> We can select items[0] = [3,2] and items[2] = [10,1].
> 
> The total profit in this subsequence is 3 + 10 = 13, and the subsequence contains 2 distinct categories [2,1].
> 
> Hence, the elegance is 13 + 22 = 17, and we can show that it is the maximum achievable elegance. 

**Example 2:**

> Input: items = [[3,1],[3,1],[2,2],[5,3]], k = 3
> 
> Output: 19
> 
> Explanation: In this example, we have to select a subsequence of size 3. 
> 
> We can select items[0] = [3,1], items[2] = [2,2], and items[3] = [5,3]. 
> 
> The total profit in this subsequence is 3 + 2 + 5 = 10, and the subsequence contains 3 distinct categories [1,2,3]. 
> 
> Hence, the elegance is 10 + 32 = 19, and we can show that it is the maximum achievable elegance.

**Example 3:**

> Input: items = [[1,1],[2,1],[3,1]], k = 3
> 
> Output: 7
> 
> Explanation: In this example, we have to select a subsequence of size 3. 
> 
> We should select all the items. 
> 
> The total profit will be 1 + 2 + 3 = 6, and the subsequence contains 1 distinct category [1]. 
> 
> Hence, the maximum elegance is 6 + 12 = 7.  



**Constraints:**

  * `1 <= items.length == n <= 10^5`
  * `items[i].length == 2`
  * `items[i][0] == profiti`
  * `items[i][1] == categoryi`
  * `1 <= profiti <= 10^9`
  * `1 <= categoryi <= n `
  * `1 <= k <= n`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„äºŒç»´æ•´æ•°æ•°ç»„ `items` å’Œä¸€ä¸ªæ•´æ•° `k` ã€‚

`items[i] = [profiti, categoryi]`ï¼Œå…¶ä¸­ `profiti` å’Œ `categoryi` åˆ†åˆ«è¡¨ç¤ºç¬¬ `i`
ä¸ªé¡¹ç›®çš„åˆ©æ¶¦å’Œç±»åˆ«ã€‚

ç°å®šä¹‰ `items` çš„ **å­åºåˆ—** çš„ **ä¼˜é›…åº¦** å¯ä»¥ç”¨ `total_profit + distinct_categories2`
è®¡ç®—ï¼Œå…¶ä¸­ `total_profit` æ˜¯å­åºåˆ—ä¸­æ‰€æœ‰é¡¹ç›®çš„åˆ©æ¶¦æ€»å’Œï¼Œ`distinct_categories`
æ˜¯æ‰€é€‰å­åºåˆ—æ‰€å«çš„æ‰€æœ‰ç±»åˆ«ä¸­ä¸åŒç±»åˆ«çš„æ•°é‡ã€‚

ä½ çš„ä»»åŠ¡æ˜¯ä» `items` æ‰€æœ‰é•¿åº¦ä¸º `k` çš„å­åºåˆ—ä¸­ï¼Œæ‰¾å‡º **æœ€å¤§ä¼˜é›…åº¦** ã€‚

ç”¨æ•´æ•°å½¢å¼è¡¨ç¤ºå¹¶è¿”å› `items` ä¸­æ‰€æœ‰é•¿åº¦æ°å¥½ä¸º `k` çš„å­åºåˆ—çš„æœ€å¤§ä¼˜é›…åº¦ã€‚

**æ³¨æ„ï¼š** æ•°ç»„çš„å­åºåˆ—æ˜¯ç»ç”±åŸæ•°ç»„åˆ é™¤ä¸€äº›å…ƒç´ ï¼ˆå¯èƒ½ä¸åˆ é™¤ï¼‰è€Œäº§ç”Ÿçš„æ–°æ•°ç»„ï¼Œä¸”åˆ é™¤ä¸æ”¹å˜å…¶ä½™å…ƒç´ ç›¸å¯¹é¡ºåºã€‚



**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** items = [[3,2],[5,1],[10,1]], k = 2
> 
> **è¾“å‡ºï¼š** 17
> 
> **è§£é‡Šï¼š** åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦é€‰å‡ºé•¿åº¦ä¸º 2 çš„å­åºåˆ—ã€‚
> 
> å…¶ä¸­ä¸€ç§æ–¹æ¡ˆæ˜¯ items[0] = [3,2] å’Œ items[2] = [10,1] ã€‚
> 
> å­åºåˆ—çš„æ€»åˆ©æ¶¦ä¸º 3 + 10 = 13 ï¼Œå­åºåˆ—åŒ…å« 2 ç§ä¸åŒç±»åˆ« [2,1] ã€‚
> 
> å› æ­¤ï¼Œä¼˜é›…åº¦ä¸º 13 + 22 = 17 ï¼Œå¯ä»¥è¯æ˜ 17 æ˜¯å¯ä»¥è·å¾—çš„æœ€å¤§ä¼˜é›…åº¦ã€‚ 
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** items = [[3,1],[3,1],[2,2],[5,3]], k = 3
> 
> **è¾“å‡ºï¼š** 19
> 
> **è§£é‡Šï¼š**
> 
> åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦é€‰å‡ºé•¿åº¦ä¸º 3 çš„å­åºåˆ—ã€‚ 
> 
> å…¶ä¸­ä¸€ç§æ–¹æ¡ˆæ˜¯ items[0] = [3,1] ï¼Œitems[2] = [2,2] å’Œ items[3] = [5,3] ã€‚
> 
> å­åºåˆ—çš„æ€»åˆ©æ¶¦ä¸º 3 + 2 + 5 = 10 ï¼Œå­åºåˆ—åŒ…å« 3 ç§ä¸åŒç±»åˆ« [1, 2, 3] ã€‚ 
> 
> å› æ­¤ï¼Œä¼˜é›…åº¦ä¸º 10 + 32 = 19 ï¼Œå¯ä»¥è¯æ˜ 19 æ˜¯å¯ä»¥è·å¾—çš„æœ€å¤§ä¼˜é›…åº¦ã€‚

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** items = [[1,1],[2,1],[3,1]], k = 3
> 
> **è¾“å‡ºï¼š** 7
> 
> **è§£é‡Šï¼š** åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦é€‰å‡ºé•¿åº¦ä¸º 3 çš„å­åºåˆ—ã€‚
> 
> æˆ‘ä»¬éœ€è¦é€‰ä¸­æ‰€æœ‰é¡¹ç›®ã€‚
> 
> å­åºåˆ—çš„æ€»åˆ©æ¶¦ä¸º 1 + 2 + 3 = 6ï¼Œå­åºåˆ—åŒ…å« 1 ç§ä¸åŒç±»åˆ« [1] ã€‚
> 
> å› æ­¤ï¼Œæœ€å¤§ä¼˜é›…åº¦ä¸º 6 + 12 = 7 ã€‚



**æç¤ºï¼š**

  * `1 <= items.length == n <= 10^5`
  * `items[i].length == 2`
  * `items[i][0] == profiti`
  * `items[i][1] == categoryi`
  * `1 <= profiti <= 10^9`
  * `1 <= categoryi <= n `
  * `1 <= k <= n`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 502 | [IPO](https://leetcode.com/problems/ipo) | [[âœ“]](/problem/0502.md) |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) `1+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
