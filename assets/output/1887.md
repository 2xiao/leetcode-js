---
title: 1887. ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰çš„å‡å°‘æ“ä½œæ¬¡æ•°
description: LeetCode 1887. ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰çš„å‡å°‘æ“ä½œæ¬¡æ•°é¢˜è§£ï¼ŒReduction Operations to Make the Array Elements Equalï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1887. ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰çš„å‡å°‘æ“ä½œæ¬¡æ•°
  - ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰çš„å‡å°‘æ“ä½œæ¬¡æ•°
  - Reduction Operations to Make the Array Elements Equal
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - æ’åº
---

# 1887. ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰çš„å‡å°‘æ“ä½œæ¬¡æ•°

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/reduction-operations-to-make-the-array-elements-equal) [`LeetCode`](https://leetcode.com/problems/reduction-operations-to-make-the-array-elements-equal)

## é¢˜ç›®

Given an integer array `nums`, your goal is to make all elements in `nums`
equal. To complete one operation, follow these steps:

  1. Find the **largest** value in `nums`. Let its index be `i` (**0-indexed**) and its value be `largest`. If there are multiple elements with the largest value, pick the smallest `i`.
  2. Find the **next largest** value in `nums` **strictly smaller** than `largest`. Let its value be `nextLargest`.
  3. Reduce `nums[i]` to `nextLargest`.

Return _the number of operations to make all elements in_`nums` _equal_.



**Example 1:**

> Input: nums = [5,1,3]
> 
> Output: 3
> 
> Explanation:  It takes 3 operations to make all elements in nums equal:
> 
> 1. largest = 5 at index 0. nextLargest = 3. Reduce nums[0] to 3. nums = [_3_ ,1,3].
> 
> 2. largest = 3 at index 0. nextLargest = 1. Reduce nums[0] to 1. nums = [_1_ ,1,3].
> 
> 3. largest = 3 at index 2. nextLargest = 1. Reduce nums[2] to 1. nums = [1,1,_1_].

**Example 2:**

> Input: nums = [1,1,1]
> 
> Output: 0
> 
> Explanation:  All elements in nums are already equal.

**Example 3:**

> Input: nums = [1,1,2,2,3]
> 
> Output: 4
> 
> Explanation:  It takes 4 operations to make all elements in nums equal:
> 
> 1. largest = 3 at index 4. nextLargest = 2. Reduce nums[4] to 2. nums = [1,1,2,2,_2_].
> 
> 2. largest = 2 at index 2. nextLargest = 1. Reduce nums[2] to 1. nums = [1,1,_1_ ,2,2].
> 
> 3. largest = 2 at index 3. nextLargest = 1. Reduce nums[3] to 1. nums = [1,1,1,_1_ ,2].
> 
> 4. largest = 2 at index 4. nextLargest = 1. Reduce nums[4] to 1. nums = [1,1,1,1,_1_].

**Constraints:**

  * `1 <= nums.length <= 5 * 10^4`
  * `1 <= nums[i] <= 5 * 10^4`


## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œä½ çš„ç›®æ ‡æ˜¯ä»¤ `nums` ä¸­çš„æ‰€æœ‰å…ƒç´ ç›¸ç­‰ã€‚å®Œæˆä¸€æ¬¡å‡å°‘æ“ä½œéœ€è¦éµç…§ä¸‹é¢çš„å‡ ä¸ªæ­¥éª¤ï¼š

  1. æ‰¾å‡º `nums` ä¸­çš„ **æœ€å¤§** å€¼ã€‚è®°è¿™ä¸ªå€¼ä¸º `largest` å¹¶å–å…¶ä¸‹æ ‡ `i` ï¼ˆ**ä¸‹æ ‡ä» 0 å¼€å§‹è®¡æ•°** ï¼‰ã€‚å¦‚æœæœ‰å¤šä¸ªå…ƒç´ éƒ½æ˜¯æœ€å¤§å€¼ï¼Œåˆ™å–æœ€å°çš„ `i` ã€‚
  2. æ‰¾å‡º `nums` ä¸­çš„ **ä¸‹ä¸€ä¸ªæœ€å¤§** å€¼ï¼Œè¿™ä¸ªå€¼ **ä¸¥æ ¼å°äº** `largest` ï¼Œè®°ä¸º `nextLargest` ã€‚
  3. å°† `nums[i]` å‡å°‘åˆ° `nextLargest` ã€‚

è¿”å›ä½¿ __`nums` __ ä¸­çš„æ‰€æœ‰å…ƒç´ ç›¸ç­‰çš„æ“ä½œæ¬¡æ•°ã€‚

**ç¤ºä¾‹ 1ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [5,1,3]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** éœ€è¦ 3 æ¬¡æ“ä½œä½¿ nums ä¸­çš„æ‰€æœ‰å…ƒç´ ç›¸ç­‰ï¼š
> 
> 1. largest = 5 ä¸‹æ ‡ä¸º 0 ã€‚nextLargest = 3 ã€‚å°† nums[0] å‡å°‘åˆ° 3 ã€‚nums = [**3** ,1,3] ã€‚
> 
> 2. largest = 3 ä¸‹æ ‡ä¸º 0 ã€‚nextLargest = 1 ã€‚å°† nums[0] å‡å°‘åˆ° 1 ã€‚nums = [**1** ,1,3] ã€‚
> 
> 3. largest = 3 ä¸‹æ ‡ä¸º 2 ã€‚nextLargest = 1 ã€‚å°† nums[2] å‡å°‘åˆ° 1 ã€‚nums = [**1** ,1,**1**] ã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,1,1]
> 
> **è¾“å‡ºï¼š** 0
> 
> **è§£é‡Šï¼š** nums ä¸­çš„æ‰€æœ‰å…ƒç´ å·²ç»æ˜¯ç›¸ç­‰çš„ã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** nums = [1,1,2,2,3]
> 
> **è¾“å‡ºï¼š** 4
> 
> **è§£é‡Šï¼š** éœ€è¦ 4 æ¬¡æ“ä½œä½¿ nums ä¸­çš„æ‰€æœ‰å…ƒç´ ç›¸ç­‰ï¼š
> 
> 1. largest = 3 ä¸‹æ ‡ä¸º 4 ã€‚nextLargest = 2 ã€‚å°† nums[4] å‡å°‘åˆ° 2 ã€‚nums = [1,1,2,2,**2**] ã€‚
> 
> 2. largest = 2 ä¸‹æ ‡ä¸º 2 ã€‚nextLargest = 1 ã€‚å°† nums[2] å‡å°‘åˆ° 1 ã€‚nums = [1,1,**1** ,2,2] ã€‚ 
> 
> 3. largest = 2 ä¸‹æ ‡ä¸º 3 ã€‚nextLargest = 1 ã€‚å°† nums[3] å‡å°‘åˆ° 1 ã€‚nums = [1,1,1,**1** ,2] ã€‚ 
> 
> 4. largest = 2 ä¸‹æ ‡ä¸º 4 ã€‚nextLargest = 1 ã€‚å°† nums[4] å‡å°‘åˆ° 1 ã€‚nums = [1,1,1,1,**1**] ã€‚
> 
> 

**æç¤ºï¼š**

  * `1 <= nums.length <= 5 * 10^4`
  * `1 <= nums[i] <= 5 * 10^4`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```