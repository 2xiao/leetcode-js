---
title: 634. å¯»æ‰¾æ•°ç»„çš„é”™ä½æ’åˆ— ğŸ”’
description: LeetCode,634. å¯»æ‰¾æ•°ç»„çš„é”™ä½æ’åˆ— ğŸ”’,å¯»æ‰¾æ•°ç»„çš„é”™ä½æ’åˆ—,Find the Derangement of An Array,è§£é¢˜æ€è·¯,æ•°å­¦,åŠ¨æ€è§„åˆ’
keywords:
  - LeetCode
  - 634. å¯»æ‰¾æ•°ç»„çš„é”™ä½æ’åˆ— ğŸ”’
  - å¯»æ‰¾æ•°ç»„çš„é”™ä½æ’åˆ—
  - Find the Derangement of An Array
  - è§£é¢˜æ€è·¯
  - æ•°å­¦
  - åŠ¨æ€è§„åˆ’
---

# 634. å¯»æ‰¾æ•°ç»„çš„é”™ä½æ’åˆ— ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°å­¦`](/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/find-the-derangement-of-an-array) [`LeetCode`](https://leetcode.com/problems/find-the-derangement-of-an-array)

## é¢˜ç›®

In combinatorial mathematics, a **derangement** is a permutation of the
elements of a set, such that no element appears in its original position.

You are given an integer `n`. There is originally an array consisting of `n`
integers from `1` to `n` in ascending order, return _the number
of**derangements** it can generate_. Since the answer may be huge, return it
**modulo** `109 + 7`.



**Example 1:**

> Input: n = 3
> 
> Output: 2
> 
> Explanation: The original array is [1,2,3]. The two derangements are [2,3,1] and [3,1,2].

**Example 2:**

> Input: n = 2
> 
> Output: 1

**Constraints:**

  * `1 <= n <= 10^6`


## é¢˜ç›®å¤§æ„

åœ¨ç»„åˆæ•°å­¦ä¸­ï¼Œå¦‚æœä¸€ä¸ªæ’åˆ—ä¸­æ‰€æœ‰å…ƒç´ éƒ½ä¸åœ¨åŸå…ˆçš„ä½ç½®ä¸Šï¼Œé‚£ä¹ˆè¿™ä¸ªæ’åˆ—å°±è¢«ç§°ä¸º **é”™ä½æ’åˆ—** ã€‚

ç»™å®šä¸€ä¸ªä» `1` åˆ° `n` å‡åºæ’åˆ—çš„æ•°ç»„ï¼Œè¿”å› _**ä¸åŒçš„é”™ä½æ’åˆ—** çš„æ•°é‡ _ã€‚ç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤§ï¼Œä½ åªéœ€è¦å°†ç­”æ¡ˆå¯¹ `109+7`
**å–ä½™**  è¾“å‡ºå³å¯ã€‚



**ç¤ºä¾‹ 1:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** n = 3
> 
> **è¾“å‡º:** 2
> 
> **è§£é‡Š:** åŸå§‹çš„æ•°ç»„ä¸º [1,2,3]ã€‚ä¸¤ä¸ªé”™ä½æ’åˆ—çš„æ•°ç»„ä¸º [2,3,1] å’Œ [3,1,2]ã€‚
> 
> 

**ç¤ºä¾‹ 2:**

> 
> 
> 
> 
> 
> **è¾“å…¥:** n = 2
> 
> **è¾“å‡º:** 1
> 
> 



**æç¤ºï¼š**

  * `1 <= n <= 10^6`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```