---
title: 3384. 球队传球成功的优势得分 🔒
description: LeetCode 3384. 球队传球成功的优势得分 🔒题解，Team Dominance by Pass Success，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 3384. 球队传球成功的优势得分 🔒
  - 球队传球成功的优势得分
  - Team Dominance by Pass Success
  - 解题思路
  - 数据库
---

# 3384. 球队传球成功的优势得分 🔒

🔴 <font color=#ff334b>Hard</font>&emsp; 🔖&ensp; [`数据库`](/tag/database.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/team-dominance-by-pass-success) [`LeetCode`](https://leetcode.com/problems/team-dominance-by-pass-success)

## 题目

Table: `Teams`

> 
> 
> 
> 
> 
> +-------------+---------+
> 
> | Column Name | Type> 
> |
> 
> +-------------+---------+
> 
> | player_id   | int> 
>  |
> 
> | team_name   | varchar | 
> 
> +-------------+---------+
> 
> player_id is the unique key for this table.
> 
> Each row contains the unique identifier for player and the name of one of the teams participating in that match.
> 
> 
> 
> 

Table: `Passes`

> 
> 
> 
> 
> 
> +-------------+---------+
> 
> | Column Name | Type> 
> |
> 
> +-------------+---------+
> 
> | pass_from   | int> 
>  |
> 
> | time_stamp  | varchar |
> 
> | pass_to> 
>  | int> 
>  |
> 
> +-------------+---------+
> 
> (pass_from, time_stamp) is the primary key for this table.
> 
> pass_from is a foreign key to player_id from Teams table.
> 
> Each row represents a pass made during a match, time_stamp represents the time in minutes (00:00-90:00) when the pass was made,
> 
> pass_to is the player_id of the player receiving the pass.
> 
> 
> 
> 

Write a solution to calculate the **dominance score** for each team in**both
halves of the match**. The rules are as follows:

  * A match is divided into two halves: **first half** (`00:00`-`45:00` minutes) and **second half**(`45:01`-`90:00` minutes)
  * The dominance score is calculated based on successful and intercepted passes: 
> 
> * When pass_to is a player from the **same team** : +`1` point
> 
> * When pass_to is a player from the **opposing team** (interception): `-1` point
  * A higher dominance score indicates better passing performance

Return _the result table ordered_ _by_  `team_name` and `half_number`
_in**ascending** order_.

The result format is in the following example.



**Example:**

**Input:**

Teams table:

> 
> 
> 
> 
> 
> +------------+-----------+
> 
> | player_id  | team_name |
> 
> +------------+-----------+
> 
> | 1> 
> > 
>   | Arsenal   |
> 
> | 2> 
> > 
>   | Arsenal   |
> 
> | 3> 
> > 
>   | Arsenal   |
> 
> | 4> 
> > 
>   | Chelsea   |
> 
> | 5> 
> > 
>   | Chelsea   |
> 
> | 6> 
> > 
>   | Chelsea   |
> 
> +------------+-----------+
> 
> 

Passes table:

> 
> 
> 
> 
> 
> +-----------+------------+---------+
> 
> | pass_from | time_stamp | pass_to |
> 
> +-----------+------------+---------+
> 
> | 1> 
> > 
>  | 00:15> 
>   | 2> 
>    |
> 
> | 2> 
> > 
>  | 00:45> 
>   | 3> 
>    |
> 
> | 3> 
> > 
>  | 01:15> 
>   | 1> 
>    |
> 
> | 4> 
> > 
>  | 00:30> 
>   | 1> 
>    |
> 
> | 2> 
> > 
>  | 46:00> 
>   | 3> 
>    |
> 
> | 3> 
> > 
>  | 46:15> 
>   | 4> 
>    |
> 
> | 1> 
> > 
>  | 46:45> 
>   | 2> 
>    |
> 
> | 5> 
> > 
>  | 46:30> 
>   | 6> 
>    |
> 
> +-----------+------------+---------+
> 
> 

**Output:**

> 
> 
> 
> 
> 
> +-----------+-------------+-----------+
> 
> | team_name | half_number | dominance |
> 
> +-----------+-------------+-----------+
> 
> | Arsenal   | 1> 
> > 
>    | 3> 
> > 
>  |
> 
> | Arsenal   | 2> 
> > 
>    | 1> 
> > 
>  |
> 
> | Chelsea   | 1> 
> > 
>    | -1> 
> > 
> |
> 
> | Chelsea   | 2> 
> > 
>    | 1> 
> > 
>  |
> 
> +-----------+-------------+-----------+
> 
> 

**Explanation:**

  * **First Half (00:00-45:00):**
> 
> * Arsenal's passes: 
> 
>   * 1 -> 2 (00:15): Successful pass (+1)
> 
>   * 2 -> 3 (00:45): Successful pass (+1)
> 
>   * 3 -> 1 (01:15): Successful pass (+1)
> 
> * Chelsea's passes: 
> 
>   * 4 -> 1 (00:30): Intercepted by Arsenal (-1)
  * **Second Half (45:01-90:00):**
> 
> * Arsenal's passes: 
> 
>   * 2 -> 3 (46:00): Successful pass (+1)
> 
>   * 3 -> 4 (46:15): Intercepted by Chelsea (-1)
> 
>   * 1 -> 2 (46:45): Successful pass (+1)
> 
> * Chelsea's passes: 
> 
>   * 5 -> 6 (46:30): Successful pass (+1)
  * The results are ordered by team_name and then half_number


## 题目大意

表：`Teams`

> 
> 
> 
> 
> 
> +-------------+---------+
> 
> | Column Name | Type> 
> |
> 
> +-------------+---------+
> 
> | player_id   | int> 
>  |
> 
> | team_name   | varchar | 
> 
> +-------------+---------+
> 
> player_id 是这张表的唯一主键。
> 
> 每一行包含队员的唯一标识以及在该场比赛中参赛的某支队伍的名称。
> 
> 
> 
> 

表：`Passes`

> 
> 
> 
> 
> 
> +-------------+---------+
> 
> | Column Name | Type> 
> |
> 
> +-------------+---------+
> 
> | pass_from   | int> 
>  |
> 
> | time_stamp  | varchar |
> 
> | pass_to> 
>  | int> 
>  |
> 
> +-------------+---------+
> 
> (pass_from, time_stamp) 是这张表的主键。
> 
> pass_from 是指向 Teams 表 player_id 字段的外键。
> 
> 每一行代表比赛期间的一次传球，time_stamp 表示传球发生的分钟时间（00:00-90:00），
> 
> pass_to 表示 player_id 对应队员接球。
> 
> 
> 
> 

编写一个解决方案来计算每支球队 **在上半场的优势得分** 。规则如下：

  * 一场比赛分为两个半场：**上半场** （`00:00`-`45:00` 分钟）和 **下半场** （`45:01`-`90:00` 分钟）
  * 优势得分是根据成功和截获的传球来计算的： 
> 
> * 当 pass_to 是 **同球队**  的队员：+`1` 分
> 
> * 当 pass_to 是 **对方球队**  的队员（截获）：`-1` 分
  * 更高的优势得分表明传球表现更好

返回结果表以 `team_name` 和 `half_number` **升序**  排序。

结果格式如下所示。



**示例：**

**输入：**

Teams 表：

> 
> 
> 
> 
> 
> +------------+-----------+
> 
> | player_id  | team_name |
> 
> +------------+-----------+
> 
> | 1> 
> > 
>   | Arsenal   |
> 
> | 2> 
> > 
>   | Arsenal   |
> 
> | 3> 
> > 
>   | Arsenal   |
> 
> | 4> 
> > 
>   | Chelsea   |
> 
> | 5> 
> > 
>   | Chelsea   |
> 
> | 6> 
> > 
>   | Chelsea   |
> 
> +------------+-----------+
> 
> 

Passes 表：

> 
> 
> 
> 
> 
> +-----------+------------+---------+
> 
> | pass_from | time_stamp | pass_to |
> 
> +-----------+------------+---------+
> 
> | 1> 
> > 
>  | 00:15> 
>   | 2> 
>    |
> 
> | 2> 
> > 
>  | 00:45> 
>   | 3> 
>    |
> 
> | 3> 
> > 
>  | 01:15> 
>   | 1> 
>    |
> 
> | 4> 
> > 
>  | 00:30> 
>   | 1> 
>    |
> 
> | 2> 
> > 
>  | 46:00> 
>   | 3> 
>    |
> 
> | 3> 
> > 
>  | 46:15> 
>   | 4> 
>    |
> 
> | 1> 
> > 
>  | 46:45> 
>   | 2> 
>    |
> 
> | 5> 
> > 
>  | 46:30> 
>   | 6> 
>    |
> 
> +-----------+------------+---------+
> 
> 

**输出：**

> 
> 
> 
> 
> 
> +-----------+-------------+-----------+
> 
> | team_name | half_number | dominance |
> 
> +-----------+-------------+-----------+
> 
> | Arsenal   | 1> 
> > 
>    | 3> 
> > 
>  |
> 
> | Arsenal   | 2> 
> > 
>    | 1> 
> > 
>  |
> 
> | Chelsea   | 1> 
> > 
>    | -1> 
> > 
> |
> 
> | Chelsea   | 2> 
> > 
>    | 1> 
> > 
>  |
> 
> +-----------+-------------+-----------+
> 
> 

**解释：**

  * **前半场（00:00-45:00）：**
> 
> * 阿森纳的传球： 
> 
>   * 1 → 2 (00:15)：成功传球（+1）
> 
>   * 2 → 3 (00:45)：成功传球（+1）
> 
>   * 3 → 1 (01:15)：成功传球（+1）
> 
> * 切尔西的传球： 
> 
>   * 4 → 1 (00:30): 被阿森纳截获（-1）
  * **下半场（45:01-90:00）：**
> 
> * 阿森纳的传球： 
> 
>   * 2 → 3 (46:00)：成功传球（+1）
> 
>   * 3 → 4 (46:15)：被切尔西截获 (-1)
> 
>   * 1 → 2 (46:45)：成功传球（+1）
> 
> * 切尔西的传球： 
> 
>   * 5 → 6 (46:30)：成功传球（+1）
  * 结果以 team_name 和 half_number 升序排序


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```