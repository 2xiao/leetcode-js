---
title: 1706. çƒä¼šè½ä½•å¤„
description: LeetCode,1706. çƒä¼šè½ä½•å¤„,çƒä¼šè½ä½•å¤„,Where Will the Ball Fall,è§£é¢˜æ€è·¯,æ•°ç»„,çŸ©é˜µ,æ¨¡æ‹Ÿ
keywords:
  - LeetCode
  - 1706. çƒä¼šè½ä½•å¤„
  - çƒä¼šè½ä½•å¤„
  - Where Will the Ball Fall
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - çŸ©é˜µ
  - æ¨¡æ‹Ÿ
---

# 1706. çƒä¼šè½ä½•å¤„

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/where-will-the-ball-fall) [`LeetCode`](https://leetcode.com/problems/where-will-the-ball-fall)

## é¢˜ç›®

You have a 2-D `grid` of size `m x n` representing a box, and you have `n`
balls. The box is open on the top and bottom sides.

Each cell in the box has a diagonal board spanning two corners of the cell
that can redirect a ball to the right or to the left.

  * A board that redirects the ball to the right spans the top-left corner to the bottom-right corner and is represented in the grid as `1`.
  * A board that redirects the ball to the left spans the top-right corner to the bottom-left corner and is represented in the grid as `-1`.

We drop one ball at the top of each column of the box. Each ball can get stuck
in the box or fall out of the bottom. A ball gets stuck if it hits a "V"
shaped pattern between two boards or if a board redirects the ball into either
wall of the box.

Return _an array_`answer` _of size_`n` _where_`answer[i]`_is the column that
the ball falls out of at the bottom after dropping the ball from the_`ith`
_column at the top, or`-1` _if the ball gets stuck in the box_._



**Example 1:**

**![](https://assets.leetcode.com/uploads/2019/09/26/ball.jpg)**

> Input: grid = [[1,1,1,-1,-1],[1,1,1,-1,-1],[-1,-1,-1,1,1],[1,1,1,1,-1],[-1,-1,-1,-1,-1]]
> 
> Output: [1,-1,-1,-1,-1]
> 
> Explanation: This example is shown in the photo.
> 
> Ball b0 is dropped at column 0 and falls out of the box at column 1.
> 
> Ball b1 is dropped at column 1 and will get stuck in the box between column 2 and 3 and row 1.
> 
> Ball b2 is dropped at column 2 and will get stuck on the box between column 2 and 3 and row 0.
> 
> Ball b3 is dropped at column 3 and will get stuck on the box between column 2 and 3 and row 0.
> 
> Ball b4 is dropped at column 4 and will get stuck on the box between column 2 and 3 and row 1.

**Example 2:**

> Input: grid = [[-1]]
> 
> Output: [-1]
> 
> Explanation: The ball gets stuck against the left wall.

**Example 3:**

> Input: grid = [[1,1,1,1,1,1],[-1,-1,-1,-1,-1,-1],[1,1,1,1,1,1],[-1,-1,-1,-1,-1,-1]]
> 
> Output: [0,1,2,3,4,-1]

**Constraints:**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m, n <= 100`
  * `grid[i][j]` is `1` or `-1`.


## é¢˜ç›®å¤§æ„

ç”¨ä¸€ä¸ªå¤§å°ä¸º `m x n` çš„äºŒç»´ç½‘æ ¼ `grid` è¡¨ç¤ºä¸€ä¸ªç®±å­ã€‚ä½ æœ‰ `n` é¢—çƒã€‚ç®±å­çš„é¡¶éƒ¨å’Œåº•éƒ¨éƒ½æ˜¯å¼€ç€çš„ã€‚

ç®±å­ä¸­çš„æ¯ä¸ªå•å…ƒæ ¼éƒ½æœ‰ä¸€ä¸ªå¯¹è§’çº¿æŒ¡æ¿ï¼Œè·¨è¿‡å•å…ƒæ ¼çš„ä¸¤ä¸ªè§’ï¼Œå¯ä»¥å°†çƒå¯¼å‘å·¦ä¾§æˆ–è€…å³ä¾§ã€‚

  * å°†çƒå¯¼å‘å³ä¾§çš„æŒ¡æ¿è·¨è¿‡å·¦ä¸Šè§’å’Œå³ä¸‹è§’ï¼Œåœ¨ç½‘æ ¼ä¸­ç”¨ `1` è¡¨ç¤ºã€‚
  * å°†çƒå¯¼å‘å·¦ä¾§çš„æŒ¡æ¿è·¨è¿‡å³ä¸Šè§’å’Œå·¦ä¸‹è§’ï¼Œåœ¨ç½‘æ ¼ä¸­ç”¨ `-1` è¡¨ç¤ºã€‚

åœ¨ç®±å­æ¯ä¸€åˆ—çš„é¡¶ç«¯å„æ”¾ä¸€é¢—çƒã€‚æ¯é¢—çƒéƒ½å¯èƒ½å¡åœ¨ç®±å­é‡Œæˆ–ä»åº•éƒ¨æ‰å‡ºæ¥ã€‚å¦‚æœçƒæ°å¥½å¡åœ¨ä¸¤å—æŒ¡æ¿ä¹‹é—´çš„ "V"
å½¢å›¾æ¡ˆï¼Œæˆ–è€…è¢«ä¸€å—æŒ¡å¯¼å‘åˆ°ç®±å­çš„ä»»æ„ä¸€ä¾§è¾¹ä¸Šï¼Œå°±ä¼šå¡ä½ã€‚

è¿”å›ä¸€ä¸ªå¤§å°ä¸º `n` çš„æ•°ç»„ `answer` ï¼Œå…¶ä¸­ `answer[i]` æ˜¯çƒæ”¾åœ¨é¡¶éƒ¨çš„ç¬¬ `i`
åˆ—åä»åº•éƒ¨æ‰å‡ºæ¥çš„é‚£ä¸€åˆ—å¯¹åº”çš„ä¸‹æ ‡ï¼Œå¦‚æœçƒå¡åœ¨ç›’å­é‡Œï¼Œåˆ™è¿”å› `-1` ã€‚

**ç¤ºä¾‹ 1ï¼š**

**![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/12/26/ball.jpg)**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[1,1,1,-1,-1],[1,1,1,-1,-1],[-1,-1,-1,1,1],[1,1,1,1,-1],[-1,-1,-1,-1,-1]]
> 
> **è¾“å‡ºï¼š**[1,-1,-1,-1,-1]
> 
> **è§£é‡Šï¼š** ç¤ºä¾‹å¦‚å›¾ï¼š
> 
> b0 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 0 åˆ—ä¸Šï¼Œæœ€ç»ˆä»ç®±å­åº•éƒ¨ç¬¬ 1 åˆ—æ‰å‡ºã€‚
> 
> b1 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 1 åˆ—ä¸Šï¼Œä¼šå¡åœ¨ç¬¬ 2ã€3 åˆ—å’Œç¬¬ 1 è¡Œä¹‹é—´çš„ "V" å½¢é‡Œã€‚
> 
> b2 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 2 åˆ—ä¸Šï¼Œä¼šå¡åœ¨ç¬¬ 2ã€3 åˆ—å’Œç¬¬ 0 è¡Œä¹‹é—´çš„ "V" å½¢é‡Œã€‚
> 
> b3 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 3 åˆ—ä¸Šï¼Œä¼šå¡åœ¨ç¬¬ 2ã€3 åˆ—å’Œç¬¬ 0 è¡Œä¹‹é—´çš„ "V" å½¢é‡Œã€‚
> 
> b4 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 4 åˆ—ä¸Šï¼Œä¼šå¡åœ¨ç¬¬ 2ã€3 åˆ—å’Œç¬¬ 1 è¡Œä¹‹é—´çš„ "V" å½¢é‡Œã€‚
> 
> 

**ç¤ºä¾‹ 2ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[-1]]
> 
> **è¾“å‡ºï¼š**[-1]
> 
> **è§£é‡Šï¼š** çƒè¢«å¡åœ¨ç®±å­å·¦ä¾§è¾¹ä¸Šã€‚
> 
> 

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** grid = [[1,1,1,1,1,1],[-1,-1,-1,-1,-1,-1],[1,1,1,1,1,1],[-1,-1,-1,-1,-1,-1]]
> 
> **è¾“å‡ºï¼š**[0,1,2,3,4,-1]
> 
> 

**æç¤ºï¼š**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m, n <= 100`
  * `grid[i][j]` ä¸º `1` æˆ– `-1`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```