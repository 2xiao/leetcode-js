---
title: 1601. æœ€å¤šå¯è¾¾æˆçš„æ¢æ¥¼è¯·æ±‚æ•°ç›®
description: LeetCode,1601. æœ€å¤šå¯è¾¾æˆçš„æ¢æ¥¼è¯·æ±‚æ•°ç›®,æœ€å¤šå¯è¾¾æˆçš„æ¢æ¥¼è¯·æ±‚æ•°ç›®,Maximum Number of Achievable Transfer Requests,è§£é¢˜æ€è·¯,ä½è¿ç®—,æ•°ç»„,å›æº¯,æšä¸¾
keywords:
  - LeetCode
  - 1601. æœ€å¤šå¯è¾¾æˆçš„æ¢æ¥¼è¯·æ±‚æ•°ç›®
  - æœ€å¤šå¯è¾¾æˆçš„æ¢æ¥¼è¯·æ±‚æ•°ç›®
  - Maximum Number of Achievable Transfer Requests
  - è§£é¢˜æ€è·¯
  - ä½è¿ç®—
  - æ•°ç»„
  - å›æº¯
  - æšä¸¾
---

# 1601. æœ€å¤šå¯è¾¾æˆçš„æ¢æ¥¼è¯·æ±‚æ•°ç›®

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`å›æº¯`](/tag/backtracking.md) [`æšä¸¾`](/tag/enumeration.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-number-of-achievable-transfer-requests) [`LeetCode`](https://leetcode.com/problems/maximum-number-of-achievable-transfer-requests)

## é¢˜ç›®

We have `n` buildings numbered from `0` to `n - 1`. Each building has a number
of employees. It's transfer season, and some employees want to change the
building they reside in.

You are given an array `requests` where `requests[i] = [fromi, toi]`
represents an employee's request to transfer from building `fromi` to building
`toi`.

**All buildings are full** , so a list of requests is achievable only if for
each building, the **net change in employee transfers is zero**. This means
the number of employees **leaving** is **equal** to the number of employees
**moving in**. For example if `n = 3` and two employees are leaving building
`0`, one is leaving building `1`, and one is leaving building `2`, there
should be two employees moving to building `0`, one employee moving to
building `1`, and one employee moving to building `2`.

Return _the maximum number of achievable requests_.



**Example 1:**

![](https://assets.leetcode.com/uploads/2020/09/10/move1.jpg)

> Input: n = 5, requests = [[0,1],[1,0],[0,1],[1,2],[2,0],[3,4]]
> 
> Output: 5
> 
> **Explantion:** Let's see the requests:
> 
> From building 0 we have employees x and y and both want to move to building 1.
> 
> From building 1 we have employees a and b and they want to move to buildings 2 and 0 respectively.
> 
> From building 2 we have employee z and they want to move to building 0.
> 
> From building 3 we have employee c and they want to move to building 4.
> 
> From building 4 we don't have any requests.
> 
> We can achieve the requests of users x and b by swapping their places.
> 
> We can achieve the requests of users y, a and z by swapping the places in the 3 buildings.

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/09/10/move2.jpg)

> Input: n = 3, requests = [[0,0],[1,2],[2,1]]
> 
> Output: 3
> 
> **Explantion:** Let's see the requests:
> 
> From building 0 we have employee x and they want to stay in the same building 0.
> 
> From building 1 we have employee y and they want to move to building 2.
> 
> From building 2 we have employee z and they want to move to building 1.
> 
> We can achieve all the requests. 

**Example 3:**

> Input: n = 4, requests = [[0,3],[3,1],[1,2],[2,0]]
> 
> Output: 4

**Constraints:**

  * `1 <= n <= 20`
  * `1 <= requests.length <= 16`
  * `requests[i].length == 2`
  * `0 <= fromi, toi < n`


## é¢˜ç›®å¤§æ„

æˆ‘ä»¬æœ‰ `n` æ ‹æ¥¼ï¼Œç¼–å·ä» `0` åˆ° `n - 1` ã€‚æ¯æ ‹æ¥¼æœ‰è‹¥å¹²å‘˜å·¥ã€‚ç”±äºç°åœ¨æ˜¯æ¢æ¥¼çš„å­£èŠ‚ï¼Œéƒ¨åˆ†å‘˜å·¥æƒ³è¦æ¢ä¸€æ ‹æ¥¼å±…ä½ã€‚

ç»™ä½ ä¸€ä¸ªæ•°ç»„ `requests` ï¼Œå…¶ä¸­ `requests[i] = [fromi, toi]` ï¼Œè¡¨ç¤ºä¸€ä¸ªå‘˜å·¥è¯·æ±‚ä»ç¼–å·ä¸º `fromi`
çš„æ¥¼æ¬åˆ°ç¼–å·ä¸º `toi` çš„æ¥¼ã€‚

ä¸€å¼€å§‹ **æ‰€æœ‰æ¥¼éƒ½æ˜¯æ»¡çš„** ï¼Œæ‰€ä»¥ä»è¯·æ±‚åˆ—è¡¨ä¸­é€‰å‡ºçš„è‹¥å¹²ä¸ªè¯·æ±‚æ˜¯å¯è¡Œçš„éœ€è¦æ»¡è¶³ **æ¯æ ‹æ¥¼å‘˜å·¥å‡€å˜åŒ–ä¸º 0  **ã€‚æ„æ€æ˜¯æ¯æ ‹æ¥¼ **ç¦»å¼€**
çš„å‘˜å·¥æ•°ç›® **ç­‰äº**  è¯¥æ¥¼ **æ¬å…¥**  çš„å‘˜å·¥æ•°æ•°ç›®ã€‚æ¯”æ–¹è¯´ `n = 3` ä¸”ä¸¤ä¸ªå‘˜å·¥è¦ç¦»å¼€æ¥¼ `0` ï¼Œä¸€ä¸ªå‘˜å·¥è¦ç¦»å¼€æ¥¼ `1`
ï¼Œä¸€ä¸ªå‘˜å·¥è¦ç¦»å¼€æ¥¼ `2` ï¼Œå¦‚æœè¯¥è¯·æ±‚åˆ—è¡¨å¯è¡Œï¼Œåº”è¯¥è¦æœ‰ä¸¤ä¸ªå‘˜å·¥æ¬å…¥æ¥¼ `0` ï¼Œä¸€ä¸ªå‘˜å·¥æ¬å…¥æ¥¼ `1` ï¼Œä¸€ä¸ªå‘˜å·¥æ¬å…¥æ¥¼ `2` ã€‚

è¯·ä½ ä»åŸè¯·æ±‚åˆ—è¡¨ä¸­é€‰å‡ºè‹¥å¹²ä¸ªè¯·æ±‚ï¼Œä½¿å¾—å®ƒä»¬æ˜¯ä¸€ä¸ªå¯è¡Œçš„è¯·æ±‚åˆ—è¡¨ï¼Œå¹¶è¿”å›æ‰€æœ‰å¯è¡Œåˆ—è¡¨ä¸­æœ€å¤§è¯·æ±‚æ•°ç›®ã€‚



**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/09/26/move1.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 5, requests = [[0,1],[1,0],[0,1],[1,2],[2,0],[3,4]]
> 
> **è¾“å‡ºï¼š** 5
> 
> **è§£é‡Šï¼š** è¯·æ±‚åˆ—è¡¨å¦‚ä¸‹ï¼š
> 
> ä»æ¥¼ 0 ç¦»å¼€çš„å‘˜å·¥ä¸º x å’Œ y ï¼Œä¸”ä»–ä»¬éƒ½æƒ³è¦æ¬åˆ°æ¥¼ 1 ã€‚
> 
> ä»æ¥¼ 1 ç¦»å¼€çš„å‘˜å·¥ä¸º a å’Œ b ï¼Œä¸”ä»–ä»¬åˆ†åˆ«æƒ³è¦æ¬åˆ°æ¥¼ 2 å’Œ 0 ã€‚
> 
> ä»æ¥¼ 2 ç¦»å¼€çš„å‘˜å·¥ä¸º z ï¼Œä¸”ä»–æƒ³è¦æ¬åˆ°æ¥¼ 0 ã€‚
> 
> ä»æ¥¼ 3 ç¦»å¼€çš„å‘˜å·¥ä¸º c ï¼Œä¸”ä»–æƒ³è¦æ¬åˆ°æ¥¼ 4 ã€‚
> 
> æ²¡æœ‰å‘˜å·¥ä»æ¥¼ 4 ç¦»å¼€ã€‚
> 
> æˆ‘ä»¬å¯ä»¥è®© x å’Œ b äº¤æ¢ä»–ä»¬çš„æ¥¼ï¼Œä»¥æ»¡è¶³ä»–ä»¬çš„è¯·æ±‚ã€‚
> 
> æˆ‘ä»¬å¯ä»¥è®© yï¼Œa å’Œ z ä¸‰äººåœ¨ä¸‰æ ‹æ¥¼é—´äº¤æ¢ä½ç½®ï¼Œæ»¡è¶³ä»–ä»¬çš„è¦æ±‚ã€‚
> 
> æ‰€ä»¥æœ€å¤šå¯ä»¥æ»¡è¶³ 5 ä¸ªè¯·æ±‚ã€‚

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/09/26/move2.jpg)

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 3, requests = [[0,0],[1,2],[2,1]]
> 
> **è¾“å‡ºï¼š** 3
> 
> **è§£é‡Šï¼š** è¯·æ±‚åˆ—è¡¨å¦‚ä¸‹ï¼š
> 
> ä»æ¥¼ 0 ç¦»å¼€çš„å‘˜å·¥ä¸º x ï¼Œä¸”ä»–æƒ³è¦å›åˆ°åŸæ¥çš„æ¥¼ 0 ã€‚
> 
> ä»æ¥¼ 1 ç¦»å¼€çš„å‘˜å·¥ä¸º y ï¼Œä¸”ä»–æƒ³è¦æ¬åˆ°æ¥¼ 2 ã€‚
> 
> ä»æ¥¼ 2 ç¦»å¼€çš„å‘˜å·¥ä¸º z ï¼Œä¸”ä»–æƒ³è¦æ¬åˆ°æ¥¼ 1 ã€‚
> 
> æˆ‘ä»¬å¯ä»¥æ»¡è¶³æ‰€æœ‰çš„è¯·æ±‚ã€‚

**ç¤ºä¾‹ 3ï¼š**

> 
> 
> 
> 
> 
> **è¾“å…¥ï¼š** n = 4, requests = [[0,3],[3,1],[1,2],[2,0]]
> 
> **è¾“å‡ºï¼š** 4
> 
> 



**æç¤ºï¼š**

  * `1 <= n <= 20`
  * `1 <= requests.length <= 16`
  * `requests[i].length == 2`
  * `0 <= fromi, toi < n`


## è§£é¢˜æ€è·¯

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O()`ï¼Œ

## ä»£ç 

```javascript

```