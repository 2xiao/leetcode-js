import{_ as i,r as t,o as c,c as l,a as n,b as s,d as e,w as r,e as p}from"./app-B5EG-zH0.js";const d={},u=n("h1",{id:"_2821-å»¶è¿Ÿæ¯ä¸ª-promise-å¯¹è±¡çš„è§£æ-ğŸ”’",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2821-å»¶è¿Ÿæ¯ä¸ª-promise-å¯¹è±¡çš„è§£æ-ğŸ”’","aria-hidden":"true"},"#"),s(" 2821. å»¶è¿Ÿæ¯ä¸ª Promise å¯¹è±¡çš„è§£æ ğŸ”’")],-1),m={href:"https://leetcode.cn/problems/delay-the-resolution-of-each-promise",target:"_blank",rel:"noopener noreferrer"},v=n("code",null,"åŠ›æ‰£",-1),k={href:"https://leetcode.com/problems/delay-the-resolution-of-each-promise",target:"_blank",rel:"noopener noreferrer"},g=n("code",null,"LeetCode",-1),h=p(`<h2 id="é¢˜ç›®" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®" aria-hidden="true">#</a> é¢˜ç›®</h2><p>Given an array <code>functions</code> and a number <code>ms</code>, return a new array of functions.</p><ul><li><code>functions</code> is an array of functions that return promises.</li><li><code>ms</code> represents the delay duration in milliseconds. It determines the amount of time to wait before resolving or rejecting each promise in the new array.</li></ul><p>Each function in the new array should return a promise that resolves or rejects after an additional delay of <code>ms</code> milliseconds, preserving the order of the original <code>functions</code> array.</p><p>The <code>delayAll</code> function should ensure that each promise from <code>functions</code> is executed with a delay, forming the new array of functions returning delayed promises.</p><p><strong>Example 1:</strong></p><blockquote><p>Input:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>functions = [
   () =&gt; new Promise((resolve) =&gt; setTimeout(resolve, 30))
],

ms = 50
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Output: [80]</p><p>Explanation: The promise from the array would have resolved after 30 ms, but it was delayed by 50 ms, thus 30 ms + 50 ms = 80 ms.</p></blockquote><p><strong>Example 2:</strong></p><blockquote><p>Input:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>functions = [
() =&gt; new Promise((resolve) =&gt; setTimeout(resolve, 50)),
() =&gt; new Promise((resolve) =&gt; setTimeout(resolve, 80))
],

ms = 70
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Output: [120,150]</p><p>Explanation: The promises from the array would have resolved after 50 ms and 80 ms, but they were delayed by 70 ms, thus 50 ms + 70 ms = 120 ms and 80 ms + 70 ms = 150 ms.</p></blockquote><p><strong>Example 3:</strong></p><blockquote><p>Input:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>functions = [
() =&gt; new Promise((resolve, reject) =&gt; setTimeout(reject, 20)),
() =&gt; new Promise((resolve, reject) =&gt; setTimeout(reject, 100))
],

ms = 30
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Output:[50,130]</p></blockquote><p><strong>Constraints:</strong></p><ul><li><code>functions</code> is an array of functions that return promises</li><li><code>10 &lt;= ms &lt;= 500</code></li><li><code>1 &lt;= functions.length &lt;= 10</code></li></ul><h2 id="é¢˜ç›®å¤§æ„" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®å¤§æ„" aria-hidden="true">#</a> é¢˜ç›®å¤§æ„</h2><p>ç»™å®šä¸€ä¸ªå‡½æ•°æ•°ç»„ <code>functions</code> å’Œä¸€ä¸ªæ•°å­— <code>ms</code>ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°æ•°ç»„ã€‚</p><ul><li><code>functions</code> æ˜¯ä¸€ä¸ªè¿”å› Promise å¯¹è±¡çš„å‡½æ•°æ•°ç»„ã€‚</li><li><code>ms</code> è¡¨ç¤ºå»¶è¿Ÿçš„æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ã€‚å®ƒå†³å®šäº†åœ¨æ–°æ•°ç»„ä¸­çš„æ¯ä¸ªå‡½æ•°è¿”å›çš„ Promise åœ¨è§£æä¹‹å‰ç­‰å¾…çš„æ—¶é—´ã€‚</li></ul><p>æ–°æ•°ç»„ä¸­çš„æ¯ä¸ªå‡½æ•°åº”è¯¥è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œåœ¨å»¶è¿Ÿäº† <code>ms</code> æ¯«ç§’åè§£æï¼Œä¿æŒåŸå§‹ <code>functions</code> æ•°ç»„ä¸­çš„é¡ºåºã€‚<code>delayAll</code> å‡½æ•°åº”ç¡®ä¿ä» <code>functions</code> ä¸­çš„æ¯ä¸ª Promise éƒ½è¢«å»¶è¿Ÿæ‰§è¡Œï¼Œå½¢æˆè¿”å›å»¶è¿Ÿçš„ Promise çš„å‡½æ•°çš„æ–°æ•°ç»„ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>functions = [
   () =&gt; new Promise((resolve) =&gt; setTimeout(resolve, 30))
],

ms = 50
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è¾“å‡ºï¼š</strong>[80]</p><p><strong>è§£é‡Šï¼š</strong> æ•°ç»„ä¸­çš„ Promise åœ¨ 30 æ¯«ç§’åè§£æï¼Œä½†è¢«å»¶è¿Ÿäº† 50 æ¯«ç§’ï¼Œæ‰€ä»¥æ€»å…±å»¶è¿Ÿäº† 30 æ¯«ç§’ + 50 æ¯«ç§’ = 80 æ¯«ç§’ã€‚</p></blockquote><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>functions = [
() =&gt; new Promise((resolve) =&gt; setTimeout(resolve, 50)),
() =&gt; new Promise((resolve) =&gt; setTimeout(resolve, 80))
],

ms = 70
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è¾“å‡ºï¼š</strong>[120,150]</p><p><strong>è§£é‡Šï¼š</strong> æ•°ç»„ä¸­çš„ Promise åœ¨ 50 æ¯«ç§’å’Œ 80 æ¯«ç§’åè§£æï¼Œä½†å®ƒä»¬è¢«å»¶è¿Ÿäº† 70 æ¯«ç§’ï¼Œæ‰€ä»¥æ€»å…±å»¶è¿Ÿäº† 50 æ¯«ç§’ + 70 æ¯«ç§’ = 120 æ¯«ç§’ å’Œ 80 æ¯«ç§’ + 70 æ¯«ç§’ = 150 æ¯«ç§’ã€‚</p></blockquote><p><strong>æç¤ºï¼š</strong></p><ul><li><code>functions</code> æ˜¯ä¸€ä¸ªè¿”å› Promise å¯¹è±¡çš„å‡½æ•°æ•°ç»„</li><li><code>10 &lt;= ms &lt;= 500</code></li><li><code>1 &lt;= functions.length &lt;= 10</code></li></ul><h2 id="è§£é¢˜æ€è·¯" tabindex="-1"><a class="header-anchor" href="#è§£é¢˜æ€è·¯" aria-hidden="true">#</a> è§£é¢˜æ€è·¯</h2><ol><li><p><strong>å®šä¹‰å»¶è¿Ÿå‡½æ•°</strong>ï¼šé¦–å…ˆå®šä¹‰ä¸€ä¸ª <code>delay</code> å‡½æ•°ã€‚è¯¥å‡½æ•°æ¥å—ä¸€ä¸ª Promise <code>promise</code> å’Œå»¶è¿Ÿæ—¶é—´ <code>ms</code>ã€‚<code>delay</code> å‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„ Promiseï¼Œåœ¨å»¶è¿Ÿ <code>ms</code> æ¯«ç§’åæ‰è§£æä¼ å…¥çš„ <code>promise</code> çš„ç»“æœã€‚</p></li><li><p><strong>è½¬æ¢å‡½æ•°æ•°ç»„</strong>ï¼šä½¿ç”¨ <code>map</code> æ–¹æ³•éå† <code>functions</code> æ•°ç»„ï¼Œä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå‡½æ•° <code>fn</code> åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚è¿™ä¸ªæ–°å‡½æ•°è°ƒç”¨ <code>delay(fn(), ms)</code>ï¼Œå³æ‰§è¡ŒåŸå§‹ <code>fn</code>ï¼Œå¹¶å°†å…¶ Promise ç»“æœå»¶è¿Ÿ <code>ms</code> æ¯«ç§’åå†è§£æã€‚</p></li><li><p><strong>è¿”å›æ–°æ•°ç»„</strong>ï¼šç»è¿‡ <code>map</code> æ“ä½œï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå‡½æ•°éƒ½ç»è¿‡å»¶è¿Ÿå¤„ç†ã€‚æ¯æ¬¡è°ƒç”¨æ—¶ï¼Œè¿”å›çš„ Promise ä¼šåœ¨æŒ‡å®šçš„å»¶è¿Ÿåè§£æã€‚</p></li></ol><h4 id="å¤æ‚åº¦åˆ†æ" tabindex="-1"><a class="header-anchor" href="#å¤æ‚åº¦åˆ†æ" aria-hidden="true">#</a> å¤æ‚åº¦åˆ†æ</h4><ul><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n)</code>ï¼Œå…¶ä¸­ <code>n</code> æ˜¯ <code>functions</code> æ•°ç»„çš„é•¿åº¦ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š<code>O(n)</code>ï¼Œå› ä¸ºè¿”å›äº†ä¸€ä¸ªæ–°çš„å‡½æ•°æ•°ç»„ã€‚</li></ul><h2 id="ä»£ç " tabindex="-1"><a class="header-anchor" href="#ä»£ç " aria-hidden="true">#</a> ä»£ç </h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Array<span class="token punctuation">&lt;</span>Function<span class="token punctuation">&gt;</span><span class="token punctuation">}</span></span> <span class="token parameter">functions</span>
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> <span class="token parameter">ms</span>
 * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">{</span>Array<span class="token punctuation">&lt;</span>Function<span class="token punctuation">&gt;</span><span class="token punctuation">}</span></span>
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">delayAll</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">functions<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token function-variable function">delay</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">promise<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
		<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span><span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> functions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,29);function b(f,x){const o=t("font"),a=t("ExternalLinkIcon");return c(),l("div",null,[u,n("p",null,[s("ğŸŸ  "),e(o,{color:"#ffb800"},{default:r(()=>[s("Medium")]),_:1}),s("â€ƒ ğŸ”—â€‚"),n("a",m,[v,e(a)]),s(),n("a",k,[g,e(a)])]),h])}const _=i(d,[["render",b],["__file","2821.html.vue"]]);export{_ as default};
