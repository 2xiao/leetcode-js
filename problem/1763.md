---
title: 1763. æœ€é•¿çš„ç¾å¥½å­å­—ç¬¦ä¸²
description: LeetCode 1763. æœ€é•¿çš„ç¾å¥½å­å­—ç¬¦ä¸²é¢˜è§£ï¼ŒLongest Nice Substringï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1763. æœ€é•¿çš„ç¾å¥½å­å­—ç¬¦ä¸²
  - æœ€é•¿çš„ç¾å¥½å­å­—ç¬¦ä¸²
  - Longest Nice Substring
  - è§£é¢˜æ€è·¯
  - ä½è¿ç®—
  - å“ˆå¸Œè¡¨
  - å­—ç¬¦ä¸²
  - åˆ†æ²»
  - æ»‘åŠ¨çª—å£
---

# 1763. æœ€é•¿çš„ç¾å¥½å­å­—ç¬¦ä¸²

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`åˆ†æ²»`](/tag/divide-and-conquer.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/longest-nice-substring) [`LeetCode`](https://leetcode.com/problems/longest-nice-substring)

## é¢˜ç›®

A string `s` is **nice** if, for every letter of the alphabet that `s`
contains, it appears **both** in uppercase and lowercase. For example,
`"abABB"` is nice because `'A'` and `'a'` appear, and `'B'` and `'b'` appear.
However, `"abA"` is not because `'b'` appears, but `'B'` does not.

Given a string `s`, return _the longest **substring** of `s` that is **nice**.
If there are multiple, return the substring of the **earliest** occurrence. If
there are none, return an empty string_.

**Example 1:**

> Input: s = "YazaAay"
>
> Output: "aAa"
>
> Explanation: "aAa" is a nice string because 'A/a' is the only letter of the alphabet in s, and both 'A' and 'a' appear.
>
> "aAa" is the longest nice substring.

**Example 2:**

> Input: s = "Bb"
>
> Output: "Bb"
>
> Explanation: "Bb" is a nice string because both 'B' and 'b' appear. The whole string is a substring.

**Example 3:**

> Input: s = "c"
>
> Output: ""
>
> Explanation: There are no nice substrings.

**Constraints:**

- `1 <= s.length <= 100`
- `s` consists of uppercase and lowercase English letters.

## é¢˜ç›®å¤§æ„

å½“ä¸€ä¸ªå­—ç¬¦ä¸² `s` åŒ…å«çš„æ¯ä¸€ç§å­—æ¯çš„å¤§å†™å’Œå°å†™å½¢å¼ **åŒæ—¶** å‡ºç°åœ¨ `s` ä¸­ï¼Œå°±ç§°è¿™ä¸ªå­—ç¬¦ä¸² `s` æ˜¯ **ç¾å¥½**
å­—ç¬¦ä¸²ã€‚æ¯”æ–¹è¯´ï¼Œ`"abABB"` æ˜¯ç¾å¥½å­—ç¬¦ä¸²ï¼Œå› ä¸º `'A'` å’Œ `'a'` åŒæ—¶å‡ºç°äº†ï¼Œä¸” `'B'` å’Œ `'b'`
ä¹ŸåŒæ—¶å‡ºç°äº†ã€‚ç„¶è€Œï¼Œ`"abA"` ä¸æ˜¯ç¾å¥½å­—ç¬¦ä¸²å› ä¸º `'b'` å‡ºç°äº†ï¼Œè€Œ `'B'` æ²¡æœ‰å‡ºç°ã€‚

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ è¿”å› `s` æœ€é•¿çš„ **ç¾å¥½å­å­—ç¬¦ä¸²** ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¯·ä½ è¿”å› **æœ€æ—©**
å‡ºç°çš„ä¸€ä¸ªã€‚å¦‚æœä¸å­˜åœ¨ç¾å¥½å­å­—ç¬¦ä¸²ï¼Œè¯·ä½ è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** s = "YazaAay"
>
> **è¾“å‡ºï¼š** "aAa"
>
> **è§£é‡Šï¼š** "aAa" æ˜¯ä¸€ä¸ªç¾å¥½å­—ç¬¦ä¸²ï¼Œå› ä¸ºè¿™ä¸ªå­ä¸²ä¸­ä»…å«ä¸€ç§å­—æ¯ï¼Œå…¶å°å†™å½¢å¼ 'a' å’Œå¤§å†™å½¢å¼ 'A' ä¹ŸåŒæ—¶å‡ºç°äº†ã€‚
>
> "aAa" æ˜¯æœ€é•¿çš„ç¾å¥½å­å­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** s = "Bb"
>
> **è¾“å‡ºï¼š** "Bb"
>
> **è§£é‡Šï¼š** "Bb" æ˜¯ç¾å¥½å­—ç¬¦ä¸²ï¼Œå› ä¸º 'B' å’Œ 'b' éƒ½å‡ºç°äº†ã€‚æ•´ä¸ªå­—ç¬¦ä¸²ä¹Ÿæ˜¯åŸå­—ç¬¦ä¸²çš„å­å­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** s = "c"
>
> **è¾“å‡ºï¼š** ""
>
> **è§£é‡Šï¼š** æ²¡æœ‰ç¾å¥½å­å­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹ 4ï¼š**

> **è¾“å…¥ï¼š** s = "dDzeE"
>
> **è¾“å‡ºï¼š** "dD"
>
> **è§£é‡Šï¼š** "dD" å’Œ "eE" éƒ½æ˜¯æœ€é•¿ç¾å¥½å­å­—ç¬¦ä¸²ã€‚
>
> ç”±äºæœ‰å¤šä¸ªç¾å¥½å­å­—ç¬¦ä¸²ï¼Œè¿”å› "dD" ï¼Œå› ä¸ºå®ƒå‡ºç°å¾—æœ€æ—©ã€‚

**æç¤ºï¼š**

- `1 <= s.length <= 100`
- `s` åªåŒ…å«å¤§å†™å’Œå°å†™è‹±æ–‡å­—æ¯ã€‚

## è§£é¢˜æ€è·¯

å¯ä»¥ä½¿ç”¨**åˆ†æ²»æ³•**æ¥è§£å†³è¿™ä¸€é—®é¢˜ã€‚

- å¦‚æœå½“å‰å­—ç¬¦ä¸²ä¸­çš„æŸä¸ªå­—ç¬¦åªå­˜åœ¨å°å†™æˆ–å¤§å†™å½¢å¼ï¼Œåˆ™å½“å‰å­—ç¬¦ä¸²ä¸å¯èƒ½æ˜¯ä¼˜ç¾å­—ç¬¦ä¸²ã€‚
- æˆ‘ä»¬ä»¥è¯¥å­—ç¬¦ä¸ºåˆ†éš”ç‚¹ï¼Œå°†å­—ç¬¦ä¸²åˆ†æˆä¸¤ä¸ªå­å­—ç¬¦ä¸²ï¼Œåˆ†åˆ«é€’å½’æ±‚è§£æœ€é•¿çš„ä¼˜ç¾å­å­—ç¬¦ä¸²ã€‚
  - æ¯”è¾ƒä¸¤ä¸ªå­å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè¿”å›è¾ƒé•¿çš„é‚£ä¸ªã€‚
- ç»ˆæ­¢æ¡ä»¶ï¼šå¦‚æœå­—ç¬¦ä¸²é•¿åº¦å°äºç­‰äº 1ï¼Œåˆ™æ— æ³•å½¢æˆä¼˜ç¾å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n log n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œé€’å½’è°ƒç”¨çš„æ·±åº¦æœ€å¤§ä¸ºå­—ç¬¦ä¸²é•¿åº¦ `n`ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {string}
 */
var longestNiceSubstring = function (s) {
	const n = s.length;
	if (n <= 1) return ''; // é•¿åº¦ä¸º 1 æˆ– 0 çš„å­—ç¬¦ä¸²ä¸èƒ½æ˜¯ä¼˜ç¾å­—ç¬¦ä¸²

	let set = new Set([...s]); // å°†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ”¾å…¥é›†åˆä¸­
	for (let i = 0; i < n; i++) {
		const c = s[i];
		// å¦‚æœå½“å‰å­—ç¬¦çš„å¦ä¸€ç§å¤§å°å†™å½¢å¼ä¸å­˜åœ¨ï¼Œåˆ™åˆ†æ²»å¤„ç†
		if (!set.has(c.toUpperCase()) || !set.has(c.toLowerCase())) {
			const sub1 = longestNiceSubstring(s.substring(0, i)); // å·¦å­å­—ç¬¦ä¸²
			const sub2 = longestNiceSubstring(s.substring(i + 1)); // å³å­å­—ç¬¦ä¸²
			return sub1.length >= sub2.length ? sub1 : sub2; // è¿”å›è¾ƒé•¿çš„ä¼˜ç¾å­å­—ç¬¦ä¸²
		}
	}
	return s; // å½“å‰å­—ç¬¦ä¸²æ˜¯ä¼˜ç¾å­—ç¬¦ä¸²ï¼Œç›´æ¥è¿”å›
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 2421 | å¥½è·¯å¾„çš„æ•°ç›® |  |  [`æ ‘`](/tag/tree.md) [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`å›¾`](/tag/graph.md) `3+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/number-of-good-paths) [ğŸ”—](https://leetcode.com/problems/number-of-good-paths) |