# [76. æœ€å°è¦†ç›–å­ä¸²](https://leetcode.com/problems/minimum-window-substring)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/minimum-window-substring)

## é¢˜ç›®

<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ã€ä¸€ä¸ªå­—ç¬¦ä¸² <code>t</code> ã€‚è¿”å› <code>s</code> ä¸­æ¶µç›– <code>t</code> æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ <code>s</code> ä¸­ä¸å­˜åœ¨æ¶µç›– <code>t</code> æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² <code>""</code> ã€‚</p>

<p>&nbsp;</p>

<p><strong>æ³¨æ„ï¼š</strong></p>

<ul>
	<li>å¯¹äº <code>t</code> ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº <code>t</code> ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚</li>
	<li>å¦‚æœ <code>s</code> ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚</li>
</ul>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>s = "ADOBECODEBANC", t = "ABC"
<strong>è¾“å‡ºï¼š</strong>"BANC"
<strong>è§£é‡Šï¼š</strong>æœ€å°è¦†ç›–å­ä¸² "BANC" åŒ…å«æ¥è‡ªå­—ç¬¦ä¸² t çš„ 'A'ã€'B' å’Œ 'C'ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>s = "a", t = "a"
<strong>è¾“å‡ºï¼š</strong>"a"
<strong>è§£é‡Šï¼š</strong>æ•´ä¸ªå­—ç¬¦ä¸² s æ˜¯æœ€å°è¦†ç›–å­ä¸²ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 3:</strong></p>

<pre>
<strong>è¾“å…¥:</strong> s = "a", t = "aa"
<strong>è¾“å‡º:</strong> ""
<strong>è§£é‡Š:</strong> t ä¸­ä¸¤ä¸ªå­—ç¬¦ 'a' å‡åº”åŒ…å«åœ¨ s çš„å­ä¸²ä¸­ï¼Œ
å› æ­¤æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code><sup>m == s.length</sup></code></li>
	<li><code><sup>n == t.length</sup></code></li>
	<li><code>1 &lt;= m, n &lt;= 10<sup>5</sup></code></li>
	<li><code>s</code> å’Œ <code>t</code> ç”±è‹±æ–‡å­—æ¯ç»„æˆ</li>
</ul>

<p>&nbsp;</p>
<strong>è¿›é˜¶ï¼š</strong>ä½ èƒ½è®¾è®¡ä¸€ä¸ªåœ¨ <code>o(m+n)</code> æ—¶é—´å†…è§£å†³æ­¤é—®é¢˜çš„ç®—æ³•å—ï¼Ÿ

## è§£é¢˜æ€è·¯

å¦‚æœæˆ‘ä»¬ä½¿ç”¨æš´åŠ›è§£æ³•ï¼Œä»£ç å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š

```javascript
for (let i = 0; i < s.length(); i++) {
    for (let j = i + 1; j < s.length(); j++) {
        if (s[i:j] åŒ…å« t çš„æ‰€æœ‰å­—æ¯) {
            æ›´æ–°ç­”æ¡ˆ
        }
    }
}
```

æ€è·¯å¾ˆç›´æ¥ï¼Œä½†æ˜¯æ˜¾ç„¶ï¼Œè¿™ä¸ªç®—æ³•çš„å¤æ‚åº¦å¤§äº `O(n^2)` äº†ï¼Œä¸å¥½ã€‚

æ»‘åŠ¨çª—å£ç®—æ³•çš„æ€è·¯æ˜¯è¿™æ ·ï¼š

1. ä½¿ç”¨åŒæŒ‡é’ˆä¸­çš„å·¦å³æŒ‡é’ˆï¼Œåˆå§‹åŒ– `left = right = 0`ï¼ŒæŠŠç´¢å¼•å·¦é—­å³å¼€åŒºé—´ `[left, right)` ç§°ä¸ºä¸€ä¸ªã€Œçª—å£ã€ï¼›
2. ä¸æ–­åœ°å¢åŠ  `right` æŒ‡é’ˆæ‰©å¤§çª—å£ `[left, right)`ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ç¬¦åˆè¦æ±‚ï¼ˆåŒ…å«äº† `t` ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼‰ï¼›
3. åœæ­¢å¢åŠ  `right`ï¼Œè½¬è€Œä¸æ–­å¢åŠ  `left` æŒ‡é’ˆç¼©å°çª—å£ `[left, right)`ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ï¼ˆä¸åŒ…å« `t` ä¸­çš„æ‰€æœ‰å­—ç¬¦äº†ï¼‰ï¼›åŒæ—¶ï¼Œæ¯æ¬¡å¢åŠ  `left`ï¼Œéƒ½è¦æ›´æ–°ä¸€è½®ç»“æœï¼›
4. é‡å¤ç¬¬ 2 å’Œç¬¬ 3 æ­¥ï¼Œç›´åˆ° `right` åˆ°è¾¾å­—ç¬¦ä¸² `s` çš„å°½å¤´ï¼›

ç¬¬ 2 æ­¥ç›¸å½“äºåœ¨å¯»æ‰¾ä¸€ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œç¬¬ 3 æ­¥åœ¨ä¼˜åŒ–è¿™ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œæœ€ç»ˆæ‰¾åˆ°æœ€ä¼˜è§£ï¼Œä¹Ÿå°±æ˜¯æœ€çŸ­çš„è¦†ç›–å­ä¸²ã€‚å·¦å³æŒ‡é’ˆè½®æµå‰è¿›ï¼Œçª—å£å¤§å°å¢å¢å‡å‡ï¼Œä¸€ä¼¸ä¸€ç¼©ï¼Œä¸æ–­å‘å³æ»‘åŠ¨ï¼Œè¿™å°±æ˜¯ã€Œæ»‘åŠ¨çª—å£ã€è¿™ä¸ªåå­—çš„æ¥å†ã€‚

è¯¦ç»†çš„æ»‘åŠ¨çª—å£ç­”é¢˜æ¡†æ¶è®²è§£ï¼Œå¯é˜…è¯» [ã€Š3.11 æ»‘åŠ¨çª—å£ã€‹](../book/slide_window.md)ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @param {string} t
 * @return {string}
 */
var minWindow = function (s, t) {
	let need = new Map();
	let window = new Map();
	for (let i of t) {
		need.set(i, need.has(i) ? need.get(i) + 1 : 1);
	}

	let left = 0,
		right = 0,
		vaild = 0,
		start = 0,
		len = Infinity;
	while (right < s.length) {
		let i = s[right];
		right++;
		if (need.has(i)) {
			window.set(i, window.has(i) ? window.get(i) + 1 : 1);
			if (window.get(i) === need.get(i)) {
				vaild++;
			}
		}

		while (vaild === need.size) {
			if (right - left < len) {
				start = left;
				len = right - left;
			}
			let d = s[left];
			left++;
			if (need.has(d)) {
				if (window.get(d) === need.get(d)) {
					vaild--;
				}
				window.set(d, window.get(d) - 1);
			}
		}
	}
	return len === Infinity ? '' : s.slice(start, start + len);
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 30 | [ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²](https://leetcode.com/problems/substring-with-concatenation-of-all-words) | [[âœ“]](/problem/0030.md) |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ff334b>Hard</font> |
| 209 | [é•¿åº¦æœ€å°çš„å­æ•°ç»„](https://leetcode.com/problems/minimum-size-subarray-sum) | [[âœ“]](/problem/0209.md) |  [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) `1+` | <font color=#ffb800>Medium</font> |
| 239 | [æ»‘åŠ¨çª—å£æœ€å¤§å€¼](https://leetcode.com/problems/sliding-window-maximum) | [[âœ“]](/problem/0239.md) |  [`é˜Ÿåˆ—`](/tag/queue.md) [`æ•°ç»„`](/tag/array.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) `2+` | <font color=#ff334b>Hard</font> |
| 567 | [å­—ç¬¦ä¸²çš„æ’åˆ—](https://leetcode.com/problems/permutation-in-string) | [[âœ“]](/problem/0567.md) |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | <font color=#ffb800>Medium</font> |
| 632 | [æœ€å°åŒºé—´](https://leetcode.com/problems/smallest-range-covering-elements-from-k-lists) | [[âœ“]](/problem/0632.md) |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `3+` | <font color=#ff334b>Hard</font> |
| 727 | [æœ€å°çª—å£å­åºåˆ—](https://leetcode.com/problems/minimum-window-subsequence) |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ff334b>Hard</font> |
| 3297 | [ç»Ÿè®¡é‡æ–°æ’åˆ—ååŒ…å«å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­å­—ç¬¦ä¸²æ•°ç›® I](https://leetcode.com/problems/count-substrings-that-can-be-rearranged-to-contain-a-string-i) |  |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ffb800>Medium</font> |
| 3298 | [ç»Ÿè®¡é‡æ–°æ’åˆ—ååŒ…å«å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­å­—ç¬¦ä¸²æ•°ç›® II](https://leetcode.com/problems/count-substrings-that-can-be-rearranged-to-contain-a-string-ii) |  |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ff334b>Hard</font> |