---
title: 60. æ’åˆ—åºåˆ—
description: LeetCode 60. æ’åˆ—åºåˆ—é¢˜è§£ï¼ŒPermutation Sequenceï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 60. æ’åˆ—åºåˆ—
  - æ’åˆ—åºåˆ—
  - Permutation Sequence
  - è§£é¢˜æ€è·¯
  - é€’å½’
  - æ•°å­¦
---

# 60. æ’åˆ—åºåˆ—

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`é€’å½’`](/tag/recursion.md) [`æ•°å­¦`](/tag/math.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/permutation-sequence) [`LeetCode`](https://leetcode.com/problems/permutation-sequence)

## é¢˜ç›®

The set `[1, 2, 3, ..., n]` contains a total of `n!` unique permutations.

By listing and labeling all of the permutations in order, we get the following
sequence for `n = 3`:

1. `"123"`
2. `"132"`
3. `"213"`
4. `"231"`
5. `"312"`
6. `"321"`

Given `n` and `k`, return the `kth` permutation sequence.

**Example 1:**

> Input: n = 3, k = 3
>
> Output: "213"

**Example 2:**

> Input: n = 4, k = 9
>
> Output: "2314"

**Example 3:**

> Input: n = 3, k = 1
>
> Output: "123"

**Constraints:**

- `1 <= n <= 9`
- `1 <= k <= n!`

## é¢˜ç›®å¤§æ„

ç»™å‡ºé›†åˆ `[1,2,3,...,n]`ï¼Œå…¶æ‰€æœ‰å…ƒç´ å…±æœ‰ `n!` ç§æ’åˆ—ã€‚

æŒ‰å¤§å°é¡ºåºåˆ—å‡ºæ‰€æœ‰æ’åˆ—æƒ…å†µï¼Œå¹¶ä¸€ä¸€æ ‡è®°ï¼Œå½“ `n = 3` æ—¶, æ‰€æœ‰æ’åˆ—å¦‚ä¸‹ï¼š

1. `"123"`
2. `"132"`
3. `"213"`
4. `"231"`
5. `"312"`
6. `"321"`

ç»™å®š `n` å’Œ `k`ï¼Œè¿”å›ç¬¬ `k` ä¸ªæ’åˆ—ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** n = 3, k = 3
>
> **è¾“å‡ºï¼š** "213"

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** n = 4, k = 9
>
> **è¾“å‡ºï¼š** "2314"

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** n = 3, k = 1
>
> **è¾“å‡ºï¼š** "123"

**æç¤ºï¼š**

- `1 <= n <= 9`
- `1 <= k <= n!`

## è§£é¢˜æ€è·¯

è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯åˆ©ç”¨æ•°å­¦æ–¹æ³•ç›´æ¥å®šä½åˆ°ç¬¬ `k` ä¸ªæ’åˆ—ï¼Œè€Œä¸æ˜¯é€ä¸ªç”Ÿæˆæ‰€æœ‰æ’åˆ—ã€‚

1. **é˜¶ä¹˜æ€§è´¨**

å¯¹äºé•¿åº¦ä¸º `n` çš„æ’åˆ—ï¼š

- æ¯ä¸ªæ•°å­—å¯ä»¥ä½œä¸ºæ’åˆ—çš„ç¬¬ä¸€ä¸ªæ•°å­—ã€‚
- å½“ç¬¬ä¸€ä¸ªæ•°å­—å›ºå®šåï¼Œå…¶ä½™æ•°å­—çš„æ’åˆ—å…±æœ‰ `(n-1)!` ç§å¯èƒ½ã€‚

ä¾‹å¦‚ï¼š

- å¯¹äº `n = 3` çš„æ’åˆ— `["123", "132", "213", "231", "312", "321"]`ï¼š
  - ç¬¬ä¸€ä¸ªæ•°å­—ä¸º `1` çš„æ’åˆ—æœ‰ `2! = 2` ä¸ªï¼š`["123", "132"]`ã€‚
  - ç¬¬ä¸€ä¸ªæ•°å­—ä¸º `2` çš„æ’åˆ—æœ‰ `2! = 2` ä¸ªï¼š`["213", "231"]`ã€‚
  - ç¬¬ä¸€ä¸ªæ•°å­—ä¸º `3` çš„æ’åˆ—æœ‰ `2! = 2` ä¸ªï¼š`["312", "321"]`ã€‚

2. **å¦‚ä½•ç¡®å®šç¬¬ä¸€ä¸ªæ•°å­—**

- ä½¿ç”¨ `k` å’Œ `(n-1)!` çš„å…³ç³»ç¡®å®šç¬¬ä¸€ä¸ªæ•°å­—ã€‚
- è®¡ç®— `index = Math.floor((k-1) / (n-1)!)`ï¼Œè¿™ä¸ª `index` è¡¨ç¤ºå½“å‰å¯ç”¨æ•°å­—ä¸­å“ªä¸ªæ•°å­—æ˜¯ç¬¬ä¸€ä¸ªã€‚
- æ›´æ–° `k = k % (n-1)!`ï¼Œç»§ç»­å¯¹å‰©ä½™çš„æ’åˆ—è¿›è¡ŒåŒæ ·çš„è®¡ç®—ã€‚

3. **é‡å¤ä»¥ä¸Šè¿‡ç¨‹**

- æ¯æ¬¡å›ºå®šä¸€ä¸ªæ•°å­—ï¼Œç›´åˆ°æ‰€æœ‰æ•°å­—å›ºå®šä¸ºæ­¢ã€‚

---

**ç®—æ³•æ­¥éª¤**

1. **é¢„è®¡ç®—é˜¶ä¹˜**ï¼š
   - æ„é€ ä¸€ä¸ªæ•°ç»„ `factorial`ï¼Œä¿å­˜ `0!` åˆ° `(n-1)!` çš„å€¼ã€‚
2. **ç»´æŠ¤å€™é€‰æ•°å­—**ï¼š
   - ä½¿ç”¨ä¸€ä¸ªæ•°ç»„ `nums` ä¿å­˜å½“å‰å¯ç”¨çš„æ•°å­—ï¼ˆåˆå§‹ä¸º `[1, 2, ..., n]`ï¼‰ã€‚
3. **é€ä½ç¡®å®šæ•°å­—**ï¼š
   - å¯¹äºç¬¬ `i` ä½ï¼Œè®¡ç®— `index` å’Œæ›´æ–° `k`ã€‚
   - æ ¹æ® `index` ä» `nums` ä¸­å–å‡ºæ•°å­—ï¼ŒåŠ å…¥ç»“æœã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^2)`

  - è®¡ç®—é˜¶ä¹˜ï¼š`O(n)`ã€‚
  - æ¯æ¬¡é€‰å–æ•°å­—è¦è¿›è¡Œæ•°ç»„çš„ `splice` æ“ä½œï¼Œå¤æ‚åº¦ä¸º`O(n)`ï¼Œæœ€å¤šå– `n` æ¬¡ï¼Œæ€»å¤æ‚åº¦ï¼š`O(n^2)`ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå­˜å‚¨é˜¶ä¹˜å’Œå€™é€‰æ•°å­—ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} n
 * @param {number} k
 * @return {string}
 */
var getPermutation = function (n, k) {
	// è®¡ç®—é˜¶ä¹˜
	const factorial = Array(n).fill(1);
	for (let i = 1; i < n; i++) {
		factorial[i] = factorial[i - 1] * i;
	}

	// åˆå§‹åŒ–å€™é€‰æ•°å­—
	const nums = Array.from({ length: n }, (_, i) => i + 1);
	let result = '';

	// ä»æœ€é«˜ä½åˆ°æœ€ä½ä½ç¡®å®šæ•°å­—
	k--; // è½¬ä¸ºä» 0 å¼€å§‹çš„ç´¢å¼•
	for (let i = n; i > 0; i--) {
		const index = Math.floor(k / factorial[i - 1]);
		result += nums[index];
		nums.splice(index, 1); // ç§»é™¤å·²é€‰æ•°å­—
		k %= factorial[i - 1]; // æ›´æ–° k
	}

	return result;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 31 | ä¸‹ä¸€ä¸ªæ’åˆ— | [[âœ“]](/problem/0031.md) |  [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/next-permutation) [ğŸ”—](https://leetcode.com/problems/next-permutation) |
| 46 | å…¨æ’åˆ— | [[âœ“]](/problem/0046.md) |  [`æ•°ç»„`](/tag/array.md) [`å›æº¯`](/tag/backtracking.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/permutations) [ğŸ”—](https://leetcode.com/problems/permutations) |