---
title: 209. é•¿åº¦æœ€å°çš„å­æ•°ç»„
description: LeetCode 209. é•¿åº¦æœ€å°çš„å­æ•°ç»„é¢˜è§£ï¼ŒMinimum Size Subarray Sumï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 209. é•¿åº¦æœ€å°çš„å­æ•°ç»„
  - é•¿åº¦æœ€å°çš„å­æ•°ç»„
  - Minimum Size Subarray Sum
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
  - å‰ç¼€å’Œ
  - æ»‘åŠ¨çª—å£
---

# 209. é•¿åº¦æœ€å°çš„å­æ•°ç»„

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minimum-size-subarray-sum) [`LeetCode`](https://leetcode.com/problems/minimum-size-subarray-sum)

## é¢˜ç›®

Given an array of positive integers `nums` and a positive integer `target`,
return _the **minimal length** of a \_\_subarray_ _whose sum is greater than or
equal to_ `target`. If there is no such subarray, return `0` instead.

**Example 1:**

> Input: target = 7, nums = [2,3,1,2,4,3]
>
> Output: 2
>
> Explanation: The subarray [4,3] has the minimal length under the problem constraint.

**Example 2:**

> Input: target = 4, nums = [1,4,4]
>
> Output: 1

**Example 3:**

> Input: target = 11, nums = [1,1,1,1,1,1,1,1]
>
> Output: 0

**Constraints:**

- `1 <= target <= 10^9`
- `1 <= nums.length <= 10^5`
- `1 <= nums[i] <= 10^4`

**Follow up:** If you have figured out the `O(n)` solution, try coding another
solution of which the time complexity is `O(n log(n))`.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªå«æœ‰ `n` ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° `target` ã€‚

æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶æ€»å’Œå¤§äºç­‰äº `target` çš„é•¿åº¦æœ€å°çš„ **å­æ•°ç»„** ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› `0` ã€‚

å­æ•°ç»„æ˜¯æ•°ç»„ä¸­è¿ç»­çš„éç©ºå…ƒç´ åºåˆ—ã€‚

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šæ»‘åŠ¨çª—å£

1. åˆå§‹åŒ–å˜é‡ï¼šä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼ˆæˆ–æ»‘åŠ¨çª—å£ï¼‰æ¥éå†æ•°ç»„ï¼›
2. æ‰©å¤§çª—å£ï¼šç§»åŠ¨å³æŒ‡é’ˆï¼Œå‘å³æ‰©å¤§æ±‚å’Œï¼›
3. ç¼©å°çª—å£ï¼šä¸€æ—¦çª—å£æ€»å’Œå¤§äºç­‰äº `target`ï¼Œå°±ç§»åŠ¨å·¦æŒ‡é’ˆç¼©å°çª—å£ï¼›
4. æ›´æ–°æœ€å°é•¿åº¦ï¼šè¿‡ç¨‹ä¸­æ›´æ–°æœ€å°é•¿åº¦ï¼›

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„çš„é•¿åº¦ï¼›
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`

---

### æ€è·¯äºŒï¼šæš´åŠ›æŸ¥æ‰¾

1. åˆå§‹åŒ–å­æ•°ç»„çš„æœ€å°é•¿åº¦ä¸ºæ— ç©·å¤§ï¼›
2. æšä¸¾æ•°ç»„ `nums` ä¸­çš„æ¯ä¸ªä¸‹æ ‡ä½œä¸ºå­æ•°ç»„çš„å¼€å§‹ä¸‹æ ‡ï¼›
3. å¯¹äºæ¯ä¸ªå¼€å§‹ä¸‹æ ‡ `i`ï¼Œéœ€è¦æ‰¾åˆ°å¤§äºæˆ–ç­‰äº `i` çš„æœ€å°ä¸‹æ ‡ `j`ï¼Œä½¿å¾—ä» `nums[i]` åˆ° `nums[j]` çš„å…ƒç´ å’Œå¤§äºæˆ–ç­‰äº `s`ï¼›
4. æ›´æ–°å­æ•°ç»„çš„æœ€å°é•¿åº¦ï¼ˆæ­¤æ—¶å­æ•°ç»„çš„é•¿åº¦æ˜¯ `jâˆ’i+1`ï¼‰ï¼›

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^2)`ï¼Œéœ€è¦éå†æ¯ä¸ªä¸‹æ ‡ä½œä¸ºå­æ•°ç»„çš„å¼€å§‹ä¸‹æ ‡ï¼Œå¯¹äºæ¯ä¸ªå¼€å§‹ä¸‹æ ‡ï¼Œéœ€è¦éå†å…¶åé¢çš„ä¸‹æ ‡ï¼›
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`

---

### æ€è·¯ä¸‰ï¼šäºŒåˆ†æŸ¥æ‰¾

1. æš´åŠ›æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n^2)`ï¼Œå› ä¸ºåœ¨ç¡®å®šæ¯ä¸ªå­æ•°ç»„çš„å¼€å§‹ä¸‹æ ‡åï¼Œæ‰¾åˆ°é•¿åº¦æœ€å°çš„å­æ•°ç»„éœ€è¦ `O(n)` çš„æ—¶é—´ã€‚å¦‚æœä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œåˆ™å¯ä»¥å°†æ—¶é—´ä¼˜åŒ–åˆ° `O(logn)`ã€‚
2. ä¸ºäº†ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œéœ€è¦é¢å¤–åˆ›å»ºä¸€ä¸ªæ•°ç»„ sums ç”¨äºå­˜å‚¨æ•°ç»„ nums çš„å‰ç¼€å’Œï¼Œå…¶ä¸­ `sums[i]` è¡¨ç¤ºä» `nums[0]` åˆ° `nums[iâˆ’1]` çš„å…ƒç´ å’Œã€‚
3. å¾—åˆ°å‰ç¼€å’Œä¹‹åï¼Œå¯¹äºæ¯ä¸ªå¼€å§‹ä¸‹æ ‡ `i`ï¼Œå¯é€šè¿‡äºŒåˆ†æŸ¥æ‰¾å¾—åˆ°å¤§äºæˆ–ç­‰äº `i` çš„æœ€å°ä¸‹æ ‡ `bound`ï¼Œä½¿å¾— `sums[bound]âˆ’sums[iâˆ’1]â‰¥s`ï¼Œå¹¶æ›´æ–°å­æ•°ç»„çš„æœ€å°é•¿åº¦ï¼ˆæ­¤æ—¶å­æ•°ç»„çš„é•¿åº¦æ˜¯ `boundâˆ’(iâˆ’1)`ï¼‰ã€‚

å› ä¸ºè¿™é“é¢˜ä¿è¯äº†æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸ºæ­£ï¼Œæ‰€ä»¥å‰ç¼€å’Œä¸€å®šæ˜¯é€’å¢çš„ï¼Œè¿™ä¸€ç‚¹ä¿è¯äº†äºŒåˆ†çš„æ­£ç¡®æ€§ã€‚å¦‚æœé¢˜ç›®æ²¡æœ‰è¯´æ˜æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸ºæ­£ï¼Œè¿™é‡Œå°±ä¸èƒ½ä½¿ç”¨äºŒåˆ†æ¥æŸ¥æ‰¾è¿™ä¸ªä½ç½®äº†ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(nlogn)`ï¼Œéå†æ¯ä¸ªä¸‹æ ‡çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n)`ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(logn)`ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ `O(nlogn)`ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œé¢å¤–åˆ›å»ºæ•°ç»„ `sums` å­˜å‚¨å‰ç¼€å’Œã€‚

## ä»£ç 

::: code-tabs

@tab æ»‘åŠ¨çª—å£

```javascript
/**
 * @param {number} target
 * @param {number[]} nums
 * @return {number}
 */
var minSubArrayLen = function (target, nums) {
	let left = 0,
		sum = 0,
		minLength = Infinity;
	for (let right = 0; right < nums.length; right++) {
		sum += nums[right];
		while (sum >= target) {
			minLength = Math.min(minLength, right - left + 1);
			sum -= nums[left];
			left++;
		}
	}
	return minLength == Infinity ? 0 : minLength;
};
```

@tab æš´åŠ›æŸ¥æ‰¾

```javascript
/**
 * @param {number} target
 * @param {number[]} nums
 * @return {number}
 */
var minSubArrayLen = function (target, nums) {
	let n = nums.length,
		res = Infinity;
	if (n == 0) return 0;

	for (let i = 0; i < n; i++) {
		let sum = 0;
		for (let j = i; j < n; j++) {
			sum += nums[j];
			if (sum >= target) {
				res = Math.min(res, j - i + 1);
				break;
			}
		}
	}
	return res == Infinity ? 0 : res;
};
```

@tab äºŒåˆ†æŸ¥æ‰¾

```javascript
/**
 * @param {number} target
 * @param {number[]} nums
 * @return {number}
 */
var minSubArrayLen = function (target, nums) {
	let n = nums.length,
		sum = [0],
		res = Infinity;
	for (let i = 1; i <= n; i++) {
		sum[i] = nums[i - 1] + sum[i - 1];
	}
	for (let i = 1; i <= n; i++) {
		let newTarget = target + sum[i - 1];
		let bound = binarySearch(sum, newTarget, i, n);
		if (bound != -1) {
			res = Math.min(res, bound - i + 1);
		}
	}
	return res == Infinity ? 0 : res;
};

var binarySearch = function (arr, target, l, r) {
	if (arr[r] < target) return -1;
	while (l < r) {
		let mid = (l + r) >> 1;
		if (arr[mid] < target) {
			l = mid + 1;
		} else {
			r = mid;
		}
	}
	return arr[l] >= target ? l : -1;
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 76 | æœ€å°è¦†ç›–å­ä¸² | [[âœ“]](/problem/0076.md) |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-window-substring) [ğŸ”—](https://leetcode.com/problems/minimum-window-substring) |
| 325 | å’Œç­‰äº k çš„æœ€é•¿å­æ•°ç»„é•¿åº¦ ğŸ”’ |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-size-subarray-sum-equals-k) [ğŸ”—](https://leetcode.com/problems/maximum-size-subarray-sum-equals-k) |
| 718 | æœ€é•¿é‡å¤å­æ•°ç»„ |  |  [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) `3+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-length-of-repeated-subarray) [ğŸ”—](https://leetcode.com/problems/maximum-length-of-repeated-subarray) |
| 1658 | å°† x å‡åˆ° 0 çš„æœ€å°æ“ä½œæ•° |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `2+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-operations-to-reduce-x-to-zero) [ğŸ”—](https://leetcode.com/problems/minimum-operations-to-reduce-x-to-zero) |
| 2090 | åŠå¾„ä¸º k çš„å­æ•°ç»„å¹³å‡å€¼ |  |  [`æ•°ç»„`](/tag/array.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/k-radius-subarray-averages) [ğŸ”—](https://leetcode.com/problems/k-radius-subarray-averages) |
| 2233 | K æ¬¡å¢åŠ åçš„æœ€å¤§ä¹˜ç§¯ |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-product-after-k-increments) [ğŸ”—](https://leetcode.com/problems/maximum-product-after-k-increments) |
| 3095 | æˆ–å€¼è‡³å°‘ K çš„æœ€çŸ­å­æ•°ç»„ I |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/shortest-subarray-with-or-at-least-k-i) [ğŸ”—](https://leetcode.com/problems/shortest-subarray-with-or-at-least-k-i) |