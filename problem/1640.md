---
title: 1640. èƒ½å¦è¿æ¥å½¢æˆæ•°ç»„
description: LeetCode 1640. èƒ½å¦è¿æ¥å½¢æˆæ•°ç»„é¢˜è§£ï¼ŒCheck Array Formation Through Concatenationï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1640. èƒ½å¦è¿æ¥å½¢æˆæ•°ç»„
  - èƒ½å¦è¿æ¥å½¢æˆæ•°ç»„
  - Check Array Formation Through Concatenation
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
---

# 1640. èƒ½å¦è¿æ¥å½¢æˆæ•°ç»„

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/check-array-formation-through-concatenation) [`LeetCode`](https://leetcode.com/problems/check-array-formation-through-concatenation)

## é¢˜ç›®

You are given an array of **distinct** integers `arr` and an array of integer
arrays `pieces`, where the integers in `pieces` are **distinct**. Your goal is
to form `arr` by concatenating the arrays in `pieces` **in any order**.
However, you are **not** allowed to reorder the integers in each array
`pieces[i]`.

Return `true` _if it is possible_ _to form the array_ `arr` _from_ `pieces`.
Otherwise, return `false`.

**Example 1:**

> Input: arr = [15,88], pieces = [[88],[15]]
>
> Output: true
>
> Explanation: Concatenate [15] then [88]

**Example 2:**

> Input: arr = [49,18,16], pieces = [[16,18,49]]
>
> Output: false
>
> Explanation: Even though the numbers match, we cannot reorder pieces[0].

**Example 3:**

> Input: arr = [91,4,64,78], pieces = [[78],[4,64],[91]]
>
> Output: true
>
> Explanation: Concatenate [91] then [4,64] then [78]

**Constraints:**

- `1 <= pieces.length <= arr.length <= 100`
- `sum(pieces[i].length) == arr.length`
- `1 <= pieces[i].length <= arr.length`
- `1 <= arr[i], pieces[i][j] <= 100`
- The integers in `arr` are **distinct**.
- The integers in `pieces` are **distinct** (i.e., If we flatten pieces in a 1D array, all the integers in this array are distinct).

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `arr` ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªæ•´æ•° **äº’ä¸ç›¸åŒ** ã€‚å¦æœ‰ä¸€ä¸ªç”±æ•´æ•°æ•°ç»„æ„æˆçš„æ•°ç»„ `pieces`ï¼Œå…¶ä¸­çš„æ•´æ•°ä¹Ÿ **äº’ä¸ç›¸åŒ**
ã€‚è¯·ä½ ä»¥ **ä»»æ„é¡ºåº** è¿æ¥ `pieces` ä¸­çš„æ•°ç»„ä»¥å½¢æˆ `arr` ã€‚ä½†æ˜¯ï¼Œ**ä¸å…è®¸** å¯¹æ¯ä¸ªæ•°ç»„ `pieces[i]`
ä¸­çš„æ•´æ•°é‡æ–°æ’åºã€‚

å¦‚æœå¯ä»¥è¿æ¥ `pieces` ä¸­çš„æ•°ç»„å½¢æˆ `arr` ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** arr = [15,88], pieces = [[88],[15]]
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š** ä¾æ¬¡è¿æ¥ [15] å’Œ [88]

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** arr = [49,18,16], pieces = [[16,18,49]]
>
> **è¾“å‡ºï¼š** false
>
> **è§£é‡Šï¼š** å³ä¾¿æ•°å­—ç›¸ç¬¦ï¼Œä¹Ÿä¸èƒ½é‡æ–°æ’åˆ— pieces[0]

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** arr = [91,4,64,78], pieces = [[78],[4,64],[91]]
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š** ä¾æ¬¡è¿æ¥ [91]ã€[4,64] å’Œ [78]

**æç¤ºï¼š**

- `1 <= pieces.length <= arr.length <= 100`
- `sum(pieces[i].length) == arr.length`
- `1 <= pieces[i].length <= arr.length`
- `1 <= arr[i], pieces[i][j] <= 100`
- `arr` ä¸­çš„æ•´æ•° **äº’ä¸ç›¸åŒ**
- `pieces` ä¸­çš„æ•´æ•° **äº’ä¸ç›¸åŒ** ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå°† `pieces` æ‰å¹³åŒ–æˆä¸€ç»´æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ‰€æœ‰æ•´æ•°äº’ä¸ç›¸åŒï¼‰

## è§£é¢˜æ€è·¯

é¢˜ç›®è¦æ±‚åˆ¤æ–­æ•°ç»„ `arr` æ˜¯å¦å¯ä»¥é€šè¿‡ä¸²è” `pieces` ä¸­çš„å­æ•°ç»„ï¼ˆæŒ‰åŸåºåˆ—é¡ºåºï¼‰å½¢æˆï¼Œå› æ­¤æ¯ä¸ªå­æ•°ç»„åœ¨ `arr` ä¸­å¿…é¡»æ˜¯ç›¸é‚»çš„ã€‚

1. **å»ºç«‹ç´¢å¼•æ˜ å°„**ï¼š

   - ä½¿ç”¨å“ˆå¸Œè¡¨ `numMap` å°† `arr` ä¸­çš„æ¯ä¸ªæ•°å­—ä¸å…¶ç´¢å¼•å»ºç«‹æ˜ å°„å…³ç³»ï¼Œæ–¹ä¾¿å¿«é€ŸæŸ¥è¯¢æŸä¸ªæ•°å­—çš„ä½ç½®ã€‚

2. **éªŒè¯å­æ•°ç»„é¡ºåº**ï¼š

   - éå† `pieces` ä¸­çš„æ¯ä¸ªå­æ•°ç»„ï¼ŒéªŒè¯å…¶æ˜¯å¦å¯ä»¥å®Œå…¨åŒ¹é… `arr` ä¸­çš„æŸæ®µè¿ç»­å­åºåˆ—ï¼š
     - å¦‚æœå­æ•°ç»„çš„é¦–å…ƒç´ ä¸åœ¨ `arr` ä¸­ï¼Œç›´æ¥è¿”å› `false`ã€‚
     - å¯¹å­æ•°ç»„çš„æ¯ä¸¤ä¸ªç›¸é‚»å…ƒç´ ï¼Œå¦‚æœå®ƒä»¬åœ¨ `arr` ä¸­ä¸æ˜¯è¿ç»­å‡ºç°ï¼ˆé€šè¿‡ç´¢å¼•çš„å·®å€¼åˆ¤æ–­ï¼‰ï¼Œç›´æ¥è¿”å› `false`ã€‚

3. éå†ç»“æŸåï¼Œå¦‚æœæ‰€æœ‰å­æ•°ç»„éƒ½æ»¡è¶³ä¸Šè¿°æ¡ä»¶ï¼Œè¿”å› `true`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n + m)`

  - å»ºç«‹æ˜ å°„ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯ `arr` çš„é•¿åº¦ã€‚
  - éªŒè¯å­æ•°ç»„ï¼š`O(m)`ï¼Œå…¶ä¸­ `m` æ˜¯ `pieces` ä¸­æ‰€æœ‰å­æ•°ç»„å…ƒç´ çš„æ€»æ•°é‡ã€‚
  - æ€»ä½“å¤æ‚åº¦ä¸º `O(n + m)`ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œä½¿ç”¨ `numMap` å­˜å‚¨æ˜ å°„è¡¨ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} arr
 * @param {number[][]} pieces
 * @return {boolean}
 */
var canFormArray = function (arr, pieces) {
	// åˆ›å»º num -> index çš„æ˜ å°„
	let numMap = new Map(arr.map((num, i) => [num, i]));

	for (let piece of pieces) {
		for (let i = 0; i < piece.length; i++) {
			// æ£€æŸ¥å­æ•°ç»„æ˜¯å¦è¿ç»­
			if (!numMap.has(piece[i])) return false;

			if (i > 0 && numMap.get(piece[i]) !== numMap.get(piece[i - 1]) + 1)
				return false;
		}
	}

	return true;
};
```
