---
title: 1356. æ ¹æ®æ•°å­—äºŒè¿›åˆ¶ä¸‹ 1 çš„æ•°ç›®æ’åº
description: LeetCode 1356. æ ¹æ®æ•°å­—äºŒè¿›åˆ¶ä¸‹ 1 çš„æ•°ç›®æ’åºé¢˜è§£ï¼ŒSort Integers by The Number of 1 Bitsï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1356. æ ¹æ®æ•°å­—äºŒè¿›åˆ¶ä¸‹ 1 çš„æ•°ç›®æ’åº
  - æ ¹æ®æ•°å­—äºŒè¿›åˆ¶ä¸‹ 1 çš„æ•°ç›®æ’åº
  - Sort Integers by The Number of 1 Bits
  - è§£é¢˜æ€è·¯
  - ä½è¿ç®—
  - æ•°ç»„
  - è®¡æ•°
  - æ’åº
---

# 1356. æ ¹æ®æ•°å­—äºŒè¿›åˆ¶ä¸‹ 1 çš„æ•°ç›®æ’åº

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`è®¡æ•°`](/tag/counting.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/sort-integers-by-the-number-of-1-bits) [`LeetCode`](https://leetcode.com/problems/sort-integers-by-the-number-of-1-bits)

## é¢˜ç›®

You are given an integer array `arr`. Sort the integers in the array in
ascending order by the number of `1`'s in their binary representation and in
case of two or more integers have the same number of `1`'s you have to sort
them in ascending order.

Return _the array after sorting it_.

**Example 1:**

> Input: arr = [0,1,2,3,4,5,6,7,8]
>
> Output: [0,1,2,4,8,3,5,6,7]
>
> **Explantion:** [0] is the only integer with 0 bits.
>
> [1,2,4,8] all have 1 bit.
>
> [3,5,6] have 2 bits.
>
> [7] has 3 bits.
>
> The sorted array by bits is [0,1,2,4,8,3,5,6,7]

**Example 2:**

> Input: arr = [1024,512,256,128,64,32,16,8,4,2,1]
>
> Output: [1,2,4,8,16,32,64,128,256,512,1024]
>
> **Explantion:** All integers have 1 bit in the binary representation, you should just sort them in ascending order.

**Constraints:**

- `1 <= arr.length <= 500`
- `0 <= arr[i] <= 10^4`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `arr` ã€‚è¯·ä½ å°†æ•°ç»„ä¸­çš„å…ƒç´ æŒ‰ç…§å…¶äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æ•°å­— **1** çš„æ•°ç›®å‡åºæ’åºã€‚

å¦‚æœå­˜åœ¨å¤šä¸ªæ•°å­—äºŒè¿›åˆ¶ä¸­ **1** çš„æ•°ç›®ç›¸åŒï¼Œåˆ™å¿…é¡»å°†å®ƒä»¬æŒ‰ç…§æ•°å€¼å¤§å°å‡åºæ’åˆ—ã€‚

è¯·ä½ è¿”å›æ’åºåçš„æ•°ç»„ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** arr = [0,1,2,3,4,5,6,7,8]
>
> **è¾“å‡ºï¼š**[0,1,2,4,8,3,5,6,7]
>
> **è§£é‡Šï¼š**[0] æ˜¯å”¯ä¸€ä¸€ä¸ªæœ‰ 0 ä¸ª 1 çš„æ•°ã€‚
>
> [1,2,4,8] éƒ½æœ‰ 1 ä¸ª 1 ã€‚
>
> [3,5,6] æœ‰ 2 ä¸ª 1 ã€‚
>
> [7] æœ‰ 3 ä¸ª 1 ã€‚
>
> æŒ‰ç…§ 1 çš„ä¸ªæ•°æ’åºå¾—åˆ°çš„ç»“æœæ•°ç»„ä¸º [0,1,2,4,8,3,5,6,7]

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** arr = [1024,512,256,128,64,32,16,8,4,2,1]
>
> **è¾“å‡ºï¼š**[1,2,4,8,16,32,64,128,256,512,1024]
>
> **è§£é‡Šï¼š** æ•°ç»„ä¸­æ‰€æœ‰æ•´æ•°äºŒè¿›åˆ¶ä¸‹éƒ½åªæœ‰ 1 ä¸ª 1 ï¼Œæ‰€ä»¥ä½ éœ€è¦æŒ‰ç…§æ•°å€¼å¤§å°å°†å®ƒä»¬æ’åºã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** arr = [10000,10000]
>
> **è¾“å‡ºï¼š**[10000,10000]

**ç¤ºä¾‹ 4ï¼š**

> **è¾“å…¥ï¼š** arr = [2,3,5,7,11,13,17,19]
>
> **è¾“å‡ºï¼š**[2,3,5,17,7,11,13,19]

**ç¤ºä¾‹ 5ï¼š**

> **è¾“å…¥ï¼š** arr = [10,100,1000,10000]
>
> **è¾“å‡ºï¼š**[10,100,10000,1000]

**æç¤ºï¼š**

- `1 <= arr.length <= 500`
- `0 <= arr[i] <= 10^4`

## è§£é¢˜æ€è·¯

1. å®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•° `countBits`ï¼Œåˆ©ç”¨ä½è¿ç®—è®¡ç®—æ¯ä¸ªæ•°å­—çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ `1` çš„ä¸ªæ•°ã€‚

   - æ–¹æ³•æ˜¯å°†æ•°å­—ä¸æ–­å³ç§» (`n >>= 1`)ï¼ŒåŒæ—¶æ£€æŸ¥æœ€ä½ä½æ˜¯å¦ä¸º `1` (`n & 1`)ã€‚

2. å°†æ•°ç»„ `arr` æ˜ å°„ä¸º `[countBits(n), n]` çš„å½¢å¼ã€‚

3. ä½¿ç”¨è‡ªå®šä¹‰æ’åºè§„åˆ™æ’åºï¼š
   - è‹¥ `1` çš„ä¸ªæ•°ä¸åŒï¼ŒæŒ‰ `1` çš„ä¸ªæ•°æ’åºï¼›
   - è‹¥ç›¸åŒï¼ŒæŒ‰æ•°å­—å¤§å°æ’åºã€‚
4. æå–æ’åºåçš„æ•°å­—å¹¶è¿”å›ç»“æœã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n log k + n log n)`
  - è®¡ç®— `1` çš„ä¸ªæ•°ï¼šå¯¹æ¯ä¸ªæ•°å­—è°ƒç”¨ `countBits`ï¼Œå¤æ‚åº¦ä¸º `O(log k)`ï¼Œå…¶ä¸­ `k` æ˜¯æ•°ç»„ä¸­æœ€å¤§æ•°å­—ã€‚
  - æ’åºï¼š`O(n log n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„é•¿åº¦ã€‚
  - æ€»å¤æ‚åº¦ä¸º `O(n log k + n log n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œæ˜ å°„å’Œæ’åºçš„è¾…åŠ©æ•°ç»„å ç”¨ `O(n)` ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} arr
 * @return {number[]}
 */
var sortByBits = function (arr) {
	const countBits = (n) => {
		let count = 0;
		while (n > 0) {
			count += n & 1; // æ£€æŸ¥æœ€ä½ä½æ˜¯å¦ä¸º 1
			n >>= 1; // å³ç§»ä¸€ä½
		}
		return count;
	};

	return arr
		.map((n) => [countBits(n), n]) // æ˜ å°„ä¸º [1 çš„ä¸ªæ•°, æ•°å­—]
		.sort((a, b) => {
			if (a[0] === b[0]) return a[1] - b[1]; // æŒ‰æ•°å­—å¤§å°æ’åº
			return a[0] - b[0]; // æŒ‰ 1 çš„ä¸ªæ•°æ’åº
		})
		.map(([bits, n]) => n); // æå–æ’åºåçš„æ•°å­—
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 2099 | æ‰¾åˆ°å’Œæœ€å¤§çš„é•¿åº¦ä¸º K çš„å­åºåˆ— | [[âœ“]](/problem/2099.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ’åº`](/tag/sorting.md) `1+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/find-subsequence-of-length-k-with-the-largest-sum) [ğŸ”—](https://leetcode.com/problems/find-subsequence-of-length-k-with-the-largest-sum) |
| 3011 | åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦å¯ä»¥å˜ä¸ºæœ‰åº | [[âœ“]](/problem/3011.md) |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/find-if-array-can-be-sorted) [ğŸ”—](https://leetcode.com/problems/find-if-array-can-be-sorted) |