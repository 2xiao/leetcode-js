---
title: 2383. èµ¢å¾—æ¯”èµ›éœ€è¦çš„æœ€å°‘è®­ç»ƒæ—¶é•¿
description: LeetCode 2383. èµ¢å¾—æ¯”èµ›éœ€è¦çš„æœ€å°‘è®­ç»ƒæ—¶é•¿é¢˜è§£ï¼ŒMinimum Hours of Training to Win a Competitionï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2383. èµ¢å¾—æ¯”èµ›éœ€è¦çš„æœ€å°‘è®­ç»ƒæ—¶é•¿
  - èµ¢å¾—æ¯”èµ›éœ€è¦çš„æœ€å°‘è®­ç»ƒæ—¶é•¿
  - Minimum Hours of Training to Win a Competition
  - è§£é¢˜æ€è·¯
  - è´ªå¿ƒ
  - æ•°ç»„
---

# 2383. èµ¢å¾—æ¯”èµ›éœ€è¦çš„æœ€å°‘è®­ç»ƒæ—¶é•¿

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minimum-hours-of-training-to-win-a-competition) [`LeetCode`](https://leetcode.com/problems/minimum-hours-of-training-to-win-a-competition)

## é¢˜ç›®

You are entering a competition, and are given two **positive** integers
`initialEnergy` and `initialExperience` denoting your initial energy and
initial experience respectively.

You are also given two **0-indexed** integer arrays `energy` and `experience`,
both of length `n`.

You will face `n` opponents **in order**. The energy and experience of the
`ith` opponent is denoted by `energy[i]` and `experience[i]` respectively.
When you face an opponent, you need to have both **strictly** greater
experience and energy to defeat them and move to the next opponent if
available.

Defeating the `ith` opponent **increases** your experience by `experience[i]`,
but **decreases** your energy by `energy[i]`.

Before starting the competition, you can train for some number of hours. After
each hour of training, you can **either** choose to increase your initial
experience by one, or increase your initial energy by one.

Return _the **minimum** number of training hours required to defeat all_ `n`
_opponents_.

**Example 1:**

> Input: initialEnergy = 5, initialExperience = 3, energy = [1,4,3,2], experience = [2,6,3,1]
>
> Output: 8
>
> Explanation: You can increase your energy to 11 after 6 hours of training, and your experience to 5 after 2 hours of training.
>
> You face the opponents in the following order:
>
> - You have more energy and experience than the 0th opponent so you win.
>
>   Your energy becomes 11 - 1 = 10, and your experience becomes 5 + 2 = 7.
>
> - You have more energy and experience than the 1st opponent so you win.
>
>   Your energy becomes 10 - 4 = 6, and your experience becomes 7 + 6 = 13.
>
> - You have more energy and experience than the 2nd opponent so you win.
>
>   Your energy becomes 6 - 3 = 3, and your experience becomes 13 + 3 = 16.
>
> - You have more energy and experience than the 3rd opponent so you win.
>
>   Your energy becomes 3 - 2 = 1, and your experience becomes 16 + 1 = 17.
>
> You did a total of 6 + 2 = 8 hours of training before the competition, so we return 8.
>
> It can be proven that no smaller answer exists.

**Example 2:**

> Input: initialEnergy = 2, initialExperience = 4, energy = [1], experience = [3]
>
> Output: 0
>
> Explanation: You do not need any additional energy or experience to win the competition, so we return 0.

**Constraints:**

- `n == energy.length == experience.length`
- `1 <= n <= 100`
- `1 <= initialEnergy, initialExperience, energy[i], experience[i] <= 100`

## é¢˜ç›®å¤§æ„

ä½ æ­£åœ¨å‚åŠ ä¸€åœºæ¯”èµ›ï¼Œç»™ä½ ä¸¤ä¸ª **æ­£** æ•´æ•° `initialEnergy` å’Œ `initialExperience` åˆ†åˆ«è¡¨ç¤ºä½ çš„åˆå§‹ç²¾åŠ›å’Œåˆå§‹ç»éªŒã€‚

å¦ç»™ä½ ä¸¤ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„æ•´æ•°æ•°ç»„ `energy` å’Œ `experience`ï¼Œé•¿åº¦å‡ä¸º `n` ã€‚

ä½ å°†ä¼š **ä¾æ¬¡** å¯¹ä¸Š `n` ä¸ªå¯¹æ‰‹ã€‚ç¬¬ `i` ä¸ªå¯¹æ‰‹çš„ç²¾åŠ›å’Œç»éªŒåˆ†åˆ«ç”¨ `energy[i]` å’Œ `experience[i]`
è¡¨ç¤ºã€‚å½“ä½ å¯¹ä¸Šå¯¹æ‰‹æ—¶ï¼Œéœ€è¦åœ¨ç»éªŒå’Œç²¾åŠ›ä¸Šéƒ½ **ä¸¥æ ¼** è¶…è¿‡å¯¹æ‰‹æ‰èƒ½å‡»è´¥ä»–ä»¬ï¼Œç„¶ååœ¨å¯èƒ½çš„æƒ…å†µä¸‹ç»§ç»­å¯¹ä¸Šä¸‹ä¸€ä¸ªå¯¹æ‰‹ã€‚

å‡»è´¥ç¬¬ `i` ä¸ªå¯¹æ‰‹ä¼šä½¿ä½ çš„ç»éªŒ **å¢åŠ ** `experience[i]`ï¼Œä½†ä¼šå°†ä½ çš„ç²¾åŠ› **å‡å°‘** `energy[i]` ã€‚

åœ¨å¼€å§‹æ¯”èµ›å‰ï¼Œä½ å¯ä»¥è®­ç»ƒå‡ ä¸ªå°æ—¶ã€‚æ¯è®­ç»ƒä¸€ä¸ªå°æ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©å°†å¢åŠ ç»éªŒå¢åŠ  1 **æˆ–è€…** å°†ç²¾åŠ›å¢åŠ  1 ã€‚

è¿”å›å‡»è´¥å…¨éƒ¨ `n` ä¸ªå¯¹æ‰‹éœ€è¦è®­ç»ƒçš„ **æœ€å°‘** å°æ—¶æ•°ç›®ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** initialEnergy = 5, initialExperience = 3, energy = [1,4,3,2], experience = [2,6,3,1]
>
> **è¾“å‡ºï¼š** 8
>
> **è§£é‡Šï¼š** åœ¨ 6 å°æ—¶è®­ç»ƒåï¼Œä½ å¯ä»¥å°†ç²¾åŠ›æé«˜åˆ° 11 ï¼Œå¹¶ä¸”å†è®­ç»ƒ 2 ä¸ªå°æ—¶å°†ç»éªŒæé«˜åˆ° 5 ã€‚
>
> æŒ‰ä»¥ä¸‹é¡ºåºä¸å¯¹æ‰‹æ¯”èµ›ï¼š
>
> - ä½ çš„ç²¾åŠ›ä¸ç»éªŒéƒ½è¶…è¿‡ç¬¬ 0 ä¸ªå¯¹æ‰‹ï¼Œæ‰€ä»¥è·èƒœã€‚
>
>   ç²¾åŠ›å˜ä¸ºï¼š11 - 1 = 10 ï¼Œç»éªŒå˜ä¸ºï¼š5 + 2 = 7 ã€‚
>
> - ä½ çš„ç²¾åŠ›ä¸ç»éªŒéƒ½è¶…è¿‡ç¬¬ 1 ä¸ªå¯¹æ‰‹ï¼Œæ‰€ä»¥è·èƒœã€‚
>
>   ç²¾åŠ›å˜ä¸ºï¼š10 - 4 = 6 ï¼Œç»éªŒå˜ä¸ºï¼š7 + 6 = 13 ã€‚
>
> - ä½ çš„ç²¾åŠ›ä¸ç»éªŒéƒ½è¶…è¿‡ç¬¬ 2 ä¸ªå¯¹æ‰‹ï¼Œæ‰€ä»¥è·èƒœã€‚
>
>   ç²¾åŠ›å˜ä¸ºï¼š6 - 3 = 3 ï¼Œç»éªŒå˜ä¸ºï¼š13 + 3 = 16 ã€‚
>
> - ä½ çš„ç²¾åŠ›ä¸ç»éªŒéƒ½è¶…è¿‡ç¬¬ 3 ä¸ªå¯¹æ‰‹ï¼Œæ‰€ä»¥è·èƒœã€‚
>
>   ç²¾åŠ›å˜ä¸ºï¼š3 - 2 = 1 ï¼Œç»éªŒå˜ä¸ºï¼š16 + 1 = 17 ã€‚
>
> åœ¨æ¯”èµ›å‰è¿›è¡Œäº† 8 å°æ—¶è®­ç»ƒï¼Œæ‰€ä»¥è¿”å› 8 ã€‚
>
> å¯ä»¥è¯æ˜ä¸å­˜åœ¨æ›´å°çš„ç­”æ¡ˆã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** initialEnergy = 2, initialExperience = 4, energy = [1], experience = [3]
>
> **è¾“å‡ºï¼š** 0
>
> **è§£é‡Šï¼š** ä½ ä¸éœ€è¦é¢å¤–çš„ç²¾åŠ›å’Œç»éªŒå°±å¯ä»¥èµ¢å¾—æ¯”èµ›ï¼Œæ‰€ä»¥è¿”å› 0 ã€‚

**æç¤ºï¼š**

- `n == energy.length == experience.length`
- `1 <= n <= 100`
- `1 <= initialEnergy, initialExperience, energy[i], experience[i] <= 100`

## è§£é¢˜æ€è·¯

é¢˜ç›®è¦æ±‚ç¡®å®šè‹±é›„å®Œæˆæ‰€æœ‰æˆ˜æ–—æ‰€éœ€çš„æœ€å°‘è®­ç»ƒæ—¶é—´ï¼Œä½¿è‹±é›„çš„èƒ½é‡å’Œç»éªŒæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

1. æ€»èƒ½é‡å¤§äºæ•Œäººèƒ½é‡ä¹‹å’Œã€‚
2. å¯¹æ¯ä¸ªæ•Œäººï¼Œè‹±é›„çš„ç»éªŒå€¼å¿…é¡»ä¸¥æ ¼å¤§äºæ•Œäººçš„ç»éªŒå€¼ã€‚

ä¸ºäº†æœ€å°åŒ–è®­ç»ƒæ—¶é—´ï¼Œæˆ‘ä»¬éœ€è¦åˆ†åˆ«è®¡ç®—èƒ½é‡éœ€æ±‚å’Œç»éªŒéœ€æ±‚ã€‚

1. **è®¡ç®—èƒ½é‡éœ€æ±‚**

è‹±é›„éœ€è¦çš„æ€»èƒ½é‡åº”å¤§äºæ‰€æœ‰æ•Œäººèƒ½é‡ä¹‹å’Œ `totalEnergy`ï¼Œå³æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š
`initialEnergy + addEnergy > totalEnergy`

ä»è€Œï¼š
`addEnergy = max(0, totalEnergy + 1 - initialEnergy)`

- åˆ©ç”¨ `reduce` æ–¹æ³•å¿«é€Ÿè®¡ç®— `totalEnergy`ã€‚
- ä½¿ç”¨å…¬å¼è®¡ç®—å‡ºéœ€è¦è¡¥å……çš„èƒ½é‡ `addEnergy`ã€‚

2. **è®¡ç®—ç»éªŒéœ€æ±‚**

å¯¹äºæ¯ä¸ªæ•Œäººï¼Œè‹±é›„çš„å½“å‰ç»éªŒå€¼ `initialExperience` å¿…é¡»ä¸¥æ ¼å¤§äºæ•Œäººçš„ç»éªŒå€¼ï¼š
`initialExperience > enemyExperience`

å¦åˆ™ï¼Œéœ€è¦è®­ç»ƒè¡¥å……åˆ°è‡³å°‘ `enemyExperience + 1`ï¼Œå¹¶åœ¨æˆ˜æ–—åæ›´æ–°è‹±é›„çš„ç»éªŒå€¼ã€‚

**è®¡ç®—è¿‡ç¨‹**ï¼š

- éå† `experience` æ•°ç»„ï¼Œé€ä¸ªæ£€æŸ¥æ•Œäººçš„ç»éªŒå€¼ã€‚
- å¦‚æœ `initialExperience <= enemyExperience`ï¼š
  - è®¡ç®—éœ€è¦è¡¥å……çš„ç»éªŒå€¼ä¸º `enemyExperience - initialExperience + 1`ã€‚
  - å°†è¡¥å……å€¼ç´¯åŠ åˆ° `addExperience`ã€‚
  - æ›´æ–°è‹±é›„çš„ç»éªŒå€¼ä¸º `enemyExperience + 1`ã€‚
- æ— è®ºæ˜¯å¦è¡¥å……ï¼Œæˆ˜æ–—åè‹±é›„çš„ç»éªŒå€¼éƒ½ä¼šå¢åŠ å½“å‰æ•Œäººçš„ç»éªŒå€¼ï¼š`initialExperience += enemyExperience`ã€‚

æœ€ç»ˆï¼Œ`addExperience` è®°å½•äº†è®­ç»ƒæ‰€éœ€çš„æ€»ç»éªŒè¡¥å……é‡ã€‚

3. **è®¡ç®—æ€»è®­ç»ƒæ—¶é—´**

å°†èƒ½é‡å’Œç»éªŒçš„è¡¥å……æ—¶é—´ç›¸åŠ ï¼š
`Total Training Time = addEnergy + addExperience`

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œè®¡ç®—æ€»èƒ½é‡éœ€è¦éå† `energy`ï¼Œè®¡ç®—ç»éªŒéœ€æ±‚éœ€è¦éå† `experience`ï¼Œä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦éƒ½ä¸º `n`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸æ•°çº§åˆ«çš„å˜é‡ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} initialEnergy
 * @param {number} initialExperience
 * @param {number[]} energy
 * @param {number[]} experience
 * @return {number}
 */
var minNumberOfHours = function (
	initialEnergy,
	initialExperience,
	energy,
	experience
) {
	// è®¡ç®—éœ€è¦è¡¥å……çš„èƒ½é‡
	const totalEnergy = energy.reduce((a, b) => a + b, 0);
	const addEnergy = Math.max(0, totalEnergy + 1 - initialEnergy);

	// è®¡ç®—éœ€è¦è¡¥å……çš„ç»éªŒ
	let addExperience = 0;
	for (let num of experience) {
		if (initialExperience <= num) {
			addExperience += num - initialExperience + 1; // è¡¥å……åˆ°æ¯”æ•Œäººå¤š 1
			initialExperience = num + 1; // æ›´æ–°ç»éªŒå€¼
		}
		initialExperience += num; // æˆ˜æ–—åè·å¾—ç»éªŒ
	}

	// è¿”å›æ€»è®­ç»ƒæ—¶é—´
	return addEnergy + addExperience;
};
```
