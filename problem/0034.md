# [34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®](https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array)

## é¢˜ç›®

<p>ç»™ä½ ä¸€ä¸ªæŒ‰ç…§éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ <code>target</code>ã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚</p>

<p>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ <code>target</code>ï¼Œè¿”å›&nbsp;<code>[-1, -1]</code>ã€‚</p>

<p>ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º&nbsp;<code>O(log n)</code>&nbsp;çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [<code>5,7,7,8,8,10]</code>, target = 8
<strong>è¾“å‡ºï¼š</strong>[3,4]</pre>

<p><strong>ç¤ºä¾‹&nbsp;2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [<code>5,7,7,8,8,10]</code>, target = 6
<strong>è¾“å‡ºï¼š</strong>[-1,-1]</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [], target = 0
<strong>è¾“å‡ºï¼š</strong>[-1,-1]</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>0 &lt;= nums.length &lt;= 10<sup>5</sup></code></li>
	<li><code>-10<sup>9</sup>&nbsp;&lt;= nums[i]&nbsp;&lt;= 10<sup>9</sup></code></li>
	<li><code>nums</code>&nbsp;æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„</li>
	<li><code>-10<sup>9</sup>&nbsp;&lt;= target&nbsp;&lt;= 10<sup>9</sup></code></li>
</ul>


## è§£é¢˜æ€è·¯

å¯ä»¥é€šè¿‡ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾æ¥å®Œæˆè¿™ä¸ªè¿‡ç¨‹ã€‚

é¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•° `findFirst`ï¼Œç”¨äºæ‰¾åˆ°ç›®æ ‡å€¼çš„èµ·å§‹ä½ç½®ã€‚è¿™ä¸ªå‡½æ•°ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹æ³•ï¼Œåœ¨æ¯ä¸€æ­¥æŸ¥æ‰¾ä¸­ï¼Œå¦‚æœä¸­é—´å…ƒç´ å¤§äºç­‰äºç›®æ ‡å€¼ï¼Œå°†`right`æŒ‡é’ˆç§»åŠ¨åˆ°ä¸­é—´ä½ç½®çš„å·¦è¾¹ï¼Œå¹¶æ›´æ–°ç»“æœä¸ºå½“å‰ä¸­é—´ä½ç½®ã€‚å¦‚æœä¸­é—´å…ƒç´ å°äºç›®æ ‡å€¼ï¼Œå°†`left`æŒ‡é’ˆç§»åŠ¨åˆ°ä¸­é—´ä½ç½®çš„å³è¾¹ã€‚

ç±»ä¼¼åœ°ï¼Œå®šä¹‰å¦ä¸€ä¸ªè¾…åŠ©å‡½æ•° `findLast`ï¼Œç”¨äºæ‰¾åˆ°ç›®æ ‡å€¼çš„ç»“æŸä½ç½®ã€‚è¿™ä¸ªå‡½æ•°ä¹Ÿä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹æ³•ï¼Œä½†æ˜¯åœ¨æ¯ä¸€æ­¥æŸ¥æ‰¾ä¸­ï¼Œå¦‚æœä¸­é—´å…ƒç´ å°äºç­‰äºç›®æ ‡å€¼ï¼Œå°†`left`æŒ‡é’ˆç§»åŠ¨åˆ°ä¸­é—´ä½ç½®çš„å³è¾¹ï¼Œå¹¶æ›´æ–°ç»“æœä¸ºå½“å‰ä¸­é—´ä½ç½®ã€‚å¦‚æœä¸­é—´å…ƒç´ å¤§äºç›®æ ‡å€¼ï¼Œå°†`right`æŒ‡é’ˆç§»åŠ¨åˆ°ä¸­é—´ä½ç½®çš„å·¦è¾¹ã€‚

æœ€ç»ˆï¼Œè°ƒç”¨è¿™ä¸¤ä¸ªè¾…åŠ©å‡½æ•°å¾—åˆ°ç›®æ ‡å€¼çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ï¼Œè¿”å›ç»“æœæ•°ç»„ `[start, end]`ã€‚

è¿™æ ·ï¼Œå°±èƒ½å¤Ÿé€šè¿‡ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç›®æ ‡å€¼åœ¨æœ‰åºæ•°ç»„ä¸­çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number[]}
 */
var searchRange = function (nums, target) {
	const getFirst = (nums, target) => {
		let left = 0;
		let right = nums.length - 1;
		while (left <= right) {
			const mid = Math.floor((left + right) / 2);
			if (nums[mid] >= target) {
				right = mid - 1;
			} else if (nums[mid] < target) {
				left = mid + 1;
			}
		}
		if (left >= nums.length || nums[left] !== target) {
			return -1;
		}
		return left;
	};
	const getLast = (nums, target) => {
		let left = 0;
		let right = nums.length - 1;
		while (left <= right) {
			const mid = Math.floor((left + right) / 2);
			if (nums[mid] > target) {
				right = mid - 1;
			} else if (nums[mid] <= target) {
				left = mid + 1;
			}
		}
		if (right >= nums.length || nums[right] !== target) {
			return -1;
		}
		return right;
	};
	return [getFirst(nums, target), getLast(nums, target)];
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 278 | [ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬](https://leetcode.com/problems/first-bad-version) | [[âœ“]](/problem/0278.md) |  [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`äº¤äº’`](/tag/interactive.md) | <font color=#15bd66>Easy</font> |
| 2055 | [èœ¡çƒ›ä¹‹é—´çš„ç›˜å­](https://leetcode.com/problems/plates-between-candles) |  |  [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `1+` | <font color=#ffb800>Medium</font> |
| 2089 | [æ‰¾å‡ºæ•°ç»„æ’åºåçš„ç›®æ ‡ä¸‹æ ‡](https://leetcode.com/problems/find-target-indices-after-sorting-array) |  |  [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`æ’åº`](/tag/sorting.md) | <font color=#15bd66>Easy</font> |