# [2631. åˆ†ç»„](https://leetcode.com/problems/group-by)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/group-by)

## é¢˜ç›®

<p>è¯·ä½ ç¼–å†™ä¸€æ®µå¯åº”ç”¨äºæ‰€æœ‰æ•°ç»„çš„ä»£ç ï¼Œä½¿ä»»ä½•æ•°ç»„è°ƒç”¨ <code>array. groupBy(fn)</code> æ–¹æ³•æ—¶ï¼Œå®ƒè¿”å›å¯¹è¯¥æ•°ç»„ <strong>åˆ†ç»„å</strong> çš„ç»“æœã€‚</p>

<p>æ•°ç»„ <strong>åˆ†ç»„</strong> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­çš„æ¯ä¸ªé”®éƒ½æ˜¯ <code>fn(arr[i])</code> çš„è¾“å‡ºçš„ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„ä¸­å«æœ‰åŸæ•°ç»„ä¸­å…·æœ‰è¯¥é”®çš„æ‰€æœ‰é¡¹ã€‚</p>

<p>æä¾›çš„å›è°ƒå‡½æ•° <code>fn</code> å°†æ¥å—æ•°ç»„ä¸­çš„é¡¹å¹¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„é”®ã€‚</p>

<p>æ¯ä¸ªå€¼åˆ—è¡¨çš„é¡ºåºåº”è¯¥ä¸å…ƒç´ åœ¨æ•°ç»„ä¸­å‡ºç°çš„é¡ºåºç›¸åŒã€‚ä»»ä½•é¡ºåºçš„é”®éƒ½æ˜¯å¯ä»¥æ¥å—çš„ã€‚</p>

<p>è¯·åœ¨ä¸ä½¿ç”¨ lodash çš„&nbsp;<code>_.groupBy</code> å‡½æ•°çš„å‰æä¸‹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<b>è¾“å…¥ï¼š</b>
array = [
&nbsp; {"id":"1"},
&nbsp; {"id":"1"},
&nbsp; {"id":"2"}
], 
fn = function (item) { 
&nbsp; return item.id; 
}
<b>è¾“å‡ºï¼š</b>
{ 
&nbsp; "1": [{"id": "1"}, {"id": "1"}], &nbsp; 
&nbsp; "2": [{"id": "2"}] 
}
<strong>è§£é‡Šï¼š</strong>
è¾“å‡ºæ¥è‡ªå‡½æ•° array.groupBy(fn)ã€‚
åˆ†ç»„é€‰æ‹©æ–¹æ³•æ˜¯ä»æ•°ç»„ä¸­çš„æ¯ä¸ªé¡¹ä¸­è·å– "id" ã€‚
æœ‰ä¸¤ä¸ª "id" ä¸º 1 çš„å¯¹è±¡ã€‚æ‰€ä»¥å°†è¿™ä¸¤ä¸ªå¯¹è±¡éƒ½æ”¾åœ¨ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­ã€‚
æœ‰ä¸€ä¸ª "id" ä¸º 2 çš„å¯¹è±¡ã€‚æ‰€ä»¥è¯¥å¯¹è±¡è¢«æ”¾åˆ°ç¬¬äºŒä¸ªæ•°ç»„ä¸­ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<b>è¾“å…¥ï¼š</b>
array = [
&nbsp; [1, 2, 3],
&nbsp; [1, 3, 5],
&nbsp; [1, 5, 9]
]
fn = function (list) { 
&nbsp; return String(list[0]); 
}
<b>è¾“å‡ºï¼š</b>
{ 
&nbsp; "1": [[1, 2, 3], [1, 3, 5], [1, 5, 9]] 
}
<strong>è§£é‡Šï¼š</strong>
æ•°ç»„å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œåˆ†ç»„é€‰æ‹©æ–¹æ³•æ˜¯å°†é”®å®šä¹‰ä¸ºæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚
æ‰€æœ‰æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯1ï¼Œæ‰€ä»¥å®ƒä»¬è¢«ç»„åˆåœ¨ä¸€èµ·ã€‚
{
  "1": [[1, 2, 3], [1, 3, 5], [1, 5, 9]]
}
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<b>è¾“å‡ºï¼š</b>
array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
fn = function (n) { 
&nbsp; return String(n &gt; 5);
}
<strong>è¾“å…¥ï¼š</strong>
{
&nbsp; "true": [6, 7, 8, 9, 10],
&nbsp; "false": [1, 2, 3, 4, 5]
}
<strong>è§£é‡Šï¼š</strong>
åˆ†ç»„é€‰æ‹©æ–¹æ³•æ˜¯æ ¹æ®æ¯ä¸ªæ•°å­—æ˜¯å¦å¤§äº 5 æ¥åˆ†å‰²æ•°ç»„ã€‚
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>0 &lt;= array.length &lt;= 10<sup>5</sup></code></li>
	<li><code>fn è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</code></li>
</ul>


## è§£é¢˜æ€è·¯

1. **åˆ›å»ºç»“æœå¯¹è±¡**ï¼šä½¿ç”¨ä¸€ä¸ªç©ºå¯¹è±¡æ¥å­˜å‚¨åˆ†ç»„ç»“æœã€‚
2. **éå†æ•°ç»„**ï¼šä½¿ç”¨ `forEach` æ–¹æ³•éå†è°ƒç”¨ `groupBy` çš„æ•°ç»„ã€‚
3. **ä½¿ç”¨åˆ†ç»„å‡½æ•°**ï¼šå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œè°ƒç”¨ `fn(item)` å‡½æ•°ä»¥è·å–åˆ†ç»„é”®ã€‚
4. **æ„å»ºåˆ†ç»„ç»“æœ**ï¼š
   - æ£€æŸ¥ç»“æœå¯¹è±¡ä¸­æ˜¯å¦å·²æœ‰è¯¥åˆ†ç»„é”®ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚
   - å°†å½“å‰å…ƒç´ æ·»åŠ åˆ°ç›¸åº”çš„åˆ†ç»„ä¸­ã€‚
5. **è¿”å›ç»“æœå¯¹è±¡**ï¼šæœ€åè¿”å›åˆ†ç»„åçš„ç»“æœå¯¹è±¡ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„çš„é•¿åº¦ï¼Œå› ä¸ºéœ€è¦éå†æ•´ä¸ªæ•°ç»„ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ‰€æœ‰å…ƒç´ å¯èƒ½ä¼šè¢«åˆ†åˆ°ä¸€ä¸ªç»„ä¸­ã€‚

## ä»£ç 

```javascript
/**
 * @param {Function} fn
 * @return {Object}
 */
Array.prototype.groupBy = function (fn) {
	let res = {};
	this.forEach((item) => {
		const key = fn(item);
		if (!res[key]) {
			res[key] = [];
		}
		res[key].push(item);
	});
	return res;
};

/**
 * [1,2,3].groupBy(String) // {"1":[1],"2":[2],"3":[3]}
 */
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2624 | [èœ—ç‰›æ’åº](https://leetcode.com/problems/snail-traversal) | [[âœ“]](/problem/2624.md) |  | <font color=#ffb800>Medium</font> |
| 2626 | [æ•°ç»„å½’çº¦è¿ç®—](https://leetcode.com/problems/array-reduce-transformation) | [[âœ“]](/problem/2626.md) |  | <font color=#15bd66>Easy</font> |
| 2634 | [è¿‡æ»¤æ•°ç»„ä¸­çš„å…ƒç´ ](https://leetcode.com/problems/filter-elements-from-array) | [[âœ“]](/problem/2634.md) |  | <font color=#15bd66>Easy</font> |
| 2635 | [è½¬æ¢æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ](https://leetcode.com/problems/apply-transform-over-each-element-in-array) | [[âœ“]](/problem/2635.md) |  | <font color=#15bd66>Easy</font> |
| 2774 | [æ•°ç»„çš„ä¸Šç•Œ](https://leetcode.com/problems/array-upper-bound) |  |  | <font color=#15bd66>Easy</font> |