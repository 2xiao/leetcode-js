---
title: 2337. ç§»åŠ¨ç‰‡æ®µå¾—åˆ°å­—ç¬¦ä¸²
description: LeetCode 2337. ç§»åŠ¨ç‰‡æ®µå¾—åˆ°å­—ç¬¦ä¸²é¢˜è§£ï¼ŒMove Pieces to Obtain a Stringï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2337. ç§»åŠ¨ç‰‡æ®µå¾—åˆ°å­—ç¬¦ä¸²
  - ç§»åŠ¨ç‰‡æ®µå¾—åˆ°å­—ç¬¦ä¸²
  - Move Pieces to Obtain a String
  - è§£é¢˜æ€è·¯
  - åŒæŒ‡é’ˆ
  - å­—ç¬¦ä¸²
---

# 2337. ç§»åŠ¨ç‰‡æ®µå¾—åˆ°å­—ç¬¦ä¸²

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/move-pieces-to-obtain-a-string) [`LeetCode`](https://leetcode.com/problems/move-pieces-to-obtain-a-string)

## é¢˜ç›®

You are given two strings `start` and `target`, both of length `n`. Each
string consists **only** of the characters `'L'`, `'R'`, and `'_'` where:

- The characters `'L'` and `'R'` represent pieces, where a piece `'L'` can move to the **left** only if there is a **blank** space directly to its left, and a piece `'R'` can move to the **right** only if there is a **blank** space directly to its right.
- The character `'_'` represents a blank space that can be occupied by **any** of the `'L'` or `'R'` pieces.

Return `true` _if it is possible to obtain the string_ `target` _by moving the
pieces of the string_`start` _**any** number of times_. Otherwise, return
`false`.

**Example 1:**

> Input: `start = "_L__R__R_", target = "L______RR"`
>
> Output: true
>
> Explanation: We can obtain the string target from start by doing the following moves:
>
> - Move the first piece one step to the left, start becomes equal to `"L___R__R_"`.
> - Move the last piece one step to the right, start becomes equal to `"L___R___R"`.
> - Move the second piece three steps to the right, start becomes equal to `"L______RR"`.
>
> Since it is possible to get the string target from start, we return true.

**Example 2:**

> Input: `start = "R_L_", target = "__LR"`
>
> Output: false
>
> Explanation: The 'R' piece in the string start can move one step to the right to obtain `"_RL_"`.
>
> After that, no pieces can move anymore, so it is impossible to obtain the string target from start.

**Example 3:**

> Input: `start = "_R", target = "R_"`
>
> Output: false
>
> Explanation: The piece in the string start can move only to the right, so it is impossible to obtain the string target from start.

**Constraints:**

- `n == start.length == target.length`
- `1 <= n <= 10^5`
- `start` and `target` consist of the characters `'L'`, `'R'`, and `'_'`.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² `start` å’Œ `target` ï¼Œé•¿åº¦å‡ä¸º `n` ã€‚æ¯ä¸ªå­—ç¬¦ä¸² **ä»…** ç”±å­—ç¬¦ `'L'`ã€`'R'` å’Œ `'_'`
ç»„æˆï¼Œå…¶ä¸­ï¼š

- å­—ç¬¦ `'L'` å’Œ `'R'` è¡¨ç¤ºç‰‡æ®µï¼Œå…¶ä¸­ç‰‡æ®µ `'L'` åªæœ‰åœ¨å…¶å·¦ä¾§ç›´æ¥å­˜åœ¨ä¸€ä¸ª **ç©ºä½** æ—¶æ‰èƒ½å‘ **å·¦** ç§»åŠ¨ï¼Œè€Œç‰‡æ®µ `'R'` åªæœ‰åœ¨å…¶å³ä¾§ç›´æ¥å­˜åœ¨ä¸€ä¸ª **ç©ºä½** æ—¶æ‰èƒ½å‘ **å³** ç§»åŠ¨ã€‚
- å­—ç¬¦ `'_'` è¡¨ç¤ºå¯ä»¥è¢« **ä»»æ„** `'L'` æˆ– `'R'` ç‰‡æ®µå æ®çš„ç©ºä½ã€‚

å¦‚æœåœ¨ç§»åŠ¨å­—ç¬¦ä¸² `start` ä¸­çš„ç‰‡æ®µä»»æ„æ¬¡ä¹‹åå¯ä»¥å¾—åˆ°å­—ç¬¦ä¸² `target` ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** `start = "_L__R__R_", target = "L______RR"`
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š** å¯ä»¥ä»å­—ç¬¦ä¸² start è·å¾— target ï¼Œéœ€è¦è¿›è¡Œä¸‹é¢çš„ç§»åŠ¨ï¼š
>
> - å°†ç¬¬ä¸€ä¸ªç‰‡æ®µå‘å·¦ç§»åŠ¨ä¸€æ­¥ï¼Œå­—ç¬¦ä¸²ç°åœ¨å˜ä¸º `"L___R__R_"` ã€‚
> - å°†æœ€åä¸€ä¸ªç‰‡æ®µå‘å³ç§»åŠ¨ä¸€æ­¥ï¼Œå­—ç¬¦ä¸²ç°åœ¨å˜ä¸º `"L___R___R"` ã€‚
> - å°†ç¬¬äºŒä¸ªç‰‡æ®µå‘å³ç§»åŠ¨ä¸‰æ­¥ï¼Œå­—ç¬¦ä¸²ç°åœ¨å˜ä¸º `"L______RR"` ã€‚
>
> å¯ä»¥ä»å­—ç¬¦ä¸² start å¾—åˆ° target ï¼Œæ‰€ä»¥è¿”å› true ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** `start = "R_L_", target = "__LR"`
>
> **è¾“å‡ºï¼š** false
>
> **è§£é‡Šï¼š** å­—ç¬¦ä¸² start ä¸­çš„ 'R' ç‰‡æ®µå¯ä»¥å‘å³ç§»åŠ¨ä¸€æ­¥å¾—åˆ° `"_RL_"` ã€‚
>
> ä½†æ˜¯ï¼Œåœ¨è¿™ä¸€æ­¥ä¹‹åï¼Œä¸å­˜åœ¨å¯ä»¥ç§»åŠ¨çš„ç‰‡æ®µï¼Œæ‰€ä»¥æ— æ³•ä»å­—ç¬¦ä¸² start å¾—åˆ° target ã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** `start = "_R", target = "R_"`
>
> **è¾“å‡ºï¼š** false
>
> **è§£é‡Šï¼š** å­—ç¬¦ä¸² start ä¸­çš„ç‰‡æ®µåªèƒ½å‘å³ç§»åŠ¨ï¼Œæ‰€ä»¥æ— æ³•ä»å­—ç¬¦ä¸² start å¾—åˆ° target ã€‚

**æç¤ºï¼š**

- `n == start.length == target.length`
- `1 <= n <= 10^5`
- `start` å’Œ `target` ç”±å­—ç¬¦ `'L'`ã€`'R'` å’Œ `'_'` ç»„æˆ

## è§£é¢˜æ€è·¯

æœ¬é¢˜è¦æ±‚éªŒè¯æ˜¯å¦å¯ä»¥é€šè¿‡ç§»åŠ¨ `'L'` å’Œ `'R'` ä»å­—ç¬¦ä¸² `start` å˜ä¸ºå­—ç¬¦ä¸² `target`ï¼Œç§»åŠ¨è§„åˆ™æ˜¯ï¼š

1. `'L'` å¯ä»¥å‘å·¦ç§»åŠ¨ï¼Œä½†ä¸èƒ½å‘å³ï¼›
2. `'R'` å¯ä»¥å‘å³ç§»åŠ¨ï¼Œä½†ä¸èƒ½å‘å·¦ï¼›
3. `start` å’Œ `target` çš„ç©ºä½ `_` å¯ä»¥è¢«å æ®ã€‚

å¦‚æœ `start` ç§»åŠ¨åå¯ä»¥å¾—åˆ° `target`ï¼Œå¿…é¡»æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

- `start` å’Œ `target` çš„ `'L'` å’Œ `'R'` çš„ç›¸å¯¹é¡ºåºå¿…é¡»ä¸€è‡´ã€‚æ¢å¥è¯è¯´ï¼Œ`start` å’Œ `target` å»æ‰ `'_'` åå¿…é¡»æœ‰ç›¸åŒçš„å­—ç¬¦åºåˆ—ï¼Œå¦åˆ™æ— æ³•é€šè¿‡ä»»ä½•ç§»åŠ¨å˜æ¢å¾—åˆ°ã€‚
- å¯¹äº `'L'`ï¼š`start` ä¸­çš„ `'L'` çš„ä¸‹æ ‡å¿…é¡»å¤§äºç­‰äº `target` ä¸­å¯¹åº” `'L'` çš„ä¸‹æ ‡ï¼Œå› ä¸º `'L'` åªèƒ½å‘å·¦ç§»åŠ¨ã€‚
- å¯¹äº `'R'`ï¼š`start` ä¸­çš„ `'R'` çš„ä¸‹æ ‡å¿…é¡»å°äºç­‰äº `target` ä¸­å¯¹åº” `'R'` çš„ä¸‹æ ‡ï¼Œå› ä¸º `'R'` åªèƒ½å‘å³ç§»åŠ¨ã€‚

å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«éå† `start` å’Œ `target`ï¼Œé€ä¸€éªŒè¯æ¯ä¸ª `'L'` å’Œ `'R'` çš„ä½ç½®å…³ç³»æ˜¯å¦ç¬¦åˆä¸Šè¿°è§„åˆ™ã€‚

1. ä» `start` å’Œ `target` ä¸­å»æ‰æ‰€æœ‰çš„ `'_'`ï¼Œå¦‚æœå‰©ä¸‹çš„å­—ç¬¦åºåˆ—ä¸åŒï¼Œç›´æ¥è¿”å› `false`ã€‚
2. ä½¿ç”¨åŒæŒ‡é’ˆéå† `start` å’Œ `target`ï¼š
   - å¦‚æœé‡åˆ° `'L'`ï¼Œæ£€æŸ¥ `start` ä¸­çš„ç´¢å¼•æ˜¯å¦å¤§äºç­‰äº `target` ä¸­çš„ç´¢å¼•ã€‚
   - å¦‚æœé‡åˆ° `'R'`ï¼Œæ£€æŸ¥ `start` ä¸­çš„ç´¢å¼•æ˜¯å¦å°äºç­‰äº `target` ä¸­çš„ç´¢å¼•ã€‚
3. å¦‚æœæ‰€æœ‰çš„å­—ç¬¦éƒ½æ»¡è¶³è§„åˆ™ï¼Œè¿”å› `true`ï¼›å¦åˆ™è¿”å› `false`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ŒåŒæŒ‡é’ˆéå†å­—ç¬¦ä¸² `start` å’Œ `target`ï¼Œæ¯ä¸ªå­—ç¬¦æœ€å¤šéå†ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä»…ä½¿ç”¨äº†å›ºå®šæ•°é‡çš„å˜é‡ï¼Œæ²¡æœ‰é¢å¤–ç©ºé—´å¼€é”€ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} start
 * @param {string} target
 * @return {boolean}
 */
var canChange = function (start, target) {
	let n = start.length;
	let i = 0,
		j = 0;

	// åŒæŒ‡é’ˆéå†
	while (i < n || j < n) {
		// è·³è¿‡ start å’Œ target ä¸­çš„ç©ºä½ '_'
		while (i < n && start[i] === '_') i++;
		while (j < n && target[j] === '_') j++;

		// å¦‚æœä¸¤è€…åŒæ—¶ç»“æŸï¼Œè¯´æ˜åŒ¹é…æˆåŠŸ
		if (i === n && j === n) return true;

		// å¦‚æœåªæœ‰ä¸€ä¸ªç»“æŸï¼Œè¯´æ˜åŒ¹é…å¤±è´¥
		if (i === n || j === n) return false;

		// å½“å‰å­—ç¬¦å¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™åŒ¹é…å¤±è´¥
		if (start[i] !== target[j]) return false;

		// éªŒè¯ç§»åŠ¨è§„åˆ™
		if (start[i] === 'L' && i < j) return false; // 'L' ä¸èƒ½å‘å³ç§»åŠ¨
		if (start[i] === 'R' && i > j) return false; // 'R' ä¸èƒ½å‘å·¦ç§»åŠ¨

		// ç§»åŠ¨æŒ‡é’ˆ
		i++;
		j++;
	}

	return true;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 20 | æœ‰æ•ˆçš„æ‹¬å· | [[âœ“]](/problem/0020.md) |  [`æ ˆ`](/tag/stack.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/valid-parentheses) [ğŸ”—](https://leetcode.com/problems/valid-parentheses) |
| 777 | åœ¨LRå­—ç¬¦ä¸²ä¸­äº¤æ¢ç›¸é‚»å­—ç¬¦ |  |  [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/swap-adjacent-in-lr-string) [ğŸ”—](https://leetcode.com/problems/swap-adjacent-in-lr-string) |