---
title: 821. å­—ç¬¦çš„æœ€çŸ­è·ç¦»
description: LeetCode 821. å­—ç¬¦çš„æœ€çŸ­è·ç¦»é¢˜è§£ï¼ŒShortest Distance to a Characterï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 821. å­—ç¬¦çš„æœ€çŸ­è·ç¦»
  - å­—ç¬¦çš„æœ€çŸ­è·ç¦»
  - Shortest Distance to a Character
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - åŒæŒ‡é’ˆ
  - å­—ç¬¦ä¸²
---

# 821. å­—ç¬¦çš„æœ€çŸ­è·ç¦»

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/shortest-distance-to-a-character) [`LeetCode`](https://leetcode.com/problems/shortest-distance-to-a-character)

## é¢˜ç›®

Given a string `s` and a character `c` that occurs in `s`, return _an array of
integers_`answer` _where_`answer.length == s.length` _and_`answer[i]`_is
the **distance** from index _`i` _to the **closest** occurrence of character_`c` _in_`s`.

The **distance** between two indices `i` and `j` is `abs(i - j)`, where `abs`
is the absolute value function.

**Example 1:**

> Input: s = "loveleetcode", c = "e"
>
> Output: [3,2,1,0,1,0,0,1,2,2,1,0]
>
> Explanation: The character 'e' appears at indices 3, 5, 6, and 11 (0-indexed).
>
> The closest occurrence of 'e' for index 0 is at index 3, so the distance is abs(0 - 3) = 3.
>
> The closest occurrence of 'e' for index 1 is at index 3, so the distance is abs(1 - 3) = 2.
>
> For index 4, there is a tie between the 'e' at index 3 and the 'e' at index 5, but the distance is still the same: abs(4 - 3) == abs(4 - 5) = 1.
>
> The closest occurrence of 'e' for index 8 is at index 6, so the distance is abs(8 - 6) = 2.

**Example 2:**

> Input: s = "aaab", c = "b"
>
> Output: [3,2,1,0]

**Constraints:**

- `1 <= s.length <= 10^4`
- `s[i]` and `c` are lowercase English letters.
- It is guaranteed that `c` occurs at least once in `s`.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªå­—ç¬¦ `c` ï¼Œä¸” `c` æ˜¯ `s` ä¸­å‡ºç°è¿‡çš„å­—ç¬¦ã€‚

è¿”å›ä¸€ä¸ªæ•´æ•°æ•°ç»„ `answer` ï¼Œå…¶ä¸­ `answer.length == s.length` ä¸” `answer[i]` æ˜¯ `s` ä¸­ä»ä¸‹æ ‡ `i`
åˆ°ç¦»å®ƒ **æœ€è¿‘** çš„å­—ç¬¦ `c` çš„ **è·ç¦»** ã€‚

ä¸¤ä¸ªä¸‹æ ‡ `i` å’Œ `j` ä¹‹é—´çš„ **è·ç¦»** ä¸º `abs(i - j)` ï¼Œå…¶ä¸­ `abs` æ˜¯ç»å¯¹å€¼å‡½æ•°ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** s = "loveleetcode", c = "e"
>
> **è¾“å‡ºï¼š**[3,2,1,0,1,0,0,1,2,2,1,0]
>
> **è§£é‡Šï¼š** å­—ç¬¦ 'e' å‡ºç°åœ¨ä¸‹æ ‡ 3ã€5ã€6 å’Œ 11 å¤„ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹è®¡æ•°ï¼‰ã€‚
>
> è·ä¸‹æ ‡ 0 æœ€è¿‘çš„ 'e' å‡ºç°åœ¨ä¸‹æ ‡ 3 ï¼Œæ‰€ä»¥è·ç¦»ä¸º abs(0 - 3) = 3 ã€‚
>
> è·ä¸‹æ ‡ 1 æœ€è¿‘çš„ 'e' å‡ºç°åœ¨ä¸‹æ ‡ 3 ï¼Œæ‰€ä»¥è·ç¦»ä¸º abs(1 - 3) = 2 ã€‚
>
> å¯¹äºä¸‹æ ‡ 4 ï¼Œå‡ºç°åœ¨ä¸‹æ ‡ 3 å’Œä¸‹æ ‡ 5 å¤„çš„ 'e' éƒ½ç¦»å®ƒæœ€è¿‘ï¼Œä½†è·ç¦»æ˜¯ä¸€æ ·çš„ abs(4 - 3) == abs(4 - 5) = 1 ã€‚
>
> è·ä¸‹æ ‡ 8 æœ€è¿‘çš„ 'e' å‡ºç°åœ¨ä¸‹æ ‡ 6 ï¼Œæ‰€ä»¥è·ç¦»ä¸º abs(8 - 6) = 2 ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** s = "aaab", c = "b"
>
> **è¾“å‡ºï¼š**[3,2,1,0]

**æç¤ºï¼š**

- `1 <= s.length <= 10^4`
- `s[i]` å’Œ `c` å‡ä¸ºå°å†™è‹±æ–‡å­—æ¯
- é¢˜ç›®æ•°æ®ä¿è¯ `c` åœ¨ `s` ä¸­è‡³å°‘å‡ºç°ä¸€æ¬¡

## è§£é¢˜æ€è·¯

è¿™é“é¢˜å¯ä»¥é€šè¿‡ä¸¤æ¬¡éå†å­—ç¬¦ä¸² `s` æ¥è§£å†³ï¼Œåˆ†åˆ«ä»å·¦åˆ°å³å’Œä»å³åˆ°å·¦æ›´æ–°è·ç¦»ã€‚

1. **ä»å·¦åˆ°å³éå†**ï¼š

   - éå†å­—ç¬¦ä¸² `s`ï¼Œè®°å½•æ¯ä¸ªä½ç½®è·ç¦»ä¸Šä¸€ä¸ªå­—ç¬¦ `c` çš„è·ç¦»ã€‚
   - å¦‚æœå½“å‰ä½ç½®æ˜¯å­—ç¬¦ `c`ï¼Œæ›´æ–°ä¸Šä¸€ä¸ªå­—ç¬¦ `c` ä¸ºå½“å‰ä½ç½®ã€‚

2. **ä»å³åˆ°å·¦éå†**ï¼š
   - å†æ¬¡éå†å­—ç¬¦ä¸² `s`ï¼Œæ›´æ–°æ¯ä¸ªä½ç½®è·ç¦»ä¸‹ä¸€ä¸ªå­—ç¬¦ `c` çš„è·ç¦»ï¼Œå–ä¸¤ä¸ªæ–¹å‘çš„æœ€å°å€¼ã€‚

è¿™æ ·å¯ä»¥ç¡®ä¿æ¯ä¸ªä½ç½®çš„æœ€å°è·ç¦»éƒ½è¢«æ­£ç¡®æ›´æ–°ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œéœ€è¦éå†ä¸¤æ¬¡å­—ç¬¦ä¸²ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œä½¿ç”¨äº†ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„å­˜å‚¨ç­”æ¡ˆæ•°ç»„ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @param {character} c
 * @return {number[]}
 */
var shortestToChar = function (s, c) {
	const n = s.length;
	const res = new Array(n).fill(Infinity);

	// ä»å·¦åˆ°å³æ›´æ–°è·ç¦»
	let prev = -Infinity; // è®°å½•ä¸Šä¸€ä¸ªå­—ç¬¦ c çš„ä½ç½®
	for (let i = 0; i < n; i++) {
		if (s[i] === c) {
			prev = i;
		}
		res[i] = i - prev;
	}

	// ä»å³åˆ°å·¦æ›´æ–°è·ç¦»
	prev = Infinity; // è®°å½•ä¸‹ä¸€ä¸ªå­—ç¬¦ c çš„ä½ç½®
	for (let i = n - 1; i >= 0; i--) {
		if (s[i] === c) {
			prev = i;
		}
		res[i] = Math.min(res[i], prev - i);
	}

	return res;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 2399 | æ£€æŸ¥ç›¸åŒå­—æ¯é—´çš„è·ç¦» |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/check-distances-between-same-letters) [ğŸ”—](https://leetcode.com/problems/check-distances-between-same-letters) |