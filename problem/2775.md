---
title: 2775. å°† undefined è½¬ä¸º null ğŸ”’
description: LeetCode 2775. å°† undefined è½¬ä¸º null ğŸ”’é¢˜è§£ï¼ŒUndefined to Nullï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2775. å°† undefined è½¬ä¸º null ğŸ”’
  - å°† undefined è½¬ä¸º null
  - Undefined to Null
  - è§£é¢˜æ€è·¯
---

# 2775. å°† undefined è½¬ä¸º null ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/undefined-to-null) [`LeetCode`](https://leetcode.com/problems/undefined-to-null)

## é¢˜ç›®

Given a deeply nested object or array `obj`, return the object `obj` with any
`undefined` values replaced by `null`.

`undefined` values are handled differently than `null` values when objects are
converted to a JSON string using `JSON.stringify()`. This function helps
ensure serialized data is free of unexpected errors.

**Example 1:**

> Input: obj = {"a": undefined, "b": 3}
>
> Output: {"a": null, "b": 3}
>
> Explanation: The value for obj.a has been changed from undefined to null

**Example 2:**

> Input: obj = {"a": undefined, "b": ["a", undefined]}
>
> Output: {"a": null,"b": ["a", null]}
>
> Explanation: The values for obj.a and obj.b[1] have been changed from undefined to null

**Constraints:**

- `obj` is a valid JSON object or array
- `2 <= JSON.stringify(obj).length <= 10^5`

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªæ·±å±‚åµŒå¥—çš„å¯¹è±¡æˆ–æ•°ç»„ `obj` ï¼Œå¹¶åˆ›å»ºè¯¥å¯¹è±¡ `obj` çš„å‰¯æœ¬ï¼Œå°†å…¶ä¸­çš„ä»»ä½• `undefined` å€¼æ›¿æ¢ä¸º `null` ã€‚

å½“ä½¿ç”¨ `JSON.stringify()` å°†å¯¹è±¡è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²æ—¶ï¼Œ`undefined` å€¼ä¸ `null`
å€¼çš„å¤„ç†æ–¹å¼ä¸åŒã€‚è¯¥å‡½æ•°æœ‰åŠ©äºç¡®ä¿åºåˆ—åŒ–æ•°æ®ä¸ä¼šå‡ºç°æ„å¤–é”™è¯¯ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** obj = {"a": undefined, "b": 3}
>
> **è¾“å‡ºï¼š** {"a": null, "b": 3}
>
> **è§£é‡Šï¼š** obj.a çš„å€¼å·²ä» undefined æ›´æ”¹ä¸º null ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** obj = {"a": undefined, "b": ["a", undefined]}
>
> **è¾“å‡ºï¼š** {"a": null,"b": ["a", null]}
>
> **è§£é‡Šï¼š** obj.a å’Œ obj.b[1] çš„å€¼å·²ä» undefined æ›´æ”¹ä¸º null ã€‚

**æç¤ºï¼š**

- `obj` æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ JSON å¯¹è±¡æˆ–æ•°ç»„
- `2 <= JSON.stringify(obj).length <= 10^5`

## è§£é¢˜æ€è·¯

1. é€šè¿‡åˆ¤æ–­è¾“å…¥æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºæ•°ç»„æˆ–å¯¹è±¡ï¼ˆ`res`ï¼‰ï¼Œä»¥ä¾¿å­˜å‚¨æœ€ç»ˆçš„ç»“æœã€‚å› ä¸ºéœ€è¦**æ·±åº¦å¤åˆ¶**åŸå¯¹è±¡æˆ–æ•°ç»„ï¼Œä¿è¯ä¸ä¿®æ”¹åŸå¯¹è±¡ã€‚

2. ä½¿ç”¨ `for...in` å¾ªç¯éå†è¾“å…¥å¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰çš„æ¯ä¸€ä¸ªå±æ€§ï¼š

   - å¦‚æœå±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„ï¼Œåˆ™é€’å½’è°ƒç”¨ `undefinedToNull` æ–¹æ³•ç»§ç»­å¤„ç†å…¶å­å±æ€§ï¼Œç¡®ä¿æ¯ä¸€å±‚éƒ½æ­£ç¡®å¤„ç†ã€‚
   - å¦‚æœå€¼æ˜¯ `undefined`ï¼Œå°†è¯¥å€¼æ›¿æ¢ä¸º `null`ã€‚
   - å¦‚æœå€¼æ˜¯å…¶ä»–ç±»å‹ï¼ˆå¦‚æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ç­‰ï¼‰ï¼Œç›´æ¥å°†è¯¥å€¼èµ‹ç»™ç»“æœã€‚

3. æœ€ç»ˆï¼Œè¿”å›æ·±åº¦å¤åˆ¶å¹¶å¤„ç†è¿‡çš„å¯¹è±¡æˆ–æ•°ç»„ `res`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯å¯¹è±¡æˆ–æ•°ç»„çš„å…ƒç´ æ€»æ•°ï¼Œæ¯ä¸ªå…ƒç´ éƒ½ä¼šè¢«è®¿é—®ä¸€æ¬¡å¹¶è¿›è¡Œå¤„ç†ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå› ä¸ºåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å‰¯æœ¬å¯¹è±¡æˆ–æ•°ç»„ï¼Œç©ºé—´éœ€æ±‚ä¸è¾“å…¥å¯¹è±¡å¤§å°æˆæ­£æ¯”ã€‚

## ä»£ç 

```javascript
/**
 * @param {Object|Array} obj
 * @return {Object|Array}
 */
var undefinedToNull = function (obj) {
	// åˆ¤æ–­ obj æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºæ•°ç»„æˆ–å¯¹è±¡
	let res = Array.isArray(obj) ? [] : {};

	// éå† obj çš„æ¯ä¸ªå±æ€§
	for (let key in obj) {
		// å¦‚æœå½“å‰å±æ€§å€¼æ˜¯å¯¹è±¡æˆ–æ•°ç»„ï¼Œé€’å½’è°ƒç”¨ undefinedToNull å¤„ç†
		if (typeof obj[key] === 'object') {
			res[key] = undefinedToNull(obj[key]);
		}
		// å¦‚æœå½“å‰å±æ€§å€¼æ˜¯ undefinedï¼Œæ›¿æ¢ä¸º null
		else if (obj[key] == undefined) {
			res[key] = null;
		}
		// å¦åˆ™ç›´æ¥å°†åŸå€¼èµ‹ç»™ç»“æœå¯¹è±¡
		else {
			res[key] = obj[key];
		}
	}

	// è¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡æˆ–æ•°ç»„
	return res;
};
```
