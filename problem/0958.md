# [958. äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ](https://leetcode.com/problems/check-completeness-of-a-binary-tree)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/tag/tree.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/check-completeness-of-a-binary-tree)

## é¢˜ç›®

<p>ç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<meta charset="UTF-8" />&nbsp;<code>root</code> ï¼Œè¯·ä½ åˆ¤æ–­è¿™æ£µæ ‘æ˜¯å¦æ˜¯ä¸€æ£µ <strong>å®Œå…¨äºŒå‰æ ‘</strong>&nbsp;ã€‚</p>

<p>åœ¨ä¸€æ£µ <strong><a href="https://baike.baidu.com/item/å®Œå…¨äºŒå‰æ ‘/7773232?fr=aladdin" target="_blank">å®Œå…¨äºŒå‰æ ‘</a></strong> ä¸­ï¼Œé™¤äº†æœ€åä¸€å±‚å¤–ï¼Œæ‰€æœ‰å±‚éƒ½è¢«å®Œå…¨å¡«æ»¡ï¼Œå¹¶ä¸”æœ€åä¸€å±‚ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½å°½å¯èƒ½é å·¦ã€‚æœ€åä¸€å±‚ï¼ˆç¬¬ <code>h</code> å±‚ï¼‰ä¸­å¯ä»¥åŒ…å«<meta charset="UTF-8" />&nbsp;<code>1</code>&nbsp;åˆ°<meta charset="UTF-8" />&nbsp;<code>2<sup>h</sup></code> ä¸ªèŠ‚ç‚¹ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<p><img alt="" src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/15/complete-binary-tree-1.png" /></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>root = [1,2,3,4,5,6]
<strong>è¾“å‡ºï¼š</strong>true
<strong>è§£é‡Šï¼š</strong>æœ€åä¸€å±‚å‰çš„æ¯ä¸€å±‚éƒ½æ˜¯æ»¡çš„ï¼ˆå³ï¼ŒèŠ‚ç‚¹å€¼ä¸º {1} å’Œ {2,3} çš„ä¸¤å±‚ï¼‰ï¼Œä¸”æœ€åä¸€å±‚ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ˆ{4,5,6}ï¼‰å°½å¯èƒ½é å·¦ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<p><strong><img alt="" src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/15/complete-binary-tree-2.png" /></strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>root = [1,2,3,4,5,null,7]
<strong>è¾“å‡ºï¼š</strong>false
<strong>è§£é‡Šï¼š</strong>å€¼ä¸º 7 çš„èŠ‚ç‚¹ä¸æ»¡è¶³æ¡ä»¶ã€ŒèŠ‚ç‚¹å°½å¯èƒ½é å·¦ã€ã€‚
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ <code>[1, 100]</code> å†…</li>
	<li><code>1 &lt;= Node.val &lt;= 1000</code></li>
</ul>


## è§£é¢˜æ€è·¯

åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯å¦ä¸ºå®Œå…¨äºŒå‰æ ‘çš„å¸¸ç”¨æ–¹æ³•åŒ…æ‹¬å±‚åºéå†å’Œé€’å½’ä¸¤ç§ã€‚

### æ€è·¯ä¸€ï¼šå±‚åºéå†

å±‚åºéå†æ˜¯ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³ä¾æ¬¡éå†äºŒå‰æ ‘çš„æ¯ä¸€å±‚èŠ‚ç‚¹ã€‚åœ¨å±‚åºéå†çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹äºæ¯ä¸€ä¸ªéç©ºèŠ‚ç‚¹ï¼Œéƒ½å°†å…¶å·¦å³å­èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬ç©ºèŠ‚ç‚¹ï¼‰åŠ å…¥éå†é˜Ÿåˆ—ã€‚åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°ä¸€ä¸ªèŠ‚ç‚¹ä¸º `null`ï¼ˆç©ºèŠ‚ç‚¹ï¼‰ï¼Œåˆ™åç»­æ‰€æœ‰èŠ‚ç‚¹éƒ½åº”è¯¥æ˜¯ `null`ï¼Œå¦åˆ™ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚

---

### æ€è·¯äºŒï¼šé€’å½’

é€’å½’æ–¹æ³•ä¼šä½¿ç”¨èŠ‚ç‚¹ç¼–å·çš„æ€§è´¨ã€‚å¯¹äºä»»æ„èŠ‚ç‚¹ `i`ï¼Œå…¶å·¦å­èŠ‚ç‚¹ç¼–å·ä¸º `2 * i + 1`ï¼Œå³å­èŠ‚ç‚¹ç¼–å·ä¸º `2 * i + 2`ã€‚é€šè¿‡æ¯”è¾ƒèŠ‚ç‚¹çš„ç¼–å·å’Œæ ‘ä¸­å®é™…èŠ‚ç‚¹çš„æ•°é‡ï¼Œå¯ä»¥åˆ¤æ–­æ˜¯å¦ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚

## ä»£ç 

::: code-tabs
@tab å±‚åºéå†

```javascript
/**
 * @param {TreeNode} root
 * @return {boolean}
 */
var isCompleteTree = function (root) {
	if (!root) return true;
	let queue = [root];
	let foundNull = false;
	while (queue.length) {
		let node = queue.shift();
		if (!node) {
			foundNull = true;
		} else {
			if (foundNull) return false;
			queue.push(node.left);
			queue.push(node.right);
		}
	}
	return true;
};
```

@tab é€’å½’

```javascript
var isCompleteTree = function (root) {
	const count = (root) => {
		if (!root) return 0;
		return 1 + count(root.left) + count(root.right);
	};
	// è®¡ç®—æ•´æ£µæ ‘çš„èŠ‚ç‚¹æ•°é‡
	const total = count(root);

	const isComplete = (root, index) => {
		// å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œè®¤ä¸ºæ˜¯å®Œå…¨äºŒå‰æ ‘çš„ä¸€éƒ¨åˆ†
		if (!root) return true;
		// å¦‚æœå½“å‰èŠ‚ç‚¹çš„ç¼–å·è¶…è¿‡äº†æ€»èŠ‚ç‚¹æ•°é‡ï¼Œè¯´æ˜ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘
		if (index >= total) return false;
		// é€’å½’æ£€æŸ¥å·¦å³å­æ ‘
		return (
			isComplete(root.left, index * 2 + 1) &&
			isComplete(root.right, index * 2 + 2)
		);
	};
	// ä»æ ¹èŠ‚ç‚¹å¼€å§‹é€’å½’æ£€æŸ¥
	return isComplete(root, 0);
};
```

:::
