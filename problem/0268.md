# [268. ä¸¢å¤±çš„æ•°å­—](https://leetcode.com/problems/missing-number)

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ•°å­¦`](/tag/math.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/missing-number)

## é¢˜ç›®

<p>ç»™å®šä¸€ä¸ªåŒ…å« <code>[0, n]</code>&nbsp;ä¸­&nbsp;<code>n</code>&nbsp;ä¸ªæ•°çš„æ•°ç»„ <code>nums</code> ï¼Œæ‰¾å‡º <code>[0, n]</code> è¿™ä¸ªèŒƒå›´å†…æ²¡æœ‰å‡ºç°åœ¨æ•°ç»„ä¸­çš„é‚£ä¸ªæ•°ã€‚</p>

<ul>
</ul>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [3,0,1]
<strong>è¾“å‡ºï¼š</strong>2
<b>è§£é‡Šï¼š</b>n = 3ï¼Œå› ä¸ºæœ‰ 3 ä¸ªæ•°å­—ï¼Œæ‰€ä»¥æ‰€æœ‰çš„æ•°å­—éƒ½åœ¨èŒƒå›´ [0,3] å†…ã€‚2 æ˜¯ä¸¢å¤±çš„æ•°å­—ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å‡ºç°åœ¨ nums ä¸­ã€‚</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [0,1]
<strong>è¾“å‡ºï¼š</strong>2
<b>è§£é‡Šï¼š</b>n = 2ï¼Œå› ä¸ºæœ‰ 2 ä¸ªæ•°å­—ï¼Œæ‰€ä»¥æ‰€æœ‰çš„æ•°å­—éƒ½åœ¨èŒƒå›´ [0,2] å†…ã€‚2 æ˜¯ä¸¢å¤±çš„æ•°å­—ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å‡ºç°åœ¨ nums ä¸­ã€‚</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [9,6,4,2,3,5,7,0,1]
<strong>è¾“å‡ºï¼š</strong>8
<b>è§£é‡Šï¼š</b>n = 9ï¼Œå› ä¸ºæœ‰ 9 ä¸ªæ•°å­—ï¼Œæ‰€ä»¥æ‰€æœ‰çš„æ•°å­—éƒ½åœ¨èŒƒå›´ [0,9] å†…ã€‚8 æ˜¯ä¸¢å¤±çš„æ•°å­—ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å‡ºç°åœ¨ nums ä¸­ã€‚</pre>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [0]
<strong>è¾“å‡ºï¼š</strong>1
<b>è§£é‡Šï¼š</b>n = 1ï¼Œå› ä¸ºæœ‰ 1 ä¸ªæ•°å­—ï¼Œæ‰€ä»¥æ‰€æœ‰çš„æ•°å­—éƒ½åœ¨èŒƒå›´ [0,1] å†…ã€‚1 æ˜¯ä¸¢å¤±çš„æ•°å­—ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å‡ºç°åœ¨ nums ä¸­ã€‚</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>n == nums.length</code></li>
	<li><code>1 &lt;= n &lt;= 10<sup>4</sup></code></li>
	<li><code>0 &lt;= nums[i] &lt;= n</code></li>
	<li><code>nums</code> ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½ <strong>ç‹¬ä¸€æ— äºŒ</strong></li>
</ul>

<p>&nbsp;</p>

<p><strong>è¿›é˜¶ï¼š</strong>ä½ èƒ½å¦å®ç°çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€ä»…ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜?</p>


## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šæ•°å­¦è¿ç®—

è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡æ•°å­¦è¿ç®—æ¥è§£å†³ã€‚ç”±äºåºåˆ—åŒ…å«çš„æ˜¯ä» `0` åˆ° `n` çš„è¿ç»­æ•´æ•°ï¼Œå¯ä»¥è®¡ç®—åºåˆ—çš„æœŸæœ›å’Œå®é™…å’Œçš„å·®å€¼ï¼Œå³ç¼ºå¤±çš„æ•°å­—ã€‚

1. è®¡ç®—æœŸæœ›å’Œï¼šæ ¹æ®ç­‰å·®æ•°åˆ—çš„æ±‚å’Œå…¬å¼ï¼ŒæœŸæœ›å’Œä¸º `(n * (n + 1)) / 2`ã€‚
2. è®¡ç®—å®é™…å’Œï¼šéå†ç»™å®šçš„æ•°ç»„ï¼Œç´¯åŠ å¾—åˆ°å®é™…çš„å’Œã€‚
3. è¿”å›æœŸæœ›å’Œä¸å®é™…å’Œçš„å·®å€¼ï¼Œå³ä¸ºç¼ºå¤±çš„æ•°å­—ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚éå†æ•°ç»„ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ä¸ªé¢å¤–å˜é‡ã€‚

---

### æ€è·¯äºŒï¼šä½è¿ç®—

åœ¨è¿™ä¸ªæ€è·¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å¼‚æˆ–è¿ç®—çš„æ€§è´¨æ¥è§£å†³é—®é¢˜ã€‚å¼‚æˆ–è¿ç®—æœ‰ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„æ€§è´¨ï¼šä»»ä½•æ•°å’Œè‡ªèº«åšå¼‚æˆ–è¿ç®—ç»“æœéƒ½ä¸º 0ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬å°†æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—å’Œå®ƒä»¬çš„ç´¢å¼•è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œé‚£ä¹ˆç›¸åŒçš„æ•°å­—å°†ä¼šäº’ç›¸æŠµæ¶ˆï¼Œæœ€ç»ˆå‰©ä¸‹çš„ç»“æœå°±æ˜¯ç¼ºå¤±çš„æ•°å­—ã€‚

1. åˆå§‹åŒ–ä¸€ä¸ªå˜é‡ `res`ï¼Œå°†å…¶èµ‹å€¼ä¸ºæ•°ç»„çš„é•¿åº¦ `n`ï¼Œå› ä¸ºç¼ºå¤±çš„æ•°å­—è‚¯å®šåœ¨ `[0, n]` è¿™ä¸ªèŒƒå›´å†…ã€‚
2. éå†æ•°ç»„ï¼Œå¯¹ `res` å’Œæ•°ç»„å…ƒç´ ä»¥åŠå®ƒä»¬çš„ç´¢å¼•è¿›è¡Œå¼‚æˆ–è¿ç®—ã€‚
3. è¿”å› `res`ï¼Œå³ä¸ºç¼ºå¤±çš„æ•°å­—ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚éå†æ•°ç»„ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ä¸ªé¢å¤–å˜é‡ã€‚

---

### æ€è·¯ä¸‰ï¼šè´Ÿæ•°æ ‡è®°

è¿™ä¸ªæ€è·¯çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨æ•°ç»„çš„ç´¢å¼•æ¥æ ‡è®°æ•°å­—çš„å­˜åœ¨ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

1. åˆå§‹åŒ–ä¸€ä¸ªé•¿åº¦ä¸º `n+1` çš„å¸ƒå°”æ•°ç»„ `arr`ï¼Œåˆå§‹å€¼ä¸º `false`ã€‚
2. éå†ç»™å®šæ•°ç»„ `nums`ï¼Œå°† `arr` ä¸­å¯¹åº”çš„ç´¢å¼•ä½ç½®ç½®ä¸º `true`ã€‚
3. å†æ¬¡éå†æ•°ç»„ `arr`ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå€¼ä¸º `false` çš„ç´¢å¼•ï¼Œè¯¥ç´¢å¼•å³ä¸ºç¼ºå¤±çš„æ•°å­—ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚éœ€è¦éå†æ•°ç»„ä¸¤æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œéœ€è¦é¢å¤–çš„å¸ƒå°”æ•°ç»„å­˜å‚¨æ•°å­—çš„å­˜åœ¨æƒ…å†µã€‚

---

### æ€è·¯å››ï¼šå‹ç¼©çŠ¶æ€çš„è´Ÿæ•°æ ‡è®°

è¿™ä¸ªæ€è·¯åœ¨æ€è·¯ä¸‰çš„åŸºç¡€ä¸Šè¿›è¡Œäº†ä¸€äº›ä¼˜åŒ–ã€‚ç”±äºé¢˜ç›®å·²ç»æ˜ç¡®è¯´æ˜äº†æ•°ç»„ä¸­çš„æ•°å­—èŒƒå›´åœ¨ `0` åˆ° `n` ä¹‹é—´ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ•°ç»„ä¸­çš„å…ƒç´ ç¬¦å·æ¥æ ‡è®°æ•°å­—çš„å­˜åœ¨ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

1. éå†æ•°ç»„ `nums`ï¼Œå°†æ¯ä¸ªå…ƒç´ å¯¹åº”ç´¢å¼•ä½ç½®çš„å…ƒç´ ç½®ä¸ºè´Ÿæ•°ï¼Œè¡¨ç¤ºè¯¥ç´¢å¼•å¯¹åº”çš„æ•°å­—å­˜åœ¨ã€‚
2. å†æ¬¡éå†æ•°ç»„ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªéè´Ÿæ•°çš„ç´¢å¼•ï¼Œè¯¥ç´¢å¼•å³ä¸ºç¼ºå¤±çš„æ•°å­—ã€‚
3. å¦‚æœæ•°ç»„ä¸­å­˜åœ¨ `0`ï¼Œåˆ™æ ‡è®°ä¸‹æ¥ï¼Œå› ä¸º `0` åœ¨è¿™ç§æ–¹æ³•ä¸‹æ— æ³•é€šè¿‡è´Ÿæ•°æ ‡è®°ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚éœ€è¦éå†æ•°ç»„ä¸¤æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ä¸ªé¢å¤–å˜é‡ã€‚

## ä»£ç 

::: code-tabs

@tab æ•°å­¦è¿ç®—

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var missingNumber = function (nums) {
	const n = nums.length;
	const expect = (n * (n + 1)) / 2;
	const sum = nums.reduce((acc, num) => acc + num, 0);
	return expect - sum;
};
```

@tab ä½è¿ç®—

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var missingNumber = function (nums) {
	const n = nums.length;
	let res = n;
	for (let i = 0; i < n; i++) {
		res ^= nums[i] ^ i;
	}
	return res;
};
```

@tab è´Ÿæ•°æ ‡è®°

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var missingNumber = function (nums) {
	const n = nums.length;
	let arr = new Array(n + 1).fill(false);
	for (let i = 0; i < n; i++) {
		arr[nums[i]] = true;
	}
	let res;
	for (let i = 0; i <= n; i++) {
		if (!arr[i]) {
			res = i;
			break;
		}
	}
	return res;
};
```

@tab å‹ç¼©çŠ¶æ€çš„è´Ÿæ•°æ ‡è®°

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var missingNumber = function (nums) {
	let res, res_0;
	const n = nums.length;
	for (let i = 0; i < n; i++) {
		let index = Math.abs(nums[i]);
		if (index == n) {
			nums[index] = -n;
		} else {
			nums[index] = -nums[index];
		}
	}

	for (let i = 0; i <= n; i++) {
		if (nums[i] > 0 || nums[i] == undefined) {
			res = i;
			break;
		}
		if (nums[i] == 0) {
			res_0 = i;
		}
	}
	return res == undefined ? res_0 : res;
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 41 | [ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°](https://leetcode.com/problems/first-missing-positive) | [[âœ“]](/problem/0041.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) | <font color=#ff334b>Hard</font> |
| 136 | [åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—](https://leetcode.com/problems/single-number) | [[âœ“]](/problem/0136.md) |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) | <font color=#15bd66>Easy</font> |
| 287 | [å¯»æ‰¾é‡å¤æ•°](https://leetcode.com/problems/find-the-duplicate-number) | [[âœ“]](/problem/0287.md) |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) `1+` | <font color=#ffb800>Medium</font> |
| 765 | [æƒ…ä¾£ç‰µæ‰‹](https://leetcode.com/problems/couples-holding-hands) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) `2+` | <font color=#ff334b>Hard</font> |
| 1980 | [æ‰¾å‡ºä¸åŒçš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²](https://leetcode.com/problems/find-unique-binary-string) |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | <font color=#ffb800>Medium</font> |