---
title: 2560. æ‰“å®¶åŠ«èˆ IV
description: LeetCode 2560. æ‰“å®¶åŠ«èˆ IVé¢˜è§£ï¼ŒHouse Robber IVï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2560. æ‰“å®¶åŠ«èˆ IV
  - æ‰“å®¶åŠ«èˆ IV
  - House Robber IV
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
---

# 2560. æ‰“å®¶åŠ«èˆ IV

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/house-robber-iv) [`LeetCode`](https://leetcode.com/problems/house-robber-iv)

## é¢˜ç›®

There are several consecutive houses along a street, each of which has some
money inside. There is also a robber, who wants to steal money from the homes,
but he **refuses to steal from adjacent homes**.

The **capability** of the robber is the maximum amount of money he steals from
one house of all the houses he robbed.

You are given an integer array `nums` representing how much money is stashed
in each house. More formally, the `ith` house from the left has `nums[i]`
dollars.

You are also given an integer `k`, representing the **minimum** number of
houses the robber will steal from. It is always possible to steal at least `k`
houses.

Return _the **minimum** capability of the robber out of all the possible ways to steal at least_ `k` _houses_.

**Example 1:**

> Input: nums = [2,3,5,9], k = 2
>
> Output: 5
>
> Explanation:
>
> There are three ways to rob at least 2 houses:
>
> - Rob the houses at indices 0 and 2. Capability is max(nums[0], nums[2]) = 5.
> - Rob the houses at indices 0 and 3. Capability is max(nums[0], nums[3]) = 9.
> - Rob the houses at indices 1 and 3. Capability is max(nums[1], nums[3]) = 9.
>
> Therefore, we return min(5, 9, 9) = 5.

**Example 2:**

> Input: nums = [2,7,9,3,1], k = 2
>
> Output: 2
>
> Explanation: There are 7 ways to rob the houses. The way which leads to minimum capability is to rob the house at index 0 and 4. Return max(nums[0], nums[4]) = 2.

**Constraints:**

- `1 <= nums.length <= 10^5`
- `1 <= nums[i] <= 10^9`
- `1 <= k <= (nums.length + 1)/2`

## é¢˜ç›®å¤§æ„

æ²¿è¡—æœ‰ä¸€æ’è¿ç»­çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å±‹å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ã€‚ç°åœ¨æœ‰ä¸€ä½å°å·è®¡åˆ’ä»è¿™äº›æˆ¿å±‹ä¸­çªƒå–ç°é‡‘ã€‚

ç”±äºç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œæ‰€ä»¥å°å· **ä¸ä¼šçªƒå–ç›¸é‚»çš„æˆ¿å±‹** ã€‚

å°å·çš„ **çªƒå–èƒ½åŠ›** å®šä¹‰ä¸ºä»–åœ¨çªƒå–è¿‡ç¨‹ä¸­èƒ½ä»å•é—´æˆ¿å±‹ä¸­çªƒå–çš„ **æœ€å¤§é‡‘é¢** ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` è¡¨ç¤ºæ¯é—´æˆ¿å±‹å­˜æ”¾çš„ç°é‡‘é‡‘é¢ã€‚å½¢å¼ä¸Šï¼Œä»å·¦èµ·ç¬¬ `i` é—´æˆ¿å±‹ä¸­æ”¾æœ‰ `nums[i]` ç¾å…ƒã€‚

å¦ç»™ä½ ä¸€ä¸ªæ•´æ•° `k` ï¼Œè¡¨ç¤ºçªƒè´¼å°†ä¼šçªƒå–çš„ **æœ€å°‘** æˆ¿å±‹æ•°ã€‚å°å·æ€»èƒ½çªƒå–è‡³å°‘ `k` é—´æˆ¿å±‹ã€‚

è¿”å›å°å·çš„ **æœ€å°** çªƒå–èƒ½åŠ›ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** nums = [2,3,5,9], k = 2
>
> **è¾“å‡ºï¼š** 5
>
> **è§£é‡Šï¼š**
>
> å°å·çªƒå–è‡³å°‘ 2 é—´æˆ¿å±‹ï¼Œå…±æœ‰ 3 ç§æ–¹å¼ï¼š
>
> - çªƒå–ä¸‹æ ‡ 0 å’Œ 2 å¤„çš„æˆ¿å±‹ï¼Œçªƒå–èƒ½åŠ›ä¸º max(nums[0], nums[2]) = 5 ã€‚
> - çªƒå–ä¸‹æ ‡ 0 å’Œ 3 å¤„çš„æˆ¿å±‹ï¼Œçªƒå–èƒ½åŠ›ä¸º max(nums[0], nums[3]) = 9 ã€‚
> - çªƒå–ä¸‹æ ‡ 1 å’Œ 3 å¤„çš„æˆ¿å±‹ï¼Œçªƒå–èƒ½åŠ›ä¸º max(nums[1], nums[3]) = 9 ã€‚
>
> å› æ­¤ï¼Œè¿”å› min(5, 9, 9) = 5 ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** nums = [2,7,9,3,1], k = 2
>
> **è¾“å‡ºï¼š** 2
>
> **è§£é‡Šï¼š** å…±æœ‰ 7 ç§çªƒå–æ–¹å¼ã€‚çªƒå–èƒ½åŠ›æœ€å°çš„æƒ…å†µæ‰€å¯¹åº”çš„æ–¹å¼æ˜¯çªƒå–ä¸‹æ ‡ 0 å’Œ 4 å¤„çš„æˆ¿å±‹ã€‚è¿”å› max(nums[0], nums[4]) = 2 ã€‚

**æç¤ºï¼š**

- `1 <= nums.length <= 10^5`
- `1 <= nums[i] <= 10^9`
- `1 <= k <= (nums.length + 1)/2`

## è§£é¢˜æ€è·¯

1. **ç¡®å®šæœç´¢èŒƒå›´**ï¼š

   - **æœ€å°å€¼ `left = min(nums)`**ï¼ˆæœ€å°æˆ¿å­ä»·å€¼ï¼‰ã€‚
   - **æœ€å¤§å€¼ `right = max(nums)`**ï¼ˆæœ€å¤§æˆ¿å­ä»·å€¼ï¼‰ã€‚

2. **äºŒåˆ† `mid = (left + right) / 2`**ï¼Œè¡¨ç¤ºå°è¯•ä»¥ `mid` ä½œä¸ºæ‰€é€‰æˆ¿å­çš„æœ€å¤§ä»·å€¼ï¼š

   - **èƒ½å¦é€‰æ‹© `k` ä¸ªæˆ¿å­ï¼Œä½¿å¾—æœ€å¤§å€¼ â‰¤ `mid`ï¼Ÿ**
     - éå† `nums`ï¼Œé‡‡ç”¨**è´ªå¿ƒç­–ç•¥** (`canStealKHouses(cap)`)ï¼š
       - å¦‚æœå½“å‰æˆ¿å­ä»·å€¼ `â‰¤ mid`ï¼Œåˆ™å·è¯¥æˆ¿å­ï¼Œå¹¶è·³è¿‡ä¸‹ä¸€ä¸ªæˆ¿å­ï¼ˆé¿å…ç›¸é‚»ï¼‰ã€‚
       - å¦åˆ™ï¼Œè·³è¿‡è¯¥æˆ¿å­ã€‚
     - ç»Ÿè®¡å·å–çš„æˆ¿å­æ•°é‡ `count`ï¼Œå¦‚æœ `count â‰¥ k`ï¼Œè¯´æ˜ `mid` å¯è¡Œã€‚
   - è‹¥ `mid` å¯è¡Œï¼Œå°è¯•æ›´å°çš„ `mid`ï¼Œè°ƒæ•´ `right = mid`ã€‚
   - è‹¥ `mid` ä¸å¯è¡Œï¼Œå°è¯•æ›´å¤§çš„ `mid`ï¼Œè°ƒæ•´ `left = mid + 1`ã€‚

3. **æœ€ç»ˆè¿”å›æœ€å°å¯è¡Œçš„ `mid`**ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n log M)`

  - äºŒåˆ†æŸ¥æ‰¾ `O(log M)`ï¼Œå…¶ä¸­ `M = max(nums) - min(nums)`ã€‚
  - æ¯æ¬¡æ£€æŸ¥ `O(n)`ï¼Œ`canStealKHouses` éå† `nums` è®¡ç®—æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚
  - æ€»å¤æ‚åº¦ `O(n log M)`ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä»…ä½¿ç”¨å¸¸æ•°ä¸ªå˜é‡ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number}
 */
var minCapability = function (nums, k) {
	const canStealKHouses = (cap) => {
		let count = 0;
		let i = 0;
		while (i < nums.length) {
			if (nums[i] <= cap) {
				if (++count >= k) return true;
				i += 2;
			} else {
				i++;
			}
		}
		return false;
	};

	let left = Math.min(...nums);
	let right = Math.max(...nums);

	while (left < right) {
		const mid = ((left + right) / 2) | 0;
		if (canStealKHouses(mid)) {
			right = mid;
		} else {
			left = mid + 1;
		}
	}
	return left;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 11 | ç››æœ€å¤šæ°´çš„å®¹å™¨ | [[âœ“]](/problem/0011.md) |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/container-with-most-water) [ğŸ”—](https://leetcode.com/problems/container-with-most-water) |
| 198 | æ‰“å®¶åŠ«èˆ | [[âœ“]](/problem/0198.md) |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/house-robber) [ğŸ”—](https://leetcode.com/problems/house-robber) |