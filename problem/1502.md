---
title: 1502. åˆ¤æ–­èƒ½å¦å½¢æˆç­‰å·®æ•°åˆ—
description: LeetCode 1502. åˆ¤æ–­èƒ½å¦å½¢æˆç­‰å·®æ•°åˆ—é¢˜è§£ï¼ŒCan Make Arithmetic Progression From Sequenceï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1502. åˆ¤æ–­èƒ½å¦å½¢æˆç­‰å·®æ•°åˆ—
  - åˆ¤æ–­èƒ½å¦å½¢æˆç­‰å·®æ•°åˆ—
  - Can Make Arithmetic Progression From Sequence
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - æ’åº
---

# 1502. åˆ¤æ–­èƒ½å¦å½¢æˆç­‰å·®æ•°åˆ—

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/can-make-arithmetic-progression-from-sequence) [`LeetCode`](https://leetcode.com/problems/can-make-arithmetic-progression-from-sequence)

## é¢˜ç›®

A sequence of numbers is called an **arithmetic progression** if the
difference between any two consecutive elements is the same.

Given an array of numbers `arr`, return `true` _if the array can be rearranged
to form an**arithmetic progression**. Otherwise, return_ `false`.

**Example 1:**

> Input: arr = [3,5,1]
>
> Output: true
>
> Explanation: We can reorder the elements as [1,3,5] or [5,3,1] with differences 2 and -2 respectively, between each consecutive elements.

**Example 2:**

> Input: arr = [1,2,4]
>
> Output: false
>
> Explanation: There is no way to reorder the elements to obtain an arithmetic progression.

**Constraints:**

- `2 <= arr.length <= 1000`
- `-10^6 <= arr[i] <= 10^6`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•°å­—æ•°ç»„ `arr` ã€‚

å¦‚æœä¸€ä¸ªæ•°åˆ—ä¸­ï¼Œä»»æ„ç›¸é‚»ä¸¤é¡¹çš„å·®æ€»ç­‰äºåŒä¸€ä¸ªå¸¸æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°åˆ—å°±ç§°ä¸º **ç­‰å·®æ•°åˆ—** ã€‚

å¦‚æœå¯ä»¥é‡æ–°æ’åˆ—æ•°ç»„å½¢æˆç­‰å·®æ•°åˆ—ï¼Œè¯·è¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** arr = [3,5,1]
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š** å¯¹æ•°ç»„é‡æ–°æ’åºå¾—åˆ° [1,3,5] æˆ–è€… [5,3,1] ï¼Œä»»æ„ç›¸é‚»ä¸¤é¡¹çš„å·®åˆ†åˆ«ä¸º 2 æˆ– -2 ï¼Œå¯ä»¥å½¢æˆç­‰å·®æ•°åˆ—ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** arr = [1,2,4]
>
> **è¾“å‡ºï¼š** false
>
> **è§£é‡Šï¼š** æ— æ³•é€šè¿‡é‡æ–°æ’åºå¾—åˆ°ç­‰å·®æ•°åˆ—ã€‚

**æç¤ºï¼š**

- `2 <= arr.length <= 1000`
- `-10^6 <= arr[i] <= 10^6`

## è§£é¢˜æ€è·¯

1. **ç­‰å·®æ•°åˆ—çš„ç‰¹æ€§**:

   - å¯¹äºä¸€ä¸ªç­‰å·®æ•°åˆ—ï¼Œæœ€å¤§å€¼å’Œæœ€å°å€¼ç¡®å®šåï¼Œæ¯ä¸¤ä¸ªç›¸é‚»æ•°ä¹‹é—´çš„å·®æ˜¯å›ºå®šçš„ (`gap`)ã€‚
   - ç»™å®šæœ€å°å€¼ `min` å’Œé—´éš” `gap`ï¼Œç­‰å·®æ•°åˆ—ä¸­æ¯ä¸ªæ•°å­— `arr[i]` éƒ½åº”è¯¥æ»¡è¶³ï¼š
     `arr[i] = min + i * gap`
   - å¦‚æœæŸä¸ªæ•°ä¸åœ¨å…¶ç›®æ ‡ä½ç½®ï¼ˆå³ `arr[i] â‰  min + i * gap`ï¼‰ï¼Œå¯ä»¥å°†å…¶ä¸ç›®æ ‡ä½ç½®ä¸Šçš„æ•°äº¤æ¢ï¼Œç›´åˆ°æ‰€æœ‰æ•°éƒ½åœ¨ç›®æ ‡ä½ç½®ã€‚

2. **æ£€æŸ¥ä½ç½®æ˜¯å¦æ­£ç¡®**:

   - å¦‚æœå½“å‰æ•°å­—å·²ç»åœ¨æ­£ç¡®ä½ç½®ï¼ˆå³ `arr[i] === min + i * gap`ï¼‰ï¼Œåˆ™ç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ªæ•°å­—ã€‚
   - å¦‚æœå½“å‰æ•°å­—ä¸åœ¨æ­£ç¡®ä½ç½®ï¼š
     - é€šè¿‡ç›®æ ‡ä½ç½®å…¬å¼è®¡ç®—æ­£ç¡®ä½ç½® `pos = (arr[i] - min) / gap`ã€‚
     - æ£€æŸ¥ `pos` æ˜¯å¦æœ‰æ•ˆï¼ˆèŒƒå›´åœ¨ `[0, n-1]` ä¹‹é—´çš„æ•´æ•°ï¼‰ï¼Œå¹¶ç¡®ä¿ç›®æ ‡ä½ç½®çš„æ•°å­—ä¸å½“å‰æ•°å­—ä¸åŒï¼Œé¿å…é‡å¤ã€‚

3. **äº¤æ¢æ•°å­—**:

   - å¦‚æœå‘ç°æ•°å­—ä¸åœ¨ç›®æ ‡ä½ç½®ï¼Œäº¤æ¢ `arr[i]` å’Œ `arr[pos]`ã€‚
   - é‡å¤æ£€æŸ¥æ–°çš„ `arr[i]`ï¼Œç›´åˆ°è¯¥ä½ç½®æ•°å­—æ»¡è¶³ç­‰å·®æ•°åˆ—çš„æ¡ä»¶ã€‚

4. **ç»§ç»­éå†**:
   - å¤„ç†ä¸‹ä¸€ä¸ªæ•°å­—ï¼Œç›´åˆ°æ‰€æœ‰æ•°å­—éƒ½åœ¨æ­£ç¡®ä½ç½®ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**: `O(n)`ï¼Œéå†æ•°ç»„ä¸¤æ¬¡ï¼šä¸€æ¬¡æ‰¾æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œä¸€æ¬¡è°ƒæ•´å…ƒç´ ä½ç½®ã€‚
- **ç©ºé—´å¤æ‚åº¦**: `O(1)`ï¼ŒåŸåœ°ä¿®æ”¹æ•°ç»„ï¼Œæ— é¢å¤–ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} arr
 * @return {boolean}
 */
var canMakeArithmeticProgression = function (arr) {
	let min = Infinity,
		max = -Infinity;

	// æ‰¾åˆ°æ•°ç»„çš„æœ€å°å€¼å’Œæœ€å¤§å€¼
	for (let num of arr) {
		if (num > max) max = num;
		if (num < min) min = num;
	}

	const n = arr.length;
	const gap = (max - min) / (n - 1);

	// ç‰¹æ®Šæƒ…å†µï¼Œæ•°ç»„ä¸­çš„æ•°å…¨éƒ¨ç›¸åŒæ—¶ï¼Œä¹Ÿæ˜¯ç­‰å·®æ•°åˆ—ï¼Œè¿”å› true
	if (gap === 0) return true;

	let i = 0;
	while (i < n) {
		// æ£€æŸ¥å½“å‰å…ƒç´ æ˜¯å¦åœ¨æ­£ç¡®ä½ç½®
		if (arr[i] === min + i * gap) {
			i++;
		} else {
			const diff = arr[i] - min;

			// æ£€æŸ¥å½“å‰å…ƒç´ æ˜¯å¦æ»¡è¶³ç­‰å·®å…¬å¼
			if (diff % gap !== 0) return false;

			const pos = diff / gap;

			// æ£€æŸ¥æ˜¯å¦å‡ºç°é‡å¤
			if (arr[pos] === arr[i]) return false;

			// äº¤æ¢åˆ°æ­£ç¡®ä½ç½®
			let temp = arr[pos];
			arr[pos] = arr[i];
			arr[i] = temp;
		}
	}
	return true;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1630 | ç­‰å·®å­æ•°ç»„ |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ’åº`](/tag/sorting.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/arithmetic-subarrays) [ğŸ”—](https://leetcode.com/problems/arithmetic-subarrays) |