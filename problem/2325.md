---
title: 2325. è§£å¯†æ¶ˆæ¯
description: LeetCode 2325. è§£å¯†æ¶ˆæ¯é¢˜è§£ï¼ŒDecode the Messageï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2325. è§£å¯†æ¶ˆæ¯
  - è§£å¯†æ¶ˆæ¯
  - Decode the Message
  - è§£é¢˜æ€è·¯
  - å“ˆå¸Œè¡¨
  - å­—ç¬¦ä¸²
---

# 2325. è§£å¯†æ¶ˆæ¯

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/decode-the-message) [`LeetCode`](https://leetcode.com/problems/decode-the-message)

## é¢˜ç›®

You are given the strings `key` and `message`, which represent a cipher key
and a secret message, respectively. The steps to decode `message` are as
follows:

1. Use the **first** appearance of all 26 lowercase English letters in `key` as the **order** of the substitution table.
2. Align the substitution table with the regular English alphabet.
3. Each letter in `message` is then **substituted** using the table.
4. Spaces `' '` are transformed to themselves.

- For example, given `key = "happy boy"` (actual key would have **at least one** instance of each letter in the alphabet), we have the partial substitution table of (`'h' -> 'a'`, `'a' -> 'b'`, `'p' -> 'c'`, `'y' -> 'd'`, `'b' -> 'e'`, `'o' -> 'f'`).

Return _the decoded message_.

**Example 1:**

![](https://assets.leetcode.com/uploads/2022/05/08/ex1new4.jpg)

> Input: key = "the quick brown fox jumps over the lazy dog", message = "vkbs bs t suepuv"
>
> Output: "this is a secret"
>
> Explanation: The diagram above shows the substitution table.
>
> It is obtained by taking the first appearance of each letter in "_**the**_ _**quick**_ _**brown**_ _**f**_ o _**x**_ _**j**_ u _**mps**_ o _**v**_ er the _**lazy**_ _**d**_ o _**g**_ ".

**Example 2:**

![](https://assets.leetcode.com/uploads/2022/05/08/ex2new.jpg)

> Input: key = "eljuxhpwnyrdgtqkviszcfmabo", message = "zwx hnfx lqantp mnoeius ycgk vcnjrdb"
>
> Output: "the five boxing wizards jump quickly"
>
> Explanation: The diagram above shows the substitution table.
>
> It is obtained by taking the first appearance of each letter in "_**eljuxhpwnyrdgtqkviszcfmabo**_ ".

**Constraints:**

- `26 <= key.length <= 2000`
- `key` consists of lowercase English letters and `' '`.
- `key` contains every letter in the English alphabet (`'a'` to `'z'`) **at least once**.
- `1 <= message.length <= 2000`
- `message` consists of lowercase English letters and `' '`.

## é¢˜ç›®å¤§æ„

ç»™ä½ å­—ç¬¦ä¸² `key` å’Œ `message` ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸€ä¸ªåŠ å¯†å¯†é’¥å’Œä¸€æ®µåŠ å¯†æ¶ˆæ¯ã€‚è§£å¯† `message` çš„æ­¥éª¤å¦‚ä¸‹ï¼š

1. ä½¿ç”¨ `key` ä¸­ 26 ä¸ªè‹±æ–‡å°å†™å­—æ¯ç¬¬ä¸€æ¬¡å‡ºç°çš„é¡ºåºä½œä¸ºæ›¿æ¢è¡¨ä¸­çš„å­—æ¯ **é¡ºåº** ã€‚
2. å°†æ›¿æ¢è¡¨ä¸æ™®é€šè‹±æ–‡å­—æ¯è¡¨å¯¹é½ï¼Œå½¢æˆå¯¹ç…§è¡¨ã€‚
3. æŒ‰ç…§å¯¹ç…§è¡¨ **æ›¿æ¢** `message` ä¸­çš„æ¯ä¸ªå­—æ¯ã€‚
4. ç©ºæ ¼ `' '` ä¿æŒä¸å˜ã€‚

- ä¾‹å¦‚ï¼Œ`key = "happy boy`ï¼ˆå®é™…çš„åŠ å¯†å¯†é’¥ä¼šåŒ…å«å­—æ¯è¡¨ä¸­æ¯ä¸ªå­—æ¯ **è‡³å°‘ä¸€æ¬¡** ï¼‰ï¼Œæ®æ­¤ï¼Œå¯ä»¥å¾—åˆ°éƒ¨åˆ†å¯¹ç…§è¡¨ï¼ˆ`'h' -> 'a'`ã€`'a' -> 'b'`ã€`'p' -> 'c'`ã€`'y' -> 'd'`ã€`'b' -> 'e'`ã€`'o' -> 'f'`ï¼‰ã€‚

è¿”å›è§£å¯†åçš„æ¶ˆæ¯ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2022/05/08/ex1new4.jpg)

> **è¾“å…¥ï¼š** key = "the quick brown fox jumps over the lazy dog", message = "vkbs bs t suepuv"
>
> **è¾“å‡ºï¼š** "this is a secret"
>
> **è§£é‡Šï¼š** å¯¹ç…§è¡¨å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚
>
> æå– "_**the**_ _**quick**_ _**brown**_ _**f**_ o _**x**_ _**j**_ u _**mps**_ o _**v**_ er the _**lazy**_ _**d**_ o _**g**_ " ä¸­æ¯ä¸ªå­—æ¯çš„é¦–æ¬¡å‡ºç°å¯ä»¥å¾—åˆ°æ›¿æ¢è¡¨ã€‚

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2022/05/08/ex2new.jpg)

> **è¾“å…¥ï¼š** key = "eljuxhpwnyrdgtqkviszcfmabo", message = "zwx hnfx lqantp mnoeius ycgk vcnjrdb"
>
> **è¾“å‡ºï¼š** "the five boxing wizards jump quickly"
>
> **è§£é‡Šï¼š** å¯¹ç…§è¡¨å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚
>
> æå– "_**eljuxhpwnyrdgtqkviszcfmabo**_ " ä¸­æ¯ä¸ªå­—æ¯çš„é¦–æ¬¡å‡ºç°å¯ä»¥å¾—åˆ°æ›¿æ¢è¡¨ã€‚

**æç¤ºï¼š**

- `26 <= key.length <= 2000`
- `key` ç”±å°å†™è‹±æ–‡å­—æ¯åŠ `' '` ç»„æˆ
- `key` åŒ…å«è‹±æ–‡å­—æ¯è¡¨ä¸­æ¯ä¸ªå­—ç¬¦ï¼ˆ`'a'` åˆ° `'z'`ï¼‰**è‡³å°‘ä¸€æ¬¡**
- `1 <= message.length <= 2000`
- `message` ç”±å°å†™è‹±æ–‡å­—æ¯å’Œ `' '` ç»„æˆ

## è§£é¢˜æ€è·¯

1. **æ„å»ºå­—æ¯æ˜ å°„è¡¨**ï¼š

   - ä½¿ç”¨ä¸€ä¸ª `Set` æ¥å­˜å‚¨å·²ç»å¤„ç†è¿‡çš„å­—æ¯ï¼Œä¿è¯æ¯ä¸ªå­—æ¯åªå‡ºç°ä¸€æ¬¡ã€‚
   - ä½¿ç”¨ä¸€ä¸ª `substitution` å¯¹è±¡æ¥å­˜å‚¨å­—æ¯çš„æ˜ å°„å…³ç³»ã€‚æ¯é‡åˆ°ä¸€ä¸ªæ–°å­—æ¯æ—¶ï¼Œå°†å®ƒæ˜ å°„ä¸ºå­—æ¯è¡¨ä¸­çš„ä¸€ä¸ªå­—æ¯ï¼Œä» `a` å¼€å§‹ã€‚
   - ä¸€æ—¦æ˜ å°„è¡¨ä¸­æœ‰äº† 26 ä¸ªå­—æ¯ï¼Œæå‰ç»“æŸéå†ã€‚

2. **è§£ç æ¶ˆæ¯**ï¼š

   - å¯¹æ¶ˆæ¯ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼š
     - å¦‚æœæ˜¯ç©ºæ ¼ï¼Œç›´æ¥å°†ç©ºæ ¼åŠ å…¥ç»“æœã€‚
     - å¦‚æœæ˜¯å­—æ¯ï¼Œæ ¹æ®æ˜ å°„è¡¨æ‰¾åˆ°å¯¹åº”çš„è§£ç å­—æ¯å¹¶åŠ å…¥ç»“æœã€‚

3. **è¿”å›è§£ç åçš„å­—ç¬¦ä¸²**ï¼šæœ€åå°†ç»“æœæ•°ç»„è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m)`

  - æ„å»ºæ˜ å°„è¡¨çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(k)`ï¼Œå…¶ä¸­ `k` æ˜¯ `key` çš„é•¿åº¦ã€‚ç”±äºæœ€å¤šåªéœ€è¦éå† 26 ä¸ªå­—ç¬¦ï¼Œå®é™…å¤æ‚åº¦ä¸º `O(26)`ï¼Œå³å¸¸æ•°æ—¶é—´ã€‚
  - è§£ç æ¶ˆæ¯çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(m)`ï¼Œå…¶ä¸­ `m` æ˜¯ `message` çš„é•¿åº¦ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(m)`
  - ä½¿ç”¨äº†ä¸€ä¸ª `substitution` å¯¹è±¡å’Œä¸€ä¸ª `Set`ï¼Œå®ƒä»¬çš„ç©ºé—´å¤æ‚åº¦ä¸º `O(1)`ï¼ˆå›ºå®šçš„å­—æ¯æ•°é‡ï¼‰ã€‚
  - ç»“æœæ•°ç»„ `res` çš„ç©ºé—´å¤æ‚åº¦ä¸º `O(m)`ï¼Œå…¶ä¸­ `m` æ˜¯æ¶ˆæ¯çš„é•¿åº¦ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} key
 * @param {string} message
 * @return {string}
 */
var decodeMessage = function (key, message) {
	let substitution = {};
	let set = new Set();
	let i = 97; // 'a' çš„ ASCII ç 
	for (let char of key) {
		if (char !== ' ' && !set.has(char)) {
			set.add(char);
			substitution[char] = String.fromCharCode(i++);
		}
		if (set.size === 26) break;
	}

	// è§£ç æ¶ˆæ¯
	let res = [];
	for (let char of message) {
		if (char === ' ') {
			res.push(' ');
		} else {
			res.push(substitution[char]);
		}
	}

	return res.join('');
};
```
