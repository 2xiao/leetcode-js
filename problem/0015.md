# [15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode.com/problems/3sum)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/3sum)

## é¢˜ç›®

<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ <code>[nums[i], nums[j], nums[k]]</code> æ»¡è¶³ <code>i != j</code>ã€<code>i != k</code> ä¸” <code>j != k</code> ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ <code>nums[i] + nums[j] + nums[k] == 0</code> ã€‚è¯·ä½ è¿”å›æ‰€æœ‰å’Œä¸º <code>0</code> ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚</p>

<p><strong>æ³¨æ„ï¼š</strong>ç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [-1,0,1,2,-1,-4]
<strong>è¾“å‡ºï¼š</strong>[[-1,-1,2],[-1,0,1]]
<strong>è§£é‡Šï¼š</strong>
nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0 ã€‚
nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0 ã€‚
nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0 ã€‚
ä¸åŒçš„ä¸‰å…ƒç»„æ˜¯ [-1,0,1] å’Œ [-1,-1,2] ã€‚
æ³¨æ„ï¼Œè¾“å‡ºçš„é¡ºåºå’Œä¸‰å…ƒç»„çš„é¡ºåºå¹¶ä¸é‡è¦ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [0,1,1]
<strong>è¾“å‡ºï¼š</strong>[]
<strong>è§£é‡Šï¼š</strong>å”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸ä¸º 0 ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [0,0,0]
<strong>è¾“å‡ºï¼š</strong>[[0,0,0]]
<strong>è§£é‡Šï¼š</strong>å”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸º 0 ã€‚
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>3 &lt;= nums.length &lt;= 3000</code></li>
	<li><code>-10<sup>5</sup> &lt;= nums[i] &lt;= 10<sup>5</sup></code></li>
</ul>


## è§£é¢˜æ€è·¯

- è¿™ä¸€é¢˜æ¯”è¾ƒéº»çƒ¦çš„ä¸€ç‚¹åœ¨äºï¼Œæœ€åè¾“å‡ºè§£çš„æ—¶å€™ï¼Œè¦æ±‚è¾“å‡ºä¸é‡å¤çš„è§£ã€‚

- æ•°ç»„ä¸­åŒä¸€ä¸ªæ•°å­—å¯èƒ½å‡ºç°å¤šæ¬¡ï¼ŒåŒä¸€ä¸ªæ•°å­—ä¹Ÿå¯èƒ½ä½¿ç”¨å¤šæ¬¡ï¼Œä½†æ˜¯æœ€åè¾“å‡ºè§£çš„æ—¶å€™ï¼Œä¸èƒ½é‡å¤ã€‚ä¾‹å¦‚ `[-1, -1, 2]` å’Œ `[2, -1, -1]`ã€`[-1, 2, -1]` è¿™ 3 ä¸ªè§£æ˜¯é‡å¤çš„ã€‚

- è¿™å°±éœ€è¦æ’åºå’Œå»é‡ï¼Œä½¿ç”¨å¯¹æ’æŒ‡é’ˆå¯»æ‰¾ä¸‰æ•°ä¹‹å’Œä¸º `0` çš„ç»„åˆã€‚

- å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œ`i` ä»åå¾€å‰æ‰«æï¼Œè¿™é‡ŒåŒæ ·éœ€è¦æ³¨æ„æ•°ç»„ä¸­å­˜åœ¨å¤šä¸ªé‡å¤æ•°å­—çš„é—®é¢˜ã€‚`i` åœ¨å¾ªç¯çš„æ—¶å€™å’Œåä¸€ä¸ªæ•°è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰ï¼Œ`i` ç»§ç»­å¾€å‰ç§»ï¼Œç›´åˆ°ç§»åˆ°ä¸‹ä¸€ä¸ªå’Œå‰ä¸€ä¸ªæ•°å­—ä¸åŒçš„ä½ç½®ã€‚

- `j`ï¼Œ`k` ä¸¤ä¸ªæŒ‡é’ˆå¼€å§‹ä¸€å‰ä¸€åå¯¹æ’ï¼Œ`j` ä»æ•°ç»„é¦–ä½å¼€å§‹ï¼Œ`k` ä¸º `i` çš„å‰ä¸€ä¸ªæ•°å­—ï¼Œç”±äºç»è¿‡æ’åºï¼Œæ‰€ä»¥ `j < k`ã€‚
- å¯¹æ¯”ä¸‰ä¸ªæ•°çš„å’Œä¸ `target` çš„å¤§å°ï¼Œå¯»æ‰¾ä¸‰æ•°ä¹‹å’Œä¸º `target` çš„ç»„åˆï¼Œç§»åŠ¨æŒ‡é’ˆæ—¶æ³¨æ„å»é‡ï¼š
  - å°äº `target`ï¼Œ`j` å¾€åç§»åŠ¨ï¼›
  - å¤§äº `target`ï¼Œ`k` å¾€å‰ç§»åŠ¨ï¼›

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^2)`

  - **æ’åº**ï¼š`nums.sort()` çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n log n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚
  - **åŒæŒ‡é’ˆæŸ¥æ‰¾**ï¼šå¯¹äºæ¯ä¸ªå›ºå®šçš„æ•° `nums[i]`ï¼ŒåŒæŒ‡é’ˆæŸ¥æ‰¾çš„å¤æ‚åº¦æ˜¯ `O(n)`ï¼ˆå³éå†å‰©ä¸‹çš„æ•°ç»„ï¼‰ã€‚
  - **å¾ªç¯éå†**ï¼š å¤–å±‚å¾ªç¯éå†äº† `n` ä¸ªå…ƒç´ ï¼Œæ¯æ¬¡æ‰§è¡ŒåŒæŒ‡é’ˆæŸ¥æ‰¾çš„æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(n^2)`ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼ˆä¸è€ƒè™‘è¾“å‡ºç»“æœï¼‰ï¼Œä¸»è¦æ˜¯ç”¨äºå­˜å‚¨ç»“æœå’Œæ’åºçš„ç©ºé—´ã€‚
  - **æ’åºæ“ä½œ**ï¼šæ’åºæ“ä½œå ç”¨ `O(n)` çš„ç©ºé—´ã€‚
  - **ç»“æœå­˜å‚¨**ï¼šç»“æœæ•°ç»„ `res` æœ€å¤šå­˜å‚¨ `O(n^2)` ä¸ªä¸‰å…ƒç»„ï¼Œä½†ç”±äºé¢˜ç›®é€šå¸¸è¦æ±‚ä¸‰å…ƒç»„ä¸é‡å¤ï¼Œå®é™…å­˜å‚¨çš„å…ƒç´ è¾ƒå°‘ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var threeSum = function (nums) {
	nums = nums.sort((a, b) => a - b);
	const target = 0;
	let res = [];
	for (let i = nums.length - 1; i > 1; i--) {
		// æ’é™¤ i é‡å¤çš„æƒ…å†µ
		if (i === nums.length - 1 || nums[i] != nums[i + 1]) {
			let j = 0;
			let k = i - 1;
			let sum = target - nums[i];
			while (j < k) {
				if (nums[j] + nums[k] === sum) {
					res.push([nums[i], nums[j], nums[k]]);
					// æ’é™¤ j é‡å¤çš„æƒ…å†µ
					while (j < k && nums[j] === nums[j + 1]) {
						j++;
					}
					// æ’é™¤ k é‡å¤çš„æƒ…å†µ
					while (j < k && nums[k] === nums[k - 1]) {
						k--;
					}
					j++;
					k--;
				} else if (nums[j] + nums[k] < sum) {
					j++;
				} else {
					k--;
				}
			}
		}
	}
	return res;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1 | [ä¸¤æ•°ä¹‹å’Œ](https://leetcode.com/problems/two-sum) | [[âœ“]](/problem/0001.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) | <font color=#15bd66>Easy</font> |
| 16 | [æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ](https://leetcode.com/problems/3sum-closest) | [[âœ“]](/problem/0016.md) |  [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`æ’åº`](/tag/sorting.md) | <font color=#ffb800>Medium</font> |
| 18 | [å››æ•°ä¹‹å’Œ](https://leetcode.com/problems/4sum) | [[âœ“]](/problem/0018.md) |  [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`æ’åº`](/tag/sorting.md) | <font color=#ffb800>Medium</font> |
| 259 | [è¾ƒå°çš„ä¸‰æ•°ä¹‹å’Œ](https://leetcode.com/problems/3sum-smaller) | [[âœ“]](/problem/0259.md) |  [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `1+` | <font color=#ffb800>Medium</font> |
| 2367 | [ç­‰å·®ä¸‰å…ƒç»„çš„æ•°ç›®](https://leetcode.com/problems/number-of-arithmetic-triplets) |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) `1+` | <font color=#15bd66>Easy</font> |
| 2908 | [å…ƒç´ å’Œæœ€å°çš„å±±å½¢ä¸‰å…ƒç»„ I](https://leetcode.com/problems/minimum-sum-of-mountain-triplets-i) |  |  [`æ•°ç»„`](/tag/array.md) | <font color=#15bd66>Easy</font> |
| 2909 | [å…ƒç´ å’Œæœ€å°çš„å±±å½¢ä¸‰å…ƒç»„ II](https://leetcode.com/problems/minimum-sum-of-mountain-triplets-ii) |  |  [`æ•°ç»„`](/tag/array.md) | <font color=#ffb800>Medium</font> |