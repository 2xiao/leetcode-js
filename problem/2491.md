# [2491. åˆ’åˆ†æŠ€èƒ½ç‚¹ç›¸ç­‰çš„å›¢é˜Ÿ](https://leetcode.com/problems/divide-players-into-teams-of-equal-skill)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/divide-players-into-teams-of-equal-skill)

## é¢˜ç›®

<p>ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ <code>skill</code> ï¼Œæ•°ç»„é•¿åº¦ä¸º <strong>å¶æ•°</strong> <code>n</code> ï¼Œå…¶ä¸­ <code>skill[i]</code> è¡¨ç¤ºç¬¬ <code>i</code> ä¸ªç©å®¶çš„æŠ€èƒ½ç‚¹ã€‚å°†æ‰€æœ‰ç©å®¶åˆ†æˆ <code>n / 2</code> ä¸ª <code>2</code> äººå›¢é˜Ÿï¼Œä½¿æ¯ä¸€ä¸ªå›¢é˜Ÿçš„æŠ€èƒ½ç‚¹ä¹‹å’Œ <strong>ç›¸ç­‰</strong> ã€‚</p>

<p>å›¢é˜Ÿçš„ <strong>åŒ–å­¦ååº”</strong> ç­‰äºå›¢é˜Ÿä¸­ç©å®¶çš„æŠ€èƒ½ç‚¹ <strong>ä¹˜ç§¯</strong> ã€‚</p>

<p>è¿”å›æ‰€æœ‰å›¢é˜Ÿçš„ <strong>åŒ–å­¦ååº”</strong> ä¹‹å’Œï¼Œå¦‚æœæ— æ³•ä½¿æ¯ä¸ªå›¢é˜Ÿçš„æŠ€èƒ½ç‚¹ä¹‹å’Œç›¸ç­‰ï¼Œåˆ™è¿”å› <code>-1</code> ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>skill = [3,2,5,1,3,4]
<strong>è¾“å‡ºï¼š</strong>22
<strong>è§£é‡Šï¼š</strong>
å°†ç©å®¶åˆ†æˆ 3 ä¸ªå›¢é˜Ÿ (1, 5), (2, 4), (3, 3) ï¼Œæ¯ä¸ªå›¢é˜Ÿçš„æŠ€èƒ½ç‚¹ä¹‹å’Œéƒ½æ˜¯ 6 ã€‚
æ‰€æœ‰å›¢é˜Ÿçš„åŒ–å­¦ååº”ä¹‹å’Œæ˜¯ 1 * 5 + 2 * 4 + 3 * 3 = 5 + 8 + 9 = 22 ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>skill = [3,4]
<strong>è¾“å‡ºï¼š</strong>12
<strong>è§£é‡Šï¼š</strong>
ä¸¤ä¸ªç©å®¶å½¢æˆä¸€ä¸ªå›¢é˜Ÿï¼ŒæŠ€èƒ½ç‚¹ä¹‹å’Œæ˜¯ 7 ã€‚
å›¢é˜Ÿçš„åŒ–å­¦ååº”æ˜¯ 3 * 4 = 12 ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>skill = [1,1,2,3]
<strong>è¾“å‡ºï¼š</strong>-1
<strong>è§£é‡Šï¼š</strong>
æ— æ³•å°†ç©å®¶åˆ†æˆæ¯ä¸ªå›¢é˜ŸæŠ€èƒ½ç‚¹éƒ½ç›¸ç­‰çš„è‹¥å¹²ä¸ª 2 äººå›¢é˜Ÿã€‚
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>2 &lt;= skill.length &lt;= 10<sup>5</sup></code></li>
	<li><code>skill.length</code> æ˜¯å¶æ•°</li>
	<li><code>1 &lt;= skill[i] &lt;= 1000</code></li>
</ul>


## è§£é¢˜æ€è·¯

è¿™é“é¢˜çš„è§£é¢˜æ€è·¯å’Œ [ç¬¬ 1 é¢˜ Two Sum](./0001.md) å¾ˆåƒï¼Œå¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å¯»æ‰¾é…å¯¹çš„å¦ä¸€ä¸ªæ•°ã€‚

1. é¦–å…ˆè®¡ç®—æ•°ç»„ `skill` çš„æ€»å’Œ `sum`ï¼Œå¹¶ç¡®å®šæ•°ç»„çš„é•¿åº¦ `n`ã€‚
   - å¦‚æœæ€»å’Œ `sum` ä¸èƒ½è¢« `n / 2` æ•´é™¤ï¼Œé‚£ä¹ˆå°±æ— æ³•å°†è¿™äº›æŠ€èƒ½å€¼åˆ†æˆè‹¥å¹²å¯¹ä½¿å¾—æ¯å¯¹çš„å’Œç›¸ç­‰ï¼Œæ­¤æ—¶ç›´æ¥è¿”å› `-1`ã€‚
2. æ¥ç€è®¡ç®—å¹³å‡æ¯ä¸€å¯¹æŠ€èƒ½å€¼çš„å’Œ `equalSum`ï¼Œå®ƒç­‰äº `sum` é™¤ä»¥ `n / 2`ã€‚
3. ç„¶åéå†æ•°ç»„ `skill`ã€‚
   - å¯¹äºå½“å‰å…ƒç´  `skill[i]`ï¼Œè®¡ç®—ä¸å…¶é…å¯¹çš„å¦ä¸€ä¸ªæŠ€èƒ½å€¼ `another`ï¼Œå³ `equalSum - skill[i]`ã€‚
   - å¦‚æœåœ¨ `map` ä¸­æ‰¾åˆ°äº†è¿™ä¸ªé…å¯¹çš„æŠ€èƒ½å€¼ `another`ï¼Œè¯´æ˜æ‰¾åˆ°äº†ä¸€å¯¹æ»¡è¶³æ¡ä»¶çš„æŠ€èƒ½å€¼ã€‚
     - å°†è¿™ä¸€å¯¹æŠ€èƒ½å€¼çš„ä¹˜ç§¯åŠ åˆ°ç»“æœ `res` ä¸­ã€‚
     - å¦‚æœ `map` ä¸­å¯¹åº” `another` çš„å€¼ä¸º `1`ï¼Œåˆ™ä» `map` ä¸­åˆ é™¤è¿™ä¸ªé”®å€¼å¯¹ï¼›å¦‚æœå¤§äº `1`ï¼Œåˆ™å°†å¯¹åº”çš„å€¼å‡ `1`ã€‚
   - å¦‚æœæ²¡æœ‰æ‰¾åˆ°é…å¯¹çš„æŠ€èƒ½å€¼ï¼Œå°±å°†å½“å‰æŠ€èƒ½å€¼ `skill[i]` å­˜å…¥ `map` ä¸­ï¼Œå¹¶å°†å…¶è®¡æ•°åŠ  `1`ã€‚
4. æœ€åï¼Œæ£€æŸ¥ `map` çš„å¤§å°æ˜¯å¦ä¸º `0`ã€‚
   - å¦‚æœæ˜¯ `0`ï¼Œè¯´æ˜æ‰€æœ‰çš„æŠ€èƒ½å€¼éƒ½æˆåŠŸé…å¯¹ï¼Œè¿”å›ç»“æœ `res`ã€‚
   - å¦‚æœä¸ä¸º `0`ï¼Œè¯´æ˜å­˜åœ¨æ— æ³•é…å¯¹çš„æŠ€èƒ½å€¼ï¼Œè¿”å› `-1`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`
  - è®¡ç®—æ€»å’Œå’Œåˆ¤æ–­æ•´é™¤æ€§çš„æ“ä½œéœ€è¦ `O(n)` çš„æ—¶é—´ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„ `skill` çš„é•¿åº¦ã€‚
  - éå†æ•°ç»„ `skill` çš„æ“ä½œä¹Ÿéœ€è¦ `O(n)` çš„æ—¶é—´ã€‚
  - åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œå¯¹ `Map` çš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œå¯ä»¥è¿‘ä¼¼çœ‹ä½œæ˜¯å¸¸æ•°æ—¶é—´æ“ä½œã€‚
  - å› æ­¤ï¼Œæ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`
  - ä½¿ç”¨äº†ä¸€ä¸ª `Map` æ¥å­˜å‚¨æŠ€èƒ½å€¼åŠå…¶å‡ºç°çš„æ¬¡æ•°ï¼Œåœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦å­˜å‚¨ `n/2` ä¸ªä¸åŒçš„æŠ€èƒ½å€¼ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º `O(n)`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} skill
 * @return {number}
 */
var dividePlayers = function (skill) {
	const sum = skill.reduce((a, b) => a + b, 0),
		n = skill.length;
	if (sum % (n / 2) !== 0) return -1;
	const equalSum = sum / (n / 2);
	let map = new Map(),
		res = 0;
	for (let i = 0; i < n; i++) {
		const another = equalSum - skill[i];
		if (map.has(another)) {
			res += skill[i] * another;
			if (map.get(another) == 1) {
				map.delete(another);
			} else {
				map.set(another, map.get(another) - 1);
			}
		} else {
			map.set(skill[i], (map.get(skill[i]) || 0) + 1);
		}
	}
	return map.size == 0 ? res : -1;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 453 | [æœ€å°æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰](https://leetcode.com/problems/minimum-moves-to-equal-array-elements) |  |  [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) | <font color=#ffb800>Medium</font> |
| 1679 | [K å’Œæ•°å¯¹çš„æœ€å¤§æ•°ç›®](https://leetcode.com/problems/max-number-of-k-sum-pairs) | [[âœ“]](/problem/1679.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) `1+` | <font color=#ffb800>Medium</font> |