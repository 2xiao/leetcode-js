---
title: 448. æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—
description: LeetCode 448. æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—é¢˜è§£ï¼ŒFind All Numbers Disappeared in an Arrayï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 448. æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—
  - æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—
  - Find All Numbers Disappeared in an Array
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
---

# 448. æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/find-all-numbers-disappeared-in-an-array) [`LeetCode`](https://leetcode.com/problems/find-all-numbers-disappeared-in-an-array)

## é¢˜ç›®

Given an array `nums` of `n` integers where `nums[i]` is in the range `[1,
n]`, return _an array of all the integers in the range_ `[1, n]` _that do not appear in_ `nums`.

**Example 1:**

> Input: nums = [4,3,2,7,8,2,3,1]
>
> Output: [5,6]

**Example 2:**

> Input: nums = [1,1]
>
> Output: [2]

**Constraints:**

- `n == nums.length`
- `1 <= n <= 10^5`
- `1 <= nums[i] <= n`

**Follow up:** Could you do it without extra space and in `O(n)` runtime? You
may assume the returned list does not count as extra space.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå« `n` ä¸ªæ•´æ•°çš„æ•°ç»„ `nums` ï¼Œå…¶ä¸­ `nums[i]` åœ¨åŒºé—´ `[1, n]` å†…ã€‚è¯·ä½ æ‰¾å‡ºæ‰€æœ‰åœ¨ `[1, n]`
èŒƒå›´å†…ä½†æ²¡æœ‰å‡ºç°åœ¨ `nums` ä¸­çš„æ•°å­—ï¼Œå¹¶ä»¥æ•°ç»„çš„å½¢å¼è¿”å›ç»“æœã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** nums = [4,3,2,7,8,2,3,1]
>
> **è¾“å‡ºï¼š**[5,6]

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** nums = [1,1]
>
> **è¾“å‡ºï¼š**[2]

**æç¤ºï¼š**

- `n == nums.length`
- `1 <= n <= 10^5`
- `1 <= nums[i] <= n`

**è¿›é˜¶ï¼š** ä½ èƒ½åœ¨ä¸ä½¿ç”¨é¢å¤–ç©ºé—´ä¸”æ—¶é—´å¤æ‚åº¦ä¸º **`O(n)`** çš„æƒ…å†µä¸‹è§£å†³è¿™ä¸ªé—®é¢˜å—? ä½ å¯ä»¥å‡å®šè¿”å›çš„æ•°ç»„ä¸ç®—åœ¨é¢å¤–ç©ºé—´å†…ã€‚

## è§£é¢˜æ€è·¯

ä¸ºäº†åœ¨ **O(n)** æ—¶é—´å¤æ‚åº¦å’Œ **O(1)** ç©ºé—´å¤æ‚åº¦çš„æ¡ä»¶ä¸‹è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ•°ç»„çš„åŸåœ°ä¿®æ”¹æ¥æ ‡è®°å·²ç»å‡ºç°è¿‡çš„æ•°å­—ã€‚å…·ä½“æ¥è¯´ï¼Œåˆ©ç”¨æ•°ç»„å…ƒç´ å€¼çš„**ç¬¦å·**æ¥æ ‡è®°å·²ç»å‡ºç°çš„æ•°å­—ï¼Œä»è€Œé¿å…ä½¿ç”¨é¢å¤–ç©ºé—´ã€‚

1. æ•°ç»„ `nums` ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½åœ¨ `[1, n]` åŒºé—´å†…ï¼Œå¯ä»¥é€šè¿‡å°†æ•°ç»„å…ƒç´  `nums[i]` çš„å€¼ä½œä¸ºæ•°ç»„çš„ç´¢å¼•æ¥è¡¨ç¤ºè¯¥æ•°å­—æ˜¯å¦å‡ºç°è¿‡ã€‚
2. éå†æ•°ç»„ `nums`ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´  `num`ï¼Œå°†å¯¹åº”çš„ç´¢å¼• `num - 1` ä½ç½®çš„å€¼å˜ä¸ºè´Ÿæ•°ï¼Œè¿™æ ·å¯ä»¥æ ‡è®°è¯¥ä½ç½®å¯¹åº”çš„æ•°å­—å·²ç»å‡ºç°ã€‚
3. æœ€åï¼Œéå†æ•°ç»„ `nums`ï¼ŒæŸ¥æ‰¾æ‰€æœ‰å€¼ä¸ºæ­£æ•°çš„å…ƒç´ ï¼Œå®ƒä»¬çš„ç´¢å¼•å¯¹åº”çš„æ•°å­—å°±æ˜¯æ²¡æœ‰å‡ºç°è¿‡çš„æ•°å­—ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ã€‚éå†æ•°ç»„ä¸¤æ¬¡ï¼Œæ¯æ¬¡éå†çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ã€‚åªä½¿ç”¨äº†å¸¸æ•°ç©ºé—´æ¥å­˜å‚¨ç»“æœæ•°ç»„ `result`ï¼Œä¸éœ€è¦é¢å¤–çš„ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number[]}
 */
var findDisappearedNumbers = function (nums) {
	let result = [];

	// æ ‡è®°å‡ºç°è¿‡çš„æ•°å­—
	for (let i = 0; i < nums.length; i++) {
		let num = Math.abs(nums[i]);
		if (nums[num - 1] > 0) {
			nums[num - 1] = -nums[num - 1]; // å°†å¯¹åº”ä½ç½®æ ‡è®°ä¸ºè´Ÿ
		}
	}

	// æŸ¥æ‰¾æœªå‡ºç°çš„æ•°å­—
	for (let i = 0; i < nums.length; i++) {
		if (nums[i] > 0) {
			result.push(i + 1); // å°†æœªå‡ºç°çš„æ•°å­—åŠ å…¥ç»“æœ
		}
	}

	return result;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 41 | ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•° | [[âœ“]](/problem/0041.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/first-missing-positive) [ğŸ”—](https://leetcode.com/problems/first-missing-positive) |
| 442 | æ•°ç»„ä¸­é‡å¤çš„æ•°æ® | [[âœ“]](/problem/0442.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/find-all-duplicates-in-an-array) [ğŸ”—](https://leetcode.com/problems/find-all-duplicates-in-an-array) |
| 1980 | æ‰¾å‡ºä¸åŒçš„äºŒè¿›åˆ¶å­—ç¬¦ä¸² |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/find-unique-binary-string) [ğŸ”—](https://leetcode.com/problems/find-unique-binary-string) |
| 2195 | å‘æ•°ç»„ä¸­è¿½åŠ  K ä¸ªæ•´æ•° |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/append-k-integers-with-minimal-sum) [ğŸ”—](https://leetcode.com/problems/append-k-integers-with-minimal-sum) |
| 2295 | æ›¿æ¢æ•°ç»„ä¸­çš„å…ƒç´  |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/replace-elements-in-an-array) [ğŸ”—](https://leetcode.com/problems/replace-elements-in-an-array) |
| 2554 | ä»ä¸€ä¸ªèŒƒå›´å†…é€‰æ‹©æœ€å¤šæ•´æ•° I | [[âœ“]](/problem/2554.md) |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `2+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-number-of-integers-to-choose-from-a-range-i) [ğŸ”—](https://leetcode.com/problems/maximum-number-of-integers-to-choose-from-a-range-i) |
| 2557 | ä»ä¸€ä¸ªèŒƒå›´å†…é€‰æ‹©æœ€å¤šæ•´æ•° II ğŸ”’ |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-number-of-integers-to-choose-from-a-range-ii) [ğŸ”—](https://leetcode.com/problems/maximum-number-of-integers-to-choose-from-a-range-ii) |