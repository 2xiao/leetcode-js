# [379. ç”µè¯ç›®å½•ç®¡ç†ç³»ç»Ÿ ğŸ”’](https://2xiao.github.io/leetcode-js/problem/0379.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`é˜Ÿåˆ—`](/tag/queue.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`é“¾è¡¨`](/tag/linked-list.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/design-phone-directory) [`LeetCode`](https://leetcode.com/problems/design-phone-directory)

## é¢˜ç›®

Design a phone directory that initially has `maxNumbers` empty slots that can store numbers. The directory should store numbers, check if a certain slot is empty or not, and empty a given slot.

Implement the `PhoneDirectory` class:

- `PhoneDirectory(int maxNumbers)` Initializes the phone directory with the number of available slots `maxNumbers`.
- `int get()` Provides a number that is not assigned to anyone. Returns `-1` if no number is available.
- `bool check(int number)` Returns `true` if the slot `number` is available and `false` otherwise.
- `void release(int number)` Recycles or releases the slot `number`.

**Example 1:**

> Input
>
> ["PhoneDirectory", "get", "get", "check", "get", "check", "release", "check"]
>
> [[3], [], [], [2], [], [2], [2], [2]]
>
> Output
>
> [null, 0, 1, true, 2, false, null, true]
>
> Explanation
>
> PhoneDirectory phoneDirectory = new PhoneDirectory(3);
>
> phoneDirectory.get(); // It can return any available phone number. Here we assume it returns 0.
>
> phoneDirectory.get(); // Assume it returns 1.
>
> phoneDirectory.check(2); // The number 2 is available, so return true.
>
> phoneDirectory.get(); // It returns 2, the only number that is left.
>
> phoneDirectory.check(2); // The number 2 is no longer available, so return false.
>
> phoneDirectory.release(2); // Release number 2 back to the pool.
>
> phoneDirectory.check(2); // Number 2 is available again, return true.

**Constraints:**

- `1 <= maxNumbers <= 10^4`
- `0 <= number < maxNumbers`
- At most `2 * 10^4` calls will be made to get, check, and release.

## é¢˜ç›®å¤§æ„

è¦æ±‚è®¾è®¡ä¸€ä¸ªç”µè¯ç›®å½•ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«ä»¥ä¸‹ä¸¤ä¸ªæ“ä½œï¼š

1. `get()`ï¼šåˆ†é…ä¸€ä¸ªæœªè¢«ä½¿ç”¨çš„ç”µè¯å·ç ï¼Œè¿”å›å…¶ç¼–å·ï¼Œå¦‚æœæ²¡æœ‰æœªè¢«ä½¿ç”¨çš„å·ç ï¼Œåˆ™è¿”å› `-1`ã€‚
2. `check(number)`ï¼šæ£€æŸ¥æŒ‡å®šçš„ç”µè¯å·ç æ˜¯å¦è¢«ä½¿ç”¨ã€‚
3. `release(number)`ï¼šé‡Šæ”¾ä¸€ä¸ªå·²ç»è¢«ä½¿ç”¨çš„ç”µè¯å·ç ã€‚

## è§£é¢˜æ€è·¯

è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ç»´æŠ¤ä¸€ä¸ªå¯ç”¨å·ç é›†åˆå’Œå·²ä½¿ç”¨å·ç é›†åˆæ¥å®ç°ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæ•°æ®ç»“æ„ï¼š

1. ä¸€ä¸ª `Set` å­˜å‚¨å¯ç”¨çš„å·ç ï¼Œåˆå§‹æ—¶åŒ…å«æ‰€æœ‰å¯èƒ½çš„å·ç ã€‚
2. ä¸€ä¸ª `Set` å­˜å‚¨å·²ç»è¢«ä½¿ç”¨çš„å·ç ï¼Œåˆå§‹æ—¶ä¸ºç©ºã€‚

é€šè¿‡ä¸¤ä¸ª `Set` æ¥åˆ†åˆ«ç®¡ç†å¯ç”¨å’Œå·²ä½¿ç”¨çš„å·ç ï¼Œå®ç°äº†åˆ†é…ã€æ£€æŸ¥å’Œé‡Šæ”¾å·ç çš„åŠŸèƒ½ã€‚

## ä»£ç 

```javascript
class PhoneDirectory {
	constructor(maxNumbers) {
		this.available = new Set();
		this.used = new Set();
		for (let i = 0; i < maxNumbers; i++) {
			this.available.add(i);
		}
	}
	get() {
		if (this.available.size == 0) return -1;
		const num = this.available.values().next().value;
		this.available.delete(num);
		this.used.add(num);
		return num;
	}
	check(number) {
		return !this.used.has(number);
	}
	release(number) {
		if (this.used.has(number)) {
			this.used.delete(number);
			this.available.add(number);
		}
	}
}
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1845 | [åº§ä½é¢„çº¦ç®¡ç†ç³»ç»Ÿ](https://leetcode.com/problems/seat-reservation-manager) |  |  [`è®¾è®¡`](/tag/design.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md) | <font color=#ffb800>Medium</font> |