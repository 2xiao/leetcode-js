# [379. ç”µè¯ç›®å½•ç®¡ç†ç³»ç»Ÿ](https://leetcode.com/problems/design-phone-directory)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è®¾è®¡`](/tag/design.md) [`é˜Ÿåˆ—`](/tag/queue.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`é“¾è¡¨`](/tag/linked-list.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/design-phone-directory)

## é¢˜ç›®

<p>è®¾è®¡ä¸€ä¸ªç”µè¯ç›®å½•ç®¡ç†ç³»ç»Ÿï¼Œä¸€å¼€å§‹æœ‰&nbsp;<code>maxNumbers</code>&nbsp;ä¸ªä½ç½®èƒ½å¤Ÿå‚¨å­˜å·ç ã€‚ç³»ç»Ÿåº”è¯¥å­˜å‚¨å·ç ï¼Œæ£€æŸ¥æŸä¸ªä½ç½®æ˜¯å¦ä¸ºç©ºï¼Œå¹¶æ¸…ç©ºç»™å®šçš„ä½ç½®ã€‚</p>

<p>å®ç°&nbsp;<code>PhoneDirectory</code>&nbsp;ç±»ï¼š</p>

<ul>
	<li><code>PhoneDirectory(int maxNumbers)</code>&nbsp;ç”µè¯ç›®å½•åˆå§‹æœ‰ <code>maxNumbers</code> ä¸ªå¯ç”¨ä½ç½®ã€‚</li>
	<li><code>int get()</code> æä¾›ä¸€ä¸ªæœªåˆ†é…ç»™ä»»ä½•äººçš„å·ç ã€‚å¦‚æœæ²¡æœ‰å¯ç”¨å·ç åˆ™è¿”å›&nbsp;<code>-1</code>ã€‚</li>
	<li><code>bool check(int number)</code>&nbsp;å¦‚æœä½ç½®&nbsp;<code>number</code>&nbsp;å¯ç”¨è¿”å› <code>true</code>&nbsp;å¦åˆ™è¿”å›&nbsp;<code>false</code>ã€‚</li>
	<li><code>void release(int number)</code> å›æ”¶æˆ–é‡Šæ”¾ä½ç½®&nbsp;<code>number</code>ã€‚</li>
</ul>

<p>&nbsp;</p>

<p><strong class="example">ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>
["PhoneDirectory", "get", "get", "check", "get", "check", "release", "check"]
[[3], [], [], [2], [], [2], [2], [2]]
<strong>è¾“å‡ºï¼š</strong>
[null, 0, 1, true, 2, false, null, true]

<strong>è§£é‡Šï¼š</strong>
PhoneDirectory phoneDirectory = new PhoneDirectory(3);
phoneDirectory.get();      // å®ƒå¯ä»¥è¿”å›ä»»æ„å¯ç”¨çš„æ•°å­—ã€‚è¿™é‡Œæˆ‘ä»¬å‡è®¾å®ƒè¿”å› 0ã€‚
phoneDirectory.get();      // å‡è®¾å®ƒè¿”å› 1ã€‚
phoneDirectory.check(2);   // æ•°å­— 2 å¯ç”¨ï¼Œæ‰€ä»¥è¿”å› trueã€‚
phoneDirectory.get();      // è¿”å›å‰©ä¸‹çš„å”¯ä¸€ä¸€ä¸ªæ•°å­— 2ã€‚
phoneDirectory.check(2);   // æ•°å­— 2 ä¸å†å¯ç”¨ï¼Œæ‰€ä»¥è¿”å› falseã€‚
phoneDirectory.release(2); // å°†æ•°å­— 2 é‡Šæ”¾å›å·ç æ± ã€‚
phoneDirectory.check(2);   // æ•°å­— 2 é‡æ–°å¯ç”¨ï¼Œè¿”å› trueã€‚
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 &lt;= maxNumbers &lt;= 10<sup>4</sup></code></li>
	<li><code>0 &lt;= number &lt; maxNumbers</code></li>
	<li><code>get</code>ï¼Œ<code>check</code>&nbsp;å’Œ&nbsp;<code>release</code>&nbsp;æœ€å¤šè¢«è°ƒç”¨&nbsp;<code>2 * 10<sup>4</sup></code>&nbsp;æ¬¡ã€‚</li>
</ul>

## è§£é¢˜æ€è·¯

è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ç»´æŠ¤ä¸€ä¸ªå¯ç”¨å·ç é›†åˆå’Œå·²ä½¿ç”¨å·ç é›†åˆæ¥å®ç°ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæ•°æ®ç»“æ„ï¼š

1. ä¸€ä¸ª `Set` å­˜å‚¨å¯ç”¨çš„å·ç ï¼Œåˆå§‹æ—¶åŒ…å«æ‰€æœ‰å¯èƒ½çš„å·ç ã€‚
2. ä¸€ä¸ª `Set` å­˜å‚¨å·²ç»è¢«ä½¿ç”¨çš„å·ç ï¼Œåˆå§‹æ—¶ä¸ºç©ºã€‚

é€šè¿‡ä¸¤ä¸ª `Set` æ¥åˆ†åˆ«ç®¡ç†å¯ç”¨å’Œå·²ä½¿ç”¨çš„å·ç ï¼Œå®ç°äº†åˆ†é…ã€æ£€æŸ¥å’Œé‡Šæ”¾å·ç çš„åŠŸèƒ½ã€‚

## ä»£ç 

```javascript
class PhoneDirectory {
	constructor(maxNumbers) {
		this.available = new Set();
		this.used = new Set();
		for (let i = 0; i < maxNumbers; i++) {
			this.available.add(i);
		}
	}
	get() {
		if (this.available.size == 0) return -1;
		const num = this.available.values().next().value;
		this.available.delete(num);
		this.used.add(num);
		return num;
	}
	check(number) {
		return !this.used.has(number);
	}
	release(number) {
		if (this.used.has(number)) {
			this.used.delete(number);
			this.available.add(number);
		}
	}
}
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1845 | [åº§ä½é¢„çº¦ç®¡ç†ç³»ç»Ÿ](https://leetcode.com/problems/seat-reservation-manager) |  |  [`è®¾è®¡`](/tag/design.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md) | <font color=#ffb800>Medium</font> |