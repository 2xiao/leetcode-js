---
title: 542. 01 çŸ©é˜µ
description: LeetCode 542. 01 çŸ©é˜µé¢˜è§£ï¼Œ01 Matrixï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 542. 01 çŸ©é˜µ
  - 01 çŸ©é˜µ
  - 01 Matrix
  - è§£é¢˜æ€è·¯
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - æ•°ç»„
  - åŠ¨æ€è§„åˆ’
  - çŸ©é˜µ
---

# 542. 01 çŸ©é˜µ

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/01-matrix) [`LeetCode`](https://leetcode.com/problems/01-matrix)

## é¢˜ç›®

Given an `m x n` binary matrix `mat`, return _the distance of the nearest_`0`
_for each cell_.

The distance between two adjacent cells is `1`.

**Example 1:**

![](https://assets.leetcode.com/uploads/2021/04/24/01-1-grid.jpg)

> Input: mat = [[0,0,0],[0,1,0],[0,0,0]]
>
> Output: [[0,0,0],[0,1,0],[0,0,0]]

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/04/24/01-2-grid.jpg)

> Input: mat = [[0,0,0],[0,1,0],[1,1,1]]
>
> Output: [[0,0,0],[0,1,0],[1,2,1]]

**Constraints:**

- `m == mat.length`
- `n == mat[i].length`
- `1 <= m, n <= 10^4`
- `1 <= m * n <= 10^4`
- `mat[i][j]` is either `0` or `1`.
- There is at least one `0` in `mat`.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªç”± `0` å’Œ `1` ç»„æˆçš„çŸ©é˜µ `mat` ï¼Œè¯·è¾“å‡ºä¸€ä¸ªå¤§å°ç›¸åŒçš„çŸ©é˜µï¼Œå…¶ä¸­æ¯ä¸€ä¸ªæ ¼å­æ˜¯ `mat` ä¸­å¯¹åº”ä½ç½®å…ƒç´ åˆ°æœ€è¿‘çš„ `0` çš„è·ç¦»ã€‚

ä¸¤ä¸ªç›¸é‚»å…ƒç´ é—´çš„è·ç¦»ä¸º `1` ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://pic.leetcode-cn.com/1626667201-NCWmuP-image.png)

> **è¾“å…¥ï¼š** mat = [[0,0,0],[0,1,0],[0,0,0]]
>
> **è¾“å‡ºï¼š**[[0,0,0],[0,1,0],[0,0,0]]

**ç¤ºä¾‹ 2ï¼š**

![](https://pic.leetcode-cn.com/1626667205-xFxIeK-image.png)

> **è¾“å…¥ï¼š** mat = [[0,0,0],[0,1,0],[1,1,1]]
>
> **è¾“å‡ºï¼š**[[0,0,0],[0,1,0],[1,2,1]]

**æç¤ºï¼š**

- `m == mat.length`
- `n == mat[i].length`
- `1 <= m, n <= 10^4`
- `1 <= m * n <= 10^4`
- `mat[i][j] is either 0 or 1.`
- `mat` ä¸­è‡³å°‘æœ‰ä¸€ä¸ª `0 `

## è§£é¢˜æ€è·¯

é¢˜ç›®è¦æ±‚è®¡ç®—æ¯ä¸ª 1 åˆ°æœ€è¿‘çš„ 0 çš„æœ€çŸ­è·ç¦»ã€‚ç”±äº 1 åªèƒ½é€šè¿‡ 4 ä¸ªæ–¹å‘ï¼ˆä¸Šã€ä¸‹ã€å·¦ã€å³ï¼‰ç§»åŠ¨ï¼Œè¿™ç±» **æœ€çŸ­è·¯å¾„é—®é¢˜** é€‚åˆä½¿ç”¨ **BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰** è¿›è¡Œæ±‚è§£ï¼Œç”±äº BFS æŒ‰å±‚æ‰©å±•ï¼Œå› æ­¤å…ˆéå†åˆ°çš„ç‚¹ï¼Œä¸€å®šæ˜¯æœ€çŸ­è·¯å¾„ã€‚

**1. åˆå§‹åŒ–**

- åˆ›å»º `distance` çŸ©é˜µï¼šæ‰€æœ‰ `0` è®¾ä¸º `0`ï¼Œæ‰€æœ‰ `1` è®¾ä¸º `Infinity`ã€‚
- å°†æ‰€æœ‰ `0` çš„åæ ‡å…¥é˜Ÿï¼Œä½œä¸º BFS èµ·ç‚¹ã€‚

**2. BFS è®¡ç®—æœ€çŸ­è·ç¦»**

- ä¾æ¬¡ä»é˜Ÿåˆ—ä¸­å–å‡º `(i, j)` åæ ‡ï¼š
  - å°è¯•å‘ **å››ä¸ªæ–¹å‘** ä¼ æ’­ï¼ˆä¸Šã€ä¸‹ã€å·¦ã€å³ï¼‰ã€‚
  - è‹¥ `distance[nx][ny] > distance[i][j] + 1`ï¼Œè¯´æ˜å‘ç°æ›´çŸ­è·¯å¾„ï¼Œåˆ™ï¼š
    - æ›´æ–° `distance[nx][ny]`
    - æŠŠ `(nx, ny)` **åŠ å…¥é˜Ÿåˆ—**ï¼Œåç»­ç»§ç»­æ‰©å±•ã€‚

**3. è¿”å› `distance` çŸ©é˜µ**

- ç»è¿‡ BFS éå†åï¼Œ`distance` çŸ©é˜µå³ä¸º **æœ€çŸ­è·¯å¾„ç»“æœ**ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m * n)`ï¼ŒBFS æ¯æ¬¡éå†å››ä¸ªæ–¹å‘ï¼Œæ¯ä¸ªç‚¹æœ€å¤šè¢«è®¿é—®ä¸€æ¬¡ï¼ˆå…¥é˜Ÿï¼‰ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(m * n)`ï¼Œéœ€è¦ `distance` çŸ©é˜µå­˜å‚¨ç­”æ¡ˆï¼ŒåŒæ—¶ `queue` æœ€åæƒ…å†µå¯èƒ½å­˜ `m * n` ä¸ªå…ƒç´ ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[][]} mat
 * @return {number[][]}
 */
var updateMatrix = function (mat) {
	const m = mat.length;
	const n = mat[0].length;
	let distance = Array.from({ length: m }, () => Array(n).fill(Infinity));

	const dirc = [
		[1, 0],
		[-1, 0],
		[0, 1],
		[0, -1]
	];
	let queue = [];

	// é¢„å¤„ç†ï¼šæ‰¾åˆ°æ‰€æœ‰ 0ï¼Œä½œä¸º BFS èµ·ç‚¹
	for (let i = 0; i < m; i++) {
		for (let j = 0; j < n; j++) {
			if (mat[i][j] === 0) {
				distance[i][j] = 0;
				queue.push([i, j]);
			}
		}
	}

	while (queue.length) {
		const [i, j] = queue.shift();
		for (let [dx, dy] of dirc) {
			const nx = i + dx;
			const ny = j + dy;
			if (
				nx >= 0 &&
				nx < m &&
				ny >= 0 &&
				ny < n &&
				distance[nx][ny] > distance[i][j] + 1
			) {
				distance[nx][ny] = distance[i][j] + 1;
				// åªæœ‰æ›´æ–°çš„ç‚¹æ‰å…¥é˜Ÿï¼Œè¿›è¡Œä¸‹ä¸€å±‚éå†ï¼Œé¿å…é‡å¤è®¡ç®—
				queue.push([nx, ny]);
			}
		}
	}

	return distance;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1730 | è·å–é£Ÿç‰©çš„æœ€çŸ­è·¯å¾„ ğŸ”’ |  |  [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/shortest-path-to-get-food) [ğŸ”—](https://leetcode.com/problems/shortest-path-to-get-food) |
| 2123 | ä½¿çŸ©é˜µä¸­çš„ 1 äº’ä¸ç›¸é‚»çš„æœ€å°æ“ä½œæ•° ğŸ”’ |  |  [`å›¾`](/tag/graph.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-operations-to-remove-adjacent-ones-in-matrix) [ğŸ”—](https://leetcode.com/problems/minimum-operations-to-remove-adjacent-ones-in-matrix) |
| 2482 | è¡Œå’Œåˆ—ä¸­ä¸€å’Œé›¶çš„å·®å€¼ |  |  [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/difference-between-ones-and-zeros-in-row-and-column) [ğŸ”—](https://leetcode.com/problems/difference-between-ones-and-zeros-in-row-and-column) |