# [1545. æ‰¾å‡ºç¬¬ N ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ä¸­çš„ç¬¬ K ä½](https://leetcode.com/problems/find-kth-bit-in-nth-binary-string)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`é€’å½’`](/tag/recursion.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/find-kth-bit-in-nth-binary-string)

## é¢˜ç›®

<p>ç»™ä½ ä¸¤ä¸ªæ­£æ•´æ•° <code>n</code> å’Œ <code>k</code>ï¼ŒäºŒè¿›åˆ¶å­—ç¬¦ä¸²Â  <code>S<sub>n</sub></code> çš„å½¢æˆè§„åˆ™å¦‚ä¸‹ï¼š</p>

<ul>
	<li><code>S<sub>1</sub>Â = "0"</code></li>
	<li>å½“ <code>i > 1</code> æ—¶ï¼Œ<code>S<sub>i</sub>Â =Â S<sub>i-1</sub>Â + "1" + reverse(invert(S<sub>i-1</sub>))</code></li>
</ul>

<p>å…¶ä¸­ <code>+</code> è¡¨ç¤ºä¸²è”æ“ä½œï¼Œ<code>reverse(x)</code> è¿”å›åè½¬ <code>x</code> åå¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œè€Œ <code>invert(x)</code> åˆ™ä¼šç¿»è½¬ x ä¸­çš„æ¯ä¸€ä½ï¼ˆ0 å˜ä¸º 1ï¼Œè€Œ 1 å˜ä¸º 0ï¼‰ã€‚</p>

<p>ä¾‹å¦‚ï¼Œç¬¦åˆä¸Šè¿°æè¿°çš„åºåˆ—çš„å‰ 4 ä¸ªå­—ç¬¦ä¸²ä¾æ¬¡æ˜¯ï¼š</p>

<ul>
	<li><code>S<sub>1Â </sub>= "0"</code></li>
	<li><code>S<sub>2Â </sub>= "0<strong>1</strong>1"</code></li>
	<li><code>S<sub>3Â </sub>= "011<strong>1</strong>001"</code></li>
	<li><code>S<sub>4</sub> = "0111001<strong>1</strong>0110001"</code></li>
</ul>

<p>è¯·ä½ è¿”å›Â  <code>S<sub>n</sub></code> çš„ <strong>ç¬¬ <code>k</code> ä½å­—ç¬¦</strong> ï¼Œé¢˜ç›®æ•°æ®ä¿è¯ <code>k</code> ä¸€å®šåœ¨ <code>S<sub>n</sub></code> é•¿åº¦èŒƒå›´ä»¥å†…ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>n = 3, k = 1
<strong>è¾“å‡ºï¼š</strong>"0"
<strong>è§£é‡Šï¼š</strong>S<sub>3</sub> ä¸º "<strong>0</strong>111001"ï¼Œå…¶ç¬¬ 1 ä½ä¸º "0" ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>n = 4, k = 11
<strong>è¾“å‡ºï¼š</strong>"1"
<strong>è§£é‡Šï¼š</strong>S<sub>4</sub> ä¸º "0111001101<strong>1</strong>0001"ï¼Œå…¶ç¬¬ 11 ä½ä¸º "1" ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>n = 1, k = 1
<strong>è¾“å‡ºï¼š</strong>"0"
</pre>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>n = 2, k = 3
<strong>è¾“å‡ºï¼š</strong>"1"
</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 <= n <= 20</code></li>
	<li><code>1 <= k <= 2<sup>n</sup> - 1</code></li>
</ul>


## è§£é¢˜æ€è·¯

- å¯ä»¥ä½¿ç”¨é€’å½’æ–¹æ³•ç”Ÿæˆç¬¬ `n` ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚ç”Ÿæˆçš„è¿‡ç¨‹å¯ä»¥ç”¨ `S(n) = S(n-1) + '1' + reverse(invert(Si - 1))` æ¥è¡¨ç¤ºï¼Œå…¶ä¸­ `reverse` æ˜¯ç¿»è½¬æ“ä½œï¼Œ`invert` æ˜¯å–åæ“ä½œï¼Œé€šè¿‡ `split` å’Œ `map` æ–¹æ³•å®ç°å–åæ“ä½œã€‚

- ä¸€æ—¦ç”Ÿæˆäº†ç¬¬ `n` ä¸ªå­—ç¬¦ä¸²ï¼Œå°±å¯ä»¥æ ¹æ® 1-indexed è§„åˆ™è¿”å›ç¬¬ `k` ä½çš„å­—ç¬¦ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(2^n)`ï¼Œéšç€ `n` å¢åŠ ï¼Œå­—ç¬¦ä¸²é•¿åº¦å‘ˆæŒ‡æ•°å¢é•¿ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(2^n)`ï¼Œå­˜å‚¨ç”Ÿæˆçš„å­—ç¬¦ä¸²æ‰€éœ€çš„ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} n
 * @param {number} k
 * @return {character}
 */
var findKthBit = function (n, k) {
	const genString = (n) => {
		if (n == 1) return '0';
		const prev = genString(n - 1);
		const reverse = prev
			.split('')
			.map((i) => (i == '0' ? '1' : '0'))
			.reverse()
			.join('');
		return prev + '1' + reverse;
	};

	const str = genString(n);

	return str[k - 1]; // k æ˜¯ 1-indexed
};
```
