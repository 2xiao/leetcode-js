# [474. ä¸€å’Œé›¶](https://leetcode.com/problems/ones-and-zeroes)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/ones-and-zeroes)

## é¢˜ç›®

<p>ç»™ä½ ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²æ•°ç»„ <code>strs</code> å’Œä¸¤ä¸ªæ•´æ•° <code>m</code> å’Œ <code>n</code> ã€‚</p>

<div class="MachineTrans-Lines">
<p class="MachineTrans-lang-zh-CN">è¯·ä½ æ‰¾å‡ºå¹¶è¿”å› <code>strs</code> çš„æœ€å¤§å­é›†çš„é•¿åº¦ï¼Œè¯¥å­é›†ä¸­ <strong>æœ€å¤š</strong> æœ‰ <code>m</code> ä¸ª <code>0</code> å’Œ <code>n</code> ä¸ª <code>1</code> ã€‚</p>

<p class="MachineTrans-lang-zh-CN">å¦‚æœ <code>x</code> çš„æ‰€æœ‰å…ƒç´ ä¹Ÿæ˜¯ <code>y</code> çš„å…ƒç´ ï¼Œé›†åˆ <code>x</code> æ˜¯é›†åˆ <code>y</code> çš„ <strong>å­é›†</strong> ã€‚</p>
</div>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>strs = ["10", "0001", "111001", "1", "0"], m = 5, n = 3
<strong>è¾“å‡ºï¼š</strong>4
<strong>è§£é‡Šï¼š</strong>æœ€å¤šæœ‰ 5 ä¸ª 0 å’Œ 3 ä¸ª 1 çš„æœ€å¤§å­é›†æ˜¯ {"10","0001","1","0"} ï¼Œå› æ­¤ç­”æ¡ˆæ˜¯ 4 ã€‚
å…¶ä»–æ»¡è¶³é¢˜æ„ä½†è¾ƒå°çš„å­é›†åŒ…æ‹¬ {"0001","1"} å’Œ {"10","1","0"} ã€‚{"111001"} ä¸æ»¡è¶³é¢˜æ„ï¼Œå› ä¸ºå®ƒå« 4 ä¸ª 1 ï¼Œå¤§äº n çš„å€¼ 3 ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>strs = ["10", "0", "1"], m = 1, n = 1
<strong>è¾“å‡ºï¼š</strong>2
<strong>è§£é‡Šï¼š</strong>æœ€å¤§çš„å­é›†æ˜¯ {"0", "1"} ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 2 ã€‚
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 &lt;= strs.length &lt;= 600</code></li>
	<li><code>1 &lt;= strs[i].length &lt;= 100</code></li>
	<li><code>strs[i]</code>&nbsp;ä»…ç”±&nbsp;<code>'0'</code> å’Œ&nbsp;<code>'1'</code> ç»„æˆ</li>
	<li><code>1 &lt;= m, n &lt;= 100</code></li>
</ul>


## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šåŠ¨æ€è§„åˆ’

è¿™ä¸ªé—®é¢˜å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ï¼Œä¸ 0-1 èƒŒåŒ…é—®é¢˜æœ‰ä¸€äº›ç›¸ä¼¼ä¹‹å¤„ã€‚

å¯ä»¥å®šä¹‰ä¸€ä¸ªä¸‰ç»´åŠ¨æ€è§„åˆ’æ•°ç»„ `dp`ï¼Œå…¶ä¸­ `dp[i][j][k]` è¡¨ç¤ºåœ¨å‰ `i` ä¸ªå­—ç¬¦ä¸²ä¸­ä½¿ç”¨ `j` ä¸ª '0' å’Œ `k` ä¸ª '1' çš„æ¡ä»¶ä¸‹ï¼Œæœ€å¤§å­é›†çš„é•¿åº¦ã€‚

åŠ¨æ€è§„åˆ’çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š

`dp[i][j][k] = max(dp[i-1][j][k], dp[i-1][j-zeros][k-ones] + 1)`

å…¶ä¸­ï¼Œ`zeros` è¡¨ç¤ºç¬¬ `i` ä¸ªå­—ç¬¦ä¸²ä¸­ '0' çš„ä¸ªæ•°ï¼Œ`ones` è¡¨ç¤ºç¬¬ `i` ä¸ªå­—ç¬¦ä¸²ä¸­ '1' çš„ä¸ªæ•°ã€‚

æ¥ä¸‹æ¥ï¼Œéå†æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œæ›´æ–°åŠ¨æ€è§„åˆ’æ•°ç»„ï¼Œæœ€åè¿”å› `dp[len][m][n]`ï¼Œè¡¨ç¤ºä½¿ç”¨æœ€å¤š `m` ä¸ª '0' å’Œ `n` ä¸ª '1' æ¡ä»¶ä¸‹å¾—åˆ°çš„æœ€å¤§å­—ç¬¦ä¸²æ•°ç›®ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(len * m * n)`ï¼Œå…¶ä¸­ `len` æ˜¯å­—ç¬¦ä¸²æ•°ç»„çš„é•¿åº¦ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(len * m * n)`ã€‚

---

### æ€è·¯äºŒï¼šå‹ç¼©çŠ¶æ€çš„åŠ¨æ€è§„åˆ’

æ³¨æ„åˆ° `dp[i][j][k]` éƒ½æ˜¯é€šè¿‡ä¸Šä¸€è¡Œ `dp[i-1][..][..]` è½¬ç§»è¿‡æ¥çš„ï¼Œå†ä¹‹å‰æ‰€æœ‰è¡Œçš„æ•°æ®éƒ½ä¸ä¼šå†ä½¿ç”¨äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹åŠ¨æ€è§„åˆ’è¿›è¡ŒçŠ¶æ€å‹ç¼©ï¼Œå°†ä¸‰ç»´ `dp` æ•°ç»„å‹ç¼©ä¸ºäºŒç»´ï¼ŒèŠ‚çº¦ç©ºé—´å¤æ‚åº¦ï¼š

- `dp[j][k]` è¡¨ç¤ºåœ¨å½“å‰å…ƒç´ ä¸­ï¼Œä½¿ç”¨ `j` ä¸ª '0' å’Œ `k` ä¸ª '1' çš„æ¡ä»¶ä¸‹ï¼Œæœ€å¤§å­é›†çš„é•¿åº¦ï¼›
- éå† `strs` æ•°ç»„ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸² `str`ï¼Œå¹¶æ›´æ–° `dp` æ•°ç»„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ `j` å’Œ `k` åº”è¯¥ä»åå¾€å‰åå‘éå†ï¼Œç¡®ä¿äº†æˆ‘ä»¬åœ¨æ›´æ–°å½“å‰çŠ¶æ€æ—¶æ‰€ä¾èµ–çš„çŠ¶æ€å·²ç»è¢«æ­£ç¡®è®¡ç®—ï¼›
- çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š`dp[j][k] = max(dp[j][k], dp[j - zeros][k - ones] + 1)`ï¼›
- æœ€ç»ˆç»“æœå­˜å‚¨åœ¨ `dp[m][n]` ä¸­ï¼›

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(len * m * n)`ï¼Œå…¶ä¸­ `len` æ˜¯å­—ç¬¦ä¸²æ•°ç»„çš„é•¿åº¦ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(m * n)`ã€‚

## ä»£ç 

::: code-tabs

@tab åŠ¨æ€è§„åˆ’

```javascript
/**
 * @param {string[]} strs
 * @param {number} m
 * @param {number} n
 * @return {number}
 */
var findMaxForm = function (strs, m, n) {
	const len = strs.length;
	const dp = new Array(len + 1)
		.fill(0)
		.map(() => new Array(m + 1).fill(0).map(() => new Array(n + 1).fill(0)));

	for (let i = 1; i <= len; i++) {
		const zeros = [...strs[i - 1]].filter((i) => i == '0').length;
		const ones = strs[i - 1].length - zeros;
		for (let j = m; j >= 0; j--) {
			for (let k = n; k >= 0; k--) {
				if (zeros > j || ones > k) {
					dp[i][j][k] = dp[i - 1][j][k];
				} else {
					dp[i][j][k] = Math.max(
						dp[i - 1][j][k],
						dp[i - 1][j - zeros][k - ones] + 1
					);
				}
			}
		}
	}
	return dp[len][m][n];
};
```

@tab å‹ç¼©çŠ¶æ€çš„åŠ¨æ€è§„åˆ’

```javascript
/**
 * @param {string[]} strs
 * @param {number} m
 * @param {number} n
 * @return {number}
 */
var findMaxForm = function (strs, m, n) {
	const len = strs.length;
	const dp = new Array(m + 1).fill(0).map(() => new Array(n + 1).fill(0));
	for (let str of strs) {
		const zeros = [...str].filter((i) => i == '0').length;
		const ones = str.length - zeros;

		for (let j = m; j >= 0; j--) {
			for (let k = n; k >= 0; k--) {
				if (j >= zeros && k >= ones) {
					dp[j][k] = Math.max(dp[j][k], dp[j - zeros][k - ones] + 1);
				}
			}
		}
	}
	return dp[m][n];
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 600 | [ä¸å«è¿ç»­1çš„éè´Ÿæ•´æ•°](https://leetcode.com/problems/non-negative-integers-without-consecutive-ones) |  |  [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> |
| 2031 | [1 æ¯” 0 å¤šçš„å­æ•°ç»„ä¸ªæ•°](https://leetcode.com/problems/count-subarrays-with-more-ones-than-zeros) |  |  [`æ ‘çŠ¶æ•°ç»„`](/tag/binary-indexed-tree.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æ•°ç»„`](/tag/array.md) `4+` | <font color=#ffb800>Medium</font> |
| 2155 | [åˆ†ç»„å¾—åˆ†æœ€é«˜çš„æ‰€æœ‰ä¸‹æ ‡](https://leetcode.com/problems/all-divisions-with-the-highest-score-of-a-binary-array) |  |  [`æ•°ç»„`](/tag/array.md) | <font color=#ffb800>Medium</font> |