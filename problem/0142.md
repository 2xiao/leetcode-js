---
title: 142. ç¯å½¢é“¾è¡¨ II
description: LeetCode,142. ç¯å½¢é“¾è¡¨ II,ç¯å½¢é“¾è¡¨ II,Linked List Cycle II,è§£é¢˜æ€è·¯,å“ˆå¸Œè¡¨,é“¾è¡¨,åŒæŒ‡é’ˆ
keywords:
  - LeetCode
  - 142. ç¯å½¢é“¾è¡¨ II
  - ç¯å½¢é“¾è¡¨ II
  - Linked List Cycle II
  - è§£é¢˜æ€è·¯
  - å“ˆå¸Œè¡¨
  - é“¾è¡¨
  - åŒæŒ‡é’ˆ
---

# 142. ç¯å½¢é“¾è¡¨ II

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`é“¾è¡¨`](/tag/linked-list.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/linked-list-cycle-ii) [`LeetCode`](https://leetcode.com/problems/linked-list-cycle-ii)

## é¢˜ç›®

Given the `head` of a linked list, return _the node where the cycle begins. If
there is no cycle, return_`null`.

There is a cycle in a linked list if there is some node in the list that can
be reached again by continuously following the `next` pointer. Internally,
`pos` is used to denote the index of the node that tail's `next` pointer is
connected to ( **0-indexed** ). It is `-1` if there is no cycle. **Note that**
`pos` **is not passed as a parameter**.

**Do not modify** the linked list.

**Example 1:**

![](https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist.png)

> Input: head = [3,2,0,-4], pos = 1
>
> Output: tail connects to node index 1
>
> Explanation: There is a cycle in the linked list, where tail connects to the second node.

**Example 2:**

![](https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist_test2.png)

> Input: head = [1,2], pos = 0
>
> Output: tail connects to node index 0
>
> Explanation: There is a cycle in the linked list, where tail connects to the first node.

**Example 3:**

![](https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist_test3.png)

> Input: head = [1], pos = -1
>
> Output: no cycle
>
> Explanation: There is no cycle in the linked list.

**Constraints:**

- The number of the nodes in the list is in the range `[0, 10^4]`.
- `-10^5 <= Node.val <= 10^5`
- `pos` is `-1` or a **valid index** in the linked-list.

**Follow up:** Can you solve it using `O(1)` (i.e. constant) memory?

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ `head` ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› `null`ã€‚

å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª `next` æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° `pos` æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» `0` å¼€å§‹ï¼‰ã€‚å¦‚æœ `pos` æ˜¯ `-1`ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚æ³¨æ„ï¼š`pos` ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚

**ä¸å…è®¸ä¿®æ”¹** é“¾è¡¨ã€‚

## è§£é¢˜æ€è·¯

å¯ä»¥é€šè¿‡å¿«æ…¢æŒ‡é’ˆçš„æ–¹æ³•æ¥è§£å†³ã€‚

1. å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæ…¢æŒ‡é’ˆ `slow`ï¼Œä¸€ä¸ªå¿«æŒ‡é’ˆ `fast`ï¼Œåˆå§‹ä½ç½®éƒ½åœ¨é“¾è¡¨çš„å¤´éƒ¨ã€‚
2. ä½¿ç”¨å¾ªç¯ï¼Œæ¯è½®å¾ªç¯ä¸­æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆèµ°ä¸¤æ­¥ã€‚
3. å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯ï¼Œå¿«æŒ‡é’ˆæœ€ç»ˆä¼šè¿½ä¸Šæ…¢æŒ‡é’ˆï¼Œä¸¤è€…ä¼šç›¸é‡ã€‚å¦‚æœé“¾è¡¨ä¸­ä¸å­˜åœ¨ç¯ï¼Œå¿«æŒ‡é’ˆä¼šå…ˆåˆ°è¾¾é“¾è¡¨çš„æœ«å°¾ã€‚
4. å¦‚æœç›¸é‡ï¼Œå°†å…¶ä¸­ä¸€ä¸ªæŒ‡é’ˆé‡æ–°æ”¾ç½®åœ¨é“¾è¡¨å¤´éƒ¨ï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆä»¥ç›¸åŒçš„é€Ÿåº¦å‘å‰ç§»åŠ¨ï¼Œæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ã€‚
5. å½“ä¸¤ä¸ªæŒ‡é’ˆå†æ¬¡ç›¸é‡æ—¶ï¼Œç›¸é‡ç‚¹å³ä¸ºç¯çš„å…¥å£ç‚¹ã€‚

è¿™ä¸ªæ–¹æ³•çš„åŸç†è¯æ˜å¦‚ä¸‹ï¼š

å‡è®¾é“¾è¡¨å¤´åˆ°ç¯çš„å…¥å£ç‚¹çš„è·ç¦»ä¸º `a` æ­¥ï¼Œç¯çš„å…¥å£ç‚¹åˆ°ç›¸é‡ç‚¹çš„è·ç¦»ä¸º `b` æ­¥ï¼Œç¯çš„é•¿åº¦ä¸º `c` æ­¥ã€‚é‚£ä¹ˆï¼Œåœ¨ç¬¬ä¸€æ¬¡ç›¸é‡æ—¶ï¼Œæ…¢æŒ‡é’ˆ `slow` èµ°äº† `a + b` æ­¥ï¼Œå¿«æŒ‡é’ˆ `fast` èµ°äº† `a + b + k * c` æ­¥ï¼ˆå…¶ä¸­ `k` æ˜¯å¿«æŒ‡é’ˆåœ¨ç¯ä¸­è½¬äº† `k` åœˆï¼‰ã€‚

ç”±äºå¿«æŒ‡é’ˆçš„é€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆçš„ä¸¤å€ï¼Œæ‰€ä»¥ï¼š`2(a + b) = a + b + k * c`

æ•´ç†å¾—ï¼š`a = (k - 1) * c + (c - b)`

è¿™æ„å‘³ç€ä»ç›¸é‡ç‚¹ç»§ç»­èµ° `a` æ­¥ï¼Œå°†å†æ¬¡åˆ°è¾¾ç¯çš„å…¥å£ç‚¹ã€‚æˆ‘ä»¬é‡æ–°å°† `slow` æŒ‡é’ˆæ”¾åˆ°é“¾è¡¨å¤´ï¼Œç„¶å `slow` å’Œ `fast` æ¯æ¬¡éƒ½ç§»åŠ¨ä¸€æ­¥ï¼Œæœ€ç»ˆå®ƒä»¬å°†åœ¨ç¯çš„å…¥å£ç‚¹ç›¸é‡ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°é‡ã€‚

  - åœ¨ç¬¬ä¸€é˜¶æ®µï¼ˆæ‰¾ç¯é˜¶æ®µï¼‰ï¼Œå¿«æŒ‡é’ˆ `fast` ä»¥ä¸¤å€é€Ÿåº¦éå†é“¾è¡¨ï¼Œè€Œæ…¢æŒ‡é’ˆ `slow` ä»¥æ­£å¸¸é€Ÿåº¦éå†é“¾è¡¨ã€‚å½“é“¾è¡¨ä¸­å­˜åœ¨ç¯æ—¶ï¼Œå¿«æ…¢æŒ‡é’ˆæœ€ç»ˆä¼šåœ¨ç¯ä¸­ç›¸é‡ã€‚ç”±äºæ¯æ¬¡ç§»åŠ¨éƒ½ä¼šå‡å°‘ä¸¤è€…ä¹‹é—´çš„è·ç¦»ï¼Œå› æ­¤æœ€åæƒ…å†µä¸‹éœ€è¦éå†æ•´ä¸ªé“¾è¡¨ï¼Œè¿™ä¸€éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚
  - åœ¨ç¬¬äºŒé˜¶æ®µï¼ˆæ‰¾ç¯å…¥å£ï¼‰ï¼Œä¸¤ä¸ªæŒ‡é’ˆä»ç›¸é‡ç‚¹å’Œå¤´ç»“ç‚¹å¼€å§‹åˆ†åˆ«æ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ï¼Œæœ€ç»ˆä¼šåœ¨ç¯çš„å…¥å£å¤„ç›¸é‡ã€‚è¿™ä¸ªè¿‡ç¨‹æœ€å¤šä¹Ÿéœ€è¦éå† `O(n)` çš„èŠ‚ç‚¹ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ç©ºé—´æ¥å­˜å‚¨å˜é‡ã€‚

## ä»£ç 

```javascript
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
var detectCycle = function (head) {
	let slow = head;
	let fast = head;
	while (fast !== null && fast.next !== null) {
		slow = slow.next;
		fast = fast.next.next;
		if (slow == fast) {
			slow = head;
			while (slow !== fast) {
				slow = slow.next;
				fast = fast.next;
			}
			return slow;
		}
	}
	return null;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 141 | ç¯å½¢é“¾è¡¨ | [[âœ“]](/problem/0141.md) |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`é“¾è¡¨`](/tag/linked-list.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/linked-list-cycle) [ğŸ”—](https://leetcode.com/problems/linked-list-cycle) |
| 287 | å¯»æ‰¾é‡å¤æ•° | [[âœ“]](/problem/0287.md) |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/find-the-duplicate-number) [ğŸ”—](https://leetcode.com/problems/find-the-duplicate-number) |