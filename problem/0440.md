---
title: 440. å­—å…¸åºçš„ç¬¬Kå°æ•°å­—
description: LeetCode,440. å­—å…¸åºçš„ç¬¬Kå°æ•°å­—,å­—å…¸åºçš„ç¬¬Kå°æ•°å­—,K-th Smallest in Lexicographical Order,è§£é¢˜æ€è·¯,å­—å…¸æ ‘
keywords:
  - LeetCode
  - 440. å­—å…¸åºçš„ç¬¬Kå°æ•°å­—
  - å­—å…¸åºçš„ç¬¬Kå°æ•°å­—
  - K-th Smallest in Lexicographical Order
  - è§£é¢˜æ€è·¯
  - å­—å…¸æ ‘
---

# 440. å­—å…¸åºçš„ç¬¬Kå°æ•°å­—

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å­—å…¸æ ‘`](/tag/trie.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/k-th-smallest-in-lexicographical-order) [`LeetCode`](https://leetcode.com/problems/k-th-smallest-in-lexicographical-order)

## é¢˜ç›®

Given two integers `n` and `k`, return _the_ `kth` _lexicographically smallest
integer in the range_ `[1, n]`.

**Example 1:**

> Input: n = 13, k = 2
>
> Output: 10
>
> Explanation: The lexicographical order is [1, 10, 11, 12, 13, 2, 3, 4, 5, 6, 7, 8, 9], so the second smallest number is 10.

**Example 2:**

> Input: n = 1, k = 1
>
> Output: 1

**Constraints:**

- `1 <= k <= n <= 10^9`

## é¢˜ç›®å¤§æ„

ç»™å®šæ•´æ•° `n` å’Œ `k`ï¼Œè¿”å› `[1, n]` ä¸­å­—å…¸åºç¬¬ `k` å°çš„æ•°å­—ã€‚

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šå­—å…¸æ ‘è®¡æ•°

ç›´æ¥æ„å»ºä» `1` åˆ° `n` çš„æ‰€æœ‰æ•°å­—å¹¶è¿›è¡Œæ’åºçš„æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œå› æ­¤éœ€è¦æ›´é«˜æ•ˆçš„ç®—æ³•ï¼Œå¯ä»¥åˆ©ç”¨å­—å…¸åºçš„æ ‘çŠ¶ç»“æ„ã€‚

æˆ‘ä»¬å¯ä»¥å°†æ•°å­—å¯è§†åŒ–ä¸ºå­—å…¸é¡ºåºæ ‘ï¼š

- æ ¹èŠ‚ç‚¹ä¸º `1`ï¼Œå…¶å­èŠ‚ç‚¹ä¸º `10ã€11ã€12 ... 19`ï¼›
- æ ¹èŠ‚ç‚¹ä¸º `2`ï¼Œå…¶å­èŠ‚ç‚¹ä¸º `20ã€21 ... 29` ç­‰ç­‰ï¼›

æ ¹æ®è¿™ç§ç»“æ„ï¼Œé—®é¢˜å˜æˆäº†éå†å­—å…¸æ ‘ï¼Œè®¡ç®—æ¯ä¸ªèŠ‚ç‚¹ä¸‹æœ‰å¤šå°‘ä¸ªæ•°å­—ã€‚

ä½¿ç”¨ä¸€ä¸ªè®¡æ•°å‡½æ•° `getReqNum(a, n)` æ¥è®¡ç®—å­—å…¸æ ‘ä¸­ä»¥ `a` ä¸ºå‰ç¼€çš„æ•°å­—æœ‰å¤šå°‘ä¸ªï¼Œè€ƒè™‘æœ€å¤š `n` ä¸ªæ•°å­—ã€‚

ä¸€æ—¦æˆ‘ä»¬çŸ¥é“ä»¥ `a` ä¸ºå‰ç¼€çš„æ•°å­—æœ‰å¤šå°‘ä¸ªï¼Œæˆ‘ä»¬å°±å¯ä»¥å†³å®šæ˜¯è·³è¿‡ `a`ï¼ˆå¦‚æœè®¡æ•°å°äº kï¼‰ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ `a + 1`ï¼Œè¿˜æ˜¯æ·±å…¥ `a` çš„å­æ ‘ä¸­ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(K log n)`ï¼Œæ¯æ¬¡æŸ¥æ‰¾æœ€å¤šéœ€è¦ `O(log n)` çš„æ—¶é—´ï¼ˆå› ä¸ºåœ¨æ ‘çš„å±‚çº§ä¸­ï¼‰ï¼Œå¯¹äº `K` æ¬¡æŸ¥æ‰¾ï¼Œæ€»ä½“å¤æ‚åº¦æ˜¯ `O(K log n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œå› ä¸ºä½¿ç”¨ä¸€äº›å˜é‡æ¥è·Ÿè¸ªå½“å‰æ•°å­—ï¼Œå¹¶ä¸”é™¤äº†æ•´æ•°å˜é‡ä¹‹å¤–ä¸ä½¿ç”¨ä»»ä½•å…¶ä»–æ•°æ®ç»“æ„ã€‚

---

### æ€è·¯äºŒï¼šå­—å…¸æ ‘ï¼ˆè¶…æ—¶ï¼‰

æ€è·¯ä¸€çš„æ–¹å¼å¹¶æ²¡æœ‰çœŸçš„æ„å»ºå­—å…¸æ ‘ï¼Œåªæ˜¯åˆ©ç”¨äº†å­—å…¸æ ‘çš„ç»“æ„ï¼Œæ¥è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹ä¸‹æœ‰å¤šå°‘ä¸ªæ•°å­—ã€‚

æ€è·¯äºŒå°è¯•äº†çœŸçš„æ„å»ºä¸€ä¸ªå­—å…¸æ ‘ï¼Œç„¶åæ·±åº¦ä¼˜å…ˆéå†å­—å…¸æ ‘ï¼Œæ‰¾åˆ°ç¬¬ K ä¸ªæ•°å­—ã€‚

è¿™ç§åšæ³•**æ— æ³•è·‘é€š**æ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹ï¼Œé‡åˆ°å¾ˆå¤§çš„æ•°å­—æ—¶ä¼šè¶…æ—¶ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥å°è¯•å†™ä¸€å†™ï¼Œä½œä¸ºä¸€ç§ç»ƒä¹ ã€‚

1. **æ„å»ºå­—å…¸æ ‘**ï¼š

   - åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„å­—å…¸æ ‘ï¼ˆTrieï¼‰ã€‚
   - ä½¿ç”¨ä¸€ä¸ªå¾ªç¯éå†ä» `1` åˆ° `n` çš„æ‰€æœ‰æ•´æ•°ï¼Œå°†å®ƒä»¬çš„æ¯ä¸€ä½å­—ç¬¦æ’å…¥å­—å…¸æ ‘ä¸­ã€‚å¯¹äºæ¯ä¸ªæ•°å­—ï¼Œå°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åé€ä½æ’å…¥å­—å…¸æ ‘ã€‚
   - åœ¨æ¯ä¸ªæ•°å­—çš„æœ«å°¾æ ‡è®° `isEnd` ä¸º `true`ï¼Œè¡¨ç¤ºè¿™ä¸ªæ•°å­—çš„ç»“å°¾ã€‚

2. **å‰åºéå†æŸ¥æ‰¾å‰ K ä¸ªæ•°**ï¼š

   - ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰éå†å­—å…¸æ ‘ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ„å»ºä¸€ä¸ªå­—ç¬¦ä¸² `str` æ¥è¡¨ç¤ºå½“å‰è·¯å¾„ã€‚
   - å¦‚æœå½“å‰èŠ‚ç‚¹æ ‡è®°ä¸º `isEnd`ï¼Œè¯´æ˜æ‰¾åˆ°äº†ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—ï¼Œå°†å…¶æ·»åŠ åˆ°ç»“æœæ•°ç»„ `track` ä¸­ã€‚
   - éå†å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œç»§ç»­æ·±åº¦ä¼˜å…ˆæœç´¢ã€‚
   - ç›´åˆ°æ‰¾åˆ° K ä¸ªæ•°å­—æˆ–è€…æ²¡æœ‰æ›´å¤šèŠ‚ç‚¹å¯ä»¥éå†ã€‚

3. **è¿”å›ç»“æœ**ï¼š
   - æœ€åï¼Œä» `track` æ•°ç»„ä¸­è¿”å›ç¬¬ K ä¸ªæ•°å­—ï¼ˆå³æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå°†å…¶è½¬æ¢ä¸ºæ•°å­—ç±»å‹ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n * log(n))`

  - åœ¨æ„å»ºå­—å…¸æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹äºæ¯ä¸ªæ•°å­— `1` åˆ° `n`ï¼Œæœ€å¤šéœ€è¦æ’å…¥ `log(n)` ä¸ªå­—ç¬¦ï¼Œå› æ­¤æ„å»ºå­—å…¸æ ‘çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n * log(n))`ã€‚
  - åœ¨å‰åºéå†æŸ¥æ‰¾ `K` ä¸ªæ•°çš„è¿‡ç¨‹ä¸­ï¼Œéå†çš„æ—¶é—´å¤æ‚åº¦å–å†³äºå­—å…¸æ ‘çš„ç»“æ„ï¼Œä½†åœ¨æœ€åæƒ…å†µä¸‹ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯` O(n)`ã€‚
  - å› æ­¤ï¼Œæ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º `O(n * log(n))`ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n * log(n))`
  - å­—å…¸æ ‘çš„ç©ºé—´å¤æ‚åº¦å–å†³äºå­˜å‚¨çš„æ•°å­—æ•°é‡å’Œå…¶å­—ç¬¦çš„é•¿åº¦ã€‚åœ¨æœ€åæƒ…å†µä¸‹ï¼Œå­—å…¸æ ‘çš„ç©ºé—´å¤æ‚åº¦ä¸º `O(n * log(n))`ã€‚
  - å¦å¤–ï¼Œç»“æœæ•°ç»„ `track` çš„å¤§å°æœ€å¤šä¸º `K`ï¼Œå› æ­¤é¢å¤–çš„ç©ºé—´å¤æ‚åº¦ä¸º `O(K)`ã€‚
  - ç»¼åˆæ¥çœ‹ï¼Œç©ºé—´å¤æ‚åº¦ä¸º `O(n * log(n))`ã€‚

## ä»£ç 

::: code-tabs
@tab å­—å…¸æ ‘è®¡æ•°

```javascript
var findKthNumber = function (n, k) {
	const getReqNum = (first, n) => {
		let gap = 0,
			last = first + 1;
		while (first <= n) {
			gap += Math.min(n + 1, last) - first;
			first *= 10;
			last *= 10;
		}
		return gap;
	};

	let num = 1;
	let i = 1;

	while (i < k) {
		let req = getReqNum(num, n);
		if (i + req <= k) {
			i += req;
			num++;
		} else {
			i++;
			num *= 10;
		}
	}

	return num;
};
```

@tab å­—å…¸æ ‘ï¼ˆè¶…æ—¶ï¼‰

```javascript
/**
 * @param {number} n
 * @param {number} k
 * @return {number}
 */
var findKthNumber = function (n, k) {
	let trie = {},
		i = 1;

	// æ„å»ºå­—å…¸æ ‘
	while (i <= n) {
		let temp = trie;
		for (let char of '' + i) {
			if (!temp[char]) {
				temp[char] = {};
			}
			temp = temp[char];
		}
		temp.isEnd = true;
		i++;
	}

	// å‰åºéå†æŸ¥æ‰¾å­—å…¸æ ‘ä¸­çš„å‰ K ä¸ªæ•°
	let track = [];
	const dfs = (node, str) => {
		if (!node || track.length == k) {
			return;
		}
		if (node.isEnd) {
			track.push(str);
		}
		for (let key of Object.keys(node)) {
			if (key !== 'isEnd') {
				dfs(node[key], str + key);
			}
		}
	};
	dfs(trie, '');

	// è¿”å›ç¬¬ K ä¸ªæ•°
	return Number(track[track.length - 1]);
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2376 | [ç»Ÿè®¡ç‰¹æ®Šæ•´æ•°](https://leetcode.com/problems/count-special-integers) |  |  [`æ•°å­¦`](/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> |