---
title: 1351. ç»Ÿè®¡æœ‰åºçŸ©é˜µä¸­çš„è´Ÿæ•°
description: LeetCode 1351. ç»Ÿè®¡æœ‰åºçŸ©é˜µä¸­çš„è´Ÿæ•°é¢˜è§£ï¼ŒCount Negative Numbers in a Sorted Matrixï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1351. ç»Ÿè®¡æœ‰åºçŸ©é˜µä¸­çš„è´Ÿæ•°
  - ç»Ÿè®¡æœ‰åºçŸ©é˜µä¸­çš„è´Ÿæ•°
  - Count Negative Numbers in a Sorted Matrix
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
  - çŸ©é˜µ
---

# 1351. ç»Ÿè®¡æœ‰åºçŸ©é˜µä¸­çš„è´Ÿæ•°

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/count-negative-numbers-in-a-sorted-matrix) [`LeetCode`](https://leetcode.com/problems/count-negative-numbers-in-a-sorted-matrix)

## é¢˜ç›®

Given a `m x n` matrix `grid` which is sorted in non-increasing order both
row-wise and column-wise, return _the number of**negative** numbers in_
`grid`.

**Example 1:**

> Input: grid = [[4,3,2,-1],[3,2,1,-1],[1,1,-1,-2],[-1,-1,-2,-3]]
>
> Output: 8
>
> Explanation: There are 8 negatives number in the matrix.

**Example 2:**

> Input: grid = [[3,2],[1,0]]
>
> Output: 0

**Constraints:**

- `m == grid.length`
- `n == grid[i].length`
- `1 <= m, n <= 100`
- `-100 <= grid[i][j] <= 100`

**Follow up:** Could you find an `O(n + m)` solution?

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `m * n` çš„çŸ©é˜µ `grid`ï¼ŒçŸ©é˜µä¸­çš„å…ƒç´ æ— è®ºæ˜¯æŒ‰è¡Œè¿˜æ˜¯æŒ‰åˆ—ï¼Œéƒ½ä»¥éä¸¥æ ¼é€’å‡é¡ºåºæ’åˆ—ã€‚ è¯·ä½ ç»Ÿè®¡å¹¶è¿”å› `grid` ä¸­ **è´Ÿæ•°**
çš„æ•°ç›®ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** grid = [[4,3,2,-1],[3,2,1,-1],[1,1,-1,-2],[-1,-1,-2,-3]]
>
> **è¾“å‡ºï¼š** 8
>
> **è§£é‡Šï¼š** çŸ©é˜µä¸­å…±æœ‰ 8 ä¸ªè´Ÿæ•°ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** grid = [[3,2],[1,0]]
>
> **è¾“å‡ºï¼š** 0

**æç¤ºï¼š**

- `m == grid.length`
- `n == grid[i].length`
- `1 <= m, n <= 100`
- `-100 <= grid[i][j] <= 100`

**è¿›é˜¶ï¼š** ä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º `O(n + m)` çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šé€è¡ŒäºŒåˆ†æŸ¥æ‰¾

1. å¯¹æ¯ä¸€è¡Œä½¿ç”¨**äºŒåˆ†æŸ¥æ‰¾**ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªè´Ÿæ•°çš„ä½ç½®ã€‚
2. ç”±è¡Œçš„æ€§è´¨å¯çŸ¥ï¼Œè¯¥ä½ç½®å³ä¾§çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯è´Ÿæ•°ã€‚
3. ç´¯è®¡æ¯è¡Œçš„è´Ÿæ•°æ•°é‡ï¼Œæœ€ç»ˆè¿”å›æ€»æ•°ã€‚

#### å¤æ‚åº¦åˆ†æï¼š

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m log n)`ï¼Œå…¶ä¸­ `m` æ˜¯è¡Œæ•°ï¼Œ`n` æ˜¯åˆ—æ•°ã€‚æ¯ä¸€è¡Œæ‰§è¡Œä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼Œè€—æ—¶ `O(log n)`ï¼Œå…± `m` è¡Œã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä»…ä½¿ç”¨äº†å¸¸é‡é¢å¤–ç©ºé—´ã€‚

---

### æ€è·¯äºŒï¼šçŸ©é˜µé€†å‘éå†

1. ä»çŸ©é˜µçš„**å³ä¸Šè§’**å¼€å§‹ç§»åŠ¨ï¼ˆ`row = 0`ï¼Œ`col = n - 1`ï¼‰ï¼š
   - å¦‚æœå½“å‰ä½ç½®æ˜¯æ­£æ•°ï¼Œå‘ä¸‹ç§»åŠ¨ï¼ˆå¢åŠ è¡Œç´¢å¼•ï¼‰ã€‚
   - å¦‚æœå½“å‰ä½ç½®æ˜¯è´Ÿæ•°ï¼Œå‘å·¦ç§»åŠ¨ï¼ˆå‡å°‘åˆ—ç´¢å¼•ï¼‰ã€‚
2. æ¯æ¬¡é‡åˆ°è´Ÿæ•°æ—¶ï¼Œè¯´æ˜å½“å‰åˆ—ä»è¯¥è¡Œå¾€ä¸‹çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯è´Ÿæ•°ã€‚
3. ç´¯è®¡è´Ÿæ•°çš„ä¸ªæ•°ã€‚

#### å¤æ‚åº¦åˆ†æï¼š

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m + n)`ï¼Œæœ€å¤šéå† `m + n` æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä»…ä½¿ç”¨äº†å¸¸é‡é¢å¤–ç©ºé—´ã€‚

## ä»£ç 

::: code-tabs

@tab é€è¡ŒäºŒåˆ†æŸ¥æ‰¾

```javascript
/**
 * @param {number[][]} grid
 * @return {number}
 */
var countNegatives = function (grid) {
	let count = 0;
	// é€è¡ŒäºŒåˆ†æŸ¥æ‰¾
	for (let row of grid) {
		let left = 0,
			right = row.length - 1;
		while (left <= right) {
			let mid = Math.floor((left + right) / 2);
			if (row[mid] < 0) {
				right = mid - 1; // è´Ÿæ•°åœ¨å·¦ä¾§
			} else {
				left = mid + 1; // æ­£æ•°åœ¨å³ä¾§
			}
		}
		// å‰©ä¸‹çš„è´Ÿæ•°æ•°é‡æ˜¯ä» left åˆ°è¡Œå°¾çš„å…ƒç´ 
		count += row.length - left;
	}
	return count;
};
```

@tab çŸ©é˜µé€†å‘éå†

```javascript
/**
 * @param {number[][]} grid
 * @return {number}
 */
var countNegatives = function (grid) {
	const m = grid.length;
	const n = grid[0].length;
	let total = 0;
	let row = 0,
		col = n - 1;
	while (row < m && col >= 0) {
		if (grid[row][col] < 0) {
			// å½“å‰åˆ—ä» row åˆ°åº•éƒ¨çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯è´Ÿæ•°
			total += m - row;
			col--; // å·¦ç§»åˆ—
		} else {
			row++; // ä¸‹ç§»è¡Œ
		}
	}
	return total;
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 2529 | æ­£æ•´æ•°å’Œè´Ÿæ•´æ•°çš„æœ€å¤§è®¡æ•° |  |  [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`è®¡æ•°`](/tag/counting.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-count-of-positive-integer-and-negative-integer) [ğŸ”—](https://leetcode.com/problems/maximum-count-of-positive-integer-and-negative-integer) |