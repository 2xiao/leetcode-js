---
title: 914. å¡ç‰Œåˆ†ç»„
description: LeetCode 914. å¡ç‰Œåˆ†ç»„é¢˜è§£ï¼ŒX of a Kind in a Deck of Cardsï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 914. å¡ç‰Œåˆ†ç»„
  - å¡ç‰Œåˆ†ç»„
  - X of a Kind in a Deck of Cards
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - æ•°å­¦
  - è®¡æ•°
  - æ•°è®º
---

# 914. å¡ç‰Œåˆ†ç»„

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ•°å­¦`](/tag/math.md) [`è®¡æ•°`](/tag/counting.md) [`æ•°è®º`](/tag/number-theory.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/x-of-a-kind-in-a-deck-of-cards) [`LeetCode`](https://leetcode.com/problems/x-of-a-kind-in-a-deck-of-cards)

## é¢˜ç›®

You are given an integer array `deck` where `deck[i]` represents the number
written on the `ith` card.

Partition the cards into **one or more groups** such that:

- Each group has **exactly** `x` cards where `x > 1`, and
- All the cards in one group have the same integer written on them.

Return `true` _if such partition is possible, or_`false` _otherwise_.

**Example 1:**

> Input: deck = [1,2,3,4,4,3,2,1]
>
> Output: true
>
> **Explanation** : Possible partition [1,1],[2,2],[3,3],[4,4].

**Example 2:**

> Input: deck = [1,1,1,2,2,2,3,3]
>
> Output: false
>
> **Explanation** : No possible partition.

**Constraints:**

- `1 <= deck.length <= 10^4`
- `0 <= deck[i] < 10^4`

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€å‰¯ç‰Œï¼Œæ¯å¼ ç‰Œä¸Šéƒ½å†™ç€ä¸€ä¸ªæ•´æ•°ã€‚

æ­¤æ—¶ï¼Œä½ éœ€è¦é€‰å®šä¸€ä¸ªæ•°å­— `X`ï¼Œä½¿æˆ‘ä»¬å¯ä»¥å°†æ•´å‰¯ç‰ŒæŒ‰ä¸‹è¿°è§„åˆ™åˆ†æˆ 1 ç»„æˆ–æ›´å¤šç»„ï¼š

- æ¯ç»„éƒ½æœ‰ `X` å¼ ç‰Œã€‚
- ç»„å†…æ‰€æœ‰çš„ç‰Œä¸Šéƒ½å†™ç€ç›¸åŒçš„æ•´æ•°ã€‚

ä»…å½“ä½ å¯é€‰çš„ `X >= 2` æ—¶è¿”å› `true`ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** deck = [1,2,3,4,4,3,2,1]
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š** å¯è¡Œçš„åˆ†ç»„æ˜¯ [1,1]ï¼Œ[2,2]ï¼Œ[3,3]ï¼Œ[4,4]

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** deck = [1,1,1,2,2,2,3,3]
>
> **è¾“å‡ºï¼š** false
>
> **è§£é‡Šï¼š** æ²¡æœ‰æ»¡è¶³è¦æ±‚çš„åˆ†ç»„ã€‚

**æç¤ºï¼š**

- `1 <= deck.length <= 10^4`
- `0 <= deck[i] < 10^4`

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šæœ€å¤§å…¬çº¦æ•°æ³•

è¦åˆ¤æ–­èƒ½å¦å°†æ•´å‰¯ç‰Œåˆ†æˆæ»¡è¶³æ¡ä»¶çš„ç»„ï¼Œå…³é”®åœ¨äºæ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³æ‰€æœ‰æ•°å­—é¢‘æ•°çš„ **æœ€å¤§å…¬çº¦æ•° (GCD)**ï¼Œå¹¶ç¡®ä¿è¿™ä¸ªæœ€å¤§å…¬çº¦æ•° `X >= 2`ã€‚

1. ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨ `Map` ç»Ÿè®¡æ¯ä¸ªæ•°å­—åœ¨ç‰Œä¸­çš„å‡ºç°æ¬¡æ•°ã€‚

2. è®¡ç®—æœ€å¤§å…¬çº¦æ•° `gcd`ï¼Œæœ€å¸¸ç”¨é«˜æ•ˆçš„åŠæ³•æ˜¯ **è¾—è½¬ç›¸é™¤æ³•ï¼ˆæ¬§å‡ é‡Œå¾—ç®—æ³•ï¼‰**

   - **å®šç†**ï¼šå¯¹äºä»»æ„ä¸¤ä¸ªæ­£æ•´æ•° `a` å’Œ `b`ï¼ˆå‡è®¾ `a > b`ï¼‰ï¼Œå®ƒä»¬çš„æœ€å¤§å…¬çº¦æ•°ç­‰äº `b` å’Œ `a` é™¤ä»¥ `b` çš„ä½™æ•°ï¼ˆ`a % b`ï¼‰çš„æœ€å¤§å…¬çº¦æ•°ã€‚
   - å½¢å¼åŒ–è¡¨ç¤ºä¸ºï¼š`GCD(a, b) = GCD(b, a % b)`
   - ç®—æ³•çš„æ­¥éª¤å¦‚ä¸‹ï¼š

     1. å¦‚æœ `b = 0`ï¼Œåˆ™ `GCD(a, b) = a`ã€‚
     2. å¦åˆ™ï¼Œé€’å½’è®¡ç®— `GCD(b, a % b)`ã€‚

   - ä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾æˆ‘ä»¬è¦è®¡ç®— `GCD(48, 18)`ï¼š

     - `GCD(48, 18)`
     - `48 % 18 = 12`
     - ç°åœ¨è®¡ç®— `GCD(18, 12)`
     - `18 % 12 = 6`
     - ç°åœ¨è®¡ç®— `GCD(12, 6)`
     - `12 % 6 = 0`
     - ç°åœ¨è®¡ç®— `GCD(6, 0)`ï¼Œç»“æœä¸º `6`
     - æœ€ç»ˆï¼Œ`GCD(48, 18)` çš„ç»“æœæ˜¯ `6`

3. éå†æ•°ç»„ï¼Œè®¡ç®—æ‰€æœ‰æ•°å­—çš„é¢‘æ•°çš„æœ€å¤§å…¬çº¦æ•° `gcd`ã€‚
   - å¦‚æœ `gcd < 2`ï¼Œåˆ™è¿”å› `false`ã€‚
   - å¦‚æœ `gcd >= 2`ï¼Œåˆ™è¿”å› `true`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n + m * log(maxCount))`
  - ç»Ÿè®¡æ•°å­—çš„é¢‘æ•°ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯ `deck` æ•°ç»„çš„é•¿åº¦ã€‚
  - è®¡ç®—æœ€å¤§å…¬çº¦æ•°ï¼š`O(m * log(maxCount))`ï¼Œå…¶ä¸­ `m` æ˜¯ä¸åŒæ•°å­—çš„ç§ç±»æ•°ï¼Œ`maxCount` æ˜¯æœ€å¤§é¢‘æ•°ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(m)`ï¼Œä½¿ç”¨äº†ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥å­˜å‚¨é¢‘æ•°ã€‚

---

### æ€è·¯äºŒï¼šæšä¸¾æ³•

è¿˜å¯ä»¥ä½¿ç”¨ **æšä¸¾æ³•**ï¼Œé€šè¿‡æšä¸¾å¯èƒ½çš„ `x` æ¥åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚

1. **ç»Ÿè®¡æ¯å¼ ç‰Œçš„é¢‘æ•°**  
   ä½¿ç”¨ `Map` å¯¹ç‰Œä¸­çš„æ¯ä¸ªæ•°å­—è¿›è¡Œè®¡æ•°ï¼Œå¾—åˆ°æ¯ç§æ•°å­—çš„é¢‘æ•°ã€‚

2. **æšä¸¾åˆ†ç»„çš„å¤§å° `x`**

   - éå†ä» `2` åˆ° `n` çš„æ‰€æœ‰å¯èƒ½çš„ `x`ï¼ˆ`n` æ˜¯ç‰Œçš„æ€»æ•°ï¼‰ã€‚
   - å¦‚æœ `x` ä¸èƒ½æ•´é™¤ `n`ï¼Œç›´æ¥è·³è¿‡ã€‚
   - æ£€æŸ¥æ¯ç§æ•°å­—çš„é¢‘æ•°æ˜¯å¦èƒ½è¢« `x` æ•´é™¤ã€‚å¦‚æœä¸èƒ½ï¼Œè¯´æ˜ä¸èƒ½æŒ‰å½“å‰ `x` åˆ†ç»„ã€‚

3. **è¿”å›ç»“æœ**
   - å¦‚æœæ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ `x`ï¼Œè¿”å› `true`ã€‚
   - å¦‚æœæ‰€æœ‰å¯èƒ½çš„ `x` éƒ½ä¸æ»¡è¶³æ¡ä»¶ï¼Œè¿”å› `false`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n * m)`ï¼Œå…¶ä¸­ `n` æ˜¯ `deck` æ•°ç»„çš„é•¿åº¦ï¼Œ`m` æ˜¯ä¸åŒæ•°å­—çš„ç§ç±»æ•°ã€‚
  - ç»Ÿè®¡æ•°å­—çš„é¢‘æ•°ï¼š`O(n)`ã€‚
  - æšä¸¾ `x` çš„å¾ªç¯æ¬¡æ•°æœ€å¤šä¸º `n`ï¼Œæ¯æ¬¡éœ€è¦æ£€æŸ¥æ‰€æœ‰ `m` ä¸ªé¢‘æ•°ï¼Œå¤æ‚åº¦ä¸º `O(n * m)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(m)`ï¼Œä½¿ç”¨äº†ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥å­˜å‚¨é¢‘æ•°ã€‚

## ä»£ç 

::: code-tabs
@tab æœ€å¤§å…¬çº¦æ•°æ³•

```javascript
/**
 * @param {number[]} deck
 * @return {boolean}
 */
var hasGroupsSizeX = function (deck) {
	const count = new Map();

	// ç»Ÿè®¡é¢‘æ•°
	for (let card of deck) {
		count.set(card, (count.get(card) || 0) + 1);
	}

	// æ±‚æœ€å¤§å…¬çº¦æ•°çš„è¾…åŠ©å‡½æ•°
	const gcd = (a, b) => (b === 0 ? a : gcd(b, a % b));

	// æ‰€æœ‰é¢‘æ•°çš„æ•°ç»„
	const counts = Array.from(count.values());
	let g = counts[0];

	// ä¾æ¬¡è®¡ç®—æ‰€æœ‰é¢‘æ•°çš„æœ€å¤§å…¬çº¦æ•°
	for (let freq of counts) {
		g = gcd(g, freq);
		if (g === 1) return false; // ä¸€æ—¦ gcd ä¸º 1ï¼Œç›´æ¥è¿”å› false
	}

	return g >= 2;
};
```

@tab æšä¸¾æ³•

```javascript
/**
 * @param {number[]} deck
 * @return {boolean}
 */
var hasGroupsSizeX = function (deck) {
	let map = new Map();
	for (let num of deck) {
		map.set(num, (map.get(num) || 0) + 1);
	}

	const n = deck.length;
	for (let x = 2; x <= n; x++) {
		let flag = true;
		if (n % x == 0) {
			for (let value of map.values()) {
				if (value % x !== 0) {
					flag = false;
					break;
				}
			}
			if (flag) return true;
		}
	}

	return false;
};
```

:::
