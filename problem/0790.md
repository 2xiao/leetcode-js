---
title: 790. å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º
description: LeetCode 790. å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“ºé¢˜è§£ï¼ŒDomino and Tromino Tilingï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 790. å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º
  - å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º
  - Domino and Tromino Tiling
  - è§£é¢˜æ€è·¯
  - åŠ¨æ€è§„åˆ’
---

# 790. å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/domino-and-tromino-tiling) [`LeetCode`](https://leetcode.com/problems/domino-and-tromino-tiling)

## é¢˜ç›®

You have two types of tiles: a `2 x 1` domino shape and a tromino shape. You
may rotate these shapes.

![](https://assets.leetcode.com/uploads/2021/07/15/lc-domino.jpg)

Given an integer n, return _the number of ways to tile an_ `2 x n` _board_.
Since the answer may be very large, return it **modulo** `109 + 7`.

In a tiling, every square must be covered by a tile. Two tilings are different
if and only if there are two 4-directionally adjacent cells on the board such
that exactly one of the tilings has both squares occupied by a tile.

**Example 1:**

![](https://assets.leetcode.com/uploads/2021/07/15/lc-domino1.jpg)

> Input: n = 3
>
> Output: 5
>
> Explanation: The five different ways are show above.

**Example 2:**

> Input: n = 1
>
> Output: 1

**Constraints:**

- `1 <= n <= 1000`

## é¢˜ç›®å¤§æ„

æœ‰ä¸¤ç§å½¢çŠ¶çš„ç“·ç –ï¼šä¸€ç§æ˜¯ `2 x 1` çš„å¤šç±³è¯ºå½¢ï¼Œå¦ä¸€ç§æ˜¯å½¢å¦‚ "L" çš„æ‰˜ç±³è¯ºå½¢ã€‚ä¸¤ç§å½¢çŠ¶éƒ½å¯ä»¥æ—‹è½¬ã€‚

![](https://assets.leetcode.com/uploads/2021/07/15/lc-domino.jpg)

ç»™å®šæ•´æ•° n ï¼Œè¿”å›å¯ä»¥å¹³é“º `2 x n` çš„é¢æ¿çš„æ–¹æ³•çš„æ•°é‡ã€‚**è¿”å›å¯¹** `109 + 7` **å–æ¨¡** çš„å€¼ã€‚

å¹³é“ºæŒ‡çš„æ˜¯æ¯ä¸ªæ­£æ–¹å½¢éƒ½å¿…é¡»æœ‰ç“·ç –è¦†ç›–ã€‚ä¸¤ä¸ªå¹³é“ºä¸åŒï¼Œå½“ä¸”ä»…å½“é¢æ¿ä¸Šæœ‰å››ä¸ªæ–¹å‘ä¸Šçš„ç›¸é‚»å•å…ƒä¸­çš„ä¸¤ä¸ªï¼Œä½¿å¾—æ°å¥½æœ‰ä¸€ä¸ªå¹³é“ºæœ‰ä¸€ä¸ªç“·ç –å æ®ä¸¤ä¸ªæ­£æ–¹å½¢ã€‚

**ç¤ºä¾‹ 1:**

![](https://assets.leetcode.com/uploads/2021/07/15/lc-domino1.jpg)

> **è¾“å…¥:** n = 3
>
> **è¾“å‡º:** 5
>
> **è§£é‡Š:** äº”ç§ä¸åŒçš„æ–¹æ³•å¦‚ä¸Šæ‰€ç¤ºã€‚

**ç¤ºä¾‹ 2:**

> **è¾“å…¥:** n = 1
>
> **è¾“å‡º:** 1

**æç¤ºï¼š**

- `1 <= n <= 1000`

## è§£é¢˜æ€è·¯

è¿™é“é¢˜çš„æ ¸å¿ƒåœ¨äºå¦‚ä½•åˆ©ç”¨åŠ¨æ€è§„åˆ’æ¥æšä¸¾æ‰€æœ‰å¯èƒ½çš„é“ºæ³•ã€‚

å¦‚å›¾æ‰€ç¤ºï¼š

![](../image/790.png)

- `dp[0] = 1`ï¼šç©ºæ£‹ç›˜æœ‰ä¸€ç§é“ºæ³•ã€‚
- `dp[1] = 1`ï¼šä¸€ä¸ª `2 * 1` çš„æ£‹ç›˜åªèƒ½ç”¨ä¸€ä¸ªç«–ç›´çš„å¤šç±³è¯ºéª¨ç‰Œé“ºæ»¡ã€‚
- `dp[2] = 2`ï¼šä¸¤ä¸ªç«–ç›´å¤šç±³è¯ºéª¨ç‰Œæˆ–ä¸¤ä¸ªæ°´å¹³å¤šç±³è¯ºéª¨ç‰Œã€‚
- `dp[3] = 5`ï¼š
  - `dp[3] = dp[2] + dp[1] + 2 * dp[0]`
  - åœ¨ `dp[2]` åé¢åŠ ä¸€ä¸ªç«–ç›´çš„å¤šç±³è¯ºéª¨ç‰Œï¼š`2`
  - åœ¨ `dp[1]` åé¢åŠ ä¸¤ä¸ªæ°´å¹³çš„å¤šç±³è¯ºéª¨ç‰Œï¼š`1`
  - åœ¨ `dp[0]` åé¢åŠ ä¸¤ä¸ª L å½¢æ‰˜ç±³è¯ºéª¨ç‰Œï¼š`2`
- `dp[4] = 11`ï¼š
  - `dp[4] = dp[3] + dp[2] + 2 * dp[1] + 2 * dp[0]`
  - åœ¨ `dp[3]` åé¢åŠ ä¸€ä¸ªç«–ç›´çš„å¤šç±³è¯ºéª¨ç‰Œï¼š`5`
  - åœ¨ `dp[2]` åé¢åŠ ä¸¤ä¸ªæ°´å¹³çš„å¤šç±³è¯ºéª¨ç‰Œï¼š`2`
  - åœ¨ `dp[1]` åé¢åŠ ä¸¤ä¸ª L å½¢æ‰˜ç±³è¯ºéª¨ç‰Œï¼š`2`
  - åœ¨ `dp[0]` åé¢åŠ ä¸€ä¸ªæ°´å¹³çš„å¤šç±³è¯ºéª¨ç‰Œå’Œä¸¤ä¸ª L å½¢æ‰˜ç±³è¯ºéª¨ç‰Œï¼š`2`
- `dp[5] = 24`ï¼š
  - `dp[5] = dp[4] + dp[3] + 2 * dp[2] + 2 * dp[1] + 2 * dp[0]`
  - åœ¨ `dp[4]` åé¢åŠ ä¸€ä¸ªç«–ç›´çš„å¤šç±³è¯ºéª¨ç‰Œï¼š`11`
  - åœ¨ `dp[3]` åé¢åŠ ä¸¤ä¸ªæ°´å¹³çš„å¤šç±³è¯ºéª¨ç‰Œï¼š`5`
  - åœ¨ `dp[2]` åé¢åŠ ä¸¤ä¸ª L å½¢æ‰˜ç±³è¯ºéª¨ç‰Œï¼š`4`
  - åœ¨ `dp[1]` åé¢åŠ ä¸€ä¸ªæ°´å¹³çš„å¤šç±³è¯ºéª¨ç‰Œå’Œä¸¤ä¸ª L å½¢æ‰˜ç±³è¯ºéª¨ç‰Œï¼š`2`
  - åœ¨ `dp[0]` åé¢åŠ ä¸¤ä¸ªæ°´å¹³çš„å¤šç±³è¯ºéª¨ç‰Œå’Œä¸¤ä¸ª L å½¢æ‰˜ç±³è¯ºéª¨ç‰Œï¼š`2`

ç”±æ­¤å¯ä»¥å¾—åˆ°é€’æ¨å…³ç³»ï¼š

```
dp[n] = dp[n-1] + dp[n-2] +  2 * (dp[n-3] + ... + d[0])
      = dp[n-1] + dp[n-2] + dp[n-3] + dp[n-3] + 2 * (dp[n-4] + ... + d[0])
      = dp[n-1] + dp[n-3] + (dp[n-2] + dp[n-3] + 2 * (dp[n-4] + ... + d[0]))
      = dp[n-1] + dp[n-3] + dp[n-1]
      = 2 * dp[n-1] + dp[n-3]
```

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼ŒåŠ¨æ€è§„åˆ’éœ€è¦éå† `n`ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š
  - å¸¸è§„ DPï¼šéœ€è¦å­˜å‚¨ `n + 1` ä¸ªçŠ¶æ€ï¼Œç©ºé—´å¤æ‚åº¦ä¸º `O(n)`ã€‚
  - ä¼˜åŒ– DPï¼šåªéœ€è¦ä¸‰ä¸ªå˜é‡ï¼Œç©ºé—´å¤æ‚åº¦ä¸º `O(1)`ã€‚

## ä»£ç 

::: code-tabs
@tab åŠ¨æ€è§„åˆ’

```javascript
/**
 * @param {number} n
 * @return {number}
 */
var numTilings = function (n) {
	const MOD = 1e9 + 7;

	let dp = new Array(n + 1).fill(0);
	dp[0] = 1;
	dp[1] = 1;
	dp[2] = 2;

	for (let i = 3; i <= n; i++) {
		dp[i] = (2 * dp[i - 1] + dp[i - 3]) % MOD;
	}

	return dp[n];
};
```

@tab åŠ¨æ€è§„åˆ’ï¼ˆç©ºé—´ä¼˜åŒ–ï¼‰

```javascript
/**
 * @param {number} n
 * @return {number}
 */
var numTilings = function (n) {
	const MOD = 1e9 + 7;

	if (n === 0) return 1;
	if (n === 1) return 1;
	if (n === 2) return 2;

	let dp0 = 1,
		dp1 = 1,
		dp2 = 2;

	for (let i = 3; i <= n; i++) {
		let curr = (2 * dp2 + dp0) % MOD;
		dp0 = dp1;
		dp1 = dp2;
		dp2 = curr;
	}

	return dp2;
};
```

:::
