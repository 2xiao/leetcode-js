---
title: 1260. äºŒç»´ç½‘æ ¼è¿ç§»
description: LeetCode 1260. äºŒç»´ç½‘æ ¼è¿ç§»é¢˜è§£ï¼ŒShift 2D Gridï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1260. äºŒç»´ç½‘æ ¼è¿ç§»
  - äºŒç»´ç½‘æ ¼è¿ç§»
  - Shift 2D Grid
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - çŸ©é˜µ
  - æ¨¡æ‹Ÿ
---

# 1260. äºŒç»´ç½‘æ ¼è¿ç§»

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/shift-2d-grid) [`LeetCode`](https://leetcode.com/problems/shift-2d-grid)

## é¢˜ç›®

Given a 2D `grid` of size `m x n` and an integer `k`. You need to shift the
`grid` `k` times.

In one shift operation:

- Element at `grid[i][j]` moves to `grid[i][j + 1]`.
- Element at `grid[i][n - 1]` moves to `grid[i + 1][0]`.
- Element at `grid[m - 1][n - 1]` moves to `grid[0][0]`.

Return the _2D grid_ after applying shift operation `k` times.

**Example 1:**

![](https://assets.leetcode.com/uploads/2019/11/05/e1.png)

> Input: grid = [[1,2,3],[4,5,6],[7,8,9]], k = 1
>
> Output: [[9,1,2],[3,4,5],[6,7,8]]

**Example 2:**

![](https://assets.leetcode.com/uploads/2019/11/05/e2.png)

> Input: grid = [[3,8,1,9],[19,7,2,5],[4,6,11,10],[12,0,21,13]], k = 4
>
> Output: [[12,0,21,13],[3,8,1,9],[19,7,2,5],[4,6,11,10]]

**Example 3:**

> Input: grid = [[1,2,3],[4,5,6],[7,8,9]], k = 9
>
> Output: [[1,2,3],[4,5,6],[7,8,9]]

**Constraints:**

- `m == grid.length`
- `n == grid[i].length`
- `1 <= m <= 50`
- `1 <= n <= 50`
- `-1000 <= grid[i][j] <= 1000`
- `0 <= k <= 100`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `m` è¡Œ `n` åˆ—çš„äºŒç»´ç½‘æ ¼ `grid` å’Œä¸€ä¸ªæ•´æ•° `k`ã€‚ä½ éœ€è¦å°† `grid` è¿ç§» `k` æ¬¡ã€‚

æ¯æ¬¡ã€Œè¿ç§»ã€æ“ä½œå°†ä¼šå¼•å‘ä¸‹è¿°æ´»åŠ¨ï¼š

- ä½äº `grid[i][j]`ï¼ˆ`j < n - 1`ï¼‰çš„å…ƒç´ å°†ä¼šç§»åŠ¨åˆ° `grid[i][j + 1]`ã€‚
- ä½äº `grid[i][n - 1]` çš„å…ƒç´ å°†ä¼šç§»åŠ¨åˆ° `grid[i + 1][0]`ã€‚
- ä½äº `grid[m - 1][n - 1]` çš„å…ƒç´ å°†ä¼šç§»åŠ¨åˆ° `grid[0][0]`ã€‚

è¯·ä½ è¿”å› `k` æ¬¡è¿ç§»æ“ä½œåæœ€ç»ˆå¾—åˆ°çš„ **äºŒç»´ç½‘æ ¼** ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2019/11/16/e1-1.png)

> **è¾“å…¥ï¼š** grid = [[1,2,3],[4,5,6],[7,8,9]], k = 1
>
> **è¾“å‡ºï¼š**[[9,1,2],[3,4,5],[6,7,8]]

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2019/11/16/e2-1.png)

> **è¾“å…¥ï¼š** grid = [[3,8,1,9],[19,7,2,5],[4,6,11,10],[12,0,21,13]], k = 4
>
> **è¾“å‡ºï¼š**[[12,0,21,13],[3,8,1,9],[19,7,2,5],[4,6,11,10]]

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** grid = [[1,2,3],[4,5,6],[7,8,9]], k = 9
>
> **è¾“å‡ºï¼š**[[1,2,3],[4,5,6],[7,8,9]]

**æç¤ºï¼š**

- `m == grid.length`
- `n == grid[i].length`
- `1 <= m <= 50`
- `1 <= n <= 50`
- `-1000 <= grid[i][j] <= 1000`
- `0 <= k <= 100`

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šç›´æ¥æ˜ å°„

**æ€è·¯ï¼š**  
é€šè¿‡ç›´æ¥è®¡ç®—ç›®æ ‡çŸ©é˜µä¸­æ¯ä¸ªå…ƒç´ åœ¨æºçŸ©é˜µä¸­çš„ä½ç½®æ¥å®Œæˆæ“ä½œï¼š

1. è®¡ç®—çŸ©é˜µçš„å¤§å° `m * n`ï¼›
2. éå†çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œåˆ©ç”¨å…¬å¼è®¡ç®—å…¶åœ¨ç›®æ ‡ä½ç½®çš„è¡Œåˆ—ç´¢å¼•ï¼š
   - æ–°çš„è¡Œç´¢å¼•ï¼š`(i + floor((j + k) / n)) % m`ï¼›
   - æ–°çš„åˆ—ç´¢å¼•ï¼š`(j + k) % n`ï¼›
3. åˆ›å»ºä¸€ä¸ªæ–°çš„çŸ©é˜µ `res` æ¥ä¿å­˜ç»“æœã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦ï¼š** `O(m * n)`
- **ç©ºé—´å¤æ‚åº¦ï¼š** `O(m * n)`

---

### æ€è·¯äºŒï¼šçŸ©é˜µä¸€ç»´åŒ– + ç¿»è½¬æ³•

å°†çŸ©é˜µçœ‹ä½œä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œå¯¹å…¶æ•´ä½“è¿›è¡Œã€Œç¯å½¢å³ç§»ã€ï¼š

1. å°†çŸ©é˜µçš„äºŒç»´åæ ‡ç´¢å¼•è½¬åŒ–ä¸ºä¸€ç»´ç´¢å¼•ï¼›
2. å€ŸåŠ©ç¿»è½¬æ•°ç»„çš„æŠ€å·§ï¼Œåˆ†ä¸‰æ­¥å®Œæˆå³ç§»ï¼š
   - ç¿»è½¬æ•´ä¸ªæ•°ç»„ï¼›
   - ç¿»è½¬å‰ `k` ä¸ªå…ƒç´ ï¼›
   - ç¿»è½¬å `x - k` ä¸ªå…ƒç´ ï¼›
3. æœ€åå°†æ•°ç»„æ¢å¤ä¸ºçŸ©é˜µã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦ï¼š** `O(m * n)`
- **ç©ºé—´å¤æ‚åº¦ï¼š** `O(1)`ï¼ŒåŸåœ°æ“ä½œï¼Œæ— é¢å¤–ç©ºé—´å¼€é”€ã€‚

## ä»£ç 

::: code-tabs

@tab ç›´æ¥æ˜ å°„

```javascript
/**
 * @param {number[]} heights
 * @param {number[][]} queries
 * @return {number[]}
 */
var shiftGrid = function (grid, k) {
	const m = grid.length;
	const n = grid[0].length;
	let res = new Array(m).fill().map(() => new Array(n));
	for (let i = 0; i < m; i++) {
		for (let j = 0; j < n; j++) {
			res[(i + Math.floor((j + k) / n)) % m][(j + k) % n] = grid[i][j];
		}
	}
	return res;
};
```

@tab çŸ©é˜µä¸€ç»´åŒ– + ç¿»è½¬æ³•

```javascript
/**
 * @param {number[]} heights
 * @param {number[][]} queries
 * @return {number[]}
 */
var shiftGrid = function (grid, k) {
	const m = grid.length;
	const n = grid[0].length;
	const x = m * n;
	k %= x;

	const reverse = (a, b) => {
		while (a < b) {
			[grid[Math.floor(a / n)][a % n], grid[Math.floor(b / n)][b % n]] = [
				grid[Math.floor(b / n)][b % n],
				grid[Math.floor(a / n)][a % n]
			];
			a++;
			b--;
		}
	};

	reverse(0, x - 1); // ç¿»è½¬æ•´ä¸ªæ•°ç»„
	reverse(0, k - 1); // ç¿»è½¬å‰ k ä¸ªå…ƒç´ 
	reverse(k, x - 1); // ç¿»è½¬å x-k ä¸ªå…ƒç´ 

	return grid;
};
```

:::
