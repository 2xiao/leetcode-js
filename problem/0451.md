---
title: 451. æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº
description: LeetCode 451. æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åºé¢˜è§£ï¼ŒSort Characters By Frequencyï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 451. æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº
  - æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº
  - Sort Characters By Frequency
  - è§£é¢˜æ€è·¯
  - å“ˆå¸Œè¡¨
  - å­—ç¬¦ä¸²
  - æ¡¶æ’åº
  - è®¡æ•°
  - æ’åº
  - å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰
---

# 451. æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ¡¶æ’åº`](/tag/bucket-sort.md) [`è®¡æ•°`](/tag/counting.md) [`æ’åº`](/tag/sorting.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/sort-characters-by-frequency) [`LeetCode`](https://leetcode.com/problems/sort-characters-by-frequency)

## é¢˜ç›®

Given a string `s`, sort it in **decreasing order** based on the **frequency**
of the characters. The **frequency** of a character is the number of times it
appears in the string.

Return _the sorted string_. If there are multiple answers, return _any of
them_.

**Example 1:**

> Input: s = "tree"
>
> Output: "eert"
>
> Explanation: 'e' appears twice while 'r' and 't' both appear once.
>
> So 'e' must appear before both 'r' and 't'. Therefore "eetr" is also a valid answer.

**Example 2:**

> Input: s = "cccaaa"
>
> Output: "aaaccc"
>
> Explanation: Both 'c' and 'a' appear three times, so both "cccaaa" and "aaaccc" are valid answers.
>
> Note that "cacaca" is incorrect, as the same characters must be together.

**Example 3:**

> Input: s = "Aabb"
>
> Output: "bbAa"
>
> Explanation: "bbaA" is also a valid answer, but "Aabb" is incorrect.
>
> Note that 'A' and 'a' are treated as two different characters.

**Constraints:**

- `1 <= s.length <= 5 * 10^5`
- `s` consists of uppercase and lowercase English letters and digits.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œæ ¹æ®å­—ç¬¦å‡ºç°çš„ **é¢‘ç‡** å¯¹å…¶è¿›è¡Œ **é™åºæ’åº** ã€‚ä¸€ä¸ªå­—ç¬¦å‡ºç°çš„ **é¢‘ç‡** æ˜¯å®ƒå‡ºç°åœ¨å­—ç¬¦ä¸²ä¸­çš„æ¬¡æ•°ã€‚

è¿”å› **å·²æ’åºçš„å­—ç¬¦ä¸²** ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¿”å›å…¶ä¸­ä»»ä½•ä¸€ä¸ªã€‚

## è§£é¢˜æ€è·¯

å¯ä»¥ä½¿ç”¨å“ˆå¸Œæ˜ å°„æ¥å®ç°ï¼š

1. ä½¿ç”¨å“ˆå¸Œæ˜ å°„å­˜å‚¨å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå…ƒç´ çš„é¢‘ç‡ã€‚
2. ä¾æ®å­—ç¬¦å‡ºç°çš„é¢‘æ¬¡å¯¹å­—ç¬¦è¿›è¡Œæ’åºã€‚
3. éæŒ‰ç…§é¢˜ç›®è¦æ±‚çš„æ ¼å¼è¿”å›ç»“æœã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n log n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
  - è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸»è¦ç”±æ’åºæ“ä½œå†³å®šï¼Œå› æ­¤å®ƒçš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n log n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
  - åœ¨æ’åºæ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬å¯¹å­—ç¬¦é›†è¿›è¡Œæ’åºï¼Œè€Œå­—ç¬¦é›†çš„å¤§å°æ˜¯å¸¸æ•°çº§åˆ«çš„ï¼ˆ26 ä¸ªè‹±æ–‡å­—æ¯å’Œä¸€äº›æ•°å­—ï¼‰ï¼Œå› æ­¤æ’åºçš„å¤æ‚åº¦å¯ä»¥çœ‹ä½œæ˜¯` O(1)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(k)`ï¼Œ`k` ä¸ºå“ˆå¸Œè¡¨ä¸­æœ€å¤§å­˜å‚¨çš„å­—ç¬¦æ•°ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {string}
 */
var frequencySort = function (s) {
	// ä½¿ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡å­—ç¬¦é¢‘ç‡
	let map = new Map();
	for (let i of s) {
		map.set(i, map.has(i) ? map.get(i) + 1 : 1);
	}

	// æ ¹æ®é¢‘ç‡å¯¹å­—ç¬¦è¿›è¡Œæ’åº
	const arr = Array.from(map.keys()).sort((a, b) => map.get(b) - map.get(a));

	// æ„å»ºç»“æœå­—ç¬¦ä¸²
	let res = '';
	for (const char of arr) {
		res += char.repeat(map.get(char));
	}
	return res;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 347 | å‰ K ä¸ªé«˜é¢‘å…ƒç´  | [[âœ“]](/problem/0347.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åˆ†æ²»`](/tag/divide-and-conquer.md) `5+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/top-k-frequent-elements) [ğŸ”—](https://leetcode.com/problems/top-k-frequent-elements) |
| 387 | å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå”¯ä¸€å­—ç¬¦ | [[âœ“]](/problem/0387.md) |  [`é˜Ÿåˆ—`](/tag/queue.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/first-unique-character-in-a-string) [ğŸ”—](https://leetcode.com/problems/first-unique-character-in-a-string) |
| 1636 | æŒ‰ç…§é¢‘ç‡å°†æ•°ç»„å‡åºæ’åº |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ’åº`](/tag/sorting.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/sort-array-by-increasing-frequency) [ğŸ”—](https://leetcode.com/problems/sort-array-by-increasing-frequency) |
| 2278 | å­—æ¯åœ¨å­—ç¬¦ä¸²ä¸­çš„ç™¾åˆ†æ¯” |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/percentage-of-letter-in-string) [ğŸ”—](https://leetcode.com/problems/percentage-of-letter-in-string) |
| 2341 | æ•°ç»„èƒ½å½¢æˆå¤šå°‘æ•°å¯¹ |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`è®¡æ•°`](/tag/counting.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-number-of-pairs-in-array) [ğŸ”—](https://leetcode.com/problems/maximum-number-of-pairs-in-array) |
| 2374 | è¾¹ç§¯åˆ†æœ€é«˜çš„èŠ‚ç‚¹ |  |  [`å›¾`](/tag/graph.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/node-with-highest-edge-score) [ğŸ”—](https://leetcode.com/problems/node-with-highest-edge-score) |
| 2404 | å‡ºç°æœ€é¢‘ç¹çš„å¶æ•°å…ƒç´  |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`è®¡æ•°`](/tag/counting.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/most-frequent-even-element) [ğŸ”—](https://leetcode.com/problems/most-frequent-even-element) |
| 2506 | ç»Ÿè®¡ç›¸ä¼¼å­—ç¬¦ä¸²å¯¹çš„æ•°ç›® |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `2+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/count-pairs-of-similar-strings) [ğŸ”—](https://leetcode.com/problems/count-pairs-of-similar-strings) |