# [79. å•è¯æœç´¢](https://leetcode.com/problems/word-search)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`å›æº¯`](/tag/backtracking.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/word-search)

## é¢˜ç›®

<p>ç»™å®šä¸€ä¸ªÂ <code>m x n</code> äºŒç»´å­—ç¬¦ç½‘æ ¼Â <code>board</code> å’Œä¸€ä¸ªå­—ç¬¦ä¸²å•è¯Â <code>word</code> ã€‚å¦‚æœÂ <code>word</code> å­˜åœ¨äºç½‘æ ¼ä¸­ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p>

<p>å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<img alt="" src="https://assets.leetcode.com/uploads/2020/11/04/word2.jpg" style="width: 322px; height: 242px;" />
<pre>
<strong>è¾“å…¥ï¼š</strong>board = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "ABCCED"
<strong>è¾“å‡ºï¼š</strong>true
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<img alt="" src="https://assets.leetcode.com/uploads/2020/11/04/word-1.jpg" style="width: 322px; height: 242px;" />
<pre>
<strong>è¾“å…¥ï¼š</strong>board = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "SEE"
<strong>è¾“å‡ºï¼š</strong>true
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<img alt="" src="https://assets.leetcode.com/uploads/2020/10/15/word3.jpg" style="width: 322px; height: 242px;" />
<pre>
<strong>è¾“å…¥ï¼š</strong>board = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "ABCB"
<strong>è¾“å‡ºï¼š</strong>false
</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>m == board.length</code></li>
	<li><code>n = board[i].length</code></li>
	<li><code>1 <= m, n <= 6</code></li>
	<li><code>1 <= word.length <= 15</code></li>
	<li><code>board</code> å’Œ <code>word</code> ä»…ç”±å¤§å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li>
</ul>

<p>Â </p>

<p><strong>è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥ä½¿ç”¨æœç´¢å‰ªæçš„æŠ€æœ¯æ¥ä¼˜åŒ–è§£å†³æ–¹æ¡ˆï¼Œä½¿å…¶åœ¨ <code>board</code> æ›´å¤§çš„æƒ…å†µä¸‹å¯ä»¥æ›´å¿«è§£å†³é—®é¢˜ï¼Ÿ</p>


## è§£é¢˜æ€è·¯

1. éå†æ•´ä¸ªäºŒç»´å­—ç¬¦ç½‘æ ¼ï¼Œæ‰¾åˆ°ä¸å•è¯çš„é¦–å­—æ¯åŒ¹é…çš„ä½ç½®ã€‚
2. å¯¹äºæ¯ä¸€ä¸ªåŒ¹é…çš„ä½ç½®ï¼Œä»è¿™ä¸ªä½ç½®å‡ºå‘è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ï¼Œå°è¯•æ„å»ºå‡ºç»™å®šçš„å•è¯ã€‚
3. åœ¨ DFS çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ ‡è®°å·²ç»è®¿é—®è¿‡çš„å•å…ƒæ ¼ï¼Œé˜²æ­¢é‡å¤è®¿é—®ã€‚
4. å¦‚æœåœ¨ DFS çš„è¿‡ç¨‹ä¸­æˆåŠŸæ„å»ºå‡ºç»™å®šçš„å•è¯ï¼Œåˆ™è¿”å›`true`ï¼Œå¦åˆ™è¿”å›`false`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m*n*4^L)`
  è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š

  1. å¯¹äºæ¯ä¸ªå¯èƒ½çš„èµ·å§‹ä½ç½®ï¼Œéƒ½è¿›è¡Œäº†ä¸€æ¬¡ DFS æœç´¢ï¼ŒDFS çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(4^L)` ï¼Œå…¶ä¸­ L æ˜¯ç»™å®šå•è¯çš„é•¿åº¦ã€‚
  2. éå†æ•´ä¸ªäºŒç»´å­—ç¬¦ç½‘æ ¼ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(m*n)`ï¼Œå…¶ä¸­ `m` å’Œ `n` åˆ†åˆ«ä¸ºç½‘æ ¼çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚

  ç»¼åˆè€ƒè™‘ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(m*n*4^L)` ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(L)`ï¼Œç©ºé—´å¤æ‚åº¦ä¸»è¦ç”± DFS çš„é€’å½’è°ƒç”¨æ ˆæ‰€å ç”¨çš„ç©ºé—´ï¼Œæœ€åæƒ…å†µä¸‹ä¸º `O(L)`ã€‚

## ä»£ç 

```javascript
/**
 * @param {character[][]} board
 * @param {string} word
 * @return {boolean}
 */
var exist = function (board, word) {
	const m = board.length;
	const n = board[0].length;

	const dp = (i, j, index) => {
		// è¾¹ç•Œæ¡ä»¶
		if (i < 0 || i >= m || j < 0 || j >= n || board[i][j] != word[index]) {
			return false;
		}

		// åŒ¹é…æˆåŠŸçš„æƒ…å†µ
		if (index == word.length - 1) {
			return true;
		}

		// æ ‡è®°å½“å‰å•å…ƒæ ¼å·²è®¿é—®
		const temp = board[i][j];
		board[i][j] = '/';

		// æ²¿å››ä¸ªæ–¹å‘è¿›è¡ŒDFS
		const found =
			dp(i - 1, j, index + 1) ||
			dp(i + 1, j, index + 1) ||
			dp(i, j - 1, index + 1) ||
			dp(i, j + 1, index + 1);

		// æ¢å¤å½“å‰å•å…ƒæ ¼çŠ¶æ€
		board[i][j] = temp;
		return found;
	};
	// éå†æ•´ä¸ªäºŒç»´å­—ç¬¦ç½‘æ ¼
	for (let i = 0; i < m; i++) {
		for (let j = 0; j < n; j++) {
			// å¦‚æœæ‰¾åˆ°åŒ¹é…çš„é¦–å­—æ¯ï¼Œå¼€å§‹DFS
			if (board[i][j] == word[0] && dp(i, j, 0)) {
				return true;
			}
		}
	}
	// æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æƒ…å†µ
	return false;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 212 | [å•è¯æœç´¢ II](https://leetcode.com/problems/word-search-ii) | [[âœ“]](/problem/0212.md) |  [`å­—å…¸æ ‘`](/tag/trie.md) [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `2+` | <font color=#ff334b>Hard</font> |