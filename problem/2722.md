# [2722. æ ¹æ® ID åˆå¹¶ä¸¤ä¸ªæ•°ç»„](https://2xiao.github.io/leetcode-js/problem/2722.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/join-two-arrays-by-id) [`LeetCode`](https://leetcode.com/problems/join-two-arrays-by-id)

## é¢˜ç›®

Given two arrays `arr1` and `arr2`, return a new array `joinedArray`. All the
objects in each of the two inputs arrays will contain an `id` field that has
an integer value.

`joinedArray` is an array formed by merging `arr1` and `arr2` based on their
`id` key. The length of `joinedArray` should be the length of unique values of
`id`. The returned array should be sorted in **ascending** order based on the
`id` key.

If a given `id` exists in one array but not the other, the single object with
that `id` should be included in the result array without modification.

If two objects share an `id`, their properties should be merged into a single
object:

- If a key only exists in one object, that single key-value pair should be included in the object.
- If a key is included in both objects, the value in the object from `arr2` should override the value from `arr1`.

**Example 1:**

> Input:
>
> arr1 = [
>
> > {"id": 1, "x": 1},
>
> > {"id": 2, "x": 9}
>
> ],
>
> arr2 = [
>
> > {"id": 3, "x": 5}
>
> ]
>
> Output:
>
> [
>
> > {"id": 1, "x": 1},
>
> > {"id": 2, "x": 9},
>
> > {"id": 3, "x": 5}
>
> ]
>
> Explanation: There are no duplicate ids so arr1 is simply concatenated with arr2.

**Example 2:**

> Input:
>
> arr1 = [
>
> > {"id": 1, "x": 2, "y": 3},
>
> > {"id": 2, "x": 3, "y": 6}
>
> ],
>
> arr2 = [
>
> > {"id": 2, "x": 10, "y": 20},
>
> > {"id": 3, "x": 0, "y": 0}
>
> ]
>
> Output:
>
> [
>
> > {"id": 1, "x": 2, "y": 3},
>
> > {"id": 2, "x": 10, "y": 20},
>
> > {"id": 3, "x": 0, "y": 0}
>
> ]
>
> Explanation: The two objects with id=1 and id=3 are included in the result array without modifiction. The two objects with id=2 are merged together. The keys from arr2 override the values in arr1.

**Example 3:**

> Input:
>
> arr1 = [
>
> > {"id": 1, "b": {"b": 94},"v": [4, 3], "y": 48}
>
> ]
>
> arr2 = [
>
> > {"id": 1, "b": {"c": 84}, "v": [1, 3]}
>
> ]
>
> Output: [
>
> > {"id": 1, "b": {"c": 84}, "v": [1, 3], "y": 48}
>
> ]
>
> Explanation: The two objects with id=1 are merged together. For the keys "b" and "v" the values from arr2 are used. Since the key "y" only exists in arr1, that value is taken form arr1.

**Constraints:**

- `arr1` and `arr2` are valid JSON arrays
- Each object in `arr1` and `arr2` has a unique integer `id` key
- `2 <= JSON.stringify(arr1).length <= 10^6`
- `2 <= JSON.stringify(arr2).length <= 10^6`

## é¢˜ç›®å¤§æ„

ç°ç»™å®šä¸¤ä¸ªæ•°ç»„ `arr1` å’Œ `arr2` ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ `joinedArray` ã€‚ä¸¤ä¸ªè¾“å…¥æ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ª `id` å­—æ®µã€‚

`joinedArray` æ˜¯ä¸€ä¸ªé€šè¿‡ `id` å°† `arr1` å’Œ `arr2` è¿æ¥è€Œæˆçš„æ•°ç»„ã€‚`joinedArray` çš„é•¿åº¦åº”ä¸ºå”¯ä¸€å€¼ `id`
çš„é•¿åº¦ã€‚è¿”å›çš„æ•°ç»„åº”æŒ‰ `id` **å‡åº** æ’åºã€‚

å¦‚æœä¸€ä¸ª `id` å­˜åœ¨äºä¸€ä¸ªæ•°ç»„ä¸­ä½†ä¸å­˜åœ¨äºå¦ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œåˆ™è¯¥å¯¹è±¡åº”åŒ…å«åœ¨ç»“æœæ•°ç»„ä¸­ä¸”ä¸è¿›è¡Œä¿®æ”¹ã€‚

å¦‚æœä¸¤ä¸ªå¯¹è±¡å…±äº«ä¸€ä¸ª `id` ï¼Œåˆ™å®ƒä»¬çš„å±æ€§åº”è¿›è¡Œåˆå¹¶ï¼š

- å¦‚æœä¸€ä¸ªé”®åªå­˜åœ¨äºä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œåˆ™è¯¥é”®å€¼å¯¹åº”è¯¥åŒ…å«åœ¨å¯¹è±¡ä¸­ã€‚
- å¦‚æœä¸€ä¸ªé”®åœ¨ä¸¤ä¸ªå¯¹è±¡ä¸­éƒ½åŒ…å«ï¼Œåˆ™ `arr2` ä¸­çš„å€¼åº”è¦†ç›– `arr1` ä¸­çš„å€¼ã€‚

**æç¤ºï¼š**

- `arr1 å’Œ arr2 éƒ½æ˜¯æœ‰æ•ˆçš„ JSON æ•°ç»„`
- åœ¨ `arr1` å’Œ `arr2` ä¸­éƒ½æœ‰å”¯ä¸€çš„é”®å€¼ `id`
- `2 <= JSON.stringify(arr1).length <= 10^6`
- `2 <= JSON.stringify(arr2).length <= 10^6`

## è§£é¢˜æ€è·¯

1. åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œä½¿ç”¨ä¸€ä¸ªå¯¹è±¡æ¥å­˜å‚¨ç¬¬äºŒä¸ªæ•°ç»„ä¸­ä»¥ `id` ä¸ºé”®çš„å¯¹è±¡ï¼Œä»¥ä¾¿å¿«é€ŸæŸ¥æ‰¾ã€‚
2. éå†ç¬¬ä¸€ä¸ªæ•°ç»„ï¼Œå¯¹ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡è¿›è¡Œéå†ï¼Œæ ¹æ®å½“å‰å¯¹è±¡çš„ `id` åœ¨å­—å…¸ä¸­æŸ¥æ‰¾å¯¹åº”çš„å¯¹è±¡ï¼š

   - å¦‚æœæ‰¾åˆ°åŒ¹é…é¡¹ï¼Œåˆ™åˆå¹¶ä¸¤ä¸ªå¯¹è±¡ï¼›
   - å¦‚æœæ²¡æ‰¾åˆ°åŒ¹é…é¡¹ï¼Œåˆ™å°†å½“å‰å¯¹è±¡åŠ å…¥å­—å…¸ä¸­ï¼›

3. è¿”å›åˆå¹¶åçš„å­—å…¸çš„ `values`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m + n)`ï¼Œå…¶ä¸­ `m` å’Œ `n` æ˜¯ä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦ï¼Œé¦–å…ˆéå†ç¬¬äºŒä¸ªæ•°ç»„æ„å»ºå­—å…¸ï¼Œç„¶åéå†ç¬¬ä¸€ä¸ªæ•°ç»„è¿›è¡Œåˆå¹¶ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(m + n)`ï¼Œç”¨äºå­˜å‚¨å­—å…¸ï¼Œæœ€åæƒ…å†µä¸‹è¦å­˜å‚¨ `m + n` ä¸ªé”®å€¼å¯¹ã€‚

## ä»£ç 

```javascript
/**
 * @param {Array} arr1
 * @param {Array} arr2
 * @return {Array}
 */
var join = function (arr1, arr2) {
	let dict = {};
	arr2.forEach((item) => (dict[item.id] = item));

	arr1.forEach((item) => {
		if (dict[item.id]) {
			dict[item.id] = { ...item, ...dict[item.id] };
		} else {
			dict[item.id] = item;
		}
	});
	return Object.values(dict);
};
```
