# [1522. N å‰æ ‘çš„ç›´å¾„](https://leetcode.com/problems/diameter-of-n-ary-tree)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/diameter-of-n-ary-tree)

## é¢˜ç›®

<p>ç»™å®šä¸€æ£µ <code>N å‰æ ‘</code> çš„æ ¹èŠ‚ç‚¹&nbsp;<code>root</code>&nbsp;ï¼Œè®¡ç®—è¿™æ£µæ ‘çš„ç›´å¾„é•¿åº¦ã€‚</p>

<p>N å‰æ ‘çš„ç›´å¾„æŒ‡çš„æ˜¯æ ‘ä¸­ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹é—´è·¯å¾„ä¸­<strong> æœ€é•¿ </strong>è·¯å¾„çš„é•¿åº¦ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç»è¿‡æ ¹èŠ‚ç‚¹ï¼Œä¹Ÿå¯èƒ½ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ã€‚</p>

<p><em>ï¼ˆN å‰æ ‘çš„è¾“å…¥åºåˆ—ä»¥å±‚åºéå†çš„å½¢å¼ç»™å‡ºï¼Œæ¯ç»„å­èŠ‚ç‚¹ç”¨ null åˆ†éš”ï¼‰</em></p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<p><img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1522.Diameter%20of%20N-Ary%20Tree/images/sample_2_1897.png" style="height:173px; width:324px" /></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>root = [1,null,3,2,4,null,5,6]
<strong>è¾“å‡ºï¼š</strong>3
<strong>è§£é‡Šï¼š</strong>ç›´å¾„å¦‚å›¾ä¸­çº¢çº¿æ‰€ç¤ºã€‚</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<p><strong><img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1522.Diameter%20of%20N-Ary%20Tree/images/sample_1_1897.png" style="height:246px; width:253px" /></strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>root = [1,null,2,null,3,4,null,5,null,6]
<strong>è¾“å‡ºï¼š</strong>4
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<p><img alt="" src="https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1522.Diameter%20of%20N-Ary%20Tree/images/sample_3_1897.png" style="height:326px; width:369px" /></p>

<pre>
<strong>è¾“å…¥:</strong> root = [1,null,2,3,4,5,null,null,6,7,null,8,null,9,10,null,null,11,null,12,null,13,null,null,14]
<strong>è¾“å‡º:</strong> 7
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li>N å‰æ ‘çš„æ·±åº¦å°äºæˆ–ç­‰äº&nbsp;<code>1000</code>&nbsp;ã€‚</li>
	<li>èŠ‚ç‚¹çš„æ€»ä¸ªæ•°åœ¨&nbsp;<code>[0,&nbsp;10^4]</code>&nbsp;é—´ã€‚</li>
</ul>

## è§£é¢˜æ€è·¯

è¿™é¢˜ç±»ä¼¼ [ç¬¬ 543 é¢˜ äºŒå‰æ ‘çš„ç›´å¾„](./0543.md) ï¼ŒäºŒå‰æ ‘çš„ç›´å¾„ï¼Œå°±æ˜¯å·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦ä¹‹å’Œï¼Œé‚£ä¹ˆç›´æ¥çš„æƒ³æ³•æ˜¯å¯¹æ¯ä¸ªèŠ‚ç‚¹è®¡ç®—å·¦å³å­æ ‘çš„æœ€å¤§é«˜åº¦ï¼Œå¾—å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„ç›´å¾„ï¼Œä»è€Œå¾—å‡ºæœ€å¤§çš„é‚£ä¸ªç›´å¾„ã€‚

åŒç† N å‰æ ‘çš„ç›´å¾„ï¼Œå¯ä»¥ä½¿ç”¨é€’å½’æ¥éå†æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå¹¶è®°å½•ä»¥æ¯ä¸ªèŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„æœ€å¤§æ·±åº¦å’Œæ¬¡å¤§æ·±åº¦ã€‚ç›´å¾„å°±æ˜¯è¿™ä¸¤ä¸ªæ·±åº¦ä¹‹å’Œã€‚

éœ€è¦çµæ´»è¿ç”¨æ ‘çš„ååºéå†ï¼Œåœ¨ `maxDepth` çš„ååºéå†ä½ç½®é¡ºä¾¿è®¡ç®—æœ€å¤§ç›´å¾„ã€‚

## ä»£ç 

```javascript
/**
 * @param {TreeNode} root
 * @return {number}
 */
var diameter = (root) => {
	if (!root) return 0;
	let res = 0;

	const maxDepth = (root) => {
		// å¦‚æœèŠ‚ç‚¹ä¸ºç©ºï¼Œæ·±åº¦ä¸º0
		if (!root) return 0;

		// è®°å½•å½“å‰èŠ‚ç‚¹çš„æœ€å¤§æ·±åº¦å’Œæ¬¡å¤§æ·±åº¦
		let max_depth = 0;
		let second_max_depth = 0;

		// éå†å­èŠ‚ç‚¹
		for (let i of root.children) {
			let depth = maxDepth(i);
			if (depth > max_depth) {
				second_max_depth = max_depth;
				max_depth = depth;
			} else if (depth > second_max_depth) {
				second_max_depth = depth;
			}
		}
		// æ›´æ–°ç›´å¾„
		res = Math.max(max_depth + second_max_depth, res);

		// è¿”å›å½“å‰èŠ‚ç‚¹çš„æ·±åº¦
		return max_depth + 1;
	};
	maxDepth(root);
	return res;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 543 | [äºŒå‰æ ‘çš„ç›´å¾„](https://leetcode.com/problems/diameter-of-binary-tree) | [[âœ“]](/problem/0543.md) |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md) | <font color=#15bd66>Easy</font> |