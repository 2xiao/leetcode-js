---
title: 1122. æ•°ç»„çš„ç›¸å¯¹æ’åº
description: LeetCode 1122. æ•°ç»„çš„ç›¸å¯¹æ’åºé¢˜è§£ï¼ŒRelative Sort Arrayï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1122. æ•°ç»„çš„ç›¸å¯¹æ’åº
  - æ•°ç»„çš„ç›¸å¯¹æ’åº
  - Relative Sort Array
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - è®¡æ•°æ’åº
  - æ’åº
---

# 1122. æ•°ç»„çš„ç›¸å¯¹æ’åº

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`è®¡æ•°æ’åº`](/tag/counting-sort.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/relative-sort-array) [`LeetCode`](https://leetcode.com/problems/relative-sort-array)

## é¢˜ç›®

Given two arrays `arr1` and `arr2`, the elements of `arr2` are distinct, and
all elements in `arr2` are also in `arr1`.

Sort the elements of `arr1` such that the relative ordering of items in `arr1`
are the same as in `arr2`. Elements that do not appear in `arr2` should be
placed at the end of `arr1` in **ascending** order.

**Example 1:**

> Input: arr1 = [2,3,1,3,2,4,6,7,9,2,19], arr2 = [2,1,4,3,9,6]
>
> Output: [2,2,2,1,4,3,3,9,6,7,19]

**Example 2:**

> Input: arr1 = [28,6,22,8,44,17], arr2 = [22,28,8,6]
>
> Output: [22,28,8,6,17,44]

**Constraints:**

- `1 <= arr1.length, arr2.length <= 1000`
- `0 <= arr1[i], arr2[i] <= 1000`
- All the elements of `arr2` are **distinct**.
- Each `arr2[i]` is in `arr1`.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸¤ä¸ªæ•°ç»„ï¼Œ`arr1` å’Œ `arr2`ï¼Œ`arr2` ä¸­çš„å…ƒç´ å„ä¸ç›¸åŒï¼Œ`arr2` ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å‡ºç°åœ¨ `arr1` ä¸­ã€‚

å¯¹ `arr1` ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œä½¿ `arr1` ä¸­é¡¹çš„ç›¸å¯¹é¡ºåºå’Œ `arr2` ä¸­çš„ç›¸å¯¹é¡ºåºç›¸åŒã€‚æœªåœ¨ `arr2` ä¸­å‡ºç°è¿‡çš„å…ƒç´ éœ€è¦æŒ‰ç…§å‡åºæ”¾åœ¨
`arr1` çš„æœ«å°¾ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** arr1 = [2,3,1,3,2,4,6,7,9,2,19], arr2 = [2,1,4,3,9,6]
>
> **è¾“å‡ºï¼š**[2,2,2,1,4,3,3,9,6,7,19]

**ç¤ºä¾‹ 2:**

> **è¾“å…¥ï¼š** arr1 = [28,6,22,8,44,17], arr2 = [22,28,8,6]
>
> **è¾“å‡ºï¼š**[22,28,8,6,17,44]

**æç¤ºï¼š**

- `1 <= arr1.length, arr2.length <= 1000`
- `0 <= arr1[i], arr2[i] <= 1000`
- `arr2` ä¸­çš„å…ƒç´  `arr2[i]` **å„ä¸ç›¸åŒ**
- `arr2` ä¸­çš„æ¯ä¸ªå…ƒç´  `arr2[i]` éƒ½å‡ºç°åœ¨ `arr1` ä¸­

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šå“ˆå¸Œè¡¨

1. **ç»Ÿè®¡ `arr1` ä¸­å…ƒç´ çš„å‡ºç°æ¬¡æ•°**  
   ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨ `count` æ¥è®°å½• `arr1` ä¸­æ¯ä¸ªå…ƒç´ çš„å‡ºç°æ¬¡æ•°ï¼Œé¿å…å¤šæ¬¡éå†ã€‚

2. **æŒ‰ç…§ `arr2` çš„é¡ºåºå¡«å……ç»“æœæ•°ç»„**  
   éå† `arr2`ï¼Œæ ¹æ®å…¶å…ƒç´ åœ¨ `count` ä¸­çš„å‡ºç°æ¬¡æ•°ï¼Œå°†å¯¹åº”å…ƒç´ åŠ å…¥ç»“æœæ•°ç»„ã€‚

3. **å¤„ç†æœªå‡ºç°åœ¨ `arr2` ä¸­çš„å…ƒç´ **  
   å°† `count` ä¸­å‰©ä½™çš„å…ƒç´ æŒ‰å‡åºæ’åˆ—ï¼Œå¹¶ä¾æ¬¡åŠ å…¥ç»“æœæ•°ç»„ã€‚

4. **è¿”å›ç»“æœæ•°ç»„**  
   åˆå¹¶ä¸¤éƒ¨åˆ†ç»“æœï¼Œå¾—åˆ°æœ€ç»ˆçš„ç›¸å¯¹æ’åºæ•°ç»„ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n + m + (n - m) log (n - m))`ï¼Œå…¶ä¸­ `m` æ˜¯ `arr2` çš„é•¿åº¦ï¼Œ`n` æ˜¯ `arr1` çš„é•¿åº¦ã€‚
  - æ„å»ºå“ˆå¸Œè¡¨ `count`ï¼Œéå† `arr1`ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚
  - å¡«å……ç»“æœæ•°ç»„æ—¶ï¼Œéå† `arr2` å¹¶æŸ¥æ‰¾å“ˆå¸Œè¡¨ï¼š`O(m)`ã€‚
  - å¤„ç†å‰©ä½™å…ƒç´ å¹¶æ’åºï¼š`O((n - m) log (n - m))`ã€‚
  - æ€»æ—¶é—´å¤æ‚åº¦ä¸º `O(n + m + (n - m) log (n - m))`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œ ä½¿ç”¨äº†å“ˆå¸Œè¡¨ `count` å’Œç»“æœæ•°ç»„ `res`ã€‚

---

### æ€è·¯äºŒï¼šå¾ªç¯éå†

1. **éå† `arr2`**  
   éå† `arr2` çš„æ¯ä¸ªå…ƒç´ ï¼Œåœ¨ `arr1` ä¸­æŸ¥æ‰¾ä¸ä¹‹åŒ¹é…çš„å…ƒç´ ï¼Œå¹¶å°†å…¶åŠ å…¥ç»“æœæ•°ç»„ `res` ä¸­ã€‚

   - æŸ¥æ‰¾åˆ°çš„å…ƒç´ éœ€è¦ä» `arr1` ä¸­æ ‡è®°ä¸ºæ— æ•ˆï¼ˆå¯ä»¥ç”¨ä¸€ä¸ªç‰¹æ®Šå€¼å¦‚ `-1` è¡¨ç¤ºï¼‰ã€‚
   - æ¯æ¬¡æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ï¼Œå¢åŠ è®¡æ•°å™¨ `count`ï¼Œä»¥è®°å½•åŒ¹é…çš„æ€»æ•°é‡ã€‚

2. **å¤„ç†å‰©ä½™å…ƒç´ **  
   `arr1` ä¸­å‰©ä½™æœªæ ‡è®°çš„å…ƒç´ å³ä¸ºæœªå‡ºç°åœ¨ `arr2` ä¸­çš„å…ƒç´ ã€‚å¯¹è¿™äº›å…ƒç´ è¿›è¡Œæ’åºã€‚

3. **æ‹¼æ¥ç»“æœ**  
   å°†å·²æ’åºçš„æœªåŒ¹é…å…ƒç´ ä¸ç»“æœæ•°ç»„ `res` æ‹¼æ¥ï¼Œå½¢æˆæœ€ç»ˆçš„è¿”å›ç»“æœã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m * n + n log n)`ï¼Œå…¶ä¸­ `m` æ˜¯ `arr2` çš„é•¿åº¦ï¼Œ`n` æ˜¯ `arr1` çš„é•¿åº¦ã€‚
  - å¤–å±‚å¾ªç¯éå† `arr2`ï¼Œå†…å±‚å¾ªç¯éå† `arr1`ï¼Œä¸¤è€…å½¢æˆåµŒå¥—ï¼Œå¤æ‚åº¦ä¸º `O(m * n)`ã€‚
  - å‰©ä½™å…ƒç´ çš„æ’åºï¼Œå¤æ‚åº¦ä¸º `O(m log n)`ã€‚
  - æ€»æ—¶é—´å¤æ‚åº¦ä¸º `O(m * n + n log n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œä½¿ç”¨äº†ç»“æœæ•°ç»„ `res`ã€‚

## ä»£ç 

::: code-tabs
@tab å“ˆå¸Œè¡¨

```javascript
/**
 * @param {number[]} arr1
 * @param {number[]} arr2
 * @return {number[]}
 */
var relativeSortArray = function (arr1, arr2) {
	// 1. ç»Ÿè®¡ arr1 ä¸­æ¯ä¸ªå…ƒç´ çš„å‡ºç°æ¬¡æ•°
	const count = new Map();
	for (let num of arr1) {
		count.set(num, (count.get(num) || 0) + 1);
	}

	// 2. æŒ‰ç…§ arr2 çš„é¡ºåºå¡«å……ç»“æœæ•°ç»„
	const res = [];
	for (let num of arr2) {
		if (count.has(num)) {
			let freq = count.get(num);
			while (freq--) res.push(num);
			count.delete(num);
		}
	}

	// 3. å°†å‰©ä½™å…ƒç´ æŒ‰å‡åºåŠ å…¥ç»“æœæ•°ç»„
	const remaining = [];
	for (let [key, freq] of count.entries()) {
		while (freq--) remaining.push(key);
	}
	remaining.sort((a, b) => a - b);

	// 4. åˆå¹¶ç»“æœå¹¶è¿”å›
	return res.concat(remaining);
};
```

@tab å¾ªç¯éå†

```javascript
/**
 * @param {number[]} arr1
 * @param {number[]} arr2
 * @return {number[]}
 */
var relativeSortArray = function (arr1, arr2) {
	let res = [],
		count = 0; // åˆå§‹åŒ–ç»“æœæ•°ç»„å’Œè®¡æ•°å™¨
	for (let i = 0; i < arr2.length; i++) {
		// éå† arr2
		for (let j = 0; j < arr1.length; j++) {
			// éå† arr1
			if (arr2[i] == arr1[j]) {
				// æ‰¾åˆ°åŒ¹é…å…ƒç´ 
				res.push(arr1[j]); // åŠ å…¥ç»“æœæ•°ç»„
				arr1[j] = -1; // æ ‡è®°å·²å¤„ç†çš„å…ƒç´ 
				count++; // æ›´æ–°è®¡æ•°å™¨
			}
		}
	}
	arr1.sort((a, b) => a - b); // å¯¹å‰©ä½™å…ƒç´ æ’åº
	return res.concat(arr1.slice(count)); // æ‹¼æ¥ç»“æœ
};
```

:::
