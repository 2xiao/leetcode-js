# [2624. èœ—ç‰›æ’åº](https://2xiao.github.io/leetcode-js/problem/2624.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/snail-traversal) [`LeetCode`](https://leetcode.com/problems/snail-traversal)

## é¢˜ç›®

Write code that enhances all arrays such that you can call the
`snail(rowsCount, colsCount)` method that transforms the 1D array into a 2D
array organised in the pattern known as **snail traversal order**. Invalid
input values should output an empty array. If `rowsCount * colsCount !== nums.length`, the input is considered invalid.

**Snail traversal order** starts at the top left cell with the first value
of the current array. It then moves through the entire first column from top
to bottom, followed by moving to the next column on the right and traversing
it from bottom to top. This pattern continues, alternating the direction of
traversal with each column, until the entire current array is covered. For
example, when given the input array `[19, 10, 3, 7, 9, 8, 5, 2, 1, 17, 16, 14,
12, 18, 6, 13, 11, 20, 4, 15]` with `rowsCount = 5` and `colsCount = 4`, the
desired output matrix is shown below. Note that iterating the matrix following
the arrows corresponds to the order of numbers in the original array.

![Traversal Diagram](https://assets.leetcode.com/uploads/2023/04/10/screen-
shot-2023-04-10-at-100006-pm.png)

**Example 1:**

> Input:
>
> nums = [19, 10, 3, 7, 9, 8, 5, 2, 1, 17, 16, 14, 12, 18, 6, 13, 11, 20, 4, 15]
>
> rowsCount = 5
>
> colsCount = 4
>
> Output:
>
> [
>
> [19,17,16,15],
>
> [10,1,14,4],
>
> [3,2,12,20],
>
> [7,5,18,11],
>
> [9,8,6,13]
>
> ]

**Example 2:**

> Input:
>
> nums = [1,2,3,4]
>
> rowsCount = 1
>
> colsCount = 4
>
> Output: [[1, 2, 3, 4]]

**Example 3:**

> Input:
>
> nums = [1,3]
>
> rowsCount = 2
>
> colsCount = 2
>
> Output: []
>
> Explanation: 2 multiplied by 2 is 4, and the original array [1,3] has a length of 2; therefore, the input is invalid.

**Constraints:**

- `0 <= nums.length <= 250`
- `1 <= nums[i] <= 1000`
- `1 <= rowsCount <= 250`
- `1 <= colsCount <= 250`

## é¢˜ç›®å¤§æ„

è¯·ä½ ç¼–å†™ä¸€æ®µä»£ç ä¸ºæ‰€æœ‰æ•°ç»„å®ç° `snail(rowsCountï¼ŒcolsCount)` æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°† 1D æ•°ç»„è½¬æ¢ä¸ºä»¥èœ—ç‰›æ’åºçš„æ¨¡å¼çš„ 2D
æ•°ç»„ã€‚æ— æ•ˆçš„è¾“å…¥å€¼åº”è¯¥è¾“å‡ºä¸€ä¸ªç©ºæ•°ç»„ã€‚å½“ ` rowsCount * colsCount !==``nums.length ` æ—¶ã€‚è¿™ä¸ªè¾“å…¥è¢«è®¤ä¸ºæ˜¯æ— æ•ˆçš„ã€‚

èœ—ç‰›æ’åºä»å·¦ä¸Šè§’çš„å•å…ƒæ ¼å¼€å§‹ï¼Œä»å½“å‰æ•°ç»„çš„ç¬¬ä¸€ä¸ªå€¼å¼€å§‹ã€‚ç„¶åï¼Œå®ƒä»ä¸Šåˆ°ä¸‹éå†ç¬¬ä¸€åˆ—ï¼Œæ¥ç€ç§»åŠ¨åˆ°å³è¾¹çš„ä¸‹ä¸€åˆ—ï¼Œå¹¶ä»ä¸‹åˆ°ä¸Šéå†å®ƒã€‚å°†è¿™ç§æ¨¡å¼æŒç»­ä¸‹å»ï¼Œæ¯åˆ—äº¤æ›¿å˜æ¢éå†æ–¹å‘ï¼Œç›´åˆ°è¦†ç›–æ•´ä¸ªæ•°ç»„ã€‚ä¾‹å¦‚ï¼Œå½“ç»™å®šè¾“å…¥æ•°ç»„
`[19, 10, 3, 7, 9, 8, 5, 2, 1, 17, 16, 14, 12, 18, 6, 13, 11, 20, 4, 15]` ï¼Œå½“
`rowsCount = 5` ä¸” `colsCount = 4` æ—¶ï¼Œéœ€è¦è¾“å‡ºçŸ©é˜µå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æ³¨æ„ï¼ŒçŸ©é˜µæ²¿ç®­å¤´æ–¹å‘å¯¹åº”äºåŸæ•°ç»„ä¸­æ•°å­—çš„é¡ºåº

![Traversal Diagram](https://assets.leetcode.com/uploads/2023/04/10/screen-
shot-2023-04-10-at-100006-pm.png)

**æç¤ºï¼š**

- `0 <= nums.length <= 250`
- `1 <= nums[i] <= 1000`
- `1 <= rowsCount <= 250`
- `1 <= colsCount <= 250`

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€

1. **è¾“å…¥éªŒè¯**ï¼š
   - é¦–å…ˆæ£€æŸ¥ `rowsCount * colsCount` æ˜¯å¦ç­‰äº `nums.length`ï¼Œå¦‚æœä¸ç›¸ç­‰ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ï¼Œå› ä¸ºæ­¤æ—¶æ— æ³•å°† `nums` é‡ç»„æˆæŒ‡å®šè¡Œåˆ—æ•°çš„äºŒç»´æ•°ç»„ã€‚
2. **åˆå§‹åŒ–äºŒç»´æ•°ç»„**ï¼š
   - åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º `rowsCount` x `colsCount` çš„ç©ºäºŒç»´æ•°ç»„ `res`ï¼Œç”¨äºå­˜å‚¨æœ€ç»ˆçš„ç»“æœã€‚
3. **å¡«å……æ•°ç»„**ï¼š
   - ä½¿ç”¨ä¸€ä¸ªç´¢å¼• `index`ï¼Œä» 0 å¼€å§‹ä¾æ¬¡å–å‡º `nums` ä¸­çš„å…ƒç´ å¹¶å¡«å……åˆ° `res` ä¸­ã€‚
   - éå† `col` åˆ—ï¼Œå¯¹äºæ¯ä¸€åˆ— `col`ï¼Œéœ€è¦åˆ¤æ–­å½“å‰åˆ—æ˜¯è‡ªä¸Šè€Œä¸‹å¡«å……è¿˜æ˜¯è‡ªä¸‹è€Œä¸Šå¡«å……ã€‚
     - å¦‚æœ `col` æ˜¯å¶æ•°åˆ—ï¼Œåˆ™è‡ªä¸Šè€Œä¸‹å¡«å……ã€‚
     - å¦‚æœ `col` æ˜¯å¥‡æ•°åˆ—ï¼Œåˆ™è‡ªä¸‹è€Œä¸Šå¡«å……ã€‚
4. **è¿”å›ç»“æœ**ï¼š
   - å½“æ‰€æœ‰å…ƒç´ å¡«å……å®Œæ¯•åï¼Œè¿”å› `res`ï¼Œå³æŒ‰èœ—ç‰›éå†é¡ºåºå¡«å……çš„äºŒç»´æ•°ç»„ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n = rowsCount * colsCount`ï¼Œç”±äºéå†äº† `nums` æ•°ç»„çš„æ‰€æœ‰å…ƒç´ ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä¸åŒ…å«ç»“æœæ•°ç»„çš„å­˜å‚¨ç©ºé—´ã€‚

### æ€è·¯äºŒ

å¡«å……æ•°ç»„çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥éå† `nums` ä¸­çš„å…ƒç´ ï¼Œç„¶åæ ¹æ®å…ƒç´ ä¸‹æ ‡ `i` æ¥åŠ¨æ€è®¡ç®—è¡Œå’Œåˆ—ï¼š

1. è®¡ç®—å½“å‰å…ƒç´ æ‰€åœ¨çš„åˆ—æ•°ï¼š`col = (i / rowsCount) | 0`ï¼›
2. å…ˆè®¡ç®—å½“å‰å…ƒç´ æ‰€åœ¨åˆ—çš„å¥‡å¶ï¼š`dirction = col % 2 == 0`ï¼›
3. è®¡ç®—å½“å‰å…ƒç´ æ‰€åœ¨çš„è¡Œæ•°ï¼š
   - è‹¥åˆ—æ•°æ˜¯å¥‡æ•°ï¼ˆ`dirction == true`ï¼‰ï¼Œä»ä¸Šå¾€ä¸‹å¡«å……ï¼Œè¡Œæ•°ä¸ºï¼š`row = i % rowsCount`ï¼›
   - è‹¥åˆ—æ•°æ˜¯å¶æ•°ï¼ˆ`dirction == false`ï¼‰ï¼Œä»ä¸‹å¾€ä¸Šå¡«å……ï¼Œè¡Œæ•°ä¸ºï¼š`row = rowsCount - 1 - (i % rowsCount)`ï¼›
4. å°† `nums[i]` å¡«å……åˆ° `res[row][col]`ï¼›

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n = rowsCount * colsCount`ï¼Œç”±äºéå†äº† `nums` æ•°ç»„çš„æ‰€æœ‰å…ƒç´ ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä¸åŒ…å«ç»“æœæ•°ç»„çš„å­˜å‚¨ç©ºé—´ã€‚

## ä»£ç 

:::code-tabs
@tab æ€è·¯ä¸€

```javascript
/**
 * @param {number} rowsCount
 * @param {number} colsCount
 * @return {Array<Array<number>>}
 */
Array.prototype.snail = function (rowsCount, colsCount) {
	if (rowsCount * colsCount !== this.length) return [];

	let res = new Array(rowsCount).fill(0).map((i) => new Array(colsCount));
	let index = 0;

	for (let col = 0; col < colsCount; col++) {
		if (col % 2 === 0) {
			// ä»ä¸Šåˆ°ä¸‹å¡«å……è¿™ä¸€åˆ—
			for (let row = 0; row < rowsCount; row++) {
				res[row][col] = this[index++];
			}
		} else {
			// ä»ä¸‹åˆ°ä¸Šå¡«å……è¿™ä¸€åˆ—
			for (let row = rowsCount - 1; row >= 0; row--) {
				res[row][col] = this[index++];
			}
		}
	}

	return res;
};

/**
 * const arr = [1,2,3,4];
 * arr.snail(1,4); // [[1,2,3,4]]
 */
```

@tab æ€è·¯äºŒ

```javascript
/**
 * @param {number} rowsCount
 * @param {number} colsCount
 * @return {Array<Array<number>>}
 */
Array.prototype.snail = function (rowsCount, colsCount) {
	if (rowsCount * colsCount !== this.length) return [];
	let res = new Array(rowsCount).fill(0).map((i) => new Array(colsCount));
	for (let i = 0; i < rowsCount * colsCount; i++) {
		const col = (i / rowsCount) | 0;
		const dirction = col % 2 == 0;
		const row = dirction ? i % rowsCount : rowsCount - 1 - (i % rowsCount);
		res[row][col] = this[i];
	}
	return res;
};

/**
 * const arr = [1,2,3,4];
 * arr.snail(1,4); // [[1,2,3,4]]
 */
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2619 | [æ•°ç»„åŸå‹å¯¹è±¡çš„æœ€åä¸€ä¸ªå…ƒç´ ](https://leetcode.com/problems/array-prototype-last) | [[âœ“]](/problem/2619.md) |  | <font color=#15bd66>Easy</font> |
| 2631 | [åˆ†ç»„](https://leetcode.com/problems/group-by) | [[âœ“]](/problem/2631.md) |  | <font color=#ffb800>Medium</font> |
| 2774 | [æ•°ç»„çš„ä¸Šç•Œ ğŸ”’](https://leetcode.com/problems/array-upper-bound) |  |  | <font color=#15bd66>Easy</font> |