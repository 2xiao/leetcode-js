# [2624. èœ—ç‰›æ’åº](https://leetcode.com/problems/snail-traversal)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/snail-traversal)

## é¢˜ç›®

<p>è¯·ä½ ç¼–å†™ä¸€æ®µä»£ç ä¸ºæ‰€æœ‰æ•°ç»„å®ç°&nbsp;&nbsp;<code>snail(rowsCountï¼ŒcolsCount)</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°† 1D æ•°ç»„è½¬æ¢ä¸ºä»¥èœ—ç‰›æ’åºçš„æ¨¡å¼çš„ 2D æ•°ç»„ã€‚æ— æ•ˆçš„è¾“å…¥å€¼åº”è¯¥è¾“å‡ºä¸€ä¸ªç©ºæ•°ç»„ã€‚å½“ <code>rowsCount * colsCount&nbsp;!==</code><code>nums.length</code>&nbsp;æ—¶ã€‚è¿™ä¸ªè¾“å…¥è¢«è®¤ä¸ºæ˜¯æ— æ•ˆçš„ã€‚</p>

<p>èœ—ç‰›æ’åºä»å·¦ä¸Šè§’çš„å•å…ƒæ ¼å¼€å§‹ï¼Œä»å½“å‰æ•°ç»„çš„ç¬¬ä¸€ä¸ªå€¼å¼€å§‹ã€‚ç„¶åï¼Œå®ƒä»ä¸Šåˆ°ä¸‹éå†ç¬¬ä¸€åˆ—ï¼Œæ¥ç€ç§»åŠ¨åˆ°å³è¾¹çš„ä¸‹ä¸€åˆ—ï¼Œå¹¶ä»ä¸‹åˆ°ä¸Šéå†å®ƒã€‚å°†è¿™ç§æ¨¡å¼æŒç»­ä¸‹å»ï¼Œæ¯åˆ—äº¤æ›¿å˜æ¢éå†æ–¹å‘ï¼Œç›´åˆ°è¦†ç›–æ•´ä¸ªæ•°ç»„ã€‚ä¾‹å¦‚ï¼Œå½“ç»™å®šè¾“å…¥æ•°ç»„&nbsp;&nbsp;<code>[19, 10, 3, 7, 9, 8, 5, 2, 1, 17, 16, 14, 12, 18, 6, 13, 11, 20, 4, 15]</code> ï¼Œå½“ <code>rowsCount = 5</code>&nbsp;ä¸”&nbsp;<code>colsCount = 4</code> æ—¶ï¼Œéœ€è¦è¾“å‡ºçŸ©é˜µå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æ³¨æ„ï¼ŒçŸ©é˜µæ²¿ç®­å¤´æ–¹å‘å¯¹åº”äºåŸæ•°ç»„ä¸­æ•°å­—çš„é¡ºåº</p>

<p>&nbsp;</p>

<p><img alt="Traversal Diagram" src="https://assets.leetcode.com/uploads/2023/04/10/screen-shot-2023-04-10-at-100006-pm.png" style="width: 275px; height: 343px;" /></p>

<p>&nbsp;</p>

<p><b>ç¤ºä¾‹ 1ï¼š</b></p>

<pre>
<b>è¾“å…¥ï¼š</b>
nums = [19, 10, 3, 7, 9, 8, 5, 2, 1, 17, 16, 14, 12, 18, 6, 13, 11, 20, 4, 15]
rowsCount = 5
colsCount = 4
<b>è¾“å‡ºï¼š</b>
[
 [19,17,16,15],
&nbsp;[10,1,14,4],
&nbsp;[3,2,12,20],
&nbsp;[7,5,18,11],
&nbsp;[9,8,6,13]
]
</pre>

<p><b>ç¤ºä¾‹ 2ï¼š</b></p>

<pre>
<b>è¾“å…¥ï¼š</b>
nums = [1,2,3,4]
rowsCount = 1
colsCount = 4
<b>è¾“å‡ºï¼š</b>[[1, 2, 3, 4]]
</pre>

<p><b>ç¤ºä¾‹ 3ï¼š</b></p>

<pre>
<b>è¾“å…¥ï¼š</b>
nums = [1,3]
rowsCount = 2
colsCount = 2
<b>è¾“å‡ºï¼š</b>[]
<strong>Explanation:</strong> 2 * 2 = 4, ä¸”åŸæ•°ç»„ [1,3] çš„é•¿åº¦ä¸º 2; æ‰€ä»¥ï¼Œè¾“å…¥æ˜¯æ— æ•ˆçš„ã€‚
</pre>

<p>&nbsp;</p>

<p><b>æç¤ºï¼š</b></p>

<ul>
	<li><code>0 &lt;= nums.length &lt;= 250</code></li>
	<li><code>1 &lt;= nums[i] &lt;= 1000</code></li>
	<li><code>1 &lt;= rowsCount &lt;= 250</code></li>
	<li><code>1 &lt;= colsCount &lt;= 250</code></li>
</ul>


## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€

1. **è¾“å…¥éªŒè¯**ï¼š
   - é¦–å…ˆæ£€æŸ¥ `rowsCount * colsCount` æ˜¯å¦ç­‰äº `nums.length`ï¼Œå¦‚æœä¸ç›¸ç­‰ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ï¼Œå› ä¸ºæ­¤æ—¶æ— æ³•å°† `nums` é‡ç»„æˆæŒ‡å®šè¡Œåˆ—æ•°çš„äºŒç»´æ•°ç»„ã€‚
2. **åˆå§‹åŒ–äºŒç»´æ•°ç»„**ï¼š
   - åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º `rowsCount` x `colsCount` çš„ç©ºäºŒç»´æ•°ç»„ `res`ï¼Œç”¨äºå­˜å‚¨æœ€ç»ˆçš„ç»“æœã€‚
3. **å¡«å……æ•°ç»„**ï¼š
   - ä½¿ç”¨ä¸€ä¸ªç´¢å¼• `index`ï¼Œä» 0 å¼€å§‹ä¾æ¬¡å–å‡º `nums` ä¸­çš„å…ƒç´ å¹¶å¡«å……åˆ° `res` ä¸­ã€‚
   - éå† `col` åˆ—ï¼Œå¯¹äºæ¯ä¸€åˆ— `col`ï¼Œéœ€è¦åˆ¤æ–­å½“å‰åˆ—æ˜¯è‡ªä¸Šè€Œä¸‹å¡«å……è¿˜æ˜¯è‡ªä¸‹è€Œä¸Šå¡«å……ã€‚
     - å¦‚æœ `col` æ˜¯å¶æ•°åˆ—ï¼Œåˆ™è‡ªä¸Šè€Œä¸‹å¡«å……ã€‚
     - å¦‚æœ `col` æ˜¯å¥‡æ•°åˆ—ï¼Œåˆ™è‡ªä¸‹è€Œä¸Šå¡«å……ã€‚
4. **è¿”å›ç»“æœ**ï¼š
   - å½“æ‰€æœ‰å…ƒç´ å¡«å……å®Œæ¯•åï¼Œè¿”å› `res`ï¼Œå³æŒ‰èœ—ç‰›éå†é¡ºåºå¡«å……çš„äºŒç»´æ•°ç»„ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n = rowsCount * colsCount`ï¼Œç”±äºéå†äº† `nums` æ•°ç»„çš„æ‰€æœ‰å…ƒç´ ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä¸åŒ…å«ç»“æœæ•°ç»„çš„å­˜å‚¨ç©ºé—´ã€‚

### æ€è·¯äºŒ

å¡«å……æ•°ç»„çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥éå† `nums` ä¸­çš„å…ƒç´ ï¼Œç„¶åæ ¹æ®å…ƒç´ ä¸‹æ ‡ `i` æ¥åŠ¨æ€è®¡ç®—è¡Œå’Œåˆ—ï¼š

1. è®¡ç®—å½“å‰å…ƒç´ æ‰€åœ¨çš„åˆ—æ•°ï¼š`col = (i / rowsCount) | 0`ï¼›
2. å…ˆè®¡ç®—å½“å‰å…ƒç´ æ‰€åœ¨åˆ—çš„å¥‡å¶ï¼š`dirction = col % 2 == 0`ï¼›
3. è®¡ç®—å½“å‰å…ƒç´ æ‰€åœ¨çš„è¡Œæ•°ï¼š
   - è‹¥åˆ—æ•°æ˜¯å¥‡æ•°ï¼ˆ`dirction == true`ï¼‰ï¼Œä»ä¸Šå¾€ä¸‹å¡«å……ï¼Œè¡Œæ•°ä¸ºï¼š`row = i % rowsCount`ï¼›
   - è‹¥åˆ—æ•°æ˜¯å¶æ•°ï¼ˆ`dirction == false`ï¼‰ï¼Œä»ä¸‹å¾€ä¸Šå¡«å……ï¼Œè¡Œæ•°ä¸ºï¼š`row = rowsCount - 1 - (i % rowsCount)`ï¼›
4. å°† `nums[i]` å¡«å……åˆ° `res[row][col]`ï¼›

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n = rowsCount * colsCount`ï¼Œç”±äºéå†äº† `nums` æ•°ç»„çš„æ‰€æœ‰å…ƒç´ ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä¸åŒ…å«ç»“æœæ•°ç»„çš„å­˜å‚¨ç©ºé—´ã€‚

## ä»£ç 

:::code-tabs
@tab æ€è·¯ä¸€

```javascript
/**
 * @param {number} rowsCount
 * @param {number} colsCount
 * @return {Array<Array<number>>}
 */
Array.prototype.snail = function (rowsCount, colsCount) {
	if (rowsCount * colsCount !== this.length) return [];

	let res = new Array(rowsCount).fill(0).map((i) => new Array(colsCount));
	let index = 0;

	for (let col = 0; col < colsCount; col++) {
		if (col % 2 === 0) {
			// ä»ä¸Šåˆ°ä¸‹å¡«å……è¿™ä¸€åˆ—
			for (let row = 0; row < rowsCount; row++) {
				res[row][col] = this[index++];
			}
		} else {
			// ä»ä¸‹åˆ°ä¸Šå¡«å……è¿™ä¸€åˆ—
			for (let row = rowsCount - 1; row >= 0; row--) {
				res[row][col] = this[index++];
			}
		}
	}

	return res;
};

/**
 * const arr = [1,2,3,4];
 * arr.snail(1,4); // [[1,2,3,4]]
 */
```

@tab æ€è·¯äºŒ

```javascript
/**
 * @param {number} rowsCount
 * @param {number} colsCount
 * @return {Array<Array<number>>}
 */
Array.prototype.snail = function (rowsCount, colsCount) {
	if (rowsCount * colsCount !== this.length) return [];
	let res = new Array(rowsCount).fill(0).map((i) => new Array(colsCount));
	for (let i = 0; i < rowsCount * colsCount; i++) {
		const col = (i / rowsCount) | 0;
		const dirction = col % 2 == 0;
		const row = dirction ? i % rowsCount : rowsCount - 1 - (i % rowsCount);
		res[row][col] = this[i];
	}
	return res;
};

/**
 * const arr = [1,2,3,4];
 * arr.snail(1,4); // [[1,2,3,4]]
 */
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2619 | [æ•°ç»„åŸå‹å¯¹è±¡çš„æœ€åä¸€ä¸ªå…ƒç´ ](https://leetcode.com/problems/array-prototype-last) | [[âœ“]](/problem/2619.md) |  | <font color=#15bd66>Easy</font> |
| 2631 | [åˆ†ç»„](https://leetcode.com/problems/group-by) | [[âœ“]](/problem/2631.md) |  | <font color=#ffb800>Medium</font> |
| 2774 | [æ•°ç»„çš„ä¸Šç•Œ](https://leetcode.com/problems/array-upper-bound) |  |  | <font color=#15bd66>Easy</font> |