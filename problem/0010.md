---
title: 10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
description: LeetCode,10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…,æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…,Regular Expression Matching,è§£é¢˜æ€è·¯,é€’å½’,å­—ç¬¦ä¸²,åŠ¨æ€è§„åˆ’
keywords:
  - LeetCode
  - 10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
  - æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
  - Regular Expression Matching
  - è§£é¢˜æ€è·¯
  - é€’å½’
  - å­—ç¬¦ä¸²
  - åŠ¨æ€è§„åˆ’
---

# 10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`é€’å½’`](/tag/recursion.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/regular-expression-matching) [`LeetCode`](https://leetcode.com/problems/regular-expression-matching)

## é¢˜ç›®

Given an input string `s` and a pattern `p`, implement regular expression
matching with support for `'.'` and `'*'` where:

- `'.'` Matches any single character.â€‹â€‹â€‹â€‹
- `'*'` Matches zero or more of the preceding element.

The matching should cover the **entire** input string (not partial).

**Example 1:**

> Input: s = "aa", p = "a"
>
> Output: false
>
> Explanation: "a" does not match the entire string "aa".

**Example 2:**

> Input: s = "aa", p = "a\*"
>
> Output: true
>
> Explanation: '\*' means zero or more of the preceding element, 'a'. Therefore, by repeating 'a' once, it becomes "aa".

**Example 3:**

> Input: s = "ab", p = ".\*"
>
> Output: true
>
> Explanation: ".\*" means "zero or more (\*) of any character (.)".

**Constraints:**

- `1 <= s.length <= 20`
- `1 <= p.length <= 20`
- `s` contains only lowercase English letters.
- `p` contains only lowercase English letters, `'.'`, and `'*'`.
- It is guaranteed for each appearance of the character `'*'`, there will be a previous valid character to match.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªå­—ç¬¦è§„å¾‹ `p`ï¼Œè¯·ä½ æ¥å®ç°ä¸€ä¸ªæ”¯æŒ `'.'` å’Œ `'*'` çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚

- `'.'` åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦
- `'*'` åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ 

æ‰€è°“åŒ¹é…ï¼Œæ˜¯è¦æ¶µç›– **æ•´ä¸ª** å­—ç¬¦ä¸² `s` çš„ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†å­—ç¬¦ä¸²ã€‚

## è§£é¢˜æ€è·¯

ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ `dp`ï¼Œå…¶ä¸­ `dp[i][j]` è¡¨ç¤ºå­—ç¬¦ä¸² `s` çš„å‰ `i` ä¸ªå­—ç¬¦å’Œæ¨¡å¼ `p` çš„å‰ `j` ä¸ªå­—ç¬¦æ˜¯å¦åŒ¹é…ã€‚

åŠ¨æ€è§„åˆ’çš„é€’æ¨å…¬å¼å¦‚ä¸‹ï¼š

1. å¦‚æœ `p[j]` ä¸æ˜¯ `'*'`ï¼Œä¸”å½“å‰å­—ç¬¦ `s[i]` å’Œ `p[j]` åŒ¹é…ï¼Œåˆ™ `dp[i][j] = dp[i-1][j-1]`ï¼Œè¡¨ç¤ºå½“å‰å­—ç¬¦æ˜¯å¦åŒ¹é…å–å†³äºå‰é¢çš„å­—ç¬¦æ˜¯å¦åŒ¹é…ã€‚
2. å¦‚æœ `p[j]` æ˜¯ `'*'`ï¼Œåˆ™æœ‰ä¸¤ç§æƒ…å†µï¼š
   - `'*'` åŒ¹é…é›¶ä¸ªå­—ç¬¦ï¼Œå³ `dp[i][j] = dp[i][j-2]`ã€‚
   - `'*'` åŒ¹é…å¤šä¸ªå­—ç¬¦ï¼Œå³ `dp[i][j] = dp[i-1][j]`ï¼Œå‰ææ˜¯å½“å‰å­—ç¬¦ `s[i]` å’Œ `p[j-1]` åŒ¹é…ã€‚
3. åˆå§‹æ¡ä»¶ä¸º `dp[0][0] = true`ï¼Œè¡¨ç¤ºç©ºå­—ç¬¦ä¸²å’Œç©ºæ¨¡å¼åŒ¹é…ã€‚
4. åˆå§‹åŒ–åŠ¨æ€è§„åˆ’è¡¨ `dp` çš„ç¬¬ä¸€è¡Œï¼Œå³ `dp[0][j]`ï¼Œè¡¨ç¤ºç©ºå­—ç¬¦ä¸²ä¸æ¨¡å¼ `p` çš„å‰ `j` ä¸ªå­—ç¬¦çš„åŒ¹é…æƒ…å†µï¼Œè¦æ³¨æ„è€ƒè™‘ç¬¬ `j` ä¸ªå­—ç¬¦æ˜¯ `'*'` çš„æƒ…å†µï¼Œã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @param {string} p
 * @return {boolean}
 */
var isMatch = function (s, p) {
	const match = (i, j) => {
		return s[i - 1] == p[j - 1] || p[j - 1] == '.';
	};

	const m = s.length;
	const n = p.length;
	const dp = new Array(m + 1).fill(0).map(() => new Array(n + 1).fill(false));

	// ç©ºå­—ç¬¦ä¸²å’Œç©ºæ¨¡å¼åŒ¹é…
	dp[0][0] = true;

	// åˆå§‹åŒ– dp[0][j]ï¼Œå¤„ç† p ä¸­å¯èƒ½å‡ºç° '*' çš„æƒ…å†µ
	for (let j = 1; j <= n; j++) {
		if (p[j - 1] == '*') {
			dp[0][j] = dp[0][j - 2];
		}
	}

	for (let i = 1; i <= m; i++) {
		for (let j = 1; j <= n; j++) {
			if (match(i, j)) {
				dp[i][j] = dp[i - 1][j - 1];
			} else if (p[j - 1] == '*') {
				dp[i][j] = dp[i][j - 2] || (dp[i - 1][j] && match(i, j - 1));
			}
		}
	}
	return dp[m][n];
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 44 | é€šé…ç¬¦åŒ¹é… | [[âœ“]](/problem/0044.md) |  [`è´ªå¿ƒ`](/tag/greedy.md) [`é€’å½’`](/tag/recursion.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/wildcard-matching) [ğŸ”—](https://leetcode.com/problems/wildcard-matching) |