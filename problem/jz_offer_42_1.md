# [å‰‘æŒ‡ Offer 42. è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode.cn/problems/lian-xu-zi-shu-zu-de-zui-da-he-lcof)

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/outline/tag/array.md) [`åˆ†æ²»`](/outline/tag/divide-and-conquer.md) [`åŠ¨æ€è§„åˆ’`](/outline/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.cn/problems/lian-xu-zi-shu-zu-de-zui-da-he-lcof)

## é¢˜ç›®

æŸå…¬å¸æ¯æ—¥é”€å”®é¢è®°äºæ•´æ•°æ•°ç»„ `sales`ï¼Œè¯·è¿”å›æ‰€æœ‰ **è¿ç»­** ä¸€æˆ–å¤šå¤©é”€å”®é¢æ€»å’Œçš„æœ€å¤§å€¼ã€‚

è¦æ±‚å®ç°æ—¶é—´å¤æ‚åº¦ä¸º `O(n)` çš„ç®—æ³•ã€‚

**ç¤ºä¾‹ 1:**

> è¾“å…¥ï¼šsales = [-2,1,-3,4,-1,2,1,-5,4]
>
> è¾“å‡ºï¼š6
>
> è§£é‡Šï¼š[4,-1,2,1] æ­¤è¿ç»­å››å¤©çš„é”€å”®æ€»é¢æœ€é«˜ï¼Œä¸º 6ã€‚

**ç¤ºä¾‹ 2:**

> è¾“å…¥ï¼šsales = [5,4,-1,7,8]
>
> è¾“å‡ºï¼š23
>
> è§£é‡Šï¼š[5,4,-1,7,8] æ­¤è¿ç»­äº”å¤©çš„é”€å”®æ€»é¢æœ€é«˜ï¼Œä¸º 23ã€‚

**æç¤ºï¼š**

- `1 <= arr.length <= 10^5`
- `-100 <= arr[i] <= 100`

::: warning
æœ¬é¢˜ä¸ LeetCode [ç¬¬ 53 é¢˜](./0053.md) ç›¸åŒã€‚
:::

## è§£é¢˜æ€è·¯

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚

å¯ä»¥å®šä¹‰ä¸€ä¸ªçŠ¶æ€æ•°ç»„ `dp`ï¼Œå…¶ä¸­ `dp[i]` è¡¨ç¤ºä»¥ç¬¬ `i` ä¸ªå…ƒç´ ç»“å°¾çš„å­æ•°ç»„çš„æœ€å¤§å’Œã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š

`dp[i] = Math.max(dp[i - 1] + sales[i], sales[i])`

å³ä»¥ç¬¬ `i` ä¸ªå…ƒç´ ç»“å°¾çš„å­æ•°ç»„çš„æœ€å¤§å’Œï¼Œè¦ä¹ˆæ˜¯å°†ç¬¬ `i` ä¸ªå…ƒç´ æ·»åŠ åˆ°å‰ä¸€ä¸ªå­æ•°ç»„ä¸­ï¼Œè¦ä¹ˆæ˜¯ä»¥ç¬¬ `i` ä¸ªå…ƒç´ ä½œä¸ºèµ·ç‚¹é‡æ–°å¼€å§‹ä¸€ä¸ªæ–°çš„å­æ•°ç»„ã€‚

åŒæ—¶ç»´æŠ¤ä¸€ä¸ªå˜é‡ `max`ï¼Œç”¨äºè®°å½•å…¨å±€æœ€å¤§å’Œã€‚éå†æ•´ä¸ªæ•°ç»„æ—¶ï¼Œä¸æ–­æ›´æ–° `dp[i]` å’Œ `max`ï¼Œæœ€ç»ˆ `max` å°±æ˜¯æ‰€æ±‚çš„æœ€å¤§å’Œã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} sales
 * @return {number}
 */
var maxSales = function (sales) {
	let dp = new Array(sales.length);
	let max = dp[0];
	dp[0] = sales[0];
	for (let i = 1; i < sales.length; i++) {
		dp[i] = Math.max(dp[i - 1] + sales[i], sales[i]);
		max = Math.max(max, dp[i]);
	}
	return max;
};
```
