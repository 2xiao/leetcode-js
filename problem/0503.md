# [503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II](https://leetcode.com/problems/next-greater-element-ii)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`å•è°ƒæ ˆ`](/tag/monotonic-stack.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/next-greater-element-ii)

## é¢˜ç›®

<p>ç»™å®šä¸€ä¸ªå¾ªç¯æ•°ç»„&nbsp;<code>nums</code>&nbsp;ï¼ˆ&nbsp;<code>nums[nums.length - 1]</code>&nbsp;çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯&nbsp;<code>nums[0]</code>&nbsp;ï¼‰ï¼Œè¿”å›&nbsp;<em><code>nums</code>&nbsp;ä¸­æ¯ä¸ªå…ƒç´ çš„ <strong>ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ </strong></em> ã€‚</p>

<p>æ•°å­— <code>x</code>&nbsp;çš„ <strong>ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ </strong> æ˜¯æŒ‰æ•°ç»„éå†é¡ºåºï¼Œè¿™ä¸ªæ•°å­—ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”å®ƒæ›´å¤§çš„æ•°ï¼Œè¿™æ„å‘³ç€ä½ åº”è¯¥å¾ªç¯åœ°æœç´¢å®ƒçš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º <code>-1</code>&nbsp;ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1:</strong></p>

<pre>
<strong>è¾“å…¥:</strong> nums = [1,2,1]
<strong>è¾“å‡º:</strong> [2,-1,2]
<strong>è§£é‡Š:</strong> ç¬¬ä¸€ä¸ª 1 çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°æ˜¯ 2ï¼›
æ•°å­— 2 æ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ï¼› 
ç¬¬äºŒä¸ª 1 çš„ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ•°éœ€è¦å¾ªç¯æœç´¢ï¼Œç»“æœä¹Ÿæ˜¯ 2ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2:</strong></p>

<pre>
<strong>è¾“å…¥:</strong> nums = [1,2,3,4,3]
<strong>è¾“å‡º:</strong> [2,3,4,-1,4]
</pre>

<p>&nbsp;</p>

<p><strong>æç¤º:</strong></p>

<ul>
	<li><code>1 &lt;= nums.length &lt;= 10<sup>4</sup></code></li>
	<li><code>-10<sup>9</sup>&nbsp;&lt;= nums[i] &lt;= 10<sup>9</sup></code></li>
</ul>


## è§£é¢˜æ€è·¯

è¿™é¢˜æ˜¯ [ç¬¬ 496 é¢˜](./0496.md) çš„åŠ å¼ºç‰ˆï¼Œåœ¨ç¬¬ 496 é¢˜çš„åŸºç¡€ä¸Šå¢åŠ äº†å¾ªç¯æ•°ç»„çš„æ¡ä»¶ã€‚

å¯ä»¥ä¾æ—§æŒ‰ç…§ç¬¬ 496 é¢˜çš„åšæ³•ï¼Œç”¨å•è°ƒæ ˆï¼Œæ ˆä¸­è®°å½•å•è°ƒé€’å¢çš„ä¸‹æ ‡ã€‚

åªä¸è¿‡ç”±äºæ˜¯å¾ªç¯æ•°ç»„ï¼Œæ‰€ä»¥éœ€è¦åœ¨åŸæ•°ç»„çš„åŸºç¡€ä¸Šï¼Œå°†æ•°ç»„å‰ `nâˆ’1` ä¸ªå…ƒç´ æ‹¼æ¥åœ¨åŸæ•°ç»„çš„åé¢ï¼Œè¿›è¡Œéå†ï¼Œå®é™…ä»£ç ä¸­ï¼Œä¸éœ€è¦çœŸæ­£æ‹¼æ¥æ•°ç»„ï¼Œåªéœ€å¯¹ä¸‹æ ‡å–æ¨¡å³å¯ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number[]}
 */
var nextGreaterElements = function (nums) {
	let stack = [];
	let len = nums.length;
	let res = new Array(len).fill(-1);
	for (let i = 0; i < 2 * len - 1; i++) {
		let idx = i % len;
		while (stack.length && nums[idx] > nums[stack[stack.length - 1]]) {
			res[stack.pop()] = nums[idx];
		}
		stack.push(idx);
	}
	return res;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 496 | [ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I](https://leetcode.com/problems/next-greater-element-i) | [[âœ“]](/problem/0496.md) |  [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `1+` | <font color=#15bd66>Easy</font> |
| 556 | [ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  III](https://leetcode.com/problems/next-greater-element-iii) |  |  [`æ•°å­¦`](/tag/math.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | <font color=#ffb800>Medium</font> |