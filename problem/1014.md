---
title: 1014. æœ€ä½³è§‚å…‰ç»„åˆ
description: LeetCode 1014. æœ€ä½³è§‚å…‰ç»„åˆé¢˜è§£ï¼ŒBest Sightseeing Pairï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1014. æœ€ä½³è§‚å…‰ç»„åˆ
  - æœ€ä½³è§‚å…‰ç»„åˆ
  - Best Sightseeing Pair
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - åŠ¨æ€è§„åˆ’
---

# 1014. æœ€ä½³è§‚å…‰ç»„åˆ

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/best-sightseeing-pair) [`LeetCode`](https://leetcode.com/problems/best-sightseeing-pair)

## é¢˜ç›®

You are given an integer array `values` where values[i] represents the value
of the `ith` sightseeing spot. Two sightseeing spots `i` and `j` have a
**distance** `j - i` between them.

The score of a pair (`i < j`) of sightseeing spots is `values[i] + values[j] +
i - j`: the sum of the values of the sightseeing spots, minus the distance
between them.

Return _the maximum score of a pair of sightseeing spots_.

**Example 1:**

> Input: values = [8,1,5,2,6]
>
> Output: 11
>
> Explanation: i = 0, j = 2, values[i] + values[j] + i - j = 8 + 5 + 0 - 2 = 11

**Example 2:**

> Input: values = [1,2]
>
> Output: 2

**Constraints:**

- `2 <= values.length <= 5 * 10^4`
- `1 <= values[i] <= 1000`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `values`ï¼Œå…¶ä¸­ `values[i]` è¡¨ç¤ºç¬¬ `i` ä¸ªè§‚å…‰æ™¯ç‚¹çš„è¯„åˆ†ï¼Œå¹¶ä¸”ä¸¤ä¸ªæ™¯ç‚¹ `i` å’Œ `j` ä¹‹é—´çš„ **è·ç¦»**
ä¸º `j - i`ã€‚

ä¸€å¯¹æ™¯ç‚¹ï¼ˆ`i < j`ï¼‰ç»„æˆçš„è§‚å…‰ç»„åˆçš„å¾—åˆ†ä¸º `values[i] + values[j] + i - j` ï¼Œä¹Ÿå°±æ˜¯æ™¯ç‚¹çš„è¯„åˆ†ä¹‹å’Œ**å‡å»**
å®ƒä»¬ä¸¤è€…ä¹‹é—´çš„è·ç¦»ã€‚

è¿”å›ä¸€å¯¹è§‚å…‰æ™¯ç‚¹èƒ½å–å¾—çš„æœ€é«˜åˆ†ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** values = [8,1,5,2,6]
>
> **è¾“å‡ºï¼š** 11
>
> **è§£é‡Šï¼š** i = 0, j = 2, values[i] + values[j] + i - j = 8 + 5 + 0 - 2 = 11

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** values = [1,2]
>
> **è¾“å‡ºï¼š** 2

**æç¤ºï¼š**

- `2 <= values.length <= 5 * 10^4`
- `1 <= values[i] <= 1000`

## è§£é¢˜æ€è·¯

åœ¨è¿™é“é¢˜ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸¤ä¸ªæ™¯ç‚¹ `i` å’Œ `j` (æ»¡è¶³ `i < j`)ï¼Œä½¿å¾—å¾—åˆ†å…¬å¼ `values[i] + values[j] + i - j` æœ€å¤§ã€‚é€šè¿‡åˆ†æå…¬å¼ï¼Œå¯ä»¥æ‹†åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š

- **å·¦è¾¹éƒ¨åˆ†**ï¼š`values[i] + i`ï¼Œå›ºå®šæ—¶åªä¸ `i` æœ‰å…³ã€‚
- **å³è¾¹éƒ¨åˆ†**ï¼š`values[j] - j`ï¼Œå›ºå®šæ—¶åªä¸ `j` æœ‰å…³ã€‚

åœ¨éå† `j` æ—¶ï¼Œæˆ‘ä»¬åªéœ€è®°å½•å½“å‰æœ€å¤§å€¼ `values[i] + i`ï¼ˆç§°ä¸º `maxLeft`ï¼‰ï¼Œå¹¶å°†å…¶ä¸ `values[j] - j` è¿›è¡Œè®¡ç®—å³å¯ã€‚

1. åˆå§‹åŒ– `maxLeft` ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ çš„ `values[0] + 0`ï¼Œå› ä¸º `i = 0`ã€‚
2. åˆå§‹åŒ– `maxScore` ä¸º 0ï¼Œè¡¨ç¤ºå½“å‰æœ€å¤§å¾—åˆ†ã€‚
3. ä» `i = 1` å¼€å§‹éå†æ•°ç»„ï¼š
   - è®¡ç®—å½“å‰æ™¯ç‚¹å¾—åˆ†ä¸º `maxLeft + (values[j] - j)`ï¼Œå¹¶æ›´æ–° `maxScore`ã€‚
   - æ›´æ–° `maxLeft` ä¸ºå½“å‰çš„æœ€å¤§å€¼ï¼Œå³ `max(maxLeft, values[i] + i)`ã€‚
4. éå†å®Œæˆåï¼Œè¿”å› `maxScore`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯ `values` çš„é•¿åº¦ï¼Œéå†ä¸€æ¬¡æ•°ç»„ `values` å³å¯ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸é‡å˜é‡ `maxLeft` å’Œ `maxScore`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} values
 * @return {number}
 */
var maxScoreSightseeingPair = function (values) {
	const n = values.length;
	let maxLeft = values[0]; // åˆå§‹ maxLeft = values[0] + 0
	let maxScore = 0; // æœ€å¤§å¾—åˆ†

	for (let i = 1; i < n; i++) {
		// è®¡ç®—å½“å‰å¾—åˆ†ï¼Œå¹¶æ›´æ–°æœ€å¤§å¾—åˆ†
		maxScore = Math.max(maxScore, maxLeft + values[i] - i);
		// æ›´æ–° maxLeft
		maxLeft = Math.max(maxLeft, values[i] + i);
	}
	return maxScore;
};
```
