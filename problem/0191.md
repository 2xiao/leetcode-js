---
title: 191. ä½1çš„ä¸ªæ•°
description: LeetCode,191. ä½1çš„ä¸ªæ•°,ä½1çš„ä¸ªæ•°,Number of 1 Bits,è§£é¢˜æ€è·¯,ä½è¿ç®—,åˆ†æ²»
keywords:
  - LeetCode
  - 191. ä½1çš„ä¸ªæ•°
  - ä½1çš„ä¸ªæ•°
  - Number of 1 Bits
  - è§£é¢˜æ€è·¯
  - ä½è¿ç®—
  - åˆ†æ²»
---

# 191. ä½1çš„ä¸ªæ•°

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`åˆ†æ²»`](/tag/divide-and-conquer.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/number-of-1-bits) [`LeetCode`](https://leetcode.com/problems/number-of-1-bits)

## é¢˜ç›®

Write a function that takes the binary representation of an unsigned integer
and returns the number of '1' bits it has (also known as the [Hamming
weight](http://en.wikipedia.org/wiki/Hamming_weight)).

**Note:**

- Note that in some languages, such as Java, there is no unsigned integer type. In this case, the input will be given as a signed integer type. It should not affect your implementation, as the integer's internal binary representation is the same, whether it is signed or unsigned.
- In Java, the compiler represents the signed integers using [2's complement notation](https://en.wikipedia.org/wiki/Two%27s_complement). Therefore, in **Example 3** , the input represents the signed integer. `-3`.

**Example 1:**

> Input: n = 00000000000000000000000000001011
>
> Output: 3
>
> Explanation: The input binary string **00000000000000000000000000001011** has a total of three '1' bits.

**Example 2:**

> Input: n = 00000000000000000000000010000000
>
> Output: 1
>
> Explanation: The input binary string **00000000000000000000000010000000** has a total of one '1' bit.

**Example 3:**

> Input: n = 11111111111111111111111111111101
>
> Output: 31
>
> Explanation: The input binary string **11111111111111111111111111111101** has a total of thirty one '1' bits.

**Constraints:**

- The input must be a **binary string** of length `32`.

**Follow up:** If this function is called many times, how would you optimize
it?

## é¢˜ç›®å¤§æ„

ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼ˆä»¥äºŒè¿›åˆ¶ä¸²çš„å½¢å¼ï¼‰ï¼Œè¿”å›å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­æ•°å­—ä½æ•°ä¸º '1' çš„ä¸ªæ•°ï¼ˆä¹Ÿè¢«ç§°ä¸º æ±‰æ˜é‡é‡ï¼‰ã€‚

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šå¾ªç¯

å¯ä»¥ç›´æ¥å¾ªç¯æ£€æŸ¥ç»™å®šæ•´æ•° `n` çš„äºŒè¿›åˆ¶ä½çš„æ¯ä¸€ä½æ˜¯å¦ä¸º `1`ã€‚

å½“æ£€æŸ¥ç¬¬ `i` ä½æ—¶ï¼Œå¯ä»¥è®© `n` ä¸ `2^i` è¿›è¡Œ **ä¸** è¿ç®—ï¼Œå½“ä¸”ä»…å½“ `n` çš„ç¬¬ `i` ä½ä¸º `1` æ—¶ï¼Œè¿ç®—ç»“æœä¸ä¸º `0`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(k)`ï¼Œå…¶ä¸­ `k=32`ï¼Œä¸€å…±éœ€è¦æ£€æŸ¥ `32` ä½ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªéœ€è¦å¸¸æ•°çš„ç©ºé—´ä¿å­˜è‹¥å¹²å˜é‡ã€‚

---

### æ€è·¯äºŒï¼šä½è¿ç®—

å°†`res` åˆå§‹åŒ–ä¸º 0ï¼Œç”¨äºå­˜å‚¨è¿”å›ç»“æœã€‚

å½“ `n > 0` æ—¶ï¼Œå¾ªç¯ä»¥ä¸‹æ­¥éª¤ï¼š

- è‹¥`n & 1` ä¸ä¸º 0ï¼Œåˆ™ `n` çš„æœ€åä¸€ä½ä¸º `1`ï¼Œ`res++`
- `n >>= 1`ï¼Œå°† `n` å³ç§»ä¸€ä½ï¼Œå‡†å¤‡æå–ä¸‹ä¸€ä¸ªä½ã€‚

æœ€ç»ˆè¿”å› `res`

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(k)`ï¼Œå…¶ä¸­ `k=32`ï¼Œæ¯æ¬¡å³ç§»ä¸€ä½ï¼Œä¸€å…±éœ€è¦æ£€æŸ¥ `32` ä½ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªéœ€è¦å¸¸æ•°çš„ç©ºé—´ä¿å­˜è‹¥å¹²å˜é‡ã€‚

---

### æ€è·¯ä¸‰ï¼šä½è¿ç®—

ç”±äº `nÂ &Â (nâˆ’1)` ä¼š `n` çš„äºŒè¿›åˆ¶ä½ä¸­çš„æœ€ä½ä½çš„ `1` å˜ä¸º `0` ï¼Œå¦‚ï¼š`6Â &Â (6âˆ’1) = 4`, `6 = (110)_2`, `4 = (100)_2`ï¼Œè¿ç®—ç»“æœ `4` å³ä¸ºæŠŠ `6` çš„äºŒè¿›åˆ¶ä½ä¸­çš„æœ€ä½ä½çš„ `1` å˜ä¸º `0` ä¹‹åçš„ç»“æœã€‚

å¯ä»¥åˆ©ç”¨è¿™ä¸ªä½è¿ç®—çš„æ€§è´¨ï¼Œä¸æ–­è®©å½“å‰çš„ `n` ä¸ `n - 1` åšä¸è¿ç®—ï¼Œç›´åˆ° `n` å˜ä¸º `0` å³å¯ã€‚å› ä¸ºæ¯æ¬¡è¿ç®—ä¼šä½¿å¾— `n` çš„æœ€ä½ä½çš„ `1` è¢«ç¿»è½¬ï¼Œå› æ­¤è¿ç®—æ¬¡æ•°å°±ç­‰äº `n` çš„äºŒè¿›åˆ¶ä½ä¸­ `1` çš„ä¸ªæ•°ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m)`ï¼Œå…¶ä¸­ `m` æ˜¯ `n` çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ `1` çš„æ•°é‡ã€‚æ¯æ¬¡ `n &= n - 1` æ“ä½œéƒ½ä¼šæ¶ˆé™¤ `n` ä¸­çš„ä¸€ä¸ª `1`ï¼Œå› æ­¤å¾ªç¯çš„æ¬¡æ•°ç­‰äº `1` çš„ä¸ªæ•°ã€‚æœ€åæƒ…å†µä¸‹ï¼Œå½“ `n` çš„æ‰€æœ‰ä½éƒ½æ˜¯ `1` æ—¶ï¼Œå¾ªç¯æ¬¡æ•°ç­‰äº `m`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªéœ€è¦å¸¸æ•°çš„ç©ºé—´ä¿å­˜å˜é‡ã€‚

## ä»£ç 

::: code-tabs

@tab å¾ªç¯

```javascript
/**
 * @param {number} n - a positive integer
 * @return {number}
 */
var hammingWeight = function (n) {
	let res = 0;
	for (let i = 0; i < 32; i++) {
		if (n & (1 << i)) {
			res++;
		}
	}
	return res;
};
```

@tab ä½è¿ç®—

```javascript
/**
 * @param {number} n
 * @return {number}
 */
var hammingWeight = function (n) {
	let res = 0;
	while (n > 0) {
		if (n & 1) {
			res++;
		}
		n = n >> 1;
	}
	return res;
};
```

@tab ä½è¿ç®—

```javascript
/**
 * @param {number} n - a positive integer
 * @return {number}
 */
var hammingWeight = function (n) {
	let res = 0;
	while (n) {
		n &= n - 1;
		res++;
	}
	return res;
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 190 | é¢ å€’äºŒè¿›åˆ¶ä½ | [[âœ“]](/problem/0190.md) |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`åˆ†æ²»`](/tag/divide-and-conquer.md) | <font color=#15bd66>Easy</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/reverse-bits) [ğŸ”—](https://leetcode.com/problems/reverse-bits) |
| 231 | 2 çš„å¹‚ |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`é€’å½’`](/tag/recursion.md) [`æ•°å­¦`](/tag/math.md) | <font color=#15bd66>Easy</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/power-of-two) [ğŸ”—](https://leetcode.com/problems/power-of-two) |
| 338 | æ¯”ç‰¹ä½è®¡æ•° | [[âœ“]](/problem/0338.md) |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#15bd66>Easy</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/counting-bits) [ğŸ”—](https://leetcode.com/problems/counting-bits) |
| 401 | äºŒè¿›åˆ¶æ‰‹è¡¨ |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`å›æº¯`](/tag/backtracking.md) | <font color=#15bd66>Easy</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/binary-watch) [ğŸ”—](https://leetcode.com/problems/binary-watch) |
| 461 | æ±‰æ˜è·ç¦» |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) | <font color=#15bd66>Easy</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/hamming-distance) [ğŸ”—](https://leetcode.com/problems/hamming-distance) |
| 693 | äº¤æ›¿ä½äºŒè¿›åˆ¶æ•° |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) | <font color=#15bd66>Easy</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/binary-number-with-alternating-bits) [ğŸ”—](https://leetcode.com/problems/binary-number-with-alternating-bits) |
| 762 | äºŒè¿›åˆ¶è¡¨ç¤ºä¸­è´¨æ•°ä¸ªè®¡ç®—ç½®ä½ |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°å­¦`](/tag/math.md) | <font color=#15bd66>Easy</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/prime-number-of-set-bits-in-binary-representation) [ğŸ”—](https://leetcode.com/problems/prime-number-of-set-bits-in-binary-representation) |
| 3280 | å°†æ—¥æœŸè½¬æ¢ä¸ºäºŒè¿›åˆ¶è¡¨ç¤º |  |  [`æ•°å­¦`](/tag/math.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | <font color=#15bd66>Easy</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/convert-date-to-binary) [ğŸ”—](https://leetcode.com/problems/convert-date-to-binary) |