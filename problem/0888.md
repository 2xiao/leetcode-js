---
title: 888. å…¬å¹³çš„ç³–æœäº¤æ¢
description: LeetCode 888. å…¬å¹³çš„ç³–æœäº¤æ¢é¢˜è§£ï¼ŒFair Candy Swapï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 888. å…¬å¹³çš„ç³–æœäº¤æ¢
  - å…¬å¹³çš„ç³–æœäº¤æ¢
  - Fair Candy Swap
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - äºŒåˆ†æŸ¥æ‰¾
  - æ’åº
---

# 888. å…¬å¹³çš„ç³–æœäº¤æ¢

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/fair-candy-swap) [`LeetCode`](https://leetcode.com/problems/fair-candy-swap)

## é¢˜ç›®

Alice and Bob have a different total number of candies. You are given two
integer arrays `aliceSizes` and `bobSizes` where `aliceSizes[i]` is the number
of candies of the `ith` box of candy that Alice has and `bobSizes[j]` is the
number of candies of the `jth` box of candy that Bob has.

Since they are friends, they would like to exchange one candy box each so that
after the exchange, they both have the same total amount of candy. The total
amount of candy a person has is the sum of the number of candies in each box
they have.

Return a _n integer array_`answer` _where_`answer[0]`_is the number of candies
in the box that Alice must exchange, and_`answer[1]`_is the number of candies
in the box that Bob must exchange_. If there are multiple answers, you may
**return any** one of them. It is guaranteed that at least one answer exists.

**Example 1:**

> Input: aliceSizes = [1,1], bobSizes = [2,2]
>
> Output: [1,2]

**Example 2:**

> Input: aliceSizes = [1,2], bobSizes = [2,3]
>
> Output: [1,2]

**Example 3:**

> Input: aliceSizes = [2], bobSizes = [1,3]
>
> Output: [2,3]

**Constraints:**

- `1 <= aliceSizes.length, bobSizes.length <= 10^4`
- `1 <= aliceSizes[i], bobSizes[j] <= 10^5`
- Alice and Bob have a different total number of candies.
- There will be at least one valid answer for the given input.

## é¢˜ç›®å¤§æ„

çˆ±ä¸½ä¸å’Œé²å‹ƒæ‹¥æœ‰ä¸åŒæ€»æ•°é‡çš„ç³–æœã€‚ç»™ä½ ä¸¤ä¸ªæ•°ç»„ `aliceSizes` å’Œ `bobSizes` ï¼Œ`aliceSizes[i]` æ˜¯çˆ±ä¸½ä¸æ‹¥æœ‰çš„ç¬¬
`i` ç›’ç³–æœä¸­çš„ç³–æœæ•°é‡ï¼Œ`bobSizes[j]` æ˜¯é²å‹ƒæ‹¥æœ‰çš„ç¬¬ `j` ç›’ç³–æœä¸­çš„ç³–æœæ•°é‡ã€‚

ä¸¤äººæƒ³è¦äº’ç›¸äº¤æ¢ä¸€ç›’ç³–æœï¼Œè¿™æ ·åœ¨äº¤æ¢ä¹‹åï¼Œä»–ä»¬å°±å¯ä»¥æ‹¥æœ‰ç›¸åŒæ€»æ•°é‡çš„ç³–æœã€‚ä¸€ä¸ªäººæ‹¥æœ‰çš„ç³–æœæ€»æ•°é‡æ˜¯ä»–ä»¬æ¯ç›’ç³–æœæ•°é‡çš„æ€»å’Œã€‚

è¿”å›ä¸€ä¸ªæ•´æ•°æ•°ç»„ `answer`ï¼Œå…¶ä¸­ `answer[0]` æ˜¯çˆ±ä¸½ä¸å¿…é¡»äº¤æ¢çš„ç³–æœç›’ä¸­çš„ç³–æœçš„æ•°ç›®ï¼Œ`answer[1]`
æ˜¯é²å‹ƒå¿…é¡»äº¤æ¢çš„ç³–æœç›’ä¸­çš„ç³–æœçš„æ•°ç›®ã€‚å¦‚æœå­˜åœ¨å¤šä¸ªç­”æ¡ˆï¼Œä½ å¯ä»¥è¿”å›å…¶ä¸­ **ä»»ä½•ä¸€ä¸ª** ã€‚é¢˜ç›®æµ‹è¯•ç”¨ä¾‹ä¿è¯å­˜åœ¨ä¸è¾“å…¥å¯¹åº”çš„ç­”æ¡ˆã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** aliceSizes = [1,1], bobSizes = [2,2]
>
> **è¾“å‡ºï¼š**[1,2]

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** aliceSizes = [1,2], bobSizes = [2,3]
>
> **è¾“å‡ºï¼š**[1,2]

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** aliceSizes = [2], bobSizes = [1,3]
>
> **è¾“å‡ºï¼š**[2,3]

**ç¤ºä¾‹ 4ï¼š**

> **è¾“å…¥ï¼š** aliceSizes = [1,2,5], bobSizes = [2,4]
>
> **è¾“å‡ºï¼š**[5,4]

**æç¤ºï¼š**

- `1 <= aliceSizes.length, bobSizes.length <= 10^4`
- `1 <= aliceSizes[i], bobSizes[j] <= 10^5`
- çˆ±ä¸½ä¸å’Œé²å‹ƒçš„ç³–æœæ€»æ•°é‡ä¸åŒã€‚
- é¢˜ç›®æ•°æ®ä¿è¯å¯¹äºç»™å®šçš„è¾“å…¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆã€‚

## è§£é¢˜æ€è·¯

1. ä½¿ç”¨ `reduce` å‡½æ•°è®¡ç®—çˆ±ä¸½ä¸å’Œé²å‹ƒå„è‡ªæ‹¥æœ‰çš„ç³–æœæ€»æ•°ã€‚è®°çˆ±ä¸½ä¸çš„æ€»ç³–æœæ•°ä¸º `sumAlice`ï¼Œé²å‹ƒçš„æ€»ç³–æœæ•°ä¸º `sumBob`ã€‚

2. ä¸ºäº†ä½¿ä¸¤äººçš„ç³–æœæ•°é‡ç›¸åŒï¼Œå‡è®¾çˆ±ä¸½ä¸äº¤æ¢çš„æ˜¯ `x` ç›’ç³–æœï¼Œé²å‹ƒäº¤æ¢çš„æ˜¯ `y` ç›’ç³–æœã€‚è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š
   `sumAlice - x + y = sumBob + x - y`
   é€šè¿‡æ•´ç†ï¼Œå¾—åˆ°ï¼š
   `x - y = (sumAlice - sumBob) / 2`

3. **ä½¿ç”¨é›†åˆæŸ¥æ‰¾äº¤æ¢çš„ç³–æœ**ï¼š

   - å‡è®¾ `target = (sumAlice - sumBob) / 2`
   - éå†çˆ±ä¸½ä¸çš„ç³–æœç›’æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ª `aliceSizes` ä¸­ `x`ï¼Œæ£€æŸ¥ `y = x - target` æ˜¯å¦åœ¨ `bobSizes` ä¸­ã€‚
   - å¦‚æœæ˜¯ï¼Œè¯´æ˜çˆ±ä¸½ä¸å’Œé²å‹ƒå¯ä»¥äº¤æ¢ `x` å’Œ `y` ç›’ç³–æœï¼Œè¿”å› `[x, y]`ã€‚
   - ä½¿ç”¨ Set å­˜å‚¨é²å‹ƒçš„ç³–æœæ•°é‡ï¼Œè¿™æ ·å¯ä»¥åœ¨ `O(1)` æ—¶é—´å†…æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„ `y`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n + m)`ï¼Œå…¶ä¸­ `n` å’Œ `m` åˆ†åˆ«æ˜¯ `aliceSizes` å’Œ `bobSizes` çš„é•¿åº¦ï¼Œéœ€è¦éå†ä¸¤ä¸ªæ•°ç»„æ±‚å’Œã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(m)`ï¼Œä½¿ç”¨ Set å­˜å‚¨é²å‹ƒçš„ç³–æœæ•°é‡ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} aliceSizes
 * @param {number[]} bobSizes
 * @return {number[]}
 */
var fairCandySwap = function (aliceSizes, bobSizes) {
	const sumAlice = aliceSizes.reduce((a, b) => a + b, 0);
	const sumBob = bobSizes.reduce((a, b) => a + b, 0);

	// è®¡ç®—ç›®æ ‡å·®å€¼
	const target = (sumAlice - sumBob) / 2;

	// ä½¿ç”¨ Set å­˜å‚¨é²å‹ƒçš„ç³–æœæ•°é‡ï¼Œä¾¿äºæŸ¥æ‰¾
	const bobSet = new Set(bobSizes);

	for (let x of aliceSizes) {
		const y = x - target;
		if (bobSet.has(y)) {
			return [x, y]; // è¿”å›äº¤æ¢çš„ç³–æœæ•°é‡
		}
	}
};
```
