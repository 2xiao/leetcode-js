---
title: 1009. åè¿›åˆ¶æ•´æ•°çš„åç 
description: LeetCode 1009. åè¿›åˆ¶æ•´æ•°çš„åç é¢˜è§£ï¼ŒComplement of Base 10 Integerï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1009. åè¿›åˆ¶æ•´æ•°çš„åç 
  - åè¿›åˆ¶æ•´æ•°çš„åç 
  - Complement of Base 10 Integer
  - è§£é¢˜æ€è·¯
  - ä½è¿ç®—
---

# 1009. åè¿›åˆ¶æ•´æ•°çš„åç 

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/complement-of-base-10-integer) [`LeetCode`](https://leetcode.com/problems/complement-of-base-10-integer)

## é¢˜ç›®

The **complement** of an integer is the integer you get when you flip all the
`0`'s to `1`'s and all the `1`'s to `0`'s in its binary representation.

- For example, The integer `5` is `"101"` in binary and its **complement** is `"010"` which is the integer `2`.

Given an integer `n`, return _its complement_.

**Example 1:**

> Input: n = 5
>
> Output: 2
>
> Explanation: 5 is "101" in binary, with complement "010" in binary, which is 2 in base-10.

**Example 2:**

> Input: n = 7
>
> Output: 0
>
> Explanation: 7 is "111" in binary, with complement "000" in binary, which is 0 in base-10.

**Example 3:**

> Input: n = 10
>
> Output: 5
>
> Explanation: 10 is "1010" in binary, with complement "0101" in binary, which is 5 in base-10.

**Constraints:**

- `0 <= n < 10^9`

**Note:** This question is the same as [476. Number Complement](./0476.md)

## é¢˜ç›®å¤§æ„

æ¯ä¸ªéè´Ÿæ•´æ•° `N` éƒ½æœ‰å…¶äºŒè¿›åˆ¶è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼Œ `5` å¯ä»¥è¢«è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶ `"101"`ï¼Œ`11` å¯ä»¥ç”¨äºŒè¿›åˆ¶ `"1011"`
è¡¨ç¤ºï¼Œä¾æ­¤ç±»æ¨ã€‚æ³¨æ„ï¼Œé™¤ `N = 0` å¤–ï¼Œä»»ä½•äºŒè¿›åˆ¶è¡¨ç¤ºä¸­éƒ½ä¸å«å‰å¯¼é›¶ã€‚

äºŒè¿›åˆ¶çš„åç è¡¨ç¤ºæ˜¯å°†æ¯ä¸ª `1` æ”¹ä¸º `0` ä¸”æ¯ä¸ª `0` å˜ä¸º `1`ã€‚ä¾‹å¦‚ï¼ŒäºŒè¿›åˆ¶æ•° `"101"` çš„äºŒè¿›åˆ¶åç ä¸º `"010"`ã€‚

ç»™ä½ ä¸€ä¸ªåè¿›åˆ¶æ•° `N`ï¼Œè¯·ä½ è¿”å›å…¶äºŒè¿›åˆ¶è¡¨ç¤ºçš„åç æ‰€å¯¹åº”çš„åè¿›åˆ¶æ•´æ•°ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** 5
>
> **è¾“å‡ºï¼š** 2
>
> **è§£é‡Šï¼š** 5 çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º "101"ï¼Œå…¶äºŒè¿›åˆ¶åç ä¸º "010"ï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶ä¸­çš„ 2 ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** 7
>
> **è¾“å‡ºï¼š** 0
>
> **è§£é‡Šï¼š** 7 çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º "111"ï¼Œå…¶äºŒè¿›åˆ¶åç ä¸º "000"ï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶ä¸­çš„ 0 ã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** 10
>
> **è¾“å‡ºï¼š** 5
>
> **è§£é‡Šï¼š** 10 çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º "1010"ï¼Œå…¶äºŒè¿›åˆ¶åç ä¸º "0101"ï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶ä¸­çš„ 5 ã€‚

**æç¤ºï¼š**

1. `0 <= N < 10^9`
2. æœ¬é¢˜ä¸ [476. æ•°å­—çš„è¡¥æ•°](./0476.md) ç›¸åŒ

## è§£é¢˜æ€è·¯

1. **ç†è§£è¡¥æ•°æ“ä½œ**ï¼š

   - è¡¥æ•°çš„æ¦‚å¿µæ˜¯åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œå°†æ‰€æœ‰çš„ `0` æ›¿æ¢ä¸º `1`ï¼Œæ‰€æœ‰çš„ `1` æ›¿æ¢ä¸º `0`ã€‚
   - ä¾‹å¦‚ï¼š`n = 5`ï¼Œå®ƒçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º `101`ï¼Œå…¶è¡¥æ•°ä¸º `010`ï¼Œå¯¹åº”åè¿›åˆ¶ `2`ã€‚

2. **æ©ç  (Mask) çš„ä½œç”¨**ï¼š

   - ä¸ºäº†å°† `n` ä¸­çš„æ‰€æœ‰ä½å–åï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªæ©ç ï¼ˆmaskï¼‰ï¼Œå®ƒçš„é•¿åº¦ä¸ `n` çš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„ä½æ•°ç›¸åŒï¼Œå¹¶ä¸”æ‰€æœ‰ä½éƒ½ä¸º `1`ã€‚
   - å¦‚æœäºŒè¿›åˆ¶é•¿åº¦ä¸º `n`ï¼Œå¯¹åº”çš„æ©ç å°±æ˜¯ `111...111`ï¼ˆé•¿åº¦ä¸º `n`ï¼‰ã€‚
   - ä¾‹å¦‚ï¼š`101` çš„æ©ç æ˜¯ `111`ã€‚

3. **å¼‚æˆ–æ“ä½œå®ç°å–å**ï¼š

   - å°† `n` å’Œæ©ç è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œå°±èƒ½å°† `n` çš„æ‰€æœ‰ `1` å˜æˆ `0`ï¼Œæ‰€æœ‰ `0` å˜æˆ `1`ï¼Œå¾—åˆ°å…¶è¡¥ç ã€‚
   - å¼‚æˆ–è§„åˆ™ï¼š`1 ^ 1 = 0`, `0 ^ 1 = 1`ã€‚
   - ä¾‹å¦‚ï¼š`101 ^ 111 = 010`ã€‚

4. **å¦‚ä½•æ„å»ºæ©ç **ï¼š

   - å…ˆè®¡ç®— `n` çš„äºŒè¿›åˆ¶ä½æ•°ï¼š`bitLength = n.toString(2).length`ã€‚
   - ç„¶åç”¨ä½è¿ç®— `1 << bitLength` å¾—åˆ°ä¸€ä¸ªåªæœ‰ç¬¬ `bitLength+1` ä½ä¸º `1` çš„æ•°ï¼š
     - ç¤ºä¾‹ï¼š`1 << 3` = `1000`ã€‚
   - å†å‡å» `1`ï¼Œå¾—åˆ°æ‰€æœ‰ä½ä¸º `1` çš„æ©ç ï¼š
     - ç¤ºä¾‹ï¼š`(1 << 3) - 1` = `1000 - 1` = `111`ã€‚

5. **ç‰¹æ®Šæƒ…å†µ**ï¼š
   - å¦‚æœ `n == 0`ï¼Œè¡¥æ•°åº”ä¸º `1`ï¼Œéœ€è¦å•ç‹¬å¤„ç†ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œè®¡ç®—äºŒè¿›åˆ¶ä½æ•°å’Œæ©ç éƒ½æ˜¯å¸¸æ•°æ—¶é—´æ“ä½œã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä»…ä½¿ç”¨äº†å¸¸æ•°çº§åˆ«çš„é¢å¤–å˜é‡ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} n
 * @return {number}
 */
var bitwiseComplement = function (n) {
	if (n == 0) return 1; // å¤„ç†ç‰¹æ®Šæƒ…å†µï¼šè¾“å…¥ä¸º 0

	// è®¡ç®—äºŒè¿›åˆ¶çš„ä½æ•°
	const bitLength = n.toString(2).length;

	// æ„å»ºæ©ç ï¼šæ‰€æœ‰ä½éƒ½æ˜¯ 1
	const mask = (1 << bitLength) - 1;

	// é€šè¿‡å¼‚æˆ–æ“ä½œè®¡ç®—è¡¥æ•°
	return n ^ mask;
};
```
