---
title: 128. æœ€é•¿è¿ç»­åºåˆ—
description: LeetCode 128. æœ€é•¿è¿ç»­åºåˆ—é¢˜è§£ï¼ŒLongest Consecutive Sequenceï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 128. æœ€é•¿è¿ç»­åºåˆ—
  - æœ€é•¿è¿ç»­åºåˆ—
  - Longest Consecutive Sequence
  - è§£é¢˜æ€è·¯
  - å¹¶æŸ¥é›†
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
---

# 128. æœ€é•¿è¿ç»­åºåˆ—

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/longest-consecutive-sequence) [`LeetCode`](https://leetcode.com/problems/longest-consecutive-sequence)

## é¢˜ç›®

Given an unsorted array of integers `nums`, return _the length of the longest consecutive elements sequence._

You must write an algorithm that runs in `O(n)` time.

**Example 1:**

> Input: nums = [100,4,200,1,3,2]
>
> Output: 4
>
> Explanation: The longest consecutive elements sequence is [1, 2, 3, 4]. Therefore its length is 4.

**Example 2:**

> Input: nums = [0,3,7,2,5,8,4,6,0,1]
>
> Output: 9

**Constraints:**

- `0 <= nums.length <= 10^5`
- `-10^9 <= nums[i] <= 10^9`

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºæœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ã€‚è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚

## è§£é¢˜æ€è·¯

- éå†æ•°ç»„é‡Œçš„æ¯ä¸ªæ•° `i` ï¼Œä»¥å…¶ä¸ºèµ·ç‚¹ï¼Œå¯»æ‰¾ `i+1, i+2, i+3...`æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸æ–­è®°å½•ä»¥ `i` ä¸ºèµ·ç‚¹æ—¶æœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ï¼›
- ä¸ºäº†é™ä½éå†æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥å°†æ•°ç»„ä¸­çš„æ•°å­˜åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿™æ ·æŸ¥çœ‹ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥ä¼˜åŒ–åˆ° `O(1)`ï¼›
- ä¸ºäº†å»æ‰ä¸€äº›é‡å¤çš„æšä¸¾ï¼Œå¯ä»¥åªå¯¹ `i-1` ä¸å­˜åœ¨çš„æ•° `i` ä¸ºèµ·ç‚¹å¼€å§‹æšä¸¾ï¼›

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**: `O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„çš„é•¿åº¦ï¼Œéå†äº†ä¸€éæ•°ç»„ã€‚
- **ç©ºé—´å¤æ‚åº¦**: `O(n)`ï¼Œä½¿ç”¨äº†ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥å­˜å‚¨æ•°ç»„ä¸­çš„æ•°ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var longestConsecutive = function (nums) {
	let set = new Set(nums);
	let length = 0;
	for (let item of [...set]) {
		if (!set.has(item - 1)) {
			let i = 1;
			while (set.has(item + i)) {
				i++;
			}
			length = Math.max(length, i);
		}
	}
	return length;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 298 | äºŒå‰æ ‘æœ€é•¿è¿ç»­åºåˆ— ğŸ”’ |  |  [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/binary-tree-longest-consecutive-sequence) [ğŸ”—](https://leetcode.com/problems/binary-tree-longest-consecutive-sequence) |
| 2177 | æ‰¾åˆ°å’Œä¸ºç»™å®šæ•´æ•°çš„ä¸‰ä¸ªè¿ç»­æ•´æ•° |  |  [`æ•°å­¦`](/tag/math.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/find-three-consecutive-integers-that-sum-to-a-given-number) [ğŸ”—](https://leetcode.com/problems/find-three-consecutive-integers-that-sum-to-a-given-number) |
| 2274 | ä¸å«ç‰¹æ®Šæ¥¼å±‚çš„æœ€å¤§è¿ç»­æ¥¼å±‚æ•° |  |  [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-consecutive-floors-without-special-floors) [ğŸ”—](https://leetcode.com/problems/maximum-consecutive-floors-without-special-floors) |
| 2414 | æœ€é•¿çš„å­—æ¯åºè¿ç»­å­å­—ç¬¦ä¸²çš„é•¿åº¦ |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/length-of-the-longest-alphabetical-continuous-substring) [ğŸ”—](https://leetcode.com/problems/length-of-the-longest-alphabetical-continuous-substring) |
| 3020 | å­é›†ä¸­å…ƒç´ çš„æœ€å¤§æ•°é‡ |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æšä¸¾`](/tag/enumeration.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/find-the-maximum-number-of-elements-in-subset) [ğŸ”—](https://leetcode.com/problems/find-the-maximum-number-of-elements-in-subset) |