---
title: 1415. é•¿åº¦ä¸º n çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬ k å°çš„å­—ç¬¦ä¸²
description: LeetCode 1415. é•¿åº¦ä¸º n çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬ k å°çš„å­—ç¬¦ä¸²é¢˜è§£ï¼ŒThe k-th Lexicographical String of All Happy Strings of Length nï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1415. é•¿åº¦ä¸º n çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬ k å°çš„å­—ç¬¦ä¸²
  - é•¿åº¦ä¸º n çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬ k å°çš„å­—ç¬¦ä¸²
  - The k-th Lexicographical String of All Happy Strings of Length n
  - è§£é¢˜æ€è·¯
  - å­—ç¬¦ä¸²
  - å›æº¯
---

# 1415. é•¿åº¦ä¸º n çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬ k å°çš„å­—ç¬¦ä¸²

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/tag/string.md) [`å›æº¯`](/tag/backtracking.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/the-k-th-lexicographical-string-of-all-happy-strings-of-length-n) [`LeetCode`](https://leetcode.com/problems/the-k-th-lexicographical-string-of-all-happy-strings-of-length-n)

## é¢˜ç›®

A **happy string** is a string that:

- consists only of letters of the set `['a', 'b', 'c']`.
- `s[i] != s[i + 1]` for all values of `i` from `1` to `s.length - 1` (string is 1-indexed).

For example, strings **" abc", "ac", "b"** and **" abcbabcbcb"** are all happy
strings and strings **" aa", "baa"** and **" ababbc"** are not happy strings.

Given two integers `n` and `k`, consider a list of all happy strings of length
`n` sorted in lexicographical order.

Return _the kth string_ of this list or return an **empty string** if there
are less than `k` happy strings of length `n`.

**Example 1:**

> Input: n = 1, k = 3
>
> Output: "c"
>
> Explanation: The list ["a", "b", "c"] contains all happy strings of length 1. The third string is "c".

**Example 2:**

> Input: n = 1, k = 4
>
> Output: ""
>
> Explanation: There are only 3 happy strings of length 1.

**Example 3:**

> Input: n = 3, k = 9
>
> Output: "cab"
>
> Explanation: There are 12 different happy string of length 3 ["aba", "abc", "aca", "acb", "bab", "bac", "bca", "bcb", "cab", "cac", "cba", "cbc"]. You will find the 9th string = "cab"

**Constraints:**

- `1 <= n <= 10`
- `1 <= k <= 100`

## é¢˜ç›®å¤§æ„

ä¸€ä¸ª ã€Œå¼€å¿ƒå­—ç¬¦ä¸²ã€å®šä¹‰ä¸ºï¼š

- ä»…åŒ…å«å°å†™å­—æ¯ `['a', 'b', 'c']`.
- å¯¹æ‰€æœ‰åœ¨ `1` åˆ° `s.length - 1` ä¹‹é—´çš„ `i` ï¼Œæ»¡è¶³ `s[i] != s[i + 1]` ï¼ˆå­—ç¬¦ä¸²çš„ä¸‹æ ‡ä» 1 å¼€å§‹ï¼‰ã€‚

æ¯”æ–¹è¯´ï¼Œå­—ç¬¦ä¸² **" abc"**ï¼Œ**" ac"ï¼Œ"b"** å’Œ **" abcbabcbcb"** éƒ½æ˜¯å¼€å¿ƒå­—ç¬¦ä¸²ï¼Œä½†æ˜¯ **" aa"**ï¼Œ**"baa"** å’Œ **" ababbc"** éƒ½ä¸æ˜¯å¼€å¿ƒå­—ç¬¦ä¸²ã€‚

ç»™ä½ ä¸¤ä¸ªæ•´æ•° `n` å’Œ `k` ï¼Œä½ éœ€è¦å°†é•¿åº¦ä¸º `n` çš„æ‰€æœ‰å¼€å¿ƒå­—ç¬¦ä¸²æŒ‰å­—å…¸åºæ’åºã€‚

è¯·ä½ è¿”å›æ’åºåçš„ç¬¬ k ä¸ªå¼€å¿ƒå­—ç¬¦ä¸²ï¼Œå¦‚æœé•¿åº¦ä¸º `n` çš„å¼€å¿ƒå­—ç¬¦ä¸²å°‘äº `k` ä¸ªï¼Œé‚£ä¹ˆè¯·ä½ è¿”å› **ç©ºå­—ç¬¦ä¸²** ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** n = 1, k = 3
>
> **è¾“å‡ºï¼š** "c"
>
> **è§£é‡Šï¼š** åˆ—è¡¨ ["a", "b", "c"] åŒ…å«äº†æ‰€æœ‰é•¿åº¦ä¸º 1 çš„å¼€å¿ƒå­—ç¬¦ä¸²ã€‚æŒ‰ç…§å­—å…¸åºæ’åºåç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸²ä¸º "c" ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** n = 1, k = 4
>
> **è¾“å‡ºï¼š** ""
>
> **è§£é‡Šï¼š** é•¿åº¦ä¸º 1 çš„å¼€å¿ƒå­—ç¬¦ä¸²åªæœ‰ 3 ä¸ªã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** n = 3, k = 9
>
> **è¾“å‡ºï¼š** "cab"
>
> **è§£é‡Šï¼š** é•¿åº¦ä¸º 3 çš„å¼€å¿ƒå­—ç¬¦ä¸²æ€»å…±æœ‰ 12 ä¸ª ["aba", "abc", "aca", "acb", "bab", "bac", "bca", "bcb", "cab", "cac", "cba", "cbc"] ã€‚ç¬¬ 9 ä¸ªå­—ç¬¦ä¸²ä¸º "cab"

**ç¤ºä¾‹ 4ï¼š**

> **è¾“å…¥ï¼š** n = 2, k = 7
>
> **è¾“å‡ºï¼š** ""

**ç¤ºä¾‹ 5ï¼š**

> **è¾“å…¥ï¼š** n = 10, k = 100
>
> **è¾“å‡ºï¼š** "abacbabacb"

**æç¤ºï¼š**

- `1 <= n <= 10`
- `1 <= k <= 100`

## è§£é¢˜æ€è·¯

å›æº¯ï¼ˆBacktrackingï¼‰æ˜¯ç”Ÿæˆç»„åˆæˆ–æ’åˆ—çš„ä¸€ç§å¸¸è§æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ **å›æº¯ + å‰ªæ** æ¥ç”Ÿæˆç¬¬ `k` ä¸ªå¿«ä¹å­—ç¬¦ä¸²ï¼š

- **é€’å½’æ„é€ **ï¼šä»ç©ºå­—ç¬¦ä¸²å¼€å§‹ï¼Œæ¯æ¬¡æ·»åŠ  `'a'`ã€`'b'`ã€`'c'` ä¸­ä¸åŒäºä¸Šä¸€ä¸ªå­—ç¬¦çš„é€‰é¡¹ã€‚
- **å­—å…¸åºæ’åˆ—**ï¼šå­—å…¸åºæ˜¯æŒ‰ç…§ **'a' < 'b' < 'c'** æ’åˆ—çš„ï¼Œå› æ­¤ï¼ŒæŒ‰é¡ºåºå›æº¯æ„é€ çš„å­—ç¬¦ä¸²å¤©ç„¶æ˜¯å­—å…¸åºæ’åˆ—çš„ã€‚

1. **å›æº¯æ³•æ„é€ å­—ç¬¦ä¸²**ï¼š

   - æ¯æ¬¡å°è¯• `'a'`, `'b'`, `'c'`ï¼Œä½†ä¸èƒ½é€‰æ‹©ä¸ä¸Šä¸€ä¸ªå­—ç¬¦ç›¸åŒçš„å­—ç¬¦ã€‚
   - é€’å½’è¿›å…¥ä¸‹ä¸€å±‚ã€‚
   - å›æº¯ï¼ˆæ’¤é”€é€‰æ‹©ï¼‰ã€‚
   - **ç»ˆæ­¢æ¡ä»¶**ï¼š`track.length == n`ã€‚

2. **å‰ªæä¼˜åŒ–**ï¼š

   - ä½¿ç”¨ `count` å˜é‡è®¡æ•°ï¼Œå½“ `count == k` æ—¶ï¼Œä¿å­˜å½“å‰å­—ç¬¦ä¸²å¹¶ç›´æ¥è¿”å›ï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—ã€‚

3. **ä¸å­˜å‚¨æ‰€æœ‰å­—ç¬¦ä¸²**ï¼š

   - ä¼ ç»Ÿå›æº¯ä¼šå­˜å‚¨ `O(3^n)` ä¸ªå­—ç¬¦ä¸²ï¼Œå†æ’åºå¹¶å–ç¬¬ `k` ä¸ªï¼Œ**ä½†è¿™æ ·ç©ºé—´æ¶ˆè€—å¤§**ã€‚
   - è¿™é‡Œä½¿ç”¨**è®¡æ•°æ³•**ï¼Œåªæ‰¾ç¬¬ `k` ä¸ªï¼Œä¸å­˜å‚¨é¢å¤–ç»“æœï¼Œæ—¶é—´å¤æ‚åº¦é™ä½åˆ° `O(k)`ï¼Œç©ºé—´å¤æ‚åº¦é™ä½åˆ° `O(n)`ï¼ˆé€’å½’æ ˆï¼‰ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(k)`ï¼Œå‰ªæä¼˜åŒ–ï¼Œåªæ‰¾åˆ° `k` ä¸ªå°±ç»ˆæ­¢ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå›æº¯æ ˆçš„å¼€é”€ï¼Œé€’å½’æ·±åº¦æœ€å¤šä¸º `n`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} n
 * @param {number} k
 * @return {string}
 */
var getHappyString = function (n, k) {
	let result = '';
	let count = 0;

	// å›æº¯å‡½æ•°ï¼Œtrack è®°å½•å½“å‰æ„é€ çš„å­—ç¬¦ä¸²
	const backtrack = (track) => {
		if (track.length == n) {
			count++;
			// ç»ˆæ­¢æ¡ä»¶
			if (count == k) result = track.join('');
			return;
		}

		for (let char of ['a', 'b', 'c']) {
			// éå†æ‰€æœ‰å¯èƒ½å­—ç¬¦
			if (track.length == 0 || track[track.length - 1] !== char) {
				// ä¸èƒ½å’Œå‰ä¸€ä¸ªå­—ç¬¦ç›¸åŒ
				track.push(char); // é€‰æ‹©
				backtrack(track); // é€’å½’
				track.pop(); // å›æº¯
				if (count >= k) return; // å‰ªæä¼˜åŒ–ï¼Œæ‰¾åˆ° `k` ä¹‹åç›´æ¥è¿”å›
			}
		}
	};

	backtrack([]); // é€’å½’æ„é€ æ‰€æœ‰å¿«ä¹å­—ç¬¦ä¸²

	return result; // è¿”å›ç¬¬ `k` ä¸ªå­—ç¬¦ä¸²
};
```
