---
title: 1593. æ‹†åˆ†å­—ç¬¦ä¸²ä½¿å”¯ä¸€å­å­—ç¬¦ä¸²çš„æ•°ç›®æœ€å¤§
description: LeetCode,1593. æ‹†åˆ†å­—ç¬¦ä¸²ä½¿å”¯ä¸€å­å­—ç¬¦ä¸²çš„æ•°ç›®æœ€å¤§,æ‹†åˆ†å­—ç¬¦ä¸²ä½¿å”¯ä¸€å­å­—ç¬¦ä¸²çš„æ•°ç›®æœ€å¤§,Split a String Into the Max Number of Unique Substrings,è§£é¢˜æ€è·¯,å“ˆå¸Œè¡¨,å­—ç¬¦ä¸²,å›æº¯
keywords:
  - LeetCode
  - 1593. æ‹†åˆ†å­—ç¬¦ä¸²ä½¿å”¯ä¸€å­å­—ç¬¦ä¸²çš„æ•°ç›®æœ€å¤§
  - æ‹†åˆ†å­—ç¬¦ä¸²ä½¿å”¯ä¸€å­å­—ç¬¦ä¸²çš„æ•°ç›®æœ€å¤§
  - Split a String Into the Max Number of Unique Substrings
  - è§£é¢˜æ€è·¯
  - å“ˆå¸Œè¡¨
  - å­—ç¬¦ä¸²
  - å›æº¯
---

# 1593. æ‹†åˆ†å­—ç¬¦ä¸²ä½¿å”¯ä¸€å­å­—ç¬¦ä¸²çš„æ•°ç›®æœ€å¤§

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`å›æº¯`](/tag/backtracking.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/split-a-string-into-the-max-number-of-unique-substrings) [`LeetCode`](https://leetcode.com/problems/split-a-string-into-the-max-number-of-unique-substrings)

## é¢˜ç›®

Given a string `s`, return _the maximum number of unique substrings that the
given string can be split into_.

You can split string `s` into any list of **non-empty substrings** , where the
concatenation of the substrings forms the original string. However, you must
split the substrings such that all of them are **unique**.

A **substring** is a contiguous sequence of characters within a string.

**Example 1:**

> Input: s = "ababccc"
>
> Output: 5
>
> **Explanation** : One way to split maximally is ['a', 'b', 'ab', 'c', 'cc']. Splitting like ['a', 'b', 'a', 'b', 'c', 'cc'] is not valid as you have 'a' and 'b' multiple times.

**Example 2:**

> Input: s = "aba"
>
> Output: 2
>
> **Explanation** : One way to split maximally is ['a', 'ba'].

**Example 3:**

> Input: s = "aa"
>
> Output: 1
>
> **Explanation** : It is impossible to split the string any further.

**Constraints:**

- `1 <= s.length <= 16`

- `s` contains only lower case English letters.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ æ‹†åˆ†è¯¥å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›æ‹†åˆ†åå”¯ä¸€å­å­—ç¬¦ä¸²çš„æœ€å¤§æ•°ç›®ã€‚

å­—ç¬¦ä¸² `s` æ‹†åˆ†åå¯ä»¥å¾—åˆ°è‹¥å¹² **éç©ºå­å­—ç¬¦ä¸²** ï¼Œè¿™äº›å­å­—ç¬¦ä¸²è¿æ¥ååº”å½“èƒ½å¤Ÿè¿˜åŸä¸ºåŸå­—ç¬¦ä¸²ã€‚ä½†æ˜¯æ‹†åˆ†å‡ºæ¥çš„æ¯ä¸ªå­å­—ç¬¦ä¸²éƒ½å¿…é¡»æ˜¯ **å”¯ä¸€çš„** ã€‚

æ³¨æ„ï¼š**å­å­—ç¬¦ä¸²** æ˜¯å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªè¿ç»­å­—ç¬¦åºåˆ—ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** s = "ababccc"
>
> **è¾“å‡ºï¼š** 5
>
> **è§£é‡Šï¼š** ä¸€ç§æœ€å¤§æ‹†åˆ†æ–¹æ³•ä¸º ['a', 'b', 'ab', 'c', 'cc'] ã€‚åƒ ['a', 'b', 'a', 'b', 'c', 'cc'] è¿™æ ·æ‹†åˆ†ä¸æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼Œå› ä¸ºå…¶ä¸­çš„ 'a' å’Œ 'b' éƒ½å‡ºç°äº†ä¸æ­¢ä¸€æ¬¡ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** s = "aba"
>
> **è¾“å‡ºï¼š** 2
>
> **è§£é‡Šï¼š** ä¸€ç§æœ€å¤§æ‹†åˆ†æ–¹æ³•ä¸º ['a', 'ba'] ã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** s = "aa"
>
> **è¾“å‡ºï¼š** 1
>
> **è§£é‡Šï¼š** æ— æ³•è¿›ä¸€æ­¥æ‹†åˆ†å­—ç¬¦ä¸²ã€‚

**æç¤ºï¼š**

- `1 <= s.length <= 16`

- `s` ä»…åŒ…å«å°å†™è‹±æ–‡å­—æ¯

## è§£é¢˜æ€è·¯

è¿™é“é¢˜å¯ä»¥ä½¿ç”¨å›æº¯ç®—æ³•æ¥ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å­å­—ç¬¦ä¸²ç»„åˆã€‚

1. ä½¿ç”¨ä¸€ä¸ªé›†åˆï¼ˆæˆ–å¯¹è±¡ï¼‰æ¥è·Ÿè¸ªå½“å‰å­å­—ç¬¦ä¸²ç»„åˆä¸­çš„å”¯ä¸€å­å­—ç¬¦ä¸²ï¼›

2. å›æº¯æ³•ç”Ÿæˆå­å­—ç¬¦ä¸²ï¼š

   - ä»å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®å¼€å§‹ï¼Œå°è¯•æ¯ä¸€ä¸ªå¯èƒ½çš„ç»“æŸä½ç½®ï¼Œç”Ÿæˆå­å­—ç¬¦ä¸²ï¼›
   - å¯¹äºæ¯ä¸ªç”Ÿæˆçš„å­å­—ç¬¦ä¸²ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦å·²ç»å­˜åœ¨äºé›†åˆä¸­ï¼š
     - å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ°é›†åˆä¸­å¹¶ç»§ç»­é€’å½’ï¼›
     - å¦‚æœå­˜åœ¨ï¼Œåˆ™å›æº¯ï¼Œå°è¯•å…¶ä»–ç»„åˆï¼›

3. å›æº¯ç»“æŸæ¡ä»¶ï¼š
   - åœ¨æ¯æ¬¡é€’å½’è°ƒç”¨ä¸­ï¼Œåˆ¤æ–­æ˜¯å¦å·²ç»éå†åˆ°äº†å­—ç¬¦ä¸²æœ«å°¾ï¼›
   - è®°å½•å½“å‰çš„å”¯ä¸€å­å­—ç¬¦ä¸²æ•°é‡ï¼Œå¹¶ä¸æœ€å¤§æ•°é‡è¿›è¡Œæ¯”è¾ƒï¼Œæ›´æ–°æœ€å¤§æ•°é‡ï¼›

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n * 2^n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç”Ÿæˆæ‰€æœ‰å­å­—ç¬¦ä¸²ç»„åˆçš„å¯èƒ½æ€§å‘ˆæŒ‡æ•°å¢é•¿ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œç”¨äºå­˜å‚¨å½“å‰çš„å­å­—ç¬¦ä¸²å’Œå”¯ä¸€å­å­—ç¬¦ä¸²é›†åˆã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var maxUniqueSplit = function (s) {
	let maxCount = 0;

	const backtrack = (start, set) => {
		if (start == s.length) {
			maxCount = Math.max(maxCount, set.size);
			return;
		}
		for (let end = start + 1; end <= s.length; end++) {
			const substring = s.slice(start, end);
			if (!set.has(substring)) {
				set.add(substring); // æ·»åŠ åˆ°é›†åˆ
				backtrack(end, set); // é€’å½’
				set.delete(substring); // å›æº¯
			}
		}
	};

	backtrack(0, new Set());

	return maxCount;
};
```
