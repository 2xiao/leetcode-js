# [1593. æ‹†åˆ†å­—ç¬¦ä¸²ä½¿å”¯ä¸€å­å­—ç¬¦ä¸²çš„æ•°ç›®æœ€å¤§](https://leetcode.com/problems/split-a-string-into-the-max-number-of-unique-substrings)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`å›æº¯`](/tag/backtracking.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/split-a-string-into-the-max-number-of-unique-substrings)

## é¢˜ç›®

<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œè¯·ä½ æ‹†åˆ†è¯¥å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›æ‹†åˆ†åå”¯ä¸€å­å­—ç¬¦ä¸²çš„æœ€å¤§æ•°ç›®ã€‚</p>

<p>å­—ç¬¦ä¸² <code>s</code> æ‹†åˆ†åå¯ä»¥å¾—åˆ°è‹¥å¹² <strong>éç©ºå­å­—ç¬¦ä¸²</strong> ï¼Œè¿™äº›å­å­—ç¬¦ä¸²è¿æ¥ååº”å½“èƒ½å¤Ÿè¿˜åŸä¸ºåŸå­—ç¬¦ä¸²ã€‚ä½†æ˜¯æ‹†åˆ†å‡ºæ¥çš„æ¯ä¸ªå­å­—ç¬¦ä¸²éƒ½å¿…é¡»æ˜¯ <strong>å”¯ä¸€çš„</strong> ã€‚</p>

<p>æ³¨æ„ï¼š<strong>å­å­—ç¬¦ä¸²</strong> æ˜¯å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªè¿ç»­å­—ç¬¦åºåˆ—ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>s = &quot;ababccc&quot;
<strong>è¾“å‡ºï¼š</strong>5
<strong>è§£é‡Šï¼š</strong>ä¸€ç§æœ€å¤§æ‹†åˆ†æ–¹æ³•ä¸º [&#39;a&#39;, &#39;b&#39;, &#39;ab&#39;, &#39;c&#39;, &#39;cc&#39;] ã€‚åƒ [&#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;cc&#39;] è¿™æ ·æ‹†åˆ†ä¸æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼Œå› ä¸ºå…¶ä¸­çš„ &#39;a&#39; å’Œ &#39;b&#39; éƒ½å‡ºç°äº†ä¸æ­¢ä¸€æ¬¡ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>s = &quot;aba&quot;
<strong>è¾“å‡ºï¼š</strong>2
<strong>è§£é‡Šï¼š</strong>ä¸€ç§æœ€å¤§æ‹†åˆ†æ–¹æ³•ä¸º [&#39;a&#39;, &#39;ba&#39;] ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>s = &quot;aa&quot;
<strong>è¾“å‡ºï¼š</strong>1
<strong>è§£é‡Šï¼š</strong>æ— æ³•è¿›ä¸€æ­¥æ‹†åˆ†å­—ç¬¦ä¸²ã€‚
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li>
	<p><code>1 &lt;= s.length&nbsp;&lt;= 16</code></p>
	</li>
	<li>
	<p><code>s</code> ä»…åŒ…å«å°å†™è‹±æ–‡å­—æ¯</p>
	</li>
</ul>


## è§£é¢˜æ€è·¯

è¿™é“é¢˜å¯ä»¥ä½¿ç”¨å›æº¯ç®—æ³•æ¥ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å­å­—ç¬¦ä¸²ç»„åˆã€‚

1. ä½¿ç”¨ä¸€ä¸ªé›†åˆï¼ˆæˆ–å¯¹è±¡ï¼‰æ¥è·Ÿè¸ªå½“å‰å­å­—ç¬¦ä¸²ç»„åˆä¸­çš„å”¯ä¸€å­å­—ç¬¦ä¸²ï¼›

2. å›æº¯æ³•ç”Ÿæˆå­å­—ç¬¦ä¸²ï¼š

   - ä»å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®å¼€å§‹ï¼Œå°è¯•æ¯ä¸€ä¸ªå¯èƒ½çš„ç»“æŸä½ç½®ï¼Œç”Ÿæˆå­å­—ç¬¦ä¸²ï¼›
   - å¯¹äºæ¯ä¸ªç”Ÿæˆçš„å­å­—ç¬¦ä¸²ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦å·²ç»å­˜åœ¨äºé›†åˆä¸­ï¼š
     - å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ°é›†åˆä¸­å¹¶ç»§ç»­é€’å½’ï¼›
     - å¦‚æœå­˜åœ¨ï¼Œåˆ™å›æº¯ï¼Œå°è¯•å…¶ä»–ç»„åˆï¼›

3. å›æº¯ç»“æŸæ¡ä»¶ï¼š
   - åœ¨æ¯æ¬¡é€’å½’è°ƒç”¨ä¸­ï¼Œåˆ¤æ–­æ˜¯å¦å·²ç»éå†åˆ°äº†å­—ç¬¦ä¸²æœ«å°¾ï¼›
   - è®°å½•å½“å‰çš„å”¯ä¸€å­å­—ç¬¦ä¸²æ•°é‡ï¼Œå¹¶ä¸æœ€å¤§æ•°é‡è¿›è¡Œæ¯”è¾ƒï¼Œæ›´æ–°æœ€å¤§æ•°é‡ï¼›

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n * 2^n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç”Ÿæˆæ‰€æœ‰å­å­—ç¬¦ä¸²ç»„åˆçš„å¯èƒ½æ€§å‘ˆæŒ‡æ•°å¢é•¿ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œç”¨äºå­˜å‚¨å½“å‰çš„å­å­—ç¬¦ä¸²å’Œå”¯ä¸€å­å­—ç¬¦ä¸²é›†åˆã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var maxUniqueSplit = function (s) {
	let maxCount = 0;

	const backtrack = (start, set) => {
		if (start == s.length) {
			maxCount = Math.max(maxCount, set.size);
			return;
		}
		for (let end = start + 1; end <= s.length; end++) {
			const substring = s.slice(start, end);
			if (!set.has(substring)) {
				set.add(substring); // æ·»åŠ åˆ°é›†åˆ
				backtrack(end, set); // é€’å½’
				set.delete(substring); // å›æº¯
			}
		}
	};

	backtrack(0, new Set());

	return maxCount;
};
```
