---
title: 350. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† II
description: LeetCode 350. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† IIé¢˜è§£ï¼ŒIntersection of Two Arrays IIï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 350. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† II
  - ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† II
  - Intersection of Two Arrays II
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - åŒæŒ‡é’ˆ
  - äºŒåˆ†æŸ¥æ‰¾
  - æ’åº
---

# 350. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† II

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/intersection-of-two-arrays-ii) [`LeetCode`](https://leetcode.com/problems/intersection-of-two-arrays-ii)

## é¢˜ç›®

Given two integer arrays `nums1` and `nums2`, return _an array of their
intersection_. Each element in the result must appear as many times as it
shows in both arrays and you may return the result in **any order**.

**Example 1:**

> Input: nums1 = [1,2,2,1], nums2 = [2,2]
>
> Output: [2,2]

**Example 2:**

> Input: nums1 = [4,9,5], nums2 = [9,4,9,8,4]
>
> Output: [4,9]
>
> Explanation: [9,4] is also accepted.

**Constraints:**

- `1 <= nums1.length, nums2.length <= 1000`
- `0 <= nums1[i], nums2[i] <= 1000`

**Follow up:**

- What if the given array is already sorted? How would you optimize your algorithm?
- What if `nums1`'s size is small compared to `nums2`'s size? Which algorithm is better?
- What if elements of `nums2` are stored on disk, and the memory is limited such that you cannot load all elements into the memory at once?

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸¤ä¸ªæ•´æ•°æ•°ç»„ `nums1` å’Œ `nums2`
ï¼Œè¯·ä½ ä»¥æ•°ç»„å½¢å¼è¿”å›ä¸¤æ•°ç»„çš„äº¤é›†ã€‚è¿”å›ç»“æœä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œåº”ä¸å…ƒç´ åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­éƒ½å‡ºç°çš„æ¬¡æ•°ä¸€è‡´ï¼ˆå¦‚æœå‡ºç°æ¬¡æ•°ä¸ä¸€è‡´ï¼Œåˆ™è€ƒè™‘å–è¾ƒå°å€¼ï¼‰ã€‚å¯ä»¥ä¸è€ƒè™‘è¾“å‡ºç»“æœçš„é¡ºåºã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** nums1 = [1,2,2,1], nums2 = [2,2]
>
> **è¾“å‡ºï¼š**[2,2]

**ç¤ºä¾‹ 2:**

> **è¾“å…¥ï¼š** nums1 = [4,9,5], nums2 = [9,4,9,8,4]
>
> **è¾“å‡ºï¼š**[4,9]

**æç¤ºï¼š**

- `1 <= nums1.length, nums2.length <= 1000`
- `0 <= nums1[i], nums2[i] <= 1000`

**è¿›é˜¶ï¼š**

- å¦‚æœç»™å®šçš„æ•°ç»„å·²ç»æ’å¥½åºå‘¢ï¼Ÿä½ å°†å¦‚ä½•ä¼˜åŒ–ä½ çš„ç®—æ³•ï¼Ÿ
- å¦‚æœ `nums1` çš„å¤§å°æ¯” `nums2` å°ï¼Œå“ªç§æ–¹æ³•æ›´ä¼˜ï¼Ÿ
- å¦‚æœ `nums2` çš„å…ƒç´ å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œå†…å­˜æ˜¯æœ‰é™çš„ï¼Œå¹¶ä¸”ä½ ä¸èƒ½ä¸€æ¬¡åŠ è½½æ‰€æœ‰çš„å…ƒç´ åˆ°å†…å­˜ä¸­ï¼Œä½ è¯¥æ€ä¹ˆåŠï¼Ÿ

## è§£é¢˜æ€è·¯

1. **æ’åºï¼š**

   - å…ˆå¯¹ `nums1` å’Œ `nums2` ä¸¤ä¸ªæ•°ç»„è¿›è¡Œæ’åºï¼Œä½¿å¾—ä¸¤ä¸ªæ•°ç»„çš„å…ƒç´ æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ã€‚æ’åºåçš„æ•°ç»„æ›´å®¹æ˜“è¿›è¡Œäº¤é›†çš„æŸ¥æ‰¾ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€æ¬¡éå†æ¥å¯»æ‰¾ç›¸åŒçš„å…ƒç´ ã€‚

2. **åŒæŒ‡é’ˆæ³•ï¼š**

   - ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ `i` å’Œ `j` åˆ†åˆ«æŒ‡å‘ `nums1` å’Œ `nums2` çš„å½“å‰å…ƒç´ ã€‚
   - é€šè¿‡æ¯”è¾ƒ `nums1[i]` å’Œ `nums2[j]` çš„å€¼ï¼š
     - å¦‚æœ `nums1[i] < nums2[j]`ï¼Œåˆ™ `nums1[i]` å°äº `nums2[j]`ï¼Œæ‰€ä»¥æˆ‘ä»¬å°† `i` å‘å³ç§»åŠ¨ï¼Œç»§ç»­æ£€æŸ¥ä¸‹ä¸€ä¸ª `nums1` çš„å…ƒç´ ã€‚
     - å¦‚æœ `nums1[i] > nums2[j]`ï¼Œåˆ™ `nums2[j]` å°äº `nums1[i]`ï¼Œå› æ­¤æˆ‘ä»¬å°† `j` å‘å³ç§»åŠ¨ï¼Œç»§ç»­æ£€æŸ¥ä¸‹ä¸€ä¸ª `nums2` çš„å…ƒç´ ã€‚
     - å¦‚æœ `nums1[i] == nums2[j]`ï¼Œåˆ™è¯´æ˜æ‰¾åˆ°äº†ä¸€ä¸ªäº¤é›†å…ƒç´ ï¼ŒåŠ å…¥ç»“æœæ•°ç»„ `res`ï¼Œå¹¶å°†ä¸¤ä¸ªæŒ‡é’ˆéƒ½å‘å³ç§»åŠ¨ï¼Œç»§ç»­æ¯”è¾ƒä¸‹ä¸€å¯¹å…ƒç´ ã€‚

3. **è¿”å›ç»“æœï¼š**
   - å½“ä»»ä¸€æŒ‡é’ˆéå†å®Œå…¶æ•°ç»„åï¼Œåœæ­¢æ¯”è¾ƒï¼Œè¿”å›äº¤é›†ç»“æœ `res`ã€‚

#### ä»£ç 

```javascript
/**
 * @param {number[]} nums1
 * @param {number[]} nums2
 * @return {number[]}
 */
var intersect = function (nums1, nums2) {
	// å¯¹ä¸¤ä¸ªæ•°ç»„è¿›è¡Œæ’åº
	nums1.sort((a, b) => a - b);
	nums2.sort((a, b) => a - b);

	let res = [];
	let i = 0,
		j = 0;

	// ä½¿ç”¨åŒæŒ‡é’ˆæ³•æŸ¥æ‰¾äº¤é›†
	while (i < nums1.length && j < nums2.length) {
		if (nums1[i] < nums2[j]) {
			i++; // nums1 å…ƒç´ è¾ƒå°ï¼Œå‘å³ç§»åŠ¨æŒ‡é’ˆ
		} else if (nums1[i] > nums2[j]) {
			j++; // nums2 å…ƒç´ è¾ƒå°ï¼Œå‘å³ç§»åŠ¨æŒ‡é’ˆ
		} else {
			res.push(nums1[i]); // å‘ç°ç›¸ç­‰çš„å…ƒç´ ï¼ŒåŠ å…¥ç»“æœ
			i++;
			j++;
		}
	}

	return res;
};
```

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n log n + m log m)`

  - æ’åºæ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n log n)` å’Œ `O(m log m)`ï¼Œå…¶ä¸­ `n` å’Œ `m` åˆ†åˆ«æ˜¯ä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦ã€‚
  - åŒæŒ‡é’ˆéå†çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n + m)`ï¼Œå› ä¸ºæœ€å¤šéœ€è¦éå†ä¸¤ä¸ªæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸€æ¬¡ã€‚
  - å› æ­¤ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n log n + m log m)`ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(min(n, m))`ï¼Œä½¿ç”¨äº†é¢å¤–çš„ `res` æ•°ç»„æ¥å­˜å‚¨äº¤é›†å…ƒç´ ï¼Œäº¤é›†æ•°ç»„çš„é•¿åº¦æœ€å¤šä¸º `min(n, m)`ã€‚

## è¿›é˜¶é—®é¢˜

### 1. å¦‚æœç»™å®šçš„æ•°ç»„å·²ç»æ’å¥½åºï¼Œå¦‚ä½•ä¼˜åŒ–ä½ çš„ç®—æ³•ï¼Ÿ

- å¦‚æœç»™å®šçš„æ•°ç»„å·²ç»æ’å¥½åºï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ **åŒæŒ‡é’ˆæ³•**ï¼ˆä¸éœ€è¦å…ˆæ’åºï¼‰ã€‚è¿™å°†å¤§å¤§å‡å°‘æ—¶é—´å¤æ‚åº¦ï¼Œå› ä¸ºæ’åºæ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n log n)`ï¼Œè€ŒåŒæŒ‡é’ˆéå†ä¸¤ä¸ªå·²æ’åºæ•°ç»„çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n + m)`ï¼Œå³ä½¿æ•°ç»„æ²¡æœ‰æ’åºï¼Œæ’åºä¹Ÿæ˜¯ä¸å¿…è¦çš„ã€‚
- è¿™æ ·ï¼Œæ—¶é—´å¤æ‚åº¦ä» `O(n log n + m log m)` ä¼˜åŒ–ä¸º `O(n + m)`ï¼Œå…¶ä¸­ `n` å’Œ `m` æ˜¯ä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦ã€‚

#### ä»£ç 

```javascript
/**
 * @param {number[]} nums1
 * @param {number[]} nums2
 * @return {number[]}
 */
var intersect = function (nums1, nums2) {
	let res = [];
	let i = 0,
		j = 0;

	// åŒæŒ‡é’ˆæ³•éå†å·²æ’åºçš„æ•°ç»„
	while (i < nums1.length && j < nums2.length) {
		if (nums1[i] < nums2[j]) {
			i++; // nums1 å…ƒç´ è¾ƒå°ï¼Œå‘å³ç§»åŠ¨æŒ‡é’ˆ
		} else if (nums1[i] > nums2[j]) {
			j++; // nums2 å…ƒç´ è¾ƒå°ï¼Œå‘å³ç§»åŠ¨æŒ‡é’ˆ
		} else {
			res.push(nums1[i]); // å‘ç°ç›¸ç­‰çš„å…ƒç´ ï¼ŒåŠ å…¥ç»“æœ
			i++;
			j++;
		}
	}

	return res;
};
```

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦ï¼š** `O(n + m)`ï¼Œæ— éœ€æ’åºã€‚
- **ç©ºé—´å¤æ‚åº¦ï¼š** `O(min(n, m))`ï¼Œå­˜å‚¨äº¤é›†ã€‚

---

### 2. å¦‚æœ `nums1` çš„å¤§å°æ¯” `nums2` å°ï¼Œå“ªç§æ–¹æ³•æ›´ä¼˜ï¼Ÿ

- å¦‚æœ `nums1` çš„å¤§å°æ¯” `nums2` å°ï¼Œå¯ä»¥ä½¿ç”¨å“ˆå¸Œé›†åˆæ¥å­˜å‚¨è¾ƒå°æ•°ç»„çš„å…ƒç´ ï¼Œç„¶åéå†è¾ƒå¤§çš„æ•°ç»„ï¼Œæ£€æŸ¥æ¯ä¸ªå…ƒç´ æ˜¯å¦åœ¨å“ˆå¸Œé›†åˆä¸­å‡ºç°ã€‚
- è¿™æ ·å¯ä»¥å‡å°‘ä¸å¿…è¦çš„æ¯”è¾ƒï¼Œé¿å…å¤šæ¬¡éå†è¾ƒå¤§çš„æ•°ç»„ã€‚

#### ä»£ç 

```javascript
/**
 * @param {number[]} nums1
 * @param {number[]} nums2
 * @return {number[]}
 */
var intersect = function (nums1, nums2) {
	// ä¿è¯ nums1 æ˜¯è¾ƒå°çš„æ•°ç»„
	if (nums1.length > nums2.length) {
		[nums1, nums2] = [nums2, nums1];
	}

	let res = [];
	let set = new Set(nums1);

	for (let num of nums2) {
		if (set.has(num)) {
			res.push(num);
			set.delete(num); // é˜²æ­¢é‡å¤çš„å…ƒç´ 
		}
	}

	return res;
};
```

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦ï¼š** `O(n + m)`ï¼Œå…¶ä¸­ `n` æ˜¯è¾ƒå°æ•°ç»„çš„é•¿åº¦ï¼Œ`m` æ˜¯è¾ƒå¤§æ•°ç»„çš„é•¿åº¦ã€‚
- **ç©ºé—´å¤æ‚åº¦ï¼š** `O(n)`ï¼Œéœ€è¦å­˜å‚¨è¾ƒå°æ•°ç»„çš„å…ƒç´ ã€‚

---

### 3. å¦‚æœ `nums2` çš„å…ƒç´ å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œå†…å­˜æ˜¯æœ‰é™çš„ï¼Œå¹¶ä¸”ä½ ä¸èƒ½ä¸€æ¬¡åŠ è½½æ‰€æœ‰çš„å…ƒç´ åˆ°å†…å­˜ä¸­ï¼Œä½ è¯¥æ€ä¹ˆåŠï¼Ÿ

- ç”±äº `nums2` å¤ªå¤§ï¼Œä¸èƒ½ä¸€æ¬¡åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°† `nums2` å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œåˆ†æ‰¹è¯»å–å…¶å…ƒç´ ã€‚
- **å¤–éƒ¨æ’åº**ï¼šå¯ä»¥ä½¿ç”¨å¤–éƒ¨æ’åºæŠ€æœ¯ï¼Œå°† `nums2` åˆ†ä¸ºå¤šä¸ªå—ï¼Œæ¯ä¸ªå—å¯ä»¥åŠ è½½åˆ°å†…å­˜ä¸­ã€‚æˆ‘ä»¬å¯¹æ¯ä¸ªå—è¿›è¡Œæ’åºï¼Œç„¶åé€å—ä¸ `nums1` æ¯”è¾ƒï¼Œå¯»æ‰¾äº¤é›†ã€‚
- **è¿­ä»£è¯»å–**ï¼šå°† `nums2` åˆ†æˆå¤šä¸ªå°å—ï¼Œæ¯æ¬¡åªè¯»å–ä¸€ä¸ªå—ï¼Œç„¶åé€æ­¥ä¸ `nums1` ä¸­çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚
- **å“ˆå¸Œæ–¹æ³•**ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨ `nums1` çš„å…ƒç´ ï¼Œ`nums2` æ¯è¯»å–ä¸€ä¸ªå…ƒç´ å°±ä¸å“ˆå¸Œè¡¨è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœè¯¥å…ƒç´ å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­ï¼Œå°±è®¤ä¸ºå®ƒæ˜¯äº¤é›†å…ƒç´ ã€‚

**å…·ä½“æ­¥éª¤ï¼š**

1. å°† `nums1` åŠ è½½åˆ°å†…å­˜ä¸­å¹¶æ„å»ºå“ˆå¸Œè¡¨ã€‚
2. å°† `nums2` ä»ç£ç›˜æŒ‰å—è¯»å–ï¼Œæ¯æ¬¡è¯»å–ä¸€å°éƒ¨åˆ†ã€‚
3. å¯¹äºæ¯æ¬¡è¯»å–çš„ `nums2` å—ï¼Œé€ä¸ªå…ƒç´ ä¸ `nums1` ä¸­çš„å“ˆå¸Œè¡¨è¿›è¡Œæ¯”å¯¹ï¼Œæ‰¾åˆ°äº¤é›†ã€‚
4. å°†äº¤é›†å…ƒç´ å­˜å‚¨æˆ–è¾“å‡ºã€‚

#### ä»£ç ï¼ˆä¼ªä»£ç ç¤ºä¾‹ï¼‰

```javascript
// å‡è®¾è¯»å–æ–‡ä»¶æ—¶ä¸€æ¬¡åªè¯»å–ä¸€ä¸ªå…ƒç´ 
var intersect = function (nums1, filePathToNums2) {
	let set = new Set(nums1);
	let res = [];

	// å‡è®¾ readChunk æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œèƒ½ä»ç£ç›˜ä¸­åˆ†æ‰¹è¯»å– nums2 çš„å…ƒç´ 
	while (true) {
		let chunk = readChunk(filePathToNums2);
		if (!chunk || chunk.length === 0) break;

		for (let num of chunk) {
			if (set.has(num)) {
				res.push(num);
				set.delete(num); // ç¡®ä¿æ²¡æœ‰é‡å¤çš„äº¤é›†å…ƒç´ 
			}
		}
	}

	return res;
};
```

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦ï¼š** `O(n + m)`ï¼Œå…¶ä¸­ `n` æ˜¯ `nums1` çš„å¤§å°ï¼Œ`m` æ˜¯ `nums2` è¯»å–çš„æ€»é‡ã€‚
- **ç©ºé—´å¤æ‚åº¦ï¼š** `O(n)`ï¼Œéœ€è¦å­˜å‚¨ `nums1` çš„å“ˆå¸Œè¡¨ã€‚

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 349 | ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† | [[âœ“]](/problem/0349.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) `2+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/intersection-of-two-arrays) [ğŸ”—](https://leetcode.com/problems/intersection-of-two-arrays) |
| 1002 | æŸ¥æ‰¾å…±ç”¨å­—ç¬¦ | [[âœ“]](/problem/1002.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/find-common-characters) [ğŸ”—](https://leetcode.com/problems/find-common-characters) |
| 2143 | åœ¨ä¸¤ä¸ªæ•°ç»„çš„åŒºé—´ä¸­é€‰å–æ•°å­— ğŸ”’ |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/choose-numbers-from-two-arrays-in-range) [ğŸ”—](https://leetcode.com/problems/choose-numbers-from-two-arrays-in-range) |
| 2215 | æ‰¾å‡ºä¸¤æ•°ç»„çš„ä¸åŒ | [[âœ“]](/problem/2215.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/find-the-difference-of-two-arrays) [ğŸ”—](https://leetcode.com/problems/find-the-difference-of-two-arrays) |
| 2248 | å¤šä¸ªæ•°ç»„æ±‚äº¤é›† |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`è®¡æ•°`](/tag/counting.md) `1+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/intersection-of-multiple-arrays) [ğŸ”—](https://leetcode.com/problems/intersection-of-multiple-arrays) |
| 2540 | æœ€å°å…¬å…±å€¼ |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) `1+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-common-value) [ğŸ”—](https://leetcode.com/problems/minimum-common-value) |