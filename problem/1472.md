# [1472. è®¾è®¡æµè§ˆå™¨å†å²è®°å½•](https://leetcode.com/problems/design-browser-history)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`è®¾è®¡`](/tag/design.md) [`æ•°ç»„`](/tag/array.md) [`é“¾è¡¨`](/tag/linked-list.md) [`æ•°æ®æµ`](/tag/data-stream.md) [`åŒå‘é“¾è¡¨`](/tag/doubly-linked-list.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/design-browser-history)

## é¢˜ç›®

<p>ä½ æœ‰ä¸€ä¸ªåªæ”¯æŒå•ä¸ªæ ‡ç­¾é¡µçš„ <strong>æµè§ˆå™¨</strong>&nbsp;ï¼Œæœ€å¼€å§‹ä½ æµè§ˆçš„ç½‘é¡µæ˜¯&nbsp;<code>homepage</code>&nbsp;ï¼Œä½ å¯ä»¥è®¿é—®å…¶ä»–çš„ç½‘ç«™&nbsp;<code>url</code>&nbsp;ï¼Œä¹Ÿå¯ä»¥åœ¨æµè§ˆå†å²ä¸­åé€€&nbsp;<code>steps</code>&nbsp;æ­¥æˆ–å‰è¿›&nbsp;<code>steps</code>&nbsp;æ­¥ã€‚</p>

<p>è¯·ä½ å®ç°&nbsp;<code>BrowserHistory</code> ç±»ï¼š</p>

<ul>
	<li><code>BrowserHistory(string homepage)</code>&nbsp;ï¼Œç”¨&nbsp;<code>homepage</code>&nbsp;åˆå§‹åŒ–æµè§ˆå™¨ç±»ã€‚</li>
	<li><code>void visit(string url)</code>&nbsp;ä»å½“å‰é¡µè·³è½¬è®¿é—® <code>url</code> å¯¹åº”çš„é¡µé¢&nbsp;&nbsp;ã€‚æ‰§è¡Œæ­¤æ“ä½œä¼šæŠŠæµè§ˆå†å²å‰è¿›çš„è®°å½•å…¨éƒ¨åˆ é™¤ã€‚</li>
	<li><code>string back(int steps)</code>&nbsp;åœ¨æµè§ˆå†å²ä¸­åé€€&nbsp;<code>steps</code>&nbsp;æ­¥ã€‚å¦‚æœä½ åªèƒ½åœ¨æµè§ˆå†å²ä¸­åé€€è‡³å¤š&nbsp;<code>x</code> æ­¥ä¸”&nbsp;<code>steps &gt; x</code>&nbsp;ï¼Œé‚£ä¹ˆä½ åªåé€€&nbsp;<code>x</code>&nbsp;æ­¥ã€‚è¯·è¿”å›åé€€ <strong>è‡³å¤š</strong> <code>steps</code>&nbsp;æ­¥ä»¥åçš„&nbsp;<code>url</code>&nbsp;ã€‚</li>
	<li><code>string forward(int steps)</code>&nbsp;åœ¨æµè§ˆå†å²ä¸­å‰è¿›&nbsp;<code>steps</code>&nbsp;æ­¥ã€‚å¦‚æœä½ åªèƒ½åœ¨æµè§ˆå†å²ä¸­å‰è¿›è‡³å¤š&nbsp;<code>x</code>&nbsp;æ­¥ä¸”&nbsp;<code>steps &gt; x</code>&nbsp;ï¼Œé‚£ä¹ˆä½ åªå‰è¿› <code>x</code>&nbsp;æ­¥ã€‚è¯·è¿”å›å‰è¿›&nbsp;<strong>è‡³å¤š</strong>&nbsp;<code>steps</code>æ­¥ä»¥åçš„ <code>url</code>&nbsp;ã€‚</li>
</ul>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>
[&quot;BrowserHistory&quot;,&quot;visit&quot;,&quot;visit&quot;,&quot;visit&quot;,&quot;back&quot;,&quot;back&quot;,&quot;forward&quot;,&quot;visit&quot;,&quot;forward&quot;,&quot;back&quot;,&quot;back&quot;]
[[&quot;leetcode.com&quot;],[&quot;google.com&quot;],[&quot;facebook.com&quot;],[&quot;youtube.com&quot;],[1],[1],[1],[&quot;linkedin.com&quot;],[2],[2],[7]]
<strong>è¾“å‡ºï¼š</strong>
[null,null,null,null,&quot;facebook.com&quot;,&quot;google.com&quot;,&quot;facebook.com&quot;,null,&quot;linkedin.com&quot;,&quot;google.com&quot;,&quot;leetcode.com&quot;]

<strong>è§£é‡Šï¼š</strong>
BrowserHistory browserHistory = new BrowserHistory(&quot;leetcode.com&quot;);
browserHistory.visit(&quot;google.com&quot;);       // ä½ åŸæœ¬åœ¨æµè§ˆ &quot;leetcode.com&quot; ã€‚è®¿é—® &quot;google.com&quot;
browserHistory.visit(&quot;facebook.com&quot;);     // ä½ åŸæœ¬åœ¨æµè§ˆ &quot;google.com&quot; ã€‚è®¿é—® &quot;facebook.com&quot;
browserHistory.visit(&quot;youtube.com&quot;);      // ä½ åŸæœ¬åœ¨æµè§ˆ &quot;facebook.com&quot; ã€‚è®¿é—® &quot;youtube.com&quot;
browserHistory.back(1);                   // ä½ åŸæœ¬åœ¨æµè§ˆ &quot;youtube.com&quot; ï¼Œåé€€åˆ° &quot;facebook.com&quot; å¹¶è¿”å› &quot;facebook.com&quot;
browserHistory.back(1);                   // ä½ åŸæœ¬åœ¨æµè§ˆ &quot;facebook.com&quot; ï¼Œåé€€åˆ° &quot;google.com&quot; å¹¶è¿”å› &quot;google.com&quot;
browserHistory.forward(1);                // ä½ åŸæœ¬åœ¨æµè§ˆ &quot;google.com&quot; ï¼Œå‰è¿›åˆ° &quot;facebook.com&quot; å¹¶è¿”å› &quot;facebook.com&quot;
browserHistory.visit(&quot;linkedin.com&quot;);     // ä½ åŸæœ¬åœ¨æµè§ˆ &quot;facebook.com&quot; ã€‚ è®¿é—® &quot;linkedin.com&quot;
browserHistory.forward(2);                // ä½ åŸæœ¬åœ¨æµè§ˆ &quot;linkedin.com&quot; ï¼Œä½ æ— æ³•å‰è¿›ä»»ä½•æ­¥æ•°ã€‚
browserHistory.back(2);                   // ä½ åŸæœ¬åœ¨æµè§ˆ &quot;linkedin.com&quot; ï¼Œåé€€ä¸¤æ­¥ä¾æ¬¡å…ˆåˆ° &quot;facebook.com&quot; ï¼Œç„¶ååˆ° &quot;google.com&quot; ï¼Œå¹¶è¿”å› &quot;google.com&quot;
browserHistory.back(7);                   // ä½ åŸæœ¬åœ¨æµè§ˆ &quot;google.com&quot;ï¼Œ ä½ åªèƒ½åé€€ä¸€æ­¥åˆ° &quot;leetcode.com&quot; ï¼Œå¹¶è¿”å› &quot;leetcode.com&quot;
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 &lt;= homepage.length &lt;= 20</code></li>
	<li><code>1 &lt;= url.length &lt;= 20</code></li>
	<li><code>1 &lt;= steps &lt;= 100</code></li>
	<li><code>homepage</code> å’Œ&nbsp;<code>url</code>&nbsp;éƒ½åªåŒ…å«&nbsp;&#39;.&#39; æˆ–è€…å°å†™è‹±æ–‡å­—æ¯ã€‚</li>
	<li>æœ€å¤šè°ƒç”¨&nbsp;<code>5000</code>&nbsp;æ¬¡&nbsp;<code>visit</code>ï¼Œ&nbsp;<code>back</code>&nbsp;å’Œ&nbsp;<code>forward</code>&nbsp;å‡½æ•°ã€‚</li>
</ul>


## è§£é¢˜æ€è·¯

ä½¿ç”¨æ ˆæ¥å­˜å‚¨æµè§ˆå™¨çš„è®¿é—®å†å²ï¼Œä½¿ç”¨ `cur_index` å˜é‡æ¥å­˜å‚¨å½“å‰è®¿é—®çš„ç½‘å€åœ¨æ ˆä¸­çš„ä½ç½®ã€‚

- visitï¼š
  - å…ˆæ¸…ç©º `cur_index` ä¹‹åçš„å†å²è®°å½•ï¼›
  - å°† `url` æ”¾å…¥æ ˆé¡¶ï¼›
  - å°† `cur_index` æŒ‡å‘æ ˆé¡¶ï¼›
- backï¼šæ¯”è¾ƒæ ˆä¸­å­˜å‚¨çš„å†å²è®°å½•æ•° `n` å’Œ `steps` çš„å¤§å°ï¼Œæœ€å¤šåªèƒ½å€’é€€ `n` æ­¥
- forward: æ¯”è¾ƒ `cur_index` ä¹‹åçš„å†å²è®°å½•æ•° `m` å’Œ `steps` çš„å¤§å°ï¼Œæœ€å¤šåªèƒ½å‰è¿› `m` æ­¥

## ä»£ç 

```javascript
class BrowserHistory {
	// @param {string} homepage
	constructor(homepage) {
		this.history = [homepage];
		this.cur_index = 0;
	}

	// @param {string} url
	// @return {void}
	visit(url) {
		// clear forward history
		this.history = this.history.slice(0, this.cur_index + 1);
		this.history.push(url);
		this.cur_index++;
	}

	// @param {number} steps
	// @return {string}
	back(steps) {
		this.cur_index = Math.max(0, this.cur_index - steps);
		return this.history[this.cur_index];
	}

	// @param {number} steps
	// @return {string}
	forward(steps) {
		this.cur_index = Math.min(this.history.length - 1, this.cur_index + steps);
		return this.history[this.cur_index];
	}
}
/**
 * Your BrowserHistory object will be instantiated and called as such:
 * var obj = new BrowserHistory(homepage)
 * obj.visit(url)
 * var param_2 = obj.back(steps)
 * var param_3 = obj.forward(steps)
 */
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2254 | [è®¾è®¡è§†é¢‘å…±äº«å¹³å°](https://leetcode.com/problems/design-video-sharing-platform) |  |  [`æ ˆ`](/tag/stack.md) [`è®¾è®¡`](/tag/design.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `1+` | <font color=#ff334b>Hard</font> |