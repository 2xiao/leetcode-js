# [57. æ’å…¥åŒºé—´](https://leetcode.com/problems/insert-interval)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/insert-interval)

## é¢˜ç›®

<p>ç»™ä½ ä¸€ä¸ª<strong> æ— é‡å çš„</strong><em> ï¼Œ</em>æŒ‰ç…§åŒºé—´èµ·å§‹ç«¯ç‚¹æ’åºçš„åŒºé—´åˆ—è¡¨ <code>intervals</code>ï¼Œå…¶ä¸­&nbsp;<code>intervals[i] = [start<sub>i</sub>, end<sub>i</sub>]</code>&nbsp;è¡¨ç¤ºç¬¬&nbsp;<code>i</code>&nbsp;ä¸ªåŒºé—´çš„å¼€å§‹å’Œç»“æŸï¼Œå¹¶ä¸”&nbsp;<code>intervals</code>&nbsp;æŒ‰ç…§&nbsp;<code>start<sub>i</sub></code>&nbsp;å‡åºæ’åˆ—ã€‚åŒæ ·ç»™å®šä¸€ä¸ªåŒºé—´&nbsp;<code>newInterval = [start, end]</code>&nbsp;è¡¨ç¤ºå¦ä¸€ä¸ªåŒºé—´çš„å¼€å§‹å’Œç»“æŸã€‚</p>

<p>åœ¨&nbsp;<code>intervals</code> ä¸­æ’å…¥åŒºé—´&nbsp;<code>newInterval</code>ï¼Œä½¿å¾—&nbsp;<code>intervals</code>&nbsp;ä¾ç„¶æŒ‰ç…§&nbsp;<code>start<sub>i</sub></code>&nbsp;å‡åºæ’åˆ—ï¼Œä¸”åŒºé—´ä¹‹é—´ä¸é‡å ï¼ˆå¦‚æœæœ‰å¿…è¦çš„è¯ï¼Œå¯ä»¥åˆå¹¶åŒºé—´ï¼‰ã€‚</p>

<p>è¿”å›æ’å…¥ä¹‹åçš„&nbsp;<code>intervals</code>ã€‚</p>

<p><strong>æ³¨æ„</strong> ä½ ä¸éœ€è¦åŸåœ°ä¿®æ”¹&nbsp;<code>intervals</code>ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ç„¶åè¿”å›å®ƒã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹&nbsp;1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>intervals = [[1,3],[6,9]], newInterval = [2,5]
<strong>è¾“å‡ºï¼š</strong>[[1,5],[6,9]]
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>intervals = [[1,2],[3,5],[6,7],[8,10],[12,16]], newInterval = [4,8]
<strong>è¾“å‡ºï¼š</strong>[[1,2],[3,10],[12,16]]
<strong>è§£é‡Šï¼š</strong>è¿™æ˜¯å› ä¸ºæ–°çš„åŒºé—´ <code>[4,8]</code> ä¸ <code>[3,5],[6,7],[8,10]</code>&nbsp;é‡å ã€‚
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>0 &lt;= intervals.length &lt;= 10<sup>4</sup></code></li>
	<li><code>intervals[i].length == 2</code></li>
	<li><code>0 &lt;=&nbsp;start<sub>i</sub> &lt;=&nbsp;end<sub>i</sub> &lt;= 10<sup>5</sup></code></li>
	<li><code>intervals</code> æ ¹æ® <code>start<sub>i</sub></code> æŒ‰ <strong>å‡åº</strong> æ’åˆ—</li>
	<li><code>newInterval.length == 2</code></li>
	<li><code>0 &lt;=&nbsp;start &lt;=&nbsp;end &lt;= 10<sup>5</sup></code></li>
</ul>


## è§£é¢˜æ€è·¯

1. éå†åŒºé—´æ•°ç»„ï¼Œå–å‡ºå½“å‰åŒºé—´ `[b1, b2]` ï¼Œä¾æ¬¡ä¸æ’å…¥åŒºé—´ `[a1, a2]` å¯¹æ¯”ï¼Œå¯èƒ½æœ‰å¦‚ä¸‹ä¸‰ç§æƒ…å†µï¼š

![](../image/57.png)

- æƒ…å†µä¸€ï¼Œä¸¤åŒºé—´ä¸ç›¸äº¤ä¸” `a1 > b2`ï¼Œç›´æ¥å°†å½“å‰åŒºé—´ `[b1, b2]` æ”¾å…¥è¿”å›æ•°ç»„ï¼Œç»§ç»­å¯¹æ¯”åç»­åŒºé—´ï¼›
- æƒ…å†µäºŒï¼Œä¸¤åŒºé—´ä¸ç›¸äº¤ä¸” `a2 < b1`ï¼Œè¯´æ˜å·²ç»æ‰¾åˆ°äº†æ’å…¥åŒºé—´ `[a1, a2]` çš„ä½ç½®ï¼Œå°†æ’å…¥åŒºé—´å’Œåç»­æ²¡æœ‰å¯¹æ¯”è¿‡çš„åŒºé—´éƒ½æ”¾å…¥è¿”å›æ•°ç»„ï¼Œå¹¶è·³å‡ºå¾ªç¯ï¼›
- æƒ…å†µä¸‰ï¼Œä¸¤ä¸ªåŒºé—´ç›¸äº¤ï¼Œæ­¤æ—¶éœ€è¦å°†ä¸¤ä¸ªåŒºé—´åˆå¹¶ï¼Œå°†åˆå¹¶åçš„åŒºé—´ä½œä¸ºæ–°çš„æ’å…¥åŒºé—´ä¸åç»­åŒºé—´å¯¹æ¯”ã€‚åˆå¹¶åçš„åŒºé—´åˆ†ä¸ºå››ç§æƒ…å†µï¼Œæ ¹æ®ä¸Šå›¾å¯ä»¥å‘ç°è§„å¾‹ï¼Œåªéœ€æ›´æ–° `a1` å’Œ `a2` ä¸ºï¼š
  - `a1 = min(a1, b1)`
  - `a2 = max(a2, b2)`

2. æ³¨æ„è¾¹ç•Œæƒ…å†µ

- 1. è‹¥åŒºé—´æ•°ç»„ä¸ºç©ºï¼ˆä¾‹å¦‚ï¼š`intervals = [], newInterval = [1,2]`ï¼‰ï¼Œåˆ™ç›´æ¥è¿”å› `newInterval`ï¼›
- 2. å½“å¾ªç¯éå†åˆ°åŒºé—´æ•°ç»„çš„æœ€åä¸€ä¸ªæ—¶ï¼ˆä¾‹å¦‚ï¼š`intervals = [[2,3]], newInterval = [1,4]`ï¼‰ï¼Œç”±äºåé¢ä¸ä¼šå†å‡ºç°æƒ…å†µ 2 äº†ï¼Œæ‰€ä»¥æœ€åè¦å°†åˆå¹¶åçš„åŒºé—´æ”¾å…¥è¿”å›æ•°ç»„ä¸­ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[][]} intervals
 * @param {number[]} newInterval
 * @return {number[][]}
 */
var insert = function (intervals, newInterval) {
	// è¾¹ç•Œæƒ…å†µä¸€
	if (intervals.length == 0) return [newInterval];
	let res = [],
		a1 = newInterval[0],
		a2 = newInterval[1];
	for (let i = 0; i < intervals.length; i++) {
		let b1 = intervals[i][0],
			b2 = intervals[i][1];
		// æƒ…å†µä¸€
		if (a1 > b2) {
			res.push(intervals[i]);
		}
		// æƒ…å†µäºŒ
		else if (a2 < b1) {
			res.push([a1, a2]);
			res.push(...intervals.slice(i, intervals.length));
			break;
		}
		// æƒ…å†µä¸‰
		else {
			a1 = Math.min(a1, b1);
			a2 = Math.max(a2, b2);
		}
		// è¾¹ç•Œæƒ…å†µäºŒ
		if (i == intervals.length - 1) {
			res.push([a1, a2]);
		}
	}
	return res;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 56 | [åˆå¹¶åŒºé—´](https://leetcode.com/problems/merge-intervals) | [[âœ“]](/problem/0056.md) |  [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) | <font color=#ffb800>Medium</font> |
| 715 | [Range æ¨¡å—](https://leetcode.com/problems/range-module) |  |  [`è®¾è®¡`](/tag/design.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æœ‰åºé›†åˆ`](/tag/ordered-set.md) | <font color=#ff334b>Hard</font> |
| 2276 | [ç»Ÿè®¡åŒºé—´ä¸­çš„æ•´æ•°æ•°ç›®](https://leetcode.com/problems/count-integers-in-intervals) |  |  [`è®¾è®¡`](/tag/design.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æœ‰åºé›†åˆ`](/tag/ordered-set.md) | <font color=#ff334b>Hard</font> |