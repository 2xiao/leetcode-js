---
title: 2226. æ¯ä¸ªå°å­©æœ€å¤šèƒ½åˆ†åˆ°å¤šå°‘ç³–æœ
description: LeetCode 2226. æ¯ä¸ªå°å­©æœ€å¤šèƒ½åˆ†åˆ°å¤šå°‘ç³–æœé¢˜è§£ï¼ŒMaximum Candies Allocated to K Childrenï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2226. æ¯ä¸ªå°å­©æœ€å¤šèƒ½åˆ†åˆ°å¤šå°‘ç³–æœ
  - æ¯ä¸ªå°å­©æœ€å¤šèƒ½åˆ†åˆ°å¤šå°‘ç³–æœ
  - Maximum Candies Allocated to K Children
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
---

# 2226. æ¯ä¸ªå°å­©æœ€å¤šèƒ½åˆ†åˆ°å¤šå°‘ç³–æœ

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/maximum-candies-allocated-to-k-children) [`LeetCode`](https://leetcode.com/problems/maximum-candies-allocated-to-k-children)

## é¢˜ç›®

You are given a **0-indexed** integer array `candies`. Each element in the
array denotes a pile of candies of size `candies[i]`. You can divide each pile
into any number of **sub piles** , but you **cannot** merge two piles
together.

You are also given an integer `k`. You should allocate piles of candies to `k`
children such that each child gets the **same** number of candies. Each child
can take **at most one** pile of candies and some piles of candies may go
unused.

Return _the **maximum number of candies** each child can get._

**Example 1:**

> Input: candies = [5,8,6], k = 3
>
> Output: 5
>
> Explanation: We can divide candies[1] into 2 piles of size 5 and 3, and candies[2] into 2 piles of size 5 and 1. We now have five piles of candies of sizes 5, 5, 3, 5, and 1. We can allocate the 3 piles of size 5 to 3 children. It can be proven that each child cannot receive more than 5 candies.

**Example 2:**

> Input: candies = [2,5], k = 11
>
> Output: 0
>
> Explanation: There are 11 children but only 7 candies in total, so it is impossible to ensure each child receives at least one candy. Thus, each child gets no candy and the answer is 0.

**Constraints:**

- `1 <= candies.length <= 10^5`
- `1 <= candies[i] <= 10^7`
- `1 <= k <= 1012`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª **ä¸‹æ ‡ä» 0 å¼€å§‹** çš„æ•´æ•°æ•°ç»„ `candies` ã€‚æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è¡¨ç¤ºå¤§å°ä¸º `candies[i]`
çš„ä¸€å †ç³–æœã€‚ä½ å¯ä»¥å°†æ¯å †ç³–æœåˆ†æˆä»»æ„æ•°é‡çš„ **å­å †** ï¼Œä½† **æ— æ³•** å†å°†ä¸¤å †åˆå¹¶åˆ°ä¸€èµ·ã€‚

å¦ç»™ä½ ä¸€ä¸ªæ•´æ•° `k` ã€‚ä½ éœ€è¦å°†è¿™äº›ç³–æœåˆ†é…ç»™ `k` ä¸ªå°å­©ï¼Œä½¿æ¯ä¸ªå°å­©åˆ†åˆ° **ç›¸åŒ** æ•°é‡çš„ç³–æœã€‚æ¯ä¸ªå°å­©å¯ä»¥æ‹¿èµ° **è‡³å¤šä¸€å †**
ç³–æœï¼Œæœ‰äº›ç³–æœå¯èƒ½ä¼šä¸è¢«åˆ†é…ã€‚

è¿”å›æ¯ä¸ªå°å­©å¯ä»¥æ‹¿èµ°çš„ **æœ€å¤§ç³–æœæ•°ç›®**ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** candies = [5,8,6], k = 3
>
> **è¾“å‡ºï¼š** 5
>
> **è§£é‡Šï¼š** å¯ä»¥å°† candies[1] åˆ†æˆå¤§å°åˆ†åˆ«ä¸º 5 å’Œ 3 çš„ä¸¤å †ï¼Œç„¶åæŠŠ candies[2] åˆ†æˆå¤§å°åˆ†åˆ«ä¸º 5 å’Œ 1 çš„ä¸¤å †ã€‚ç°åœ¨å°±æœ‰äº”å †å¤§å°åˆ†åˆ«ä¸º 5ã€5ã€3ã€5 å’Œ 1 çš„ç³–æœã€‚å¯ä»¥æŠŠ 3 å †å¤§å°ä¸º 5 çš„ç³–æœåˆ†ç»™ 3 ä¸ªå°å­©ã€‚å¯ä»¥è¯æ˜æ— æ³•è®©æ¯ä¸ªå°å­©å¾—åˆ°è¶…è¿‡ 5 é¢—ç³–æœã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** candies = [2,5], k = 11
>
> **è¾“å‡ºï¼š** 0
>
> **è§£é‡Šï¼š** æ€»å…±æœ‰ 11 ä¸ªå°å­©ï¼Œä½†åªæœ‰ 7 é¢—ç³–æœï¼Œä½†å¦‚æœè¦åˆ†é…ç³–æœçš„è¯ï¼Œå¿…é¡»ä¿è¯æ¯ä¸ªå°å­©è‡³å°‘èƒ½å¾—åˆ° 1 é¢—ç³–æœã€‚å› æ­¤ï¼Œæœ€åæ¯ä¸ªå°å­©éƒ½æ²¡æœ‰å¾—åˆ°ç³–æœï¼Œç­”æ¡ˆæ˜¯ 0 ã€‚

**æç¤ºï¼š**

- `1 <= candies.length <= 10^5`
- `1 <= candies[i] <= 10^7`
- `1 <= k <= 1012`

## è§£é¢˜æ€è·¯

1. **ç¡®å®šæœç´¢èŒƒå›´**ï¼š

   - **æœ€å°å€¼ `left = 0`**ï¼ˆæ¯ä¸ªå°å­©å¯ä»¥æ‹¿ 0 é¢—ç³–ï¼‰ã€‚
   - **æœ€å¤§å€¼ `right = max(candies)`**ï¼ˆæœ€ä¼˜æƒ…å†µä¸‹ï¼Œæ¯ä¸ªå°å­©æœ€å¤šå¯ä»¥æ‹¿åˆ°çš„ç³–æœæ•°ï¼‰ã€‚

2. **äºŒåˆ† `mid = (left + right + 1) / 2`**ï¼Œè¡¨ç¤ºå°è¯•æ¯ä¸ªå°å­©æ‹¿ `mid` é¢—ç³–ï¼Œå–ä¸Šä¸­ä½æ•°ï¼Œé¿å…æ­»å¾ªç¯ï¼š

   - **èƒ½å¦å‡åˆ† `mid` é¢—ç³–ï¼Ÿ**
     - è®¡ç®— `candies[i]` èƒ½åˆ†æˆå¤šå°‘ä»½ `Math.floor(candies[i] / mid)`ã€‚
     - ç´¯åŠ æ‰€æœ‰å †çš„ `totalCount`ï¼Œå¦‚æœ `totalCount â‰¥ k`ï¼Œè¯´æ˜**å¯ä»¥**åˆ†é… `mid` é¢—ç³–ã€‚
   - è‹¥èƒ½åˆ†é…ï¼Œåˆ™å°è¯•æ›´å¤§çš„ `mid`ï¼Œè°ƒæ•´ `left = mid`ã€‚
   - è‹¥ä¸èƒ½åˆ†é…ï¼Œåˆ™å°è¯•æ›´å°çš„ `mid`ï¼Œè°ƒæ•´ `right = mid - 1`ã€‚

3. **æœ€ç»ˆè¿”å›æœ€å¤§å¯è¡Œçš„ `mid`**ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n log M)`

  - æ¯æ¬¡äºŒåˆ†æŸ¥æ‰¾ `O(log M)`ï¼Œå…¶ä¸­ `M = max(candies)`ã€‚
  - æ¯æ¬¡æ£€æŸ¥ `O(n)`ï¼Œ`eachCanGet` éå† `candies` è®¡ç®—æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚
  - æ€»å¤æ‚åº¦ `O(n log M)`ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä»…ä½¿ç”¨å¸¸æ•°ä¸ªå˜é‡ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} candies
 * @param {number} k
 * @return {number}
 */
var maximumCandies = function (candies, k) {
	const eachCanGet = (n) => {
		let count = 0;
		for (const candy of candies) {
			count += (candy / n) | 0; // ç”¨ä½è¿ç®—ä»£æ›¿ Math.floor
			if (count >= k) return true; // æå‰ç»ˆæ­¢ï¼Œæé«˜æ•ˆç‡
		}
		return false;
	};
	let left = 0;
	let right = Math.max(...candies);
	while (left < right) {
		const mid = ((left + right + 1) / 2) | 0; // å–ä¸Šä¸­ä½æ•°ï¼Œé¿å…æ­»å¾ªç¯
		if (eachCanGet(mid)) {
			left = mid; // ä¿æŒå¯è¡Œè§£
		} else {
			right = mid - 1;
		}
	}
	return left;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 875 | çˆ±åƒé¦™è•‰çš„ç‚ç‚ | [[âœ“]](/problem/0875.md) |  [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/koko-eating-bananas) [ğŸ”—](https://leetcode.com/problems/koko-eating-bananas) |
| 1760 | è¢‹å­é‡Œæœ€å°‘æ•°ç›®çš„çƒ | [[âœ“]](/problem/1760.md) |  [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-limit-of-balls-in-a-bag) [ğŸ”—](https://leetcode.com/problems/minimum-limit-of-balls-in-a-bag) |
| 1870 | å‡†æ—¶åˆ°è¾¾çš„åˆ—è½¦æœ€å°æ—¶é€Ÿ |  |  [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-speed-to-arrive-on-time) [ğŸ”—](https://leetcode.com/problems/minimum-speed-to-arrive-on-time) |
| 1898 | å¯ç§»é™¤å­—ç¬¦çš„æœ€å¤§æ•°ç›® |  |  [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-number-of-removable-characters) [ğŸ”—](https://leetcode.com/problems/maximum-number-of-removable-characters) |
| 2064 | åˆ†é…ç»™å•†åº—çš„æœ€å¤šå•†å“çš„æœ€å°å€¼ | [[âœ“]](/problem/2064.md) |  [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/minimized-maximum-of-products-distributed-to-any-store) [ğŸ”—](https://leetcode.com/problems/minimized-maximum-of-products-distributed-to-any-store) |
| 2187 | å®Œæˆæ—…é€”çš„æœ€å°‘æ—¶é—´ |  |  [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-time-to-complete-trips) [ğŸ”—](https://leetcode.com/problems/minimum-time-to-complete-trips) |
| 2439 | æœ€å°åŒ–æ•°ç»„ä¸­çš„æœ€å¤§å€¼ |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `2+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/minimize-maximum-of-array) [ğŸ”—](https://leetcode.com/problems/minimize-maximum-of-array) |
| 3075 | å¹¸ç¦å€¼æœ€å¤§åŒ–çš„é€‰æ‹©æ–¹æ¡ˆ |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/maximize-happiness-of-selected-children) [ğŸ”—](https://leetcode.com/problems/maximize-happiness-of-selected-children) |