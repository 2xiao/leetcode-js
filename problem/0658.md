---
title: 658. æ‰¾åˆ° K ä¸ªæœ€æ¥è¿‘çš„å…ƒç´ 
description: LeetCode 658. æ‰¾åˆ° K ä¸ªæœ€æ¥è¿‘çš„å…ƒç´ é¢˜è§£ï¼ŒFind K Closest Elementsï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 658. æ‰¾åˆ° K ä¸ªæœ€æ¥è¿‘çš„å…ƒç´ 
  - æ‰¾åˆ° K ä¸ªæœ€æ¥è¿‘çš„å…ƒç´ 
  - Find K Closest Elements
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - åŒæŒ‡é’ˆ
  - äºŒåˆ†æŸ¥æ‰¾
  - æ’åº
  - æ»‘åŠ¨çª—å£
  - å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰
---

# 658. æ‰¾åˆ° K ä¸ªæœ€æ¥è¿‘çš„å…ƒç´ 

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`æ’åº`](/tag/sorting.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/find-k-closest-elements) [`LeetCode`](https://leetcode.com/problems/find-k-closest-elements)

## é¢˜ç›®

Given a **sorted** integer array `arr`, two integers `k` and `x`, return the
`k` closest integers to `x` in the array. The result should also be sorted in
ascending order.

An integer `a` is closer to `x` than an integer `b` if:

- `|a - x| < |b - x|`, or
- `|a - x| == |b - x|` and `a < b`

**Example 1:**

**Input:** arr = [1,2,3,4,5], k = 4, x = 3

**Output:** [1,2,3,4]

**Example 2:**

**Input:** arr = [1,1,2,3,4,5], k = 4, x = -1

**Output:** [1,1,2,3]

**Constraints:**

- `1 <= k <= arr.length`
- `1 <= arr.length <= 10^4`
- `arr` is sorted in **ascending** order.
- `-10^4 <= arr[i], x <= 10^4`

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ª **æ’åºå¥½** çš„æ•°ç»„ `arr` ï¼Œä¸¤ä¸ªæ•´æ•° `k` å’Œ `x` ï¼Œä»æ•°ç»„ä¸­æ‰¾åˆ°æœ€é è¿‘ `x`ï¼ˆä¸¤æ•°ä¹‹å·®æœ€å°ï¼‰çš„ `k`
ä¸ªæ•°ã€‚è¿”å›çš„ç»“æœå¿…é¡»è¦æ˜¯æŒ‰å‡åºæ’å¥½çš„ã€‚

æ•´æ•° `a` æ¯”æ•´æ•° `b` æ›´æ¥è¿‘ `x` éœ€è¦æ»¡è¶³ï¼š

- `|a - x| < |b - x|` æˆ–è€…
- `|a - x| == |b - x|` ä¸” `a < b`

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** arr = [1,2,3,4,5], k = 4, x = 3
>
> **è¾“å‡ºï¼š**[1,2,3,4]

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** arr = [1,1,2,3,4,5], k = 4, x = -1
>
> **è¾“å‡ºï¼š**[1,1,2,3]

**æç¤ºï¼š**

- `1 <= k <= arr.length`
- `1 <= arr.length <= 10^4`
- `arr` æŒ‰ **å‡åº** æ’åˆ—
- `-10^4 <= arr[i], x <= 10^4`

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šåŒæŒ‡é’ˆ

1. åˆå§‹åŒ–åŒæŒ‡é’ˆ `left = 0` å’Œ `right = arr.length - 1`ã€‚
2. ä½¿ç”¨å¾ªç¯é€æ­¥æ”¶ç¼©çª—å£ï¼Œçª—å£é•¿åº¦ `right - left + 1` ä» `arr.length` å¼€å§‹é€æ¸å‡å°åˆ° `k`ã€‚
3. æ¯”è¾ƒçª—å£ä¸¤ç«¯çš„æ•°å€¼ä¸ç›®æ ‡å€¼ `x` çš„è·ç¦»ï¼š
   - å¦‚æœå·¦ç«¯å…ƒç´ æ›´æ¥è¿‘ `x`ï¼Œåˆ™æ”¶ç¼©å³ç«¯ï¼ˆ`right--`ï¼‰ã€‚
   - å¦åˆ™ï¼Œæ”¶ç¼©å·¦ç«¯ï¼ˆ`left++`ï¼‰ã€‚
4. å½“çª—å£çš„é•¿åº¦ç¼©å‡ä¸º `k` æ—¶ï¼Œçª—å£ä¸­çš„å…ƒç´ å³ä¸ºç­”æ¡ˆã€‚
5. æœ€ç»ˆè¿”å› `arr[left:right+1]`ï¼Œå³å½“å‰çª—å£ä¸­çš„å…ƒç´ ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`
  - æ”¶ç¼©çª—å£éœ€è¦éå†æœ€å¤š `n âˆ’ k` æ¬¡ï¼Œå¤æ‚åº¦ä¸º `O(n - k)`ã€‚
  - `slice` æ–¹æ³•æˆªå–å­æ•°ç»„çš„å¤æ‚åº¦ä¸º `O(k)`ã€‚
  - æ€»æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä½¿ç”¨äº†å¸¸æ•°ä¸ªé¢å¤–å˜é‡ã€‚

### æ€è·¯äºŒï¼šäºŒåˆ†æŸ¥æ‰¾

å› ä¸ºæœ€ç»ˆç­”æ¡ˆæ˜¯ä¸€ä¸ªé•¿åº¦ä¸º `k` çš„è¿ç»­å­æ•°ç»„ `arr[left:left + k]`ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°è¿™ä¸ªå­æ•°ç»„çš„ **å·¦è¾¹ç•Œ** `left`ã€‚

1. åˆå§‹åŒ– `left = 0`ï¼Œ`right = arr.length - k`ã€‚

   - æ³¨æ„ `right` çš„åˆå§‹å€¼ä¸º `arr.length - k`ï¼Œå› ä¸ºçª—å£å¤§å°å›ºå®šä¸º `k`ï¼Œæˆ‘ä»¬æœ€å¤šå¯ä»¥å°†çª—å£çš„èµ·å§‹ä½ç½®è®¾ç½®ä¸º `arr.length - k`ã€‚

2. æ¯æ¬¡è®¡ç®—ä¸­ç‚¹ `mid`ï¼Œæ¯”è¾ƒä»¥ `mid` å¼€å¤´çš„å­æ•°ç»„å’Œä»¥ `mid + 1` å¼€å¤´çš„å­æ•°ç»„å“ªä¸ªæ›´æ¥è¿‘ `x`ã€‚

   - å…·ä½“æ¥è¯´ï¼Œæ¯”è¾ƒ `x - arr[mid]`ï¼ˆå·¦ä¾§çš„è·ç¦»ï¼‰å’Œ `arr[mid + k] - x`ï¼ˆå³ä¾§çš„è·ç¦»ï¼‰ï¼š

     - å¦‚æœ `x - arr[mid] > arr[mid + k] - x`ï¼Œè¯´æ˜å³ä¾§çš„å­æ•°ç»„æ›´æ¥è¿‘ `x`ï¼Œéœ€è¦æŠŠ `left` å‘å³ç§»åŠ¨ï¼Œå³ `left = mid + 1`ã€‚
     - å¦åˆ™ï¼Œå·¦ä¾§çš„å­æ•°ç»„æ›´æ¥è¿‘ `x`ï¼Œéœ€è¦æŠŠ `right` å‘å·¦ç§»åŠ¨ï¼Œå³ `right = mid`ã€‚

3. äºŒåˆ†æŸ¥æ‰¾çš„ç»ˆæ­¢æ¡ä»¶ï¼šå½“ `left == right` æ—¶ï¼Œ`left` å³ä¸ºæœ€ç»ˆçš„å·¦è¾¹ç•Œã€‚

4. è¿”å›ç»“æœï¼šå­æ•°ç»„å³ä¸º `arr[left:left + k]`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(log(n - k) + k)`

  - äºŒåˆ†æŸ¥æ‰¾æ¯æ¬¡è¿­ä»£å°†èŒƒå›´å‡åŠï¼Œæœ€å¤šéœ€è¦ `O(log(n - k))` æ¬¡æ¯”è¾ƒã€‚
  - `slice` æ–¹æ³•æˆªå–å­æ•°ç»„çš„å¤æ‚åº¦ä¸º `O(k)`ã€‚
  - æ€»å¤æ‚åº¦ä¸º `O(log(n - k) + k)`ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä»…ä½¿ç”¨äº†å¸¸é‡ç©ºé—´ã€‚

## ä»£ç 

::: code-tabs
@tab åŒæŒ‡é’ˆ

```javascript
/**
 * @param {number[]} arr
 * @param {number} k
 * @param {number} x
 * @return {number[]}
 */
var findClosestElements = function (arr, k, x) {
	let left = 0,
		right = arr.length - 1;
	// æ”¶ç¼©çª—å£ç›´åˆ°çª—å£å¤§å°ä¸º k
	while (right - left >= k) {
		if (Math.abs(arr[left] - x) <= Math.abs(arr[right] - x)) {
			right--; // æ”¶ç´§å³ç«¯
		} else {
			left++; // æ”¶ç´§å·¦ç«¯
		}
	}
	// è¿”å›çª—å£ä¸­çš„å…ƒç´ 
	return arr.slice(left, right + 1);
};
```

@tab äºŒåˆ†æŸ¥æ‰¾

```javascript
/**
 * @param {number[]} arr
 * @param {number} k
 * @param {number} x
 * @return {number[]}
 */
var findClosestElements = function (arr, k, x) {
	let left = 0,
		right = arr.length - k;
	while (left < right) {
		const mid = Math.floor((left + right) / 2);
		// æ¯”è¾ƒä¸­ç‚¹å’Œå³ä¾§çš„è·ç¦»
		if (x - arr[mid] > arr[mid + k] - x) {
			left = mid + 1; // èˆå¼ƒå·¦åŠéƒ¨åˆ†
		} else {
			right = mid; // èˆå¼ƒå³åŠéƒ¨åˆ†
		}
	}
	// è¿”å›ä»¥ left ä¸ºèµ·ç‚¹çš„ k ä¸ªå…ƒç´ 
	return arr.slice(left, left + k);
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 374 | çŒœæ•°å­—å¤§å° | [[âœ“]](/problem/0374.md) |  [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`äº¤äº’`](/tag/interactive.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/guess-number-higher-or-lower) [ğŸ”—](https://leetcode.com/problems/guess-number-higher-or-lower) |
| 375 | çŒœæ•°å­—å¤§å° II | [[âœ“]](/problem/0375.md) |  [`æ•°å­¦`](/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`åšå¼ˆ`](/tag/game-theory.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/guess-number-higher-or-lower-ii) [ğŸ”—](https://leetcode.com/problems/guess-number-higher-or-lower-ii) |
| 719 | æ‰¾å‡ºç¬¬ K å°çš„æ•°å¯¹è·ç¦» |  |  [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `1+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/find-k-th-smallest-pair-distance) [ğŸ”—](https://leetcode.com/problems/find-k-th-smallest-pair-distance) |
| 2239 | æ‰¾åˆ°æœ€æ¥è¿‘ 0 çš„æ•°å­— |  |  [`æ•°ç»„`](/tag/array.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/find-closest-number-to-zero) [ğŸ”—](https://leetcode.com/problems/find-closest-number-to-zero) |