# [36. æœ‰æ•ˆçš„æ•°ç‹¬](https://leetcode.com/problems/valid-sudoku)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/valid-sudoku)

## é¢˜ç›®

<p>è¯·ä½ åˆ¤æ–­ä¸€ä¸ª&nbsp;<code>9 x 9</code> çš„æ•°ç‹¬æ˜¯å¦æœ‰æ•ˆã€‚åªéœ€è¦<strong> æ ¹æ®ä»¥ä¸‹è§„åˆ™</strong> ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚</p>

<ol>
	<li>æ•°å­—&nbsp;<code>1-9</code>&nbsp;åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚</li>
	<li>æ•°å­—&nbsp;<code>1-9</code>&nbsp;åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚</li>
	<li>æ•°å­—&nbsp;<code>1-9</code>&nbsp;åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„&nbsp;<code>3x3</code>&nbsp;å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ï¼ˆè¯·å‚è€ƒç¤ºä¾‹å›¾ï¼‰</li>
</ol>

<p>&nbsp;</p>

<p><strong>æ³¨æ„ï¼š</strong></p>

<ul>
	<li>ä¸€ä¸ªæœ‰æ•ˆçš„æ•°ç‹¬ï¼ˆéƒ¨åˆ†å·²è¢«å¡«å……ï¼‰ä¸ä¸€å®šæ˜¯å¯è§£çš„ã€‚</li>
	<li>åªéœ€è¦æ ¹æ®ä»¥ä¸Šè§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚</li>
	<li>ç©ºç™½æ ¼ç”¨&nbsp;<code>'.'</code>&nbsp;è¡¨ç¤ºã€‚</li>
</ul>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2021/04/12/250px-sudoku-by-l2g-20050714svg.png" style="height:250px; width:250px" />
<pre>
<strong>è¾“å…¥ï¼š</strong>board = 
[["5","3",".",".","7",".",".",".","."]
,["6",".",".","1","9","5",".",".","."]
,[".","9","8",".",".",".",".","6","."]
,["8",".",".",".","6",".",".",".","3"]
,["4",".",".","8",".","3",".",".","1"]
,["7",".",".",".","2",".",".",".","6"]
,[".","6",".",".",".",".","2","8","."]
,[".",".",".","4","1","9",".",".","5"]
,[".",".",".",".","8",".",".","7","9"]]
<strong>è¾“å‡ºï¼š</strong>true
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>board = 
[["8","3",".",".","7",".",".",".","."]
,["6",".",".","1","9","5",".",".","."]
,[".","9","8",".",".",".",".","6","."]
,["8",".",".",".","6",".",".",".","3"]
,["4",".",".","8",".","3",".",".","1"]
,["7",".",".",".","2",".",".",".","6"]
,[".","6",".",".",".",".","2","8","."]
,[".",".",".","4","1","9",".",".","5"]
,[".",".",".",".","8",".",".","7","9"]]
<strong>è¾“å‡ºï¼š</strong>false
<strong>è§£é‡Šï¼š</strong>é™¤äº†ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªæ•°å­—ä»<strong> 5</strong> æ”¹ä¸º <strong>8 </strong>ä»¥å¤–ï¼Œç©ºæ ¼å†…å…¶ä»–æ•°å­—å‡ä¸ ç¤ºä¾‹1 ç›¸åŒã€‚ ä½†ç”±äºä½äºå·¦ä¸Šè§’çš„ 3x3 å®«å†…æœ‰ä¸¤ä¸ª 8 å­˜åœ¨, å› æ­¤è¿™ä¸ªæ•°ç‹¬æ˜¯æ— æ•ˆçš„ã€‚</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>board.length == 9</code></li>
	<li><code>board[i].length == 9</code></li>
	<li><code>board[i][j]</code> æ˜¯ä¸€ä½æ•°å­—ï¼ˆ<code>1-9</code>ï¼‰æˆ–è€… <code>'.'</code></li>
</ul>


## è§£é¢˜æ€è·¯

- ç»™å‡ºä¸€ä¸ªæ•°ç‹¬çš„æ£‹ç›˜ï¼Œè¦æ±‚åˆ¤æ–­è¿™ä¸ªæ£‹ç›˜å½“å‰æ˜¯å¦æ»¡è¶³æ•°ç‹¬çš„è¦æ±‚ï¼šå³è¡Œåˆ—æ˜¯å¦éƒ½åªåŒ…å« 1-9ï¼Œæ¯ä¸ªä¹å®«æ ¼é‡Œé¢æ˜¯å¦ä¹ŸåªåŒ…å« 1-9 ã€‚
- æ³¨æ„è¿™é¢˜å’Œ [ç¬¬ 37 é¢˜](./0037.md) æ˜¯ä¸åŒçš„ï¼Œè¿™ä¸€é¢˜æ˜¯åˆ¤æ–­å½“å‰æ£‹ç›˜çŠ¶æ€æ˜¯å¦æ»¡è¶³æ•°ç‹¬çš„è¦æ±‚ï¼Œè€Œ [ç¬¬ 37 é¢˜](./0037.md) æ˜¯è¦æ±‚æ±‚è§£æ•°ç‹¬ã€‚æœ¬é¢˜ä¸­çš„æ£‹ç›˜æœ‰äº›æ˜¯æ— è§£çš„ï¼Œä½†æ˜¯æ£‹ç›˜çŠ¶æ€æ˜¯æ»¡è¶³é¢˜æ„çš„ã€‚
- åªéœ€è¦éå†çŸ©é˜µï¼Œåˆ†åˆ«åˆ¤æ–­è¡Œåˆ—å’Œä¹å®«æ ¼å†…æœ‰æ²¡æœ‰é‡å¤çš„æ•°å­—å³å¯ï¼›
- çŸ©é˜µçš„æ•°ç»„ä¸‹æ ‡ (`i_j`) å¦‚ä¸‹ï¼Œéš¾ç‚¹åœ¨äºå¦‚ä½•è®¡ç®—ä¹å®«æ ¼å†…å…ƒç´ çš„ä¸‹æ ‡:
  - `box[i][j] = board[3 * Math.floor(i / 3) + Math.floor(j / 3)][3 * (i % 3) + (j % 3)]`

```
0_0 0_1 0_2 | 0_3 0_4 0_5 | 0_6 0_7 0_8
1_0 1_1 1_2 | 1_3 1_4 1_5 | 1_6 1_7 1_8
2_0 2_1 2_2 | 2_3 2_4 2_5 | 2_6 2_7 2_8
---------------------------------------
3_0 3_1 3_2 | 3_3 3_4 3_5 | 3_6 3_7 3_8
4_0 4_1 4_2 | 4_3 4_4 4_5 | 4_6 4_7 4_8
5_0 5_1 5_2 | 5_3 5_4 5_5 | 5_6 5_7 5_8
---------------------------------------
6_0 6_1 6_2 | 6_3 6_4 6_5 | 6_6 6_7 6_8
7_0 7_1 7_2 | 7_3 7_4 7_5 | 7_6 7_7 7_8
8_0 8_1 8_2 | 8_3 8_4 8_5 | 8_6 8_7 8_8
```

## ä»£ç 

```javascript
/**
 * @param {character[][]} board
 * @return {boolean}
 */
var isValidSudoku = function (board) {
	for (let i = 0; i < 9; i++) {
		let row = new Set();
		let col = new Set();
		let box = new Set();
		for (let j = 0; j < 9; j++) {
			let _row = board[i][j];
			let _col = board[j][i];
			let _box =
				board[3 * Math.floor(i / 3) + Math.floor(j / 3)][3 * (i % 3) + (j % 3)];

			if (_row != '.') {
				if (row.has(_row)) return false;
				row.add(_row);
			}
			if (_col != '.') {
				if (col.has(_col)) return false;
				col.add(_col);
			}
			if (_box != '.') {
				if (box.has(_box)) return false;
				box.add(_box);
			}
		}
	}
	return true;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 37 | [è§£æ•°ç‹¬](https://leetcode.com/problems/sudoku-solver) | [[âœ“]](/problem/0037.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å›æº¯`](/tag/backtracking.md) `1+` | <font color=#ff334b>Hard</font> |
| 2133 | [æ£€æŸ¥æ˜¯å¦æ¯ä¸€è¡Œæ¯ä¸€åˆ—éƒ½åŒ…å«å…¨éƒ¨æ•´æ•°](https://leetcode.com/problems/check-if-every-row-and-column-contains-all-numbers) |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`çŸ©é˜µ`](/tag/matrix.md) | <font color=#15bd66>Easy</font> |