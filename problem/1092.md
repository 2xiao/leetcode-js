---
title: 1092. æœ€çŸ­å…¬å…±è¶…åºåˆ—
description: LeetCode 1092. æœ€çŸ­å…¬å…±è¶…åºåˆ—é¢˜è§£ï¼ŒShortest Common Supersequenceï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1092. æœ€çŸ­å…¬å…±è¶…åºåˆ—
  - æœ€çŸ­å…¬å…±è¶…åºåˆ—
  - Shortest Common Supersequence
  - è§£é¢˜æ€è·¯
  - å­—ç¬¦ä¸²
  - åŠ¨æ€è§„åˆ’
---

# 1092. æœ€çŸ­å…¬å…±è¶…åºåˆ—

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/shortest-common-supersequence) [`LeetCode`](https://leetcode.com/problems/shortest-common-supersequence)

## é¢˜ç›®

Given two strings `str1` and `str2`, return _the shortest string that has
both_`str1` _and_`str2` _as**subsequences**_. If there are multiple valid
strings, return **any** of them.

A string `s` is a **subsequence** of string `t` if deleting some number of
characters from `t` (possibly `0`) results in the string `s`.

**Example 1:**

> Input: str1 = "abac", str2 = "cab"
>
> Output: "cabac"
>
> Explanation:
>
> str1 = "abac" is a subsequence of "cabac" because we can delete the first "c".
>
> str2 = "cab" is a subsequence of "cabac" because we can delete the last "ac".
>
> The answer provided is the shortest such string that satisfies these properties.

**Example 2:**

> Input: str1 = "aaaaaaaa", str2 = "aaaaaaaa"
>
> Output: "aaaaaaaa"

**Constraints:**

- `1 <= str1.length, str2.length <= 1000`
- `str1` and `str2` consist of lowercase English letters.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² `str1` å’Œ `str2`ï¼Œè¿”å›åŒæ—¶ä»¥ `str1` å’Œ `str2` ä½œä¸º **å­åºåˆ—**
çš„æœ€çŸ­å­—ç¬¦ä¸²ã€‚å¦‚æœç­”æ¡ˆä¸æ­¢ä¸€ä¸ªï¼Œåˆ™å¯ä»¥è¿”å›æ»¡è¶³æ¡ä»¶çš„ **ä»»æ„ä¸€ä¸ª** ç­”æ¡ˆã€‚

å¦‚æœä»å­—ç¬¦ä¸² `t` ä¸­åˆ é™¤ä¸€äº›å­—ç¬¦ï¼ˆä¹Ÿå¯èƒ½ä¸åˆ é™¤ï¼‰ï¼Œå¯ä»¥å¾—åˆ°å­—ç¬¦ä¸² `s` ï¼Œé‚£ä¹ˆ `s` å°±æ˜¯ t çš„ä¸€ä¸ªå­åºåˆ—ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** str1 = "abac", str2 = "cab"
>
> **è¾“å‡ºï¼š** "cabac"
>
> **è§£é‡Šï¼š**
>
> str1 = "abac" æ˜¯ "cabac" çš„ä¸€ä¸ªå­ä¸²ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥åˆ å» "cabac" çš„ç¬¬ä¸€ä¸ª "c"å¾—åˆ° "abac"ã€‚
>
> str2 = "cab" æ˜¯ "cabac" çš„ä¸€ä¸ªå­ä¸²ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥åˆ å» "cabac" æœ«å°¾çš„ "ac" å¾—åˆ° "cab"ã€‚
>
> æœ€ç»ˆæˆ‘ä»¬ç»™å‡ºçš„ç­”æ¡ˆæ˜¯æ»¡è¶³ä¸Šè¿°å±æ€§çš„æœ€çŸ­å­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** str1 = "aaaaaaaa", str2 = "aaaaaaaa"
>
> **è¾“å‡ºï¼š** "aaaaaaaa"

**æç¤ºï¼š**

- `1 <= str1.length, str2.length <= 1000`
- `str1` å’Œ `str2` éƒ½ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆã€‚

## è§£é¢˜æ€è·¯

1. **æ‰¾å‡º `str1` å’Œ `str2` çš„æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLCSï¼‰**ï¼š

   - è®¾ `dp[i][j]` ä¸º `str1[0...i-1]` å’Œ `str2[0...j-1]` çš„ LCS é•¿åº¦ã€‚
   - `dp[i][j]` çš„çŠ¶æ€è½¬ç§»ï¼š

     - å¦‚æœ `str1[i-1] == str2[j-1]`ï¼š

       `dp[i][j] = 1 + dp[i-1][j-1]`

     - å¦‚æœ `str1[i-1] â‰  str2[j-1]`ï¼š

       `dp[i][j] = max(dp[i-1][j], dp[i][j-1])`

2. **é€šè¿‡ `dp` æ•°ç»„å›æº¯æ„é€  SCS**ï¼š

   - è‹¥ `str1[i-1] == str2[j-1]`ï¼ŒåŠ å…¥ SCSï¼Œå¹¶å‘å·¦ä¸Šè§’ç§»åŠ¨ (`i-1, j-1`)ã€‚
   - è‹¥ `dp[i-1][j] > dp[i][j-1]`ï¼ŒåŠ å…¥ `str1[i-1]`ï¼Œå‘ä¸Šç§»åŠ¨ (`i-1, j`)ã€‚
   - å¦åˆ™ï¼ŒåŠ å…¥ `str2[j-1]`ï¼Œå‘å·¦ç§»åŠ¨ (`i, j-1`)ã€‚
   - å½“ `i` æˆ– `j` è¿˜æœ‰å‰©ä½™å­—ç¬¦æ—¶ï¼Œå…¨éƒ¨åŠ å…¥ SCSã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m * n)`ï¼Œæ„é€  `dp` æ•°ç»„ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(m * n)`ï¼Œå­˜å‚¨ `dp` æ•°ç»„ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} str1
 * @param {string} str2
 * @return {string}
 */
var shortestCommonSupersequence = function (str1, str2) {
	const m = str1.length,
		n = str2.length;
	let dp = new Array(m + 1).fill().map(() => new Array(n + 1).fill(0));

	// è®¡ç®—æœ€é•¿å…¬å…±å­åºåˆ— (LCS)
	for (let i = 1; i <= m; i++) {
		for (let j = 1; j <= n; j++) {
			if (str1[i - 1] === str2[j - 1]) {
				dp[i][j] = 1 + dp[i - 1][j - 1];
			} else {
				dp[i][j] = Math.max(dp[i - 1][j], dp[i][j - 1]);
			}
		}
	}

	// é€šè¿‡ dp åå‘æ„é€  SCS
	let i = m,
		j = n;
	let result = [];
	while (i > 0 && j > 0) {
		if (str1[i - 1] === str2[j - 1]) {
			result.push(str1[i - 1]);
			i--;
			j--;
		} else if (dp[i - 1][j] > dp[i][j - 1]) {
			result.push(str1[i - 1]);
			i--;
		} else {
			result.push(str2[j - 1]);
			j--;
		}
	}

	// å¤„ç†å‰©ä½™å­—ç¬¦
	while (i > 0) {
		result.push(str1[i - 1]);
		i--;
	}
	while (j > 0) {
		result.push(str2[j - 1]);
		j--;
	}

	return result.reverse().join('');
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1143 | æœ€é•¿å…¬å…±å­åºåˆ— | [[âœ“]](/problem/1143.md) |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/longest-common-subsequence) [ğŸ”—](https://leetcode.com/problems/longest-common-subsequence) |
| 2800 | åŒ…å«ä¸‰ä¸ªå­—ç¬¦ä¸²çš„æœ€çŸ­å­—ç¬¦ä¸² |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æšä¸¾`](/tag/enumeration.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/shortest-string-that-contains-three-strings) [ğŸ”—](https://leetcode.com/problems/shortest-string-that-contains-three-strings) |