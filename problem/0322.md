---
title: 322. é›¶é’±å…‘æ¢
description: LeetCode,322. é›¶é’±å…‘æ¢,é›¶é’±å…‘æ¢,Coin Change,è§£é¢˜æ€è·¯,å¹¿åº¦ä¼˜å…ˆæœç´¢,æ•°ç»„,åŠ¨æ€è§„åˆ’
keywords:
  - LeetCode
  - 322. é›¶é’±å…‘æ¢
  - é›¶é’±å…‘æ¢
  - Coin Change
  - è§£é¢˜æ€è·¯
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - æ•°ç»„
  - åŠ¨æ€è§„åˆ’
---

# 322. é›¶é’±å…‘æ¢

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/coin-change) [`LeetCode`](https://leetcode.com/problems/coin-change)

## é¢˜ç›®

You are given an integer array `coins` representing coins of different
denominations and an integer `amount` representing a total amount of money.

Return _the fewest number of coins that you need to make up that amount_. If
that amount of money cannot be made up by any combination of the coins, return
`-1`.

You may assume that you have an infinite number of each kind of coin.

**Example 1:**

> Input: coins = [1,2,5], amount = 11
>
> Output: 3
>
> Explanation: 11 = 5 + 5 + 1

**Example 2:**

> Input: coins = [2], amount = 3
>
> Output: -1

**Example 3:**

> Input: coins = [1], amount = 0
>
> Output: 0

**Constraints:**

- `1 <= coins.length <= 12`
- `1 <= coins[i] <= 2^31 - 1`
- `0 <= amount <= 10^4`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `coins` ï¼Œè¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼›ä»¥åŠä¸€ä¸ªæ•´æ•° `amount` ï¼Œè¡¨ç¤ºæ€»é‡‘é¢ã€‚

è®¡ç®—å¹¶è¿”å›å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„ **æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°** ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› `-1` ã€‚

ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚

## è§£é¢˜æ€è·¯

å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åŒ–ï¼Œå®šä¹‰ä¸€ä¸ªæ•°ç»„`dp`ï¼Œå…¶ä¸­`dp[i]`è¡¨ç¤ºå‡‘é½é‡‘é¢`i`æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°ã€‚

- åˆå§‹åŒ–æ•°ç»„ `dp` ä¸º `-666`ï¼Œä¾¿äºåç»­å–æœ€å°å€¼ã€‚
- å°† base case `dp[0]` è®¾ç½®ä¸º `0`ï¼Œè¡¨ç¤ºå‡‘é½é‡‘é¢ `0` ä¸éœ€è¦ä»»ä½•ç¡¬å¸ã€‚
- å¯¹äºæ¯ä¸ªé‡‘é¢ `i`ï¼Œéå†ç¡¬å¸çš„é¢é¢ï¼Œè®¡ç®—å‡‘é½é‡‘é¢ `i` æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°ã€‚
- çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š`dp[i] = min(dp[i], dp[i - coin] + 1)`ï¼Œå…¶ä¸­ `coin` ä¸ºç¡¬å¸çš„é¢é¢ã€‚
- æœ€ç»ˆï¼Œ`dp[amount]` å³ä¸ºå‡‘é½æ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n * amount)`ï¼Œå…¶ä¸­ `n` æ˜¯ç¡¬å¸çš„æ•°é‡ï¼Œ`amount` æ˜¯ç›®æ ‡é‡‘é¢ã€‚å¯¹äºæ¯ä¸ªé‡‘é¢å°è¯•ä½¿ç”¨æ¯ç§ç¡¬å¸ï¼Œå› æ­¤åœ¨æœ€åæƒ…å†µä¸‹ï¼Œå¯èƒ½å¯¹ `amount` ç§é‡‘é¢è¿›è¡Œ `O(n)` æ¬¡é€’å½’è°ƒç”¨ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(amount)`
  - ä½¿ç”¨äº†ä¸€ä¸ªé•¿åº¦ä¸º `amount + 1` çš„æ•°ç»„ `dp`ï¼›
  - é€’å½’è°ƒç”¨çš„æ·±åº¦åœ¨æœ€åæƒ…å†µä¸‹å¯èƒ½è¾¾åˆ° `amount`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} coins
 * @param {number} amount
 * @return {number}
 */
var coinChange = function (coins, amount) {
	let dp = new Array(amount + 1).fill(-666);

	const helper = (num) => {
		if (num == 0) return 0;
		if (num < 0) return -1;
		if (dp[num] !== -666) return dp[num];
		let res = Infinity;
		for (let coin of coins) {
			let sub = helper(num - coin);
			if (sub == -1) continue;
			res = Math.min(res, sub + 1);
		}
		dp[num] = res == Infinity ? -1 : res;
		return dp[num];
	};
	return helper(amount);
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 983 | æœ€ä½ç¥¨ä»· |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-cost-for-tickets) [ğŸ”—](https://leetcode.com/problems/minimum-cost-for-tickets) |
| 2218 | ä»æ ˆä¸­å–å‡º K ä¸ªç¡¬å¸çš„æœ€å¤§é¢å€¼å’Œ |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) | <font color=#ff334b>Hard</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-value-of-k-coins-from-piles) [ğŸ”—](https://leetcode.com/problems/maximum-value-of-k-coins-from-piles) |
| 2224 | è½¬åŒ–æ—¶é—´éœ€è¦çš„æœ€å°‘æ“ä½œæ•° |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | <font color=#15bd66>Easy</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-number-of-operations-to-convert-time) [ğŸ”—](https://leetcode.com/problems/minimum-number-of-operations-to-convert-time) |
| 2547 | æ‹†åˆ†æ•°ç»„çš„æœ€å°ä»£ä»· |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) `1+` | <font color=#ff334b>Hard</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-cost-to-split-an-array) [ğŸ”—](https://leetcode.com/problems/minimum-cost-to-split-an-array) |
| 2902 | å’Œå¸¦é™åˆ¶çš„å­å¤šé‡é›†åˆçš„æ•°ç›® |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) `1+` | <font color=#ff334b>Hard</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/count-of-sub-multisets-with-bounded-sum) [ğŸ”—](https://leetcode.com/problems/count-of-sub-multisets-with-bounded-sum) |
| 2915 | å’Œä¸ºç›®æ ‡å€¼çš„æœ€é•¿å­åºåˆ—çš„é•¿åº¦ |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/length-of-the-longest-subsequence-that-sums-to-target) [ğŸ”—](https://leetcode.com/problems/length-of-the-longest-subsequence-that-sums-to-target) |
| 2952 | éœ€è¦æ·»åŠ çš„ç¡¬å¸çš„æœ€å°æ•°é‡ |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-number-of-coins-to-be-added) [ğŸ”—](https://leetcode.com/problems/minimum-number-of-coins-to-be-added) |
| 2979 | æœ€è´µçš„æ— æ³•è´­ä¹°çš„å•†å“ ğŸ”’ |  |  [`æ•°å­¦`](/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`æ•°è®º`](/tag/number-theory.md) | <font color=#ffb800>Medium</font> | [ğŸ€„ï¸](https://leetcode.cn/problems/most-expensive-item-that-can-not-be-bought) [ğŸ”—](https://leetcode.com/problems/most-expensive-item-that-can-not-be-bought) |