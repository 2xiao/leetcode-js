---
title: 2886. æ”¹å˜æ•°æ®ç±»å‹
description: LeetCode 2886. æ”¹å˜æ•°æ®ç±»å‹é¢˜è§£ï¼ŒChange Data Typeï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2886. æ”¹å˜æ•°æ®ç±»å‹
  - æ”¹å˜æ•°æ®ç±»å‹
  - Change Data Type
  - è§£é¢˜æ€è·¯
---

# 2886. æ”¹å˜æ•°æ®ç±»å‹

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/change-data-type) [`LeetCode`](https://leetcode.com/problems/change-data-type)

## é¢˜ç›®

> DataFrame students
>
> ```
> +-------------+--------+
> | Column Name | Type   |
> +-------------+--------+
> | student_id  | int    |
> | name        | object |
> | age         | int    |
> | grade       | float  |
> +-------------+--------+
> ```

Write a solution to correct the errors:

The `grade` column is stored as floats, convert it to integers.

The result format is in the following example.

> **Example 1:**
>
> **Input:**
>
> DataFrame students:
>
> ```
> +------------+------+-----+-------+
> | student_id | name | age | grade |
> +------------+------+-----+-------+
> | 1          | Ava  | 6   | 73.0  |
> | 2          | Kate | 15  | 87.0  |
> +------------+------+-----+-------+
> ```
>
> Output:
>
> ```
> +------------+------+-----+-------+
> | student_id | name | age | grade |
> +------------+------+-----+-------+
> | 1          | Ava  | 6   | 73    |
> | 2          | Kate | 15  | 87    |
> +------------+------+-----+-------+
> ```
>
> Explanation:
>
> The data types of the column grade is converted to int.

## é¢˜ç›®å¤§æ„

> DataFrame students
>
> ```
> +-------------+--------+
> | Column Name | Type   |
> +-------------+--------+
> | student_id  | int    |
> | name        | object |
> | age         | int    |
> | grade       | float  |
> +-------------+--------+
> ```

ç¼–å†™ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ¥çº æ­£ä»¥ä¸‹é”™è¯¯ï¼š

`grade` åˆ—è¢«å­˜å‚¨ä¸ºæµ®ç‚¹æ•°ï¼Œå°†å®ƒè½¬æ¢ä¸ºæ•´æ•°ã€‚

è¿”å›ç»“æœæ ¼å¼å¦‚ä¸‹ç¤ºä¾‹æ‰€ç¤ºã€‚

**ç¤ºä¾‹ 1:**

> **è¾“å…¥ï¼š**
>
> DataFrame students:
>
> ```
> +------------+------+-----+-------+
> | student_id | name | age | grade |
> +------------+------+-----+-------+
> | 1          | Ava  | 6   | 73.0  |
> | 2          | Kate | 15  | 87.0  |
> +------------+------+-----+-------+
> ```
>
> **è¾“å‡ºï¼š**
>
> ```
> +------------+------+-----+-------+
> | student_id | name | age | grade |
> +------------+------+-----+-------+
> | 1          | Ava  | 6   | 73    |
> | 2          | Kate | 15  | 87    |
> +------------+------+-----+-------+
> ```
>
> **è§£é‡Šï¼š**
>
> grade åˆ—çš„æ•°æ®ç±»å‹å·²è½¬æ¢ä¸ºæ•´æ•°ã€‚

## è§£é¢˜æ€è·¯

- ä½¿ç”¨ Pandas çš„ `astype()` æ–¹æ³•ï¼Œå¯ä»¥å°†ä¸€ä¸ªåˆ—çš„æ•°æ®ç±»å‹è½¬æ¢ä¸ºæŒ‡å®šçš„ç±»å‹ã€‚
- é€šè¿‡ `students['grade'].astype(int)` å°† `grade` åˆ—çš„ç±»å‹è½¬æ¢ä¸ºæ•´æ•°ã€‚
- `astype()` æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ DataFrameï¼Œå› æ­¤éœ€è¦è¿”å›ä¿®æ”¹åçš„ DataFrameã€‚
- **æ£€æŸ¥è¾¹ç•Œæƒ…å†µ**ï¼š
  - å¦‚æœ `grade` åˆ—å·²ç»æ˜¯æ•´æ•°ç±»å‹ï¼Œè½¬æ¢æ“ä½œä¸ä¼šå¯¹æ•°æ®äº§ç”Ÿå½±å“ã€‚
  - å¦‚æœ `grade` åˆ—åŒ…å«ç¼ºå¤±å€¼æˆ–æ— æ³•è½¬æ¢ä¸ºæ•´æ•°çš„æ•°æ®ï¼Œä»£ç ä¼šæŠ›å‡º `ValueError`ï¼Œéœ€è¦å…ˆè¿›è¡Œå¤„ç†ï¼ˆä¾‹å¦‚ä½¿ç”¨ `pd.to_numeric()` æˆ–å¡«å……ç¼ºå¤±å€¼ï¼‰ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯ `grade` åˆ—ä¸­çš„å…ƒç´ æ•°é‡ï¼Œ`astype()` æ–¹æ³•éå† `grade` åˆ—è¿›è¡Œç±»å‹è½¬æ¢ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ DataFrameã€‚

## ä»£ç 

```python
import pandas as pd

def changeDatatype(students: pd.DataFrame) -> pd.DataFrame:
  # ä½¿ç”¨ pd.to_numeric() å°†æ— æ³•è½¬æ¢çš„å€¼å˜ä¸º NaN
  # students['grade'] = pd.to_numeric(students['grade'], errors='coerce')

  # å¤„ç†ç¼ºå¤±å€¼ï¼Œå¯ä»¥é€‰æ‹©å¡«å……ç¼ºå¤±å€¼ï¼ˆä¾‹å¦‚å¡«å……ä¸º 0ï¼‰
  # students['grade'].fillna(0, inplace=True)

  # å°† grade åˆ—è½¬æ¢ä¸ºæ•´æ•°ç±»å‹
  students['grade'] = students['grade'].astype(int)

  return students
```
