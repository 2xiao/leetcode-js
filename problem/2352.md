---
title: 2352. ç›¸ç­‰è¡Œåˆ—å¯¹
description: LeetCode,2352. ç›¸ç­‰è¡Œåˆ—å¯¹,ç›¸ç­‰è¡Œåˆ—å¯¹,Equal Row and Column Pairs,è§£é¢˜æ€è·¯,æ•°ç»„,å“ˆå¸Œè¡¨,çŸ©é˜µ,æ¨¡æ‹Ÿ
keywords:
  - LeetCode
  - 2352. ç›¸ç­‰è¡Œåˆ—å¯¹
  - ç›¸ç­‰è¡Œåˆ—å¯¹
  - Equal Row and Column Pairs
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - çŸ©é˜µ
  - æ¨¡æ‹Ÿ
---

# 2352. ç›¸ç­‰è¡Œåˆ—å¯¹

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`çŸ©é˜µ`](/tag/matrix.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/equal-row-and-column-pairs) [`LeetCode`](https://leetcode.com/problems/equal-row-and-column-pairs)

## é¢˜ç›®

Given a **0-indexed** `n x n` integer matrix `grid`, _return the number of
pairs_`(ri, cj)`_such that row_`ri` _and column_`cj` _are equal_.

A row and column pair is considered equal if they contain the same elements in
the same order (i.e., an equal array).

**Example 1:**

![](https://assets.leetcode.com/uploads/2022/06/01/ex1.jpg)

> Input: grid = [[3,2,1],[1,7,6],[2,7,7]]
>
> Output: 1
>
> Explanation: There is 1 equal row and column pair:
>
> - (Row 2, Column 1): [2,7,7]

**Example 2:**

![](https://assets.leetcode.com/uploads/2022/06/01/ex2.jpg)

> Input: grid = [[3,1,2,2],[1,4,4,5],[2,4,2,2],[2,4,2,2]]
>
> Output: 3
>
> Explanation: There are 3 equal row and column pairs:
>
> - (Row 0, Column 0): [3,1,2,2]
> - (Row 2, Column 2): [2,4,2,2]
> - (Row 3, Column 2): [2,4,2,2]

**Constraints:**

- `n == grid.length == grid[i].length`
- `1 <= n <= 200`
- `1 <= grid[i][j] <= 10^5`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹ã€å¤§å°ä¸º `n x n` çš„æ•´æ•°çŸ©é˜µ `grid` ï¼Œè¿”å›æ»¡è¶³ `Ri` è¡Œå’Œ `Cj` åˆ—ç›¸ç­‰çš„è¡Œåˆ—å¯¹ `(Ri, Cj)` çš„æ•°ç›® ã€‚

å¦‚æœè¡Œå’Œåˆ—ä»¥ç›¸åŒçš„é¡ºåºåŒ…å«ç›¸åŒçš„å…ƒç´ ï¼ˆå³ç›¸ç­‰çš„æ•°ç»„ï¼‰ï¼Œåˆ™è®¤ä¸ºäºŒè€…æ˜¯ç›¸ç­‰çš„ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2022/06/01/ex1.jpg)

> **è¾“å…¥ï¼š** grid = [[3,2,1],[1,7,6],[2,7,7]]
>
> **è¾“å‡ºï¼š** 1
>
> **è§£é‡Šï¼š** å­˜åœ¨ä¸€å¯¹ç›¸ç­‰è¡Œåˆ—å¯¹ï¼š
>
> - (ç¬¬ 2 è¡Œï¼Œç¬¬ 1 åˆ—)ï¼š[2,7,7]

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2022/06/01/ex2.jpg)

> **è¾“å…¥ï¼š** grid = [[3,1,2,2],[1,4,4,5],[2,4,2,2],[2,4,2,2]]
>
> **è¾“å‡ºï¼š** 3
>
> **è§£é‡Šï¼š** å­˜åœ¨ä¸‰å¯¹ç›¸ç­‰è¡Œåˆ—å¯¹ï¼š
>
> - (ç¬¬ 0 è¡Œï¼Œç¬¬ 0 åˆ—)ï¼š[3,1,2,2]
> - (ç¬¬ 2 è¡Œ, ç¬¬ 2 åˆ—)ï¼š[2,4,2,2]
> - (ç¬¬ 3 è¡Œ, ç¬¬ 2 åˆ—)ï¼š[2,4,2,2]

**æç¤ºï¼š**

- `n == grid.length == grid[i].length`
- `1 <= n <= 200`
- `1 <= grid[i][j] <= 10^5`

## è§£é¢˜æ€è·¯

1. **åˆå§‹åŒ–å˜é‡**ï¼š

   - è·å–çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•° `n`ã€‚
   - åˆ›å»ºä¸€ä¸ªå“ˆå¸Œè¡¨ `rows` æ¥å­˜å‚¨è¡Œçš„å­—ç¬¦ä¸²è¡¨ç¤ºçš„å‡ºç°æ¬¡æ•°ã€‚
   - åˆ›å»ºä¸€ä¸ªæ•°ç»„ `cols` ç”¨äºæ„å»ºåˆ—çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚

2. **ç»Ÿè®¡è¡Œçš„å‡ºç°æ¬¡æ•°**ï¼š

   - éå†æ¯ä¸€è¡Œï¼Œå°†æ¯ä¸€è¡Œçš„å…ƒç´ æ‹¼æ¥æˆå­—ç¬¦ä¸² `rowStr`ï¼ˆä»¥é€—å·åˆ†éš”ï¼‰ã€‚
   - å°†è¿™ä¸ªå­—ç¬¦ä¸²ä½œä¸ºé”®å­˜å…¥å“ˆå¸Œè¡¨ `rows`ï¼Œå¹¶è®°å½•å…¶å‡ºç°æ¬¡æ•°ã€‚
   - åŒæ—¶ï¼Œå°†æ¯ä¸€è¡Œçš„å…ƒç´ æ‹¼æ¥åˆ°å¯¹åº”çš„åˆ—å­—ç¬¦ä¸² `cols[j]` ä¸­ï¼Œæ„å»ºåˆ—çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚

3. **ç»Ÿè®¡è¡Œåˆ—å¯¹çš„æ•°é‡**ï¼š

   - åˆå§‹åŒ–ç»“æœ `res` ä¸º 0ã€‚
   - éå†æ„å»ºçš„åˆ—å­—ç¬¦ä¸² `cols`ï¼Œå¯¹æ¯ä¸ªåˆ—å­—ç¬¦ä¸²ï¼Œåœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾å…¶å‡ºç°æ¬¡æ•°ã€‚
   - å°†å‡ºç°æ¬¡æ•°ç´¯åŠ åˆ°ç»“æœ `res` ä¸­ã€‚

4. **è¿”å›ç»“æœ**ï¼š
   - è¿”å›æœ€ç»ˆçš„ç»“æœ `res`ï¼Œå³æ»¡è¶³æ¡ä»¶çš„è¡Œåˆ—å¯¹çš„æ•°é‡ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^2)`ï¼Œå› ä¸ºéœ€è¦éå†æ•´ä¸ª `grid` çŸ©é˜µä¸€æ¬¡ï¼Œæ„å»ºè¡Œå’Œåˆ—å­—ç¬¦ä¸²ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå“ˆå¸Œè¡¨ `rows` å’Œæ•°ç»„ `cols` å­˜å‚¨äº†è¡Œå’Œåˆ—çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚

## ä»£ç 

```javascript
/**
 * @param {number[][]} grid
 * @return {number}
 */
var equalPairs = function (grid) {
	const n = grid.length;
	// å­˜å‚¨è¡Œçš„å­—ç¬¦ä¸²è¡¨ç¤º
	let rows = new Map();
	// å­˜å‚¨åˆ—çš„å­—ç¬¦ä¸²è¡¨ç¤º
	let cols = new Array(n).fill('');

	// æ„å»ºå¹¶ç»Ÿè®¡è¡Œå­—ç¬¦ä¸²å’Œåˆ—å­—ç¬¦ä¸²
	for (let i = 0; i < n; i++) {
		let rowStr = '';
		for (let j = 0; j < n; j++) {
			rowStr += grid[i][j] + ',';
			cols[j] += grid[i][j] + ',';
		}
		rows.set(rowStr, (rows.get(rowStr) || 0) + 1);
	}

	let res = 0;
	// ç»Ÿè®¡æ»¡è¶³æ¡ä»¶çš„è¡Œåˆ—å¯¹æ•°é‡
	for (let colStr of cols) {
		res += rows.get(colStr) || 0;
	}
	return res;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 2500 | åˆ é™¤æ¯è¡Œä¸­çš„æœ€å¤§å€¼ |  |  [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md) [`æ’åº`](/tag/sorting.md) `2+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/delete-greatest-value-in-each-row) [ğŸ”—](https://leetcode.com/problems/delete-greatest-value-in-each-row) |