# [å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…](https://leetcode.cn/problems/zheng-ze-biao-da-shi-pi-pei-lcof)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`é€’å½’`](/tag/recursion.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.cn/problems/zheng-ze-biao-da-shi-pi-pei-lcof)

## é¢˜ç›®

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `article` å’Œä¸€ä¸ªå­—ç¬¦è§„å¾‹ `input`ï¼Œè¯·ä½ æ¥å®ç°ä¸€ä¸ªæ”¯æŒ `'.'` å’Œ `'*'` çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚

- `'.'` åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦
- `'*'` åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ 

æ‰€è°“åŒ¹é…ï¼Œæ˜¯è¦æ¶µç›– **æ•´ä¸ª** å­—ç¬¦ä¸² `s` çš„ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸² `"aaa"` ä¸æ¨¡å¼ `"a.a"` å’Œ `"ab*ac*a"` åŒ¹é…ï¼Œä½†ä¸ `"aa.a"` å’Œ `"ab*a"` å‡ä¸åŒ¹é…ã€‚

**ç¤ºä¾‹ 1ï¼š**

> è¾“å…¥: article = "aa", input = "a"
>
> è¾“å‡º: false
>
> è§£é‡Š: "a" æ— æ³•åŒ¹é… "aa" æ•´ä¸ªå­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹ 2ï¼š**

> è¾“å…¥: article = "aa", input = "a\*"
>
> è¾“å‡º: true
>
> è§£é‡Š: å› ä¸º '\*' ä»£è¡¨å¯ä»¥åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ , åœ¨è¿™é‡Œå‰é¢çš„å…ƒç´ å°±æ˜¯ 'a'ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸² "aa" å¯è¢«è§†ä¸º 'a' é‡å¤äº†ä¸€æ¬¡ã€‚

**ç¤ºä¾‹ 3ï¼š**

> è¾“å…¥: article = "ab", input = ".\*"
>
> è¾“å‡º: true
>
> è§£é‡Š: ".\*" è¡¨ç¤ºå¯åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªï¼ˆ'\*'ï¼‰ä»»æ„å­—ç¬¦ï¼ˆ'.'ï¼‰ã€‚

**æç¤ºï¼š**

- `1 <= article.length <= 20`
- `1 <= input.length <= 20`
- `article` åªåŒ…å«ä» `a-z` çš„å°å†™å­—æ¯ã€‚
- `input` åªåŒ…å«ä» `a-z` çš„å°å†™å­—æ¯ï¼Œä»¥åŠå­—ç¬¦ `.` å’Œ `*` ã€‚
- ä¿è¯æ¯æ¬¡å‡ºç°å­—ç¬¦ `*` æ—¶ï¼Œå‰é¢éƒ½åŒ¹é…åˆ°æœ‰æ•ˆçš„å­—ç¬¦

::: warning
æœ¬é¢˜ä¸ LeetCode [ç¬¬ 10 é¢˜](./0010.md) ç›¸åŒã€‚
:::

## è§£é¢˜æ€è·¯

ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ `dp`ï¼Œå…¶ä¸­ `dp[i][j]` è¡¨ç¤ºå­—ç¬¦ä¸² `article` çš„å‰ `i` ä¸ªå­—ç¬¦å’Œæ¨¡å¼ `input` çš„å‰ `j` ä¸ªå­—ç¬¦æ˜¯å¦åŒ¹é…ã€‚

åŠ¨æ€è§„åˆ’çš„é€’æ¨å…¬å¼å¦‚ä¸‹ï¼š

1. å¦‚æœ `input[j]` ä¸æ˜¯ `'*'`ï¼Œä¸”å½“å‰å­—ç¬¦ `article[i]` å’Œ `input[j]` åŒ¹é…ï¼Œåˆ™ `dp[i][j] = dp[i-1][j-1]`ï¼Œè¡¨ç¤ºå½“å‰å­—ç¬¦æ˜¯å¦åŒ¹é…å–å†³äºå‰é¢çš„å­—ç¬¦æ˜¯å¦åŒ¹é…ã€‚
2. å¦‚æœ `input[j]` æ˜¯ `'*'`ï¼Œåˆ™æœ‰ä¸¤ç§æƒ…å†µï¼š
   - `'*'` åŒ¹é…é›¶ä¸ªå­—ç¬¦ï¼Œå³ `dp[i][j] = dp[i][j-2]`ã€‚
   - `'*'` åŒ¹é…å¤šä¸ªå­—ç¬¦ï¼Œå³ `dp[i][j] = dp[i-1][j]`ï¼Œå‰ææ˜¯å½“å‰å­—ç¬¦ `article[i]` å’Œ `input[j-1]` åŒ¹é…ã€‚
3. åˆå§‹æ¡ä»¶ä¸º `dp[0][0] = true`ï¼Œè¡¨ç¤ºç©ºå­—ç¬¦ä¸²å’Œç©ºæ¨¡å¼åŒ¹é…ã€‚
4. åˆå§‹åŒ–åŠ¨æ€è§„åˆ’è¡¨ `dp` çš„ç¬¬ä¸€è¡Œï¼Œå³ `dp[0][j]`ï¼Œè¡¨ç¤ºç©ºå­—ç¬¦ä¸²ä¸æ¨¡å¼ `input` çš„å‰ `j` ä¸ªå­—ç¬¦çš„åŒ¹é…æƒ…å†µï¼Œè¦æ³¨æ„è€ƒè™‘ç¬¬ `j` ä¸ªå­—ç¬¦æ˜¯ `'*'` çš„æƒ…å†µï¼Œã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @param {string} p
 * @return {boolean}
 */
var articleMatch = function (s, p) {
	const match = (i, j) => {
		return s[i - 1] == p[j - 1] || p[j - 1] == '.';
	};
	const m = s.length;
	const n = p.length;
	const dp = new Array(m + 1)
		.fill(false)
		.map(() => new Array(n + 1).fill(false));
	dp[0][0] = true;
	for (let j = 1; j <= n; j++) {
		if (p[j - 1] == '*') {
			dp[0][j] = dp[0][j - 2];
		}
	}
	for (let i = 1; i <= m; i++) {
		for (let j = 1; j <= n; j++) {
			if (match(i, j)) {
				dp[i][j] = dp[i - 1][j - 1];
			} else if (p[j - 1] == '*') {
				dp[i][j] = dp[i][j - 2] || (match(i, j - 1) && dp[i - 1][j]);
			}
		}
	}
	return dp[m][n];
};
```
