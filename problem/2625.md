# [2625. æ‰å¹³åŒ–åµŒå¥—æ•°ç»„](https://leetcode.com/problems/flatten-deeply-nested-array)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/flatten-deeply-nested-array)

## é¢˜ç›®

<p>è¯·ä½ ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ª&nbsp;<strong>å¤šç»´æ•°ç»„&nbsp;</strong><code>arr</code> å’Œå®ƒçš„æ·±åº¦ <code>n</code> ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„&nbsp;<strong>æ‰å¹³åŒ–&nbsp;</strong>åçš„ç»“æœã€‚</p>

<p><strong>å¤šç»´æ•°ç»„&nbsp;</strong>æ˜¯ä¸€ç§åŒ…å«æ•´æ•°æˆ–å…¶ä»–&nbsp;<strong>å¤šç»´æ•°ç»„&nbsp;</strong>çš„é€’å½’æ•°æ®ç»“æ„ã€‚</p>

<p>æ•°ç»„ <strong>æ‰å¹³åŒ–</strong> æ˜¯å¯¹æ•°ç»„çš„ä¸€ç§æ“ä½œï¼Œå®šä¹‰æ˜¯å°†åŸæ•°ç»„éƒ¨åˆ†æˆ–å…¨éƒ¨å­æ•°ç»„åˆ é™¤ï¼Œå¹¶æ›¿æ¢ä¸ºè¯¥å­æ•°ç»„ä¸­çš„å®é™…å…ƒç´ ã€‚åªæœ‰å½“åµŒå¥—çš„æ•°ç»„æ·±åº¦å¤§äº <code>n</code> æ—¶ï¼Œæ‰åº”è¯¥æ‰§è¡Œæ‰å¹³åŒ–æ“ä½œã€‚ç¬¬ä¸€å±‚æ•°ç»„ä¸­å…ƒç´ çš„æ·±åº¦è¢«è®¤ä¸ºæ˜¯ 0ã€‚</p>

<p>è¯·åœ¨æ²¡æœ‰ä½¿ç”¨å†…ç½®æ–¹æ³•&nbsp;<code>Array.flat</code> çš„å‰æä¸‹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>

<p>&nbsp;</p>

<p><strong class="example">ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥</strong>
arr = [1, 2, 3, [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]]
n = 0
<strong>è¾“å‡º</strong>
[1, 2, 3, [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]]

<strong>è§£é‡Š</strong>
ä¼ é€’æ·±åº¦ n=0 çš„å¤šç»´æ•°ç»„å°†å§‹ç»ˆå¾—åˆ°åŸå§‹æ•°ç»„ã€‚è¿™æ˜¯å› ä¸º å­æ•°ç»„(0) çš„æœ€å°å¯èƒ½çš„æ·±åº¦ä¸å°äº n=0 ã€‚å› æ­¤ï¼Œä»»ä½•å­æ•°ç»„éƒ½ä¸åº”è¯¥è¢«å¹³é¢åŒ–ã€‚
</pre>

<p><strong class="example">ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥</strong>
arr = [1, 2, 3, [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]]
n = 1
<strong>è¾“å‡º</strong>
[1, 2, 3, 4, 5, 6, 7, 8, [9, 10, 11], 12, 13, 14, 15]

<strong>è§£é‡Š</strong>
ä»¥ 4 ã€7 å’Œ 13 å¼€å¤´çš„å­æ•°ç»„éƒ½è¢«æ‰å¹³åŒ–äº†ï¼Œè¿™æ˜¯å› ä¸ºå®ƒä»¬çš„æ·±åº¦ä¸º 0 ï¼Œ è€Œ 0 å°äº 1 ã€‚ç„¶è€Œ [9,10,11] å…¶æ·±åº¦ä¸º 1 ï¼Œæ‰€ä»¥æœªè¢«æ‰å¹³åŒ–ã€‚</pre>

<p><strong class="example">ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥</strong>
arr = [[1, 2, 3], [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]]
n = 2
<strong>è¾“å‡º</strong>
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]

<strong>è§£é‡Š</strong>
æ‰€æœ‰å­æ•°ç»„çš„æœ€å¤§æ·±åº¦éƒ½ä¸º 1 ã€‚å› æ­¤ï¼Œå®ƒä»¬éƒ½è¢«æ‰å¹³åŒ–äº†ã€‚</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>0 &lt;= arr çš„å…ƒç´ ä¸ªæ•°&nbsp;&lt;=&nbsp;10<sup>5</sup></code></li>
	<li><code>0 &lt;= arr çš„å­æ•°ç»„ä¸ªæ•°&nbsp;&lt;=&nbsp;10<sup>5</sup></code></li>
	<li><code>maxDepth &lt;= 1000</code></li>
	<li><code>-1000 &lt;= each number &lt;= 1000</code></li>
	<li><code><font face="monospace">0 &lt;= n &lt;= 1000</font></code></li>
</ul>


## è§£é¢˜æ€è·¯

1. å®šä¹‰ä¸€ä¸ªç©ºæ•°ç»„ `result` ç”¨äºå­˜å‚¨ç»“æœã€‚
2. å®šä¹‰å†…éƒ¨é€’å½’å‡½æ•° `flattenArray`ï¼Œä½¿ç”¨ `forEach` éå†è¾“å…¥çš„åµŒå¥—æ•°ç»„ã€‚
3. å¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œï¼š
   - å¦‚æœæ˜¯å…¶ç±»å‹æ˜¯æ•°ç»„ä¸”æ‰å¹³åŒ–æ·±åº¦å¤§äº 0ï¼Œé€’å½’è°ƒç”¨ `flattenArray` å‡½æ•°å¤„ç†è¯¥æ•°ç»„ã€‚
   - å¦åˆ™ï¼Œç›´æ¥å°†å…¶æ·»åŠ åˆ°ç»“æœæ•°ç»„ä¸­ã€‚
4. æœ€åè¿”å›å±•å¹³åçš„ç»“æœæ•°ç»„ã€‚

### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ€»æ•°ï¼Œæ¯ä¸ªå…ƒç´ éƒ½éœ€è¦è¢«è®¿é—®ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œç”¨äºå­˜å‚¨ç»“æœæ•°ç»„ã€‚

## ä»£ç 

```javascript
/**
 * @param {Array} arr
 * @param {number} depth
 * @return {Array}
 */
var flat = function (arr, n) {
	let res = [];
	const flattenArray = (arr, n) => {
		arr.forEach((item) => {
			if (Array.isArray(item) && n > 0) {
				// é€’å½’è°ƒç”¨
				flattenArray(item, n - 1);
			} else {
				// æ·»åŠ éæ•°ç»„å…ƒç´ 
				res.push(item);
			}
		});
	};
	flattenArray(arr, n);
	return res;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2628 | [å®Œå…¨ç›¸ç­‰çš„ JSON å­—ç¬¦ä¸²](https://leetcode.com/problems/json-deep-equal) |  |  | <font color=#ffb800>Medium</font> |
| 2633 | [å°†å¯¹è±¡è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²](https://leetcode.com/problems/convert-object-to-json-string) |  |  | <font color=#ffb800>Medium</font> |
| 2649 | [åµŒå¥—æ•°ç»„ç”Ÿæˆå™¨](https://leetcode.com/problems/nested-array-generator) |  |  | <font color=#ffb800>Medium</font> |