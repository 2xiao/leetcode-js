---
title: 467. ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²
description: LeetCode 467. ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²é¢˜è§£ï¼ŒUnique Substrings in Wraparound Stringï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 467. ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²
  - ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²
  - Unique Substrings in Wraparound String
  - è§£é¢˜æ€è·¯
  - å­—ç¬¦ä¸²
  - åŠ¨æ€è§„åˆ’
---

# 467. ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/unique-substrings-in-wraparound-string) [`LeetCode`](https://leetcode.com/problems/unique-substrings-in-wraparound-string)

## é¢˜ç›®

We define the string `base` to be the infinite wraparound string of
`"abcdefghijklmnopqrstuvwxyz"`, so `base` will look like this:

- `"...zabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcd...."`.

Given a string `s`, return _the number of **unique non-empty substrings** of_ `s` _are present in_ `base`.

**Example 1:**

> Input: s = "a"
>
> Output: 1
>
> Explanation: Only the substring "a" of s is in base.

**Example 2:**

> Input: s = "cac"
>
> Output: 2
>
> Explanation: There are two substrings ("a", "c") of s in base.

**Example 3:**

> Input: s = "zab"
>
> Output: 6
>
> Explanation: There are six substrings ("z", "a", "b", "za", "ab", and "zab") of s in base.

**Constraints:**

- `1 <= s.length <= 10^5`
- `s` consists of lowercase English letters.

## é¢˜ç›®å¤§æ„

å®šä¹‰å­—ç¬¦ä¸² `base` ä¸ºä¸€ä¸ª `"abcdefghijklmnopqrstuvwxyz"` æ— é™ç¯ç»•çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ `base` çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š

- `"...zabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcd...."`.

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å› `s` ä¸­æœ‰å¤šå°‘ **ä¸åŒ** éç©ºå­ä¸² ä¹Ÿåœ¨ `base` ä¸­å‡ºç°ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** s = "a"
>
> **è¾“å‡ºï¼š** 1
>
> **è§£é‡Šï¼š** å­—ç¬¦ä¸² s çš„å­å­—ç¬¦ä¸² "a" åœ¨ base ä¸­å‡ºç°ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** s = "cac"
>
> **è¾“å‡ºï¼š** 2
>
> **è§£é‡Šï¼š** å­—ç¬¦ä¸² s æœ‰ä¸¤ä¸ªå­å­—ç¬¦ä¸² ("a", "c") åœ¨ base ä¸­å‡ºç°ã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** s = "zab"
>
> **è¾“å‡ºï¼š** 6
>
> **è§£é‡Šï¼š** å­—ç¬¦ä¸² s æœ‰å…­ä¸ªå­å­—ç¬¦ä¸² ("z", "a", "b", "za", "ab", and "zab") åœ¨ base ä¸­å‡ºç°ã€‚

**æç¤ºï¼š**

- `1 <= s.length <= 10^5`
- s ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

## è§£é¢˜æ€è·¯

1. çŠ¶æ€å®šä¹‰

- `memo[i]` è¡¨ç¤ºä»¥ç¬¬ `i` ä¸ªå­—æ¯ç»“å°¾çš„æœ€é•¿è¿ç»­å­ä¸²çš„æœ€å¤§é•¿åº¦ã€‚
- `maxLen` è®°å½•å½“å‰è¿ç»­é€’å¢å­ä¸²çš„é•¿åº¦ã€‚

2. è½¬ç§»æ–¹ç¨‹

- è‹¥ `s[i]` æ˜¯ `s[i-1]` çš„è¿ç»­å­—æ¯ (`'b'` åœ¨ `'a'` ä¹‹å)ï¼Œåˆ™ `maxLen++`ã€‚
- å¦åˆ™ï¼Œ`maxLen` é‡æ–°ç½®ä¸º `1`ã€‚
- æ›´æ–° `memo[s[i]]`ï¼Œç¡®ä¿è¯¥å­—æ¯ç»“å°¾çš„æœ€é•¿å­ä¸²é•¿åº¦æœ€å¤§åŒ–ã€‚

3. ç»“æœè®¡ç®—

- `memo` å­˜å‚¨äº†æ‰€æœ‰å¯èƒ½å­ä¸²çš„å»é‡ç»“æœï¼Œç›´æ¥ç´¯åŠ å³å¯ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œä»…éå† `s` ä¸€æ¬¡ï¼Œå¹¶ä½¿ç”¨æ•°ç»„å­˜å‚¨ä¿¡æ¯ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªç”¨ `26` ä¸ªå­—ç¬¦çš„æ•°ç»„ `memo`ï¼Œé¢å¤–ç©ºé—´æ¶ˆè€—å¾ˆå°ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var findSubstringInWraproundString = function (s) {
	let maxLen = 0;
	const memo = new Array(26).fill(0);

	for (let i = 0; i < s.length; i++) {
		if (
			i > 0 &&
			(s.charCodeAt(i - 1) - s.charCodeAt(i) === 25 ||
				s.charCodeAt(i) - s.charCodeAt(i - 1) === 1)
		) {
			maxLen++;
		} else {
			maxLen = 1;
		}
		const index = s.charCodeAt(i) - 97;
		memo[index] = Math.max(memo[index], maxLen);
	}

	return memo.reduce((acc, cur) => acc + cur, 0);
};
```
