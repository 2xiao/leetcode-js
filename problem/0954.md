# [954. äºŒå€æ•°å¯¹æ•°ç»„](https://leetcode.com/problems/array-of-doubled-pairs)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/array-of-doubled-pairs)

## é¢˜ç›®

<p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºå¶æ•°çš„æ•´æ•°æ•°ç»„ <code>arr</code>ï¼Œåªæœ‰å¯¹ <code>arr</code> è¿›è¡Œé‡ç»„åå¯ä»¥æ»¡è¶³ â€œå¯¹äºæ¯ä¸ª <code>0 &lt;=&nbsp;i &lt; len(arr) / 2</code>ï¼Œéƒ½æœ‰ <code>arr[2 * i + 1] = 2 * arr[2 * i]</code>â€&nbsp;æ—¶ï¼Œè¿”å› <code>true</code>ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code>ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>arr = [3,1,3,6]
<strong>è¾“å‡ºï¼š</strong>false
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>arr = [2,1,2,6]
<strong>è¾“å‡ºï¼š</strong>false
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>arr = [4,-2,2,-4]
<strong>è¾“å‡ºï¼š</strong>true
<strong>è§£é‡Šï¼š</strong>å¯ä»¥ç”¨ [-2,-4] å’Œ [2,4] è¿™ä¸¤ç»„ç»„æˆ [-2,-4,2,4] æˆ–æ˜¯ [2,4,-2,-4]
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>0 &lt;= arr.length &lt;= 3 * 10<sup>4</sup></code></li>
	<li><code>arr.length</code> æ˜¯å¶æ•°</li>
	<li><code>-10<sup>5</sup> &lt;= arr[i] &lt;= 10<sup>5</sup></code></li>
</ul>


## è§£é¢˜æ€è·¯

- ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨ `count` æ¥ç»Ÿè®¡ `arr` ä¸­æ¯ä¸ªæ•°å­—çš„ä¸ªæ•°ï¼Œå³ `count[x]` è¡¨ç¤º `arr` ä¸­ `x` çš„ä¸ªæ•°ï¼›
- ç”¨ä¸€ä¸ªæ•°ç»„ `vals` è¡¨ç¤ºå»é‡åçš„æ‰€æœ‰æ•°å­—ï¼Œå¹¶å°†å…¶æŒ‰ç»å¯¹å€¼ä»å°åˆ°å¤§æ’åºï¼›
- éå† `vals`ï¼Œå‡è®¾ `x` ä¸º `arr` ä¸­ç»å¯¹å€¼æœ€å°çš„å…ƒç´ ï¼Œç”±äºæ²¡æœ‰ç»å¯¹å€¼æ¯” `x` æ›´å°çš„æ•°ï¼Œå› æ­¤ `x` åªèƒ½ä¸ `2x` åŒ¹é…ã€‚
- å¦‚æœæ­¤æ—¶ `count[2x]<count[x]`ï¼Œé‚£ä¹ˆä¼šæœ‰éƒ¨åˆ† `x` æ— æ³•æ‰¾åˆ°å®ƒçš„å¦ä¸€åŠï¼Œå³æ— æ³•æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼›
- å¦åˆ™å°†æ‰€æœ‰ `x` å’Œ `count[x]` ä¸ª `2x` ä» `arr` ä¸­å»æ‰ï¼Œç»§ç»­åˆ¤æ–­å‰©ä½™å…ƒç´ æ˜¯å¦æ»¡è¶³é¢˜ç›®è¦æ±‚ã€‚
- ä¸æ–­é‡å¤æ­¤æ“ä½œï¼Œå¦‚æœæŸä¸ªæ—¶åˆ» `arr` ä¸ºç©ºï¼Œåˆ™è¯´æ˜ `arr` å¯ä»¥æ»¡è¶³é¢˜ç›®è¦æ±‚ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} arr
 * @return {boolean}
 */
var canReorderDoubled = function (arr) {
	const count = new Map();
	for (let i of arr) {
		count.set(i, (count.get(i) || 0) + 1);
	}

	// Â å–å‡ºå»é‡åçš„æ•°å­—ã€‚å¹¶æŒ‰ç…§ç»å¯¹å€¼æ’åº
	const vals = [...count.keys()].sort((a, b) => Math.abs(a) - Math.abs(b));

	for (let x of vals) {
		// æ— æ³•æ‰¾åˆ°è¶³å¤Ÿçš„ 2x ä¸ x é…å¯¹
		if ((count.get(x * 2) || 0) < count.get(x)) return false;

		count.set(x * 2, (count.get(x * 2) || 0) - count.get(x));
	}
	return true;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2007 | [ä»åŒå€æ•°ç»„ä¸­è¿˜åŸåŸæ•°ç»„](https://leetcode.com/problems/find-original-array-from-doubled-array) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `1+` | <font color=#ffb800>Medium</font> |