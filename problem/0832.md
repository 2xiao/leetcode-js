---
title: 832. ç¿»è½¬å›¾åƒ
description: LeetCode 832. ç¿»è½¬å›¾åƒé¢˜è§£ï¼ŒFlipping an Imageï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 832. ç¿»è½¬å›¾åƒ
  - ç¿»è½¬å›¾åƒ
  - Flipping an Image
  - è§£é¢˜æ€è·¯
  - ä½è¿ç®—
  - æ•°ç»„
  - åŒæŒ‡é’ˆ
  - çŸ©é˜µ
  - æ¨¡æ‹Ÿ
---

# 832. ç¿»è½¬å›¾åƒ

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`çŸ©é˜µ`](/tag/matrix.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/flipping-an-image) [`LeetCode`](https://leetcode.com/problems/flipping-an-image)

## é¢˜ç›®

Given an `n x n` binary matrix `image`, flip the image **horizontally** , then
invert it, and return _the resulting image_.

To flip an image horizontally means that each row of the image is reversed.

- For example, flipping `[1,1,0]` horizontally results in `[0,1,1]`.

To invert an image means that each `0` is replaced by `1`, and each `1` is
replaced by `0`.

- For example, inverting `[0,1,1]` results in `[1,0,0]`.

**Example 1:**

> Input: image = [[1,1,0],[1,0,1],[0,0,0]]
>
> Output: [[1,0,0],[0,1,0],[1,1,1]]
>
> Explanation: First reverse each row: [[0,1,1],[1,0,1],[0,0,0]].
>
> Then, invert the image: [[1,0,0],[0,1,0],[1,1,1]]

**Example 2:**

> Input: image = [[1,1,0,0],[1,0,0,1],[0,1,1,1],[1,0,1,0]]
>
> Output: [[1,1,0,0],[0,1,1,0],[0,0,0,1],[1,0,1,0]]
>
> Explanation: First reverse each row: [[0,0,1,1],[1,0,0,1],[1,1,1,0],[0,1,0,1]].
>
> Then invert the image: [[1,1,0,0],[0,1,1,0],[0,0,0,1],[1,0,1,0]]

**Constraints:**

- `n == image.length`
- `n == image[i].length`
- `1 <= n <= 20`
- `images[i][j]` is either `0` or `1`.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ª `n x n` çš„äºŒè¿›åˆ¶çŸ©é˜µ `image` ï¼Œå…ˆ **æ°´å¹³** ç¿»è½¬å›¾åƒï¼Œç„¶å **åè½¬ **å›¾åƒå¹¶è¿”å› _ç»“æœ_ ã€‚

**æ°´å¹³** ç¿»è½¬å›¾ç‰‡å°±æ˜¯å°†å›¾ç‰‡çš„æ¯ä¸€è¡Œéƒ½è¿›è¡Œç¿»è½¬ï¼Œå³é€†åºã€‚

- ä¾‹å¦‚ï¼Œæ°´å¹³ç¿»è½¬ `[1,1,0]` çš„ç»“æœæ˜¯ `[0,1,1]`ã€‚

**åè½¬** å›¾ç‰‡çš„æ„æ€æ˜¯å›¾ç‰‡ä¸­çš„ `0` å…¨éƒ¨è¢« `1` æ›¿æ¢ï¼Œ `1` å…¨éƒ¨è¢« `0` æ›¿æ¢ã€‚

- ä¾‹å¦‚ï¼Œåè½¬ `[0,1,1]` çš„ç»“æœæ˜¯ `[1,0,0]`ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** image = [[1,1,0],[1,0,1],[0,0,0]]
>
> **è¾“å‡ºï¼š**[[1,0,0],[0,1,0],[1,1,1]]
>
> **è§£é‡Šï¼š** é¦–å…ˆç¿»è½¬æ¯ä¸€è¡Œ: [[0,1,1],[1,0,1],[0,0,0]]ï¼›
>
> > ç„¶ååè½¬å›¾ç‰‡: [[1,0,0],[0,1,0],[1,1,1]]

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** image = [[1,1,0,0],[1,0,0,1],[0,1,1,1],[1,0,1,0]]
>
> **è¾“å‡ºï¼š**[[1,1,0,0],[0,1,1,0],[0,0,0,1],[1,0,1,0]]
>
> **è§£é‡Šï¼š** é¦–å…ˆç¿»è½¬æ¯ä¸€è¡Œ: [[0,0,1,1],[1,0,0,1],[1,1,1,0],[0,1,0,1]]ï¼›
>
> > ç„¶ååè½¬å›¾ç‰‡: [[1,1,0,0],[0,1,1,0],[0,0,0,1],[1,0,1,0]]

**æç¤ºï¼š**

- `n == image.length`
- `n == image[i].length`
- `1 <= n <= 20`
- `images[i][j]` == `0` æˆ– `1`.

## è§£é¢˜æ€è·¯

1. **ç¿»è½¬å’Œå–ååŒæ—¶æ“ä½œ**ï¼š

   - ä½¿ç”¨åŒæŒ‡é’ˆä»è¡Œçš„ä¸¤ç«¯å¼€å§‹ï¼Œé€æ­¥äº¤æ¢å¯¹åº”ä½ç½®çš„å…ƒç´ ï¼ˆæ°´å¹³ç¿»è½¬ï¼‰ã€‚
   - åœ¨äº¤æ¢å…ƒç´ çš„åŒæ—¶ï¼Œå¯¹å…ƒç´ è¿›è¡Œå–åæ“ä½œï¼š
     - ä½¿ç”¨ä½è¿ç®— `^ 1` å®ç°å–åæ“ä½œï¼ˆ`0 ^ 1 = 1`, `1 ^ 1 = 0`ï¼‰ã€‚
   - æ³¨æ„è¦å…¼å®¹åˆ—æ•°ä¸ºå¥‡æ•°çš„æƒ…å†µã€‚

2. éå†æ•´ä¸ªäºŒç»´æ•°ç»„ï¼Œå¯¹äºŒç»´æ•°ç»„çš„æ¯ä¸€è¡Œéƒ½åº”ç”¨ä¸Šè¿°æ“ä½œã€‚

3. ä¿®æ”¹äºŒç»´æ•°ç»„åç›´æ¥è¿”å›ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m * n)`ï¼ŒäºŒç»´æ•°ç»„æœ‰ `m` è¡Œï¼Œæ¯è¡Œé•¿åº¦ä¸º `n`ï¼Œ å¯¹æ¯ä¸€è¡Œï¼Œæˆ‘ä»¬éœ€è¦éå† `O(n / 2)` æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨å¸¸æ•°çº§é¢å¤–ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[][]} image
 * @return {number[][]}
 */
var flipAndInvertImage = function (image) {
	const n = image[0].length; // è¡Œçš„é•¿åº¦
	for (let row of image) {
		// åŒæŒ‡é’ˆä»ä¸¤ç«¯è¿›è¡Œç¿»è½¬å’Œå–å
		for (let i = 0; i < Math.floor(n / 2); i++) {
			// äº¤æ¢å¹¶å–å
			let temp = row[i];
			row[i] = row[n - i - 1] ^ 1; // å–å
			row[n - i - 1] = temp ^ 1; // å–å
		}
		// å¦‚æœé•¿åº¦æ˜¯å¥‡æ•°ï¼Œå¤„ç†ä¸­é—´å…ƒç´ 
		if (n % 2 === 1) {
			row[Math.floor(n / 2)] ^= 1;
		}
	}
	return image;
};
```
