# [131. åˆ†å‰²å›æ–‡ä¸²](https://2xiao.github.io/leetcode-js/problem/0131.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`å›æº¯`](/tag/backtracking.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/palindrome-partitioning) [`LeetCode`](https://leetcode.com/problems/palindrome-partitioning)

## é¢˜ç›®

Given a string `s`, partition `s` such that every substring of the partition
is a **palindrome**. Return _all possible palindrome partitioning of_`s`.

**Example 1:**

> Input: s = "aab"
>
> Output: [["a","a","b"],["aa","b"]]

**Example 2:**

> Input: s = "a"
>
> Output: [["a"]]

**Constraints:**

- `1 <= s.length <= 16`
- `s` contains only lowercase English letters.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œè¯·ä½ å°† `s` åˆ†å‰²æˆä¸€äº›å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯ **å›æ–‡ä¸²** ã€‚è¿”å› `s` æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²æ–¹æ¡ˆã€‚

**å›æ–‡ä¸²** æ˜¯æ­£ç€è¯»å’Œåç€è¯»éƒ½ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚

## è§£é¢˜æ€è·¯

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å›æº¯é—®é¢˜ï¼Œéœ€è¦ç©·ä¸¾æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²æ–¹å¼ï¼Œå¹¶ä¸”ä¿è¯æ¯ä¸ªåˆ†å‰²å‡ºæ¥çš„å­ä¸²éƒ½æ˜¯å›æ–‡ä¸²ã€‚ä»¥ä¸‹æ˜¯è§£é¢˜æ€è·¯ï¼š

1. ä½¿ç”¨å›æº¯æ³•ï¼Œå®šä¹‰ä¸€ä¸ª `track` æ•°ç»„æ¥å­˜å‚¨å½“å‰çš„åˆ†å‰²æ–¹æ¡ˆï¼Œä»¥åŠä¸€ä¸ª `res` æ•°ç»„æ¥å­˜å‚¨æ‰€æœ‰çš„åˆæ³•åˆ†å‰²æ–¹æ¡ˆã€‚
2. ä»å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®å¼€å§‹ï¼Œé€æ­¥æˆªå–å­ä¸²ï¼Œåˆ¤æ–­æˆªå–çš„å­ä¸²æ˜¯å¦æ˜¯å›æ–‡ä¸²ã€‚
3. å¦‚æœæ˜¯å›æ–‡ä¸²ï¼Œåˆ™å°†è¯¥å­ä¸²åŠ å…¥ `track` æ•°ç»„ä¸­ï¼Œç„¶åé€’å½’è°ƒç”¨ï¼Œç»§ç»­å‘åæˆªå–å­ä¸²ã€‚
4. å¦‚æœä¸æ˜¯å›æ–‡ä¸²ï¼Œåˆ™å›æº¯åˆ°ä¸Šä¸€å±‚ï¼Œå°è¯•å…¶ä»–çš„åˆ†å‰²æ–¹æ¡ˆã€‚
5. å½“æˆªå–åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾æ—¶ï¼Œå°†å½“å‰çš„ `track` æ•°ç»„åŠ å…¥ `res` æ•°ç»„ï¼Œè¡¨ç¤ºæ‰¾åˆ°äº†ä¸€ç§åˆæ³•çš„åˆ†å‰²æ–¹æ¡ˆã€‚

#### ç©ºé—´å¤æ‚åº¦

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n * 2^n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
  - æ¯æ¬¡é€’å½’è°ƒç”¨æ—¶ï¼Œéœ€è¦æ£€æŸ¥å­ä¸²æ˜¯å¦ä¸ºå›æ–‡ï¼Œå›æ–‡åˆ¤æ–­çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ï¼Œå› ä¸ºéœ€è¦éå†å­ä¸²çš„å­—ç¬¦è¿›è¡Œæ¯”è¾ƒï¼›
  - ç”±äºæ¯ä¸ªå­—ç¬¦éƒ½æœ‰å¯èƒ½å½¢æˆå›æ–‡æˆ–ä¸å½¢æˆå›æ–‡ï¼Œæœ€åæƒ…å†µä¸‹å›æ–‡åˆ¤æ–­æ¬¡æ•°ä¸º `2^n`ï¼›
  - æ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ¥è¿‘äº `O(n * 2^n)` è¿™ä¸ªçº§åˆ«ï¼Œä½†å› ä¸ºé‡å¤çš„å›æ–‡æ£€æŸ¥å’Œå›æº¯å‰ªæï¼Œå®é™…çš„è¿è¡Œæ—¶é—´ä¼šè¿œä½äºè¿™ä¸ªç†è®ºå€¼ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`(ä¸åŒ…æ‹¬ç»“æœæ•°ç»„çš„å­˜å‚¨ç©ºé—´)ã€‚
  - é€’å½’æ ˆçš„ç©ºé—´å¤æ‚åº¦ `O(n)`ï¼Œå›æº¯ç®—æ³•çš„é€’å½’æ·±åº¦æœ€å¤§ä¸º `n`ï¼›
  - ä½¿ç”¨äº†ä¸€ä¸ª `track` æ•°ç»„æ¥å­˜å‚¨å½“å‰è·¯å¾„ï¼Œå®ƒçš„ç©ºé—´å¤æ‚åº¦æ˜¯ `O(n)`ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {string[][]}
 */
var partition = function (s) {
	let res = [];
	let track = [];

	// åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ˜¯å›æ–‡å­—ç¬¦ä¸²
	const isPalindrome = (str) => {
		let left = 0;
		let right = str.length - 1;
		while (left < right) {
			if (str[left] !== str[right]) {
				return false;
			}
			left++;
			right--;
		}
		return true;
	};

	const backtrack = (start) => {
		// æˆªå–åˆ°äº†å­—ç¬¦ä¸²çš„æœ«å°¾ï¼Œä»£è¡¨æ‰¾åˆ°äº†ä¸€ç§åˆæ³•çš„æˆªå–æ–¹å¼
		if (start == s.length) {
			res.push([...track]);
			return;
		}
		for (let i = start; i < s.length; i++) {
			// æˆªå–ä»ç´¢å¼• start åˆ°ç´¢å¼• i + 1ï¼ˆä¸åŒ…æ‹¬ i + 1ï¼‰çš„å­ä¸²
			const str = s.substring(start, i + 1);
			if (isPalindrome(str)) {
				track.push(str);
				backtrack(i + 1);
				track.pop();
			}
		}
	};
	backtrack(0);
	return res;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 132 | [åˆ†å‰²å›æ–‡ä¸² II](https://leetcode.com/problems/palindrome-partitioning-ii) |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> |
| 1745 | [åˆ†å‰²å›æ–‡ä¸² IV](https://leetcode.com/problems/palindrome-partitioning-iv) |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ff334b>Hard</font> |
| 2472 | [ä¸é‡å å›æ–‡å­å­—ç¬¦ä¸²çš„æœ€å¤§æ•°ç›®](https://leetcode.com/problems/maximum-number-of-non-overlapping-palindrome-substrings) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | <font color=#ff334b>Hard</font> |