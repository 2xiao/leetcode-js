# [426. å°†äºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºæ’åºçš„åŒå‘é“¾è¡¨](https://leetcode.com/problems/convert-binary-search-tree-to-sorted-doubly-linked-list)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æœç´¢æ ‘`](/tag/binary-search-tree.md) [`é“¾è¡¨`](/tag/linked-list.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md) [`åŒå‘é“¾è¡¨`](/tag/doubly-linked-list.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/convert-binary-search-tree-to-sorted-doubly-linked-list)

## é¢˜ç›®



## è§£é¢˜æ€è·¯

äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†ç»“æœæ˜¯æœ‰åºçš„ï¼Œå› æ­¤è¦å°†ä¸€ä¸ªäºŒå‰æœç´¢æ ‘å°±åœ°è½¬åŒ–ä¸ºä¸€ä¸ªå·²æ’åºçš„åŒå‘å¾ªç¯é“¾è¡¨ï¼Œå¯ä»¥é‡‡ç”¨ä¸­åºéå†çš„æ–¹å¼ï¼Œå°†èŠ‚ç‚¹çš„å·¦å³æŒ‡é’ˆåˆ†åˆ«æŒ‡å‘å‰é©±å’Œåç»§èŠ‚ç‚¹ã€‚æœ€åï¼Œè°ƒæ•´å¤´å°¾èŠ‚ç‚¹çš„å‰é©±å’Œåç»§æŒ‡é’ˆï¼Œå½¢æˆå¾ªç¯é“¾è¡¨ã€‚

1. å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆ `head` å’Œ `tail`ï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºåŒå‘é“¾è¡¨çš„å¤´éƒ¨å’Œå°¾éƒ¨ã€‚
2. å®šä¹‰ä¸€ä¸ªä¸­åºéå†çš„å‡½æ•° `traverse`ï¼Œå…¶ä¸­å¯¹æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œå¦‚ä¸‹å¤„ç†ï¼š
   - å¦‚æœ `head` ä¸ºç©ºï¼Œå°†å½“å‰èŠ‚ç‚¹èµ‹å€¼ç»™ `head`ã€‚
   - å¦‚æœ `tail` ä¸ä¸ºç©ºï¼Œå°† `tail` çš„å³æŒ‡é’ˆæŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„å·¦æŒ‡é’ˆæŒ‡å‘ `tail`ã€‚
   - æ›´æ–° `tail` ä¸ºå½“å‰èŠ‚ç‚¹ã€‚
3. åœ¨ `traverse` å®Œæˆä¸­åºéå†åï¼Œå°† `head` å’Œ `tail` è¿›è¡Œè¿æ¥ï¼Œå½¢æˆåŒå‘å¾ªç¯é“¾è¡¨ã€‚
   - å°† `head` çš„å·¦æŒ‡é’ˆæŒ‡å‘ `tail`ã€‚
   - å°† `tail` çš„å³æŒ‡é’ˆæŒ‡å‘ `head`ã€‚

è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†å°† BST è½¬åŒ–ä¸ºå·²æ’åºçš„åŒå‘å¾ªç¯é“¾è¡¨ã€‚æœ€åï¼Œè¿”å› `head` ä½œä¸ºå¾ªç¯é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯äºŒå‰æœç´¢æ ‘çš„èŠ‚ç‚¹æ•°é‡ã€‚å› ä¸ºæˆ‘ä»¬éœ€è¦è®¿é—®æ¯ä¸ªèŠ‚ç‚¹ä¸€æ¬¡ï¼Œå®Œæˆä¸­åºéå†ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(h)`ï¼Œå…¶ä¸­ `h` æ˜¯äºŒå‰æœç´¢æ ‘çš„é«˜åº¦ï¼Œè¡¨ç¤ºé€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦ã€‚

## ä»£ç 

```javascript
/**
 * @param {Node} root
 * @return {Node}
 */
var treeToDoublyList = function (root) {
	if (!root) return null;
	let head = null;
	let tail = null;

	const traverse = (root) => {
		if (!root) return null;
		traverse(root.left);

		// å¤„ç†å½“å‰èŠ‚ç‚¹
		if (!head) {
			head = root;
		}
		if (tail) {
			tail.right = root;
			root.left = tail;
		}
		tail = root;

		traverse(root.right);
	};

	// å¼€å§‹ä¸­åºéå†
	traverse(root);

	// å°†å¤´å°¾ç›¸è¿å½¢æˆå¾ªç¯é“¾è¡¨
	head.left = tail;
	tail.right = head;
	return head;
};
```
