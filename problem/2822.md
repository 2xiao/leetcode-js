---
title: 2822. å¯¹è±¡åè½¬ ğŸ”’
description: LeetCode 2822. å¯¹è±¡åè½¬ ğŸ”’é¢˜è§£ï¼ŒInversion of Objectï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2822. å¯¹è±¡åè½¬ ğŸ”’
  - å¯¹è±¡åè½¬
  - Inversion of Object
  - è§£é¢˜æ€è·¯
---

# 2822. å¯¹è±¡åè½¬ ğŸ”’

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/inversion-of-object) [`LeetCode`](https://leetcode.com/problems/inversion-of-object)

## é¢˜ç›®

Given an object or an array `obj`, return an inverted object or array
`invertedObj`.

The `invertedObj` should have the keys of `obj` as values and the values of
`obj` as keys. The indices of array should be treated as keys.

The function should handle duplicates, meaning that if there are multiple keys
in `obj` with the same value, the `invertedObj` should map the value to an
array containing all corresponding keys.

It is guaranteed that the values in `obj` are only strings.

**Example 1:**

> Input: `obj = {"a": "1", "b": "2", "c": "3", "d": "4"}`
>
> Output: `invertedObj = {"1": "a", "2": "b", "3": "c", "4": "d"}`
>
> Explanation: The keys from obj become the values in invertedObj, and the values from obj become the keys in invertedObj.

**Example 2:**

> Input: `obj = {"a": "1", "b": "2", "c": "2", "d": "4"}`
>
> Output: `invertedObj = {"1": "a", "2": ["b", "c"], "4": "d"}`
>
> Explanation: There are two keys in obj with the same value, the invertedObj mapped the value to an array containing all corresponding keys.

**Example 3:**

> Input: `obj = ["1", "2", "3", "4"]`
>
> Output: `invertedObj = {"1": "0", "2": "1", "3": "2", "4": "3"}`
>
> Explanation: Arrays are also objects therefore array has changed to an object and the keys (indices) from obj become the values in invertedObj, and the values from obj become the keys in invertedObj.

**Constraints:**

- `obj` is a valid JSON object or array
- `typeof obj[key] === "string"`
- `2 <= JSON.stringify(obj).length <= 10^5`

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªå¯¹è±¡ `obj`ï¼Œè¿”å›ä¸€ä¸ªåè½¬çš„å¯¹è±¡ `invertedObj`ã€‚

`invertedObj` åº”è¯¥ä»¥ `obj` çš„é”®ä½œä¸ºå€¼ï¼Œä»¥ `obj` çš„å€¼ä½œä¸ºé”®ã€‚é¢˜ç›®ä¿è¯ `obj`
ä¸­çš„å€¼ä»…ä¸ºå­—ç¬¦ä¸²ã€‚è¯¥å‡½æ•°åº”è¯¥å¤„ç†é‡å¤å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨ `obj` ä¸­æœ‰å¤šä¸ªå…·æœ‰ç›¸åŒå€¼çš„é”®ï¼Œé‚£ä¹ˆ `invertedObj`
åº”è¯¥å°†è¯¥å€¼æ˜ å°„åˆ°ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç›¸åº”é”®çš„æ•°ç»„ä¸­ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** `obj = {"a": "1", "b": "2", "c": "3", "d": "4"}`
>
> **è¾“å‡ºï¼š** `invertedObj = {"1": "a", "2": "b", "3": "c", "4": "d"}`
>
> **è§£é‡Šï¼š** obj ä¸­çš„é”®å˜æˆ invertedObj ä¸­çš„å€¼ï¼Œè€Œ obj ä¸­çš„å€¼å˜æˆ invertedObj ä¸­çš„é”®ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** `obj = {"a": "1", "b": "2", "c": "2", "d": "4"}`
>
> **è¾“å‡ºï¼š** `invertedObj = {"1": "a", "2": ["b", "c"], "4": "d"}`
>
> **è§£é‡Šï¼š** åœ¨ obj ä¸­æœ‰ä¸¤ä¸ªå…·æœ‰ç›¸åŒå€¼çš„é”®ï¼ŒinvertedObj å°†è¯¥å€¼æ˜ å°„åˆ°ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¯¹åº”é”®çš„æ•°ç»„ä¸­ã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** `obj = ["1", "2", "3", "4"]`
>
> **è¾“å‡ºï¼š** `invertedObj = {"1": "0", "2": "1", "3": "2", "4": "3"}`
>
> **è§£é‡Šï¼š** æ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå› æ­¤æ•°ç»„å·²ç»è½¬æ¢ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œobj ä¸­çš„é”®ï¼ˆç´¢å¼•ï¼‰å˜æˆäº† invertedObj ä¸­çš„å€¼ï¼Œè€Œ obj ä¸­çš„å€¼å˜æˆäº† invertedObj ä¸­çš„é”®ã€‚

**æç¤ºï¼š**

- `obj` æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ JSON å¯¹è±¡
- `typeof obj[key] === "string"`
- `2 <= JSON.stringify(obj).length <= 10**5`

## è§£é¢˜æ€è·¯

1. é¦–å…ˆéå†è¾“å…¥å¯¹è±¡ `obj` ä¸­çš„æ¯ä¸ªé”®ï¼Œå¯¹äºæ¯ä¸ªé”®å€¼å¯¹ï¼Œè·å–å…¶å€¼ `val` å’Œå¯¹åº”çš„é”® `key`ã€‚

2. **åè½¬æ“ä½œ**ï¼š

   - å¦‚æœå½“å‰å€¼ `val` å·²ç»å­˜åœ¨äºåè½¬å¯¹è±¡ `res` ä¸­ï¼Œéœ€è¦è¿›è¡Œä»¥ä¸‹åˆ¤æ–­ï¼š
     - å¦‚æœ `res[val]` å·²ç»æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯´æ˜å·²ç»æœ‰å¤šä¸ªé”®ä¸è¯¥å€¼å…³è”ï¼Œåˆ™ç›´æ¥å°†å½“å‰çš„ `key` æ¨å…¥æ•°ç»„ä¸­ã€‚
     - å¦‚æœ `res[val]` ä¸æ˜¯æ•°ç»„ï¼Œè¯´æ˜è¯¥å€¼åªå¯¹åº”ä¸€ä¸ªé”®ï¼Œå°†è¯¥é”®å’Œå½“å‰çš„é”®ä¸€èµ·å­˜å…¥ä¸€ä¸ªæ•°ç»„ä¸­ã€‚
   - å¦‚æœ `res[val]` ä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥å°†å½“å‰çš„é”® `key` å­˜å…¥ `res[val]` ä¸­ï¼Œè¡¨ç¤ºè¯¥å€¼åªå¯¹åº”ä¸€ä¸ªé”®ã€‚

3. å®Œæˆæ•´ä¸ªå¯¹è±¡çš„éå†åï¼Œè¿”å› `res`ï¼Œå³åè½¬åçš„å¯¹è±¡ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯ `obj` ä¸­çš„é”®çš„æ•°é‡ï¼Œéœ€è¦éå† `obj` ä¸­çš„æ¯ä¸ªé”®ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œæœ€åæƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„é”®å¯¹åº”çš„å€¼éƒ½ä¸åŒï¼Œç»“æœå¯¹è±¡ `res` ä¸­å°†å­˜å‚¨ `n` ä¸ªä¸åŒçš„å€¼ã€‚

## ä»£ç 

```javascript
/**
 * @param {Object} obj
 * @return {Object}
 */
var invertObject = function (obj) {
	let res = {};
	for (let key in obj) {
		const val = obj[key];

		// æ£€æŸ¥å½“å‰å€¼æ˜¯å¦å·²ç»å­˜åœ¨äºåè½¬å¯¹è±¡ä¸­
		if (res[val]) {
			// å¦‚æœå·²ç»å­˜åœ¨ï¼Œæ·»åŠ åˆ°æ•°ç»„ä¸­
			if (Array.isArray(res[val])) {
				res[val].push(key);
			} else {
				res[val] = [res[val], key];
			}
		} else {
			// å¦åˆ™ï¼Œç›´æ¥å°†å½“å‰é”®èµ‹å€¼ç»™ res[val]
			res[val] = key;
		}
	}
	return res;
};
```
