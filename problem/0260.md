---
title: 260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III
description: LeetCode 260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— IIIé¢˜è§£ï¼ŒSingle Number IIIï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III
  - åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III
  - Single Number III
  - è§£é¢˜æ€è·¯
  - ä½è¿ç®—
  - æ•°ç»„
---

# 260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/single-number-iii) [`LeetCode`](https://leetcode.com/problems/single-number-iii)

## é¢˜ç›®

Given an integer array `nums`, in which exactly two elements appear only once
and all the other elements appear exactly twice. Find the two elements that
appear only once. You can return the answer in **any order**.

You must write an algorithm that runs in linear runtime complexity and uses
only constant extra space.

**Example 1:**

> Input: nums = [1,2,1,3,2,5]
>
> Output: [3,5]
>
> Explanation: [5, 3] is also a valid answer.

**Example 2:**

> Input: nums = [-1,0]
>
> Output: [-1,0]

**Example 3:**

> Input: nums = [0,1]
>
> Output: [1,0]

**Constraints:**

- `2 <= nums.length <= 3 * 10^4`
- `-231 <= nums[i] <= 231 - 1`
- Each integer in `nums` will appear twice, only two integers will appear once.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œå…¶ä¸­æ°å¥½æœ‰ä¸¤ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œå…¶ä½™æ‰€æœ‰å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚ æ‰¾å‡ºåªå‡ºç°ä¸€æ¬¡çš„é‚£ä¸¤ä¸ªå…ƒç´ ã€‚ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆã€‚

ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ä¸”ä»…ä½¿ç”¨å¸¸é‡é¢å¤–ç©ºé—´æ¥è§£å†³æ­¤é—®é¢˜ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** nums = [1,2,1,3,2,5]
>
> **è¾“å‡ºï¼š**[3,5]
>
> **è§£é‡Šï¼š**[5, 3] ä¹Ÿæ˜¯æœ‰æ•ˆçš„ç­”æ¡ˆã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** nums = [-1,0]
>
> **è¾“å‡ºï¼š**[-1,0]

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** nums = [0,1]
>
> **è¾“å‡ºï¼š**[1,0]

**æç¤ºï¼š**

- `2 <= nums.length <= 3 * 10^4`
- `-231 <= nums[i] <= 231 - 1`
- é™¤ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•´æ•°å¤–ï¼Œ`nums` ä¸­çš„å…¶ä»–æ•°å­—éƒ½å‡ºç°ä¸¤æ¬¡

## è§£é¢˜æ€è·¯

1. **å¼‚æˆ–çš„æ€§è´¨**

   - `a ^ a = 0`ï¼Œå³ç›¸åŒæ•°å­—å¼‚æˆ–ä¸º 0ã€‚
   - `a ^ 0 = a`ï¼Œå³æ•°å­—ä¸ 0 å¼‚æˆ–ç­‰äºå®ƒæœ¬èº«ã€‚
   - å¼‚æˆ–æ“ä½œæ»¡è¶³äº¤æ¢å¾‹å’Œç»“åˆå¾‹ã€‚

2. **å¼‚æˆ–ç»“æœçš„æ„ä¹‰**

   - å¦‚æœå°†æ‰€æœ‰æ•°å­—è¿›è¡Œå¼‚æˆ–ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯è¿™ä¸¤ä¸ªä¸åŒæ•°å­—çš„å¼‚æˆ–å€¼ï¼Œè®¾ä¸º `xor`ã€‚
   - è¿™ä¸ª `xor` ä¸­æ¯ä¸€ä½ä¸º 1 è¡¨ç¤ºåœ¨ä¸¤ä¸ªä¸åŒæ•°å­—çš„è¿™ä¸€ä½ä¸Šå€¼ä¸åŒã€‚

3. **åˆ†ç»„**

   - æ ¹æ® `xor` ä¸­æŸä¸€ä½ä¸º 1 çš„ä½ç½®ï¼ˆç§°ä¸ºåˆ†ç»„æ ‡å¿—ä½ï¼‰ï¼Œå¯ä»¥å°†æ•°ç»„ä¸­çš„æ•°å­—åˆ†ä¸ºä¸¤ç»„ï¼š
     - ä¸€ç»„åœ¨è¯¥ä½ä¸º 1ã€‚
     - å¦ä¸€ç»„åœ¨è¯¥ä½ä¸º 0ã€‚
   - è¿™æ ·ï¼Œä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ä¼šè¢«åˆ†åˆ°ä¸åŒç»„ï¼Œè€Œå…¶ä»–å‡ºç°ä¸¤æ¬¡çš„æ•°å­—ç”±äºç›¸åŒï¼Œä»ç„¶ä¼šåœ¨å„è‡ªç»„å†…æŠµæ¶ˆä¸º 0ã€‚
   - å¯¹æ¯ç»„æ•°å­—åˆ†åˆ«å¼‚æˆ–ï¼Œå¾—åˆ°ç»“æœã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œéå†æ•°ç»„ä¸¤æ¬¡ï¼Œä¸€æ¬¡éå†æ•°ç»„è®¡ç®—å¼‚æˆ–ï¼Œä¸€æ¬¡éå†æ•°ç»„åˆ†ç»„å¹¶è®¡ç®—ä¸¤ä¸ªæ•°å­—ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä½¿ç”¨äº†å¸¸æ•°é¢å¤–ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number[]}
 */
var singleNumber = function (nums) {
	// å¼‚æˆ–æ‰€æœ‰æ•°å­—ï¼Œå¾—åˆ°ä¸¤ä¸ªä¸åŒæ•°å­—çš„å¼‚æˆ–ç»“æœ
	const xor = nums.reduce((a, b) => a ^ b, 0);

	// æ‰¾åˆ° xor ä¸­ç¬¬ä¸€ä¸ªä¸º 1 çš„ä½
	let pos = 0;
	while (((xor >> pos) & 1) !== 1) {
		pos += 1;
	}

	// æ ¹æ®è¯¥ä½å°†æ•°å­—åˆ†ä¸ºä¸¤ç»„
	let res = [0, 0];
	for (let num of nums) {
		if (((num >> pos) & 1) == 1) {
			// è¯¥ä½ä¸º 1 çš„åˆ†åˆ°ç¬¬ä¸€ç»„
			res[0] ^= num;
		} else {
			// è¯¥ä½ä¸º 0 çš„åˆ†åˆ°ç¬¬äºŒç»„
			res[1] ^= num;
		}
	}

	// è¿”å›ç»“æœ
	return res;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 136 | åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— | [[âœ“]](/problem/0136.md) |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/single-number) [ğŸ”—](https://leetcode.com/problems/single-number) |
| 137 | åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— II | [[âœ“]](/problem/0137.md) |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/single-number-ii) [ğŸ”—](https://leetcode.com/problems/single-number-ii) |
| 2433 | æ‰¾å‡ºå‰ç¼€å¼‚æˆ–çš„åŸå§‹æ•°ç»„ |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/find-the-original-array-of-prefix-xor) [ğŸ”—](https://leetcode.com/problems/find-the-original-array-of-prefix-xor) |
| 3158 | æ±‚å‡ºå‡ºç°ä¸¤æ¬¡æ•°å­—çš„ XOR å€¼ |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/find-the-xor-of-numbers-which-appear-twice) [ğŸ”—](https://leetcode.com/problems/find-the-xor-of-numbers-which-appear-twice) |