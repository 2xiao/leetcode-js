# [127. å•è¯æ¥é¾™](https://leetcode.com/problems/word-ladder)

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/word-ladder)

## é¢˜ç›®

<p>å­—å…¸&nbsp;<code>wordList</code> ä¸­ä»å•è¯ <code>beginWord</code><em>&nbsp;</em>åˆ°&nbsp;<code>endWord</code> çš„ <strong>è½¬æ¢åºåˆ— </strong>æ˜¯ä¸€ä¸ªæŒ‰ä¸‹è¿°è§„æ ¼å½¢æˆçš„åºåˆ—<meta charset="UTF-8" />&nbsp;<code>beginWord -&gt; s<sub>1</sub>&nbsp;-&gt; s<sub>2</sub>&nbsp;-&gt; ... -&gt; s<sub>k</sub></code>ï¼š</p>

<ul>
	<li>æ¯ä¸€å¯¹ç›¸é‚»çš„å•è¯åªå·®ä¸€ä¸ªå­—æ¯ã€‚</li>
	<li><meta charset="UTF-8" />&nbsp;å¯¹äº&nbsp;<code>1 &lt;= i &lt;= k</code>&nbsp;æ—¶ï¼Œæ¯ä¸ª<meta charset="UTF-8" />&nbsp;<code>s<sub>i</sub></code>&nbsp;éƒ½åœ¨<meta charset="UTF-8" />&nbsp;<code>wordList</code>&nbsp;ä¸­ã€‚æ³¨æ„ï¼Œ <code>beginWord</code><em>&nbsp;</em>ä¸éœ€è¦åœ¨<meta charset="UTF-8" />&nbsp;<code>wordList</code>&nbsp;ä¸­ã€‚<meta charset="UTF-8" /></li>
	<li><code>s<sub>k</sub>&nbsp;== endWord</code></li>
</ul>

<p>ç»™ä½ ä¸¤ä¸ªå•è¯<em> </em><code>beginWord</code><em>&nbsp;</em>å’Œ <code>endWord</code> å’Œä¸€ä¸ªå­—å…¸ <code>wordList</code> ï¼Œè¿”å› <em>ä»&nbsp;<code>beginWord</code> åˆ°&nbsp;<code>endWord</code> çš„ <strong>æœ€çŸ­è½¬æ¢åºåˆ—</strong> ä¸­çš„ <strong>å•è¯æ•°ç›®</strong></em> ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å› <code>0</code> ã€‚</p>
&nbsp;

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>beginWord = "hit", endWord = "cog", wordList = ["hot","dot","dog","lot","log","cog"]
<strong>è¾“å‡ºï¼š</strong>5
<strong>è§£é‡Šï¼š</strong>ä¸€ä¸ªæœ€çŸ­è½¬æ¢åºåˆ—æ˜¯ "hit" -&gt; "hot" -&gt; "dot" -&gt; "dog" -&gt; "cog", è¿”å›å®ƒçš„é•¿åº¦ 5ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>beginWord = "hit", endWord = "cog", wordList = ["hot","dot","dog","lot","log"]
<strong>è¾“å‡ºï¼š</strong>0
<strong>è§£é‡Šï¼š</strong>endWord "cog" ä¸åœ¨å­—å…¸ä¸­ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œè½¬æ¢ã€‚</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 &lt;= beginWord.length &lt;= 10</code></li>
	<li><code>endWord.length == beginWord.length</code></li>
	<li><code>1 &lt;= wordList.length &lt;= 5000</code></li>
	<li><code>wordList[i].length == beginWord.length</code></li>
	<li><code>beginWord</code>ã€<code>endWord</code> å’Œ <code>wordList[i]</code> ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li>
	<li><code>beginWord != endWord</code></li>
	<li><code>wordList</code> ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸² <strong>äº’ä¸ç›¸åŒ</strong></li>
</ul>


## è§£é¢˜æ€è·¯

è¿™é“é¢˜å’Œ [433 æœ€å°åŸºå› å˜åŒ–](./0433.md) å¾ˆåƒï¼Œå¯ä»¥è½¬æ¢ä¸º **å›¾çš„æœ€çŸ­è·¯å¾„é—®é¢˜**ï¼Œæ¯ä¸ªå•è¯æ˜¯å›¾ä¸­çš„èŠ‚ç‚¹ï¼Œä¸¤ä¸ªåªç›¸å·®ä¸€ä¸ªå­—æ¯çš„å•è¯ä¹‹é—´æœ‰ä¸€æ¡è¾¹ã€‚å› æ­¤å¯ä»¥ä½¿ç”¨ **å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰** æ¥æ±‚è§£ã€‚

åªä¸è¿‡ç¬¬ 433 é¢˜ç»™å®šäº†åŸºå› çš„å˜åŒ–èŒƒå›´æ˜¯ `A/T/G/C`ï¼Œè€Œè¿™é“é¢˜ä¸­ï¼Œç”¨äºæ›¿æ¢å•è¯ä¸­æ¯ä¸ªå­—ç¬¦çš„å­—ç¬¦èŒƒå›´éœ€è¦è‡ªå·±ä» `wordList` ä¸­æ±‚å¾—ã€‚

1. å°†èµ·å§‹å•è¯ `beginWord` æ”¾å…¥é˜Ÿåˆ— `queue`ï¼ŒåŒæ—¶è®¾å®šä¸€ä¸ªé›†åˆ `visited` ç”¨äºè®°å½•å·²ç»è®¿é—®è¿‡çš„å•è¯ï¼Œé¿å…é‡å¤è®¿é—®ã€‚
2. æ¯æ¬¡ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªå•è¯ï¼Œå°è¯•å°†å…¶æ¯ä¸ªå­—ç¬¦æ›¿æ¢ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å¾—åˆ°ä¸€ä¸ªæ–°çš„æœ‰æ•ˆå•è¯ï¼ˆè¿™ä¸ªæ–°å•è¯éœ€è¦åœ¨å­—å…¸ä¸­å­˜åœ¨ï¼Œä¸”æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼‰ã€‚
3. å¦‚æœæŸæ¬¡å¾—åˆ°çš„å•è¯ç­‰äºç›®æ ‡å•è¯ `endWord`ï¼Œç›´æ¥è¿”å›å½“å‰çš„å˜åŒ–æ¬¡æ•° `step + 1`ã€‚
4. å¦‚æœè¯¥å•è¯æœ‰æ•ˆä¸”æœªè®¿é—®ï¼Œåˆ™å°†å…¶åŠ å…¥é˜Ÿåˆ—ï¼Œç»§ç»­ä¸‹ä¸€æ­¥çš„éå†ã€‚
5. å¦‚æœé˜Ÿåˆ—ä¸ºç©ºä½†è¿˜æœªæ‰¾åˆ°ç›®æ ‡å•è¯ï¼Œè¿”å› `0`ï¼Œè¡¨ç¤ºæ— æ³•åˆ°è¾¾ç›®æ ‡å•è¯ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n / m)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—å…¸ä¸­çš„å•è¯æ•°é‡ï¼Œ`m` æ˜¯å•è¯çš„é•¿åº¦ã€‚åœ¨æ¯æ¬¡ BFS æ‰©å±•æ—¶ï¼Œæˆ‘ä»¬ä¼šå¯¹æ¯ä¸ªå•è¯çš„æ¯ä¸ªå­—æ¯è¿›è¡Œæ›¿æ¢ï¼Œç”Ÿæˆæ–°çš„å•è¯å¹¶æ£€æŸ¥æ˜¯å¦å­˜åœ¨äºå­—å…¸ä¸­ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(k * m + n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—å…¸ä¸­çš„å•è¯æ•°é‡ï¼Œ`m` æ˜¯å•è¯çš„é•¿åº¦ï¼Œ`k` æ˜¯ç”¨äºæ›¿æ¢å•è¯ä¸­æ¯ä¸ªå­—ç¬¦çš„å­—ç¬¦èŒƒå›´ï¼Œæœ€å¤§ä¸º `26`ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} beginWord
 * @param {string} endWord
 * @param {string[]} wordList
 * @return {number}
 */
var ladderLength = function (beginWord, endWord, wordList) {
	// å°† wordList è½¬åŒ–ä¸º Set ä¾¿äºå¿«é€ŸæŸ¥æ‰¾
	const wordSet = new Set(wordList);

	// ç”¨äºè®¡ç®—æ›¿æ¢å•è¯ä¸­æ¯ä¸ªå­—ç¬¦çš„å­—ç¬¦èŒƒå›´
	const charSet = new Array(beginWord.length)
		.fill(0)
		.map((_, i) => new Set(wordList.map((item) => item[i])));

	if (!wordSet.has(endWord)) return 0;

	// åˆå§‹åŒ–é˜Ÿåˆ—
	let queue = [beginWord],
		visited = new Set([beginWord]),
		step = 0;

	// BFS æœç´¢
	while (queue.length) {
		const len = queue.length;

		for (let i = 0; i < len; i++) {
			var cur = queue.shift();

			// å¦‚æœæ‰¾åˆ°ç›®æ ‡å•è¯ï¼Œè¿”å›æ­¥æ•° + 1
			if (cur == endWord) {
				return step + 1;
			}

			// å°è¯•æ”¹å˜æ¯ä¸ªå­—ç¬¦
			for (let newWord of getAllDiff(cur, charSet)) {
				// å¦‚æœæ–°çš„å•è¯åœ¨ wordSet ä¸­ä¸”è¿˜æ²¡è®¿é—®è¿‡
				if (!visited.has(newWord) && wordSet.has(newWord)) {
					// åŠ å…¥é˜Ÿåˆ—ä¸­ï¼Œå¹¶æ ‡è®°å·²è®¿é—®
					queue.push(newWord);
					visited.add(newWord);
				}
			}
		}
		// æ­¥æ•° +1
		step++;
	}
	return 0;
};

// ç”¨äºè®¡ç®—æ›¿æ¢å•è¯ä¸­æ¯ä¸ªå­—ç¬¦çš„æ‰€æœ‰å¯èƒ½ç»“æœ
var getAllDiff = function (word, charSet) {
	let res = new Set();
	chars = word.split('');
	for (let i = 0; i < word.length; i++) {
		let char = word[i];
		for (let newChar of charSet[i]) {
			chars[i] = newChar;
			res.add(chars.join(''));
		}
		chars[i] = char;
	}
	return [...res];
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 126 | [å•è¯æ¥é¾™ II](https://leetcode.com/problems/word-ladder-ii) |  |  [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | <font color=#ff334b>Hard</font> |
| 433 | [æœ€å°åŸºå› å˜åŒ–](https://leetcode.com/problems/minimum-genetic-mutation) | [[âœ“]](/problem/0433.md) |  [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | <font color=#ffb800>Medium</font> |
| 2452 | [è·ç¦»å­—å…¸ä¸¤æ¬¡ç¼–è¾‘ä»¥å†…çš„å•è¯](https://leetcode.com/problems/words-within-two-edits-of-dictionary) |  |  [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | <font color=#ffb800>Medium</font> |