# [5. æœ€é•¿å›æ–‡å­ä¸²](https://leetcode.com/problems/longest-palindromic-substring)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/longest-palindromic-substring)

## é¢˜ç›®

<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code>ï¼Œæ‰¾åˆ° <code>s</code> ä¸­æœ€é•¿çš„ <span data-keyword="palindromic-string">å›æ–‡</span> <span data-keyword="substring-nonempty">å­ä¸²</span>ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>s = "babad"
<strong>è¾“å‡ºï¼š</strong>"bab"
<strong>è§£é‡Šï¼š</strong>"aba" åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>s = "cbbd"
<strong>è¾“å‡ºï¼š</strong>"bb"
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 &lt;= s.length &lt;= 1000</code></li>
	<li><code>s</code> ä»…ç”±æ•°å­—å’Œè‹±æ–‡å­—æ¯ç»„æˆ</li>
</ul>


## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šä¸­å¿ƒæ‰©å±•æ³•

æ‰¾å›æ–‡ä¸²çš„éš¾ç‚¹åœ¨äºï¼Œå›æ–‡ä¸²çš„çš„é•¿åº¦å¯èƒ½æ˜¯å¥‡æ•°ä¹Ÿå¯èƒ½æ˜¯å¶æ•°ï¼Œè§£å†³é—®é¢˜çš„æ ¸å¿ƒæ˜¯ä»¥æ¯ä¸ªå­—ç¬¦æˆ–ä¸¤ä¸ªç›¸é‚»å­—ç¬¦ä¸ºä¸­å¿ƒï¼Œç”¨å·¦å³æŒ‡é’ˆå‘ä¸¤è¾¹æ‰©å±•ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²ã€‚éå†æ‰€æœ‰å¯èƒ½çš„ä¸­å¿ƒï¼Œè®°å½•æœ€é•¿çš„å›æ–‡ä¸²ã€‚

- **å¥‡æ•°é•¿åº¦çš„å›æ–‡ä¸²ï¼š**
  ä»¥æ¯ä¸ªå­—ç¬¦ä¸ºä¸­å¿ƒï¼Œå‘ä¸¤è¾¹æ‰©å±•åˆ¤æ–­å›æ–‡ä¸²ã€‚
- **å¶æ•°é•¿åº¦çš„å›æ–‡ä¸²ï¼š**
  ä»¥æ¯ä¸¤ä¸ªç›¸é‚»å­—ç¬¦çš„ä¸­å¿ƒå‘ä¸¤è¾¹æ‰©å±•åˆ¤æ–­å›æ–‡ä¸²ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^2)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ã€‚

---

### æ€è·¯äºŒï¼šåŠ¨æ€è§„åˆ’

åŠ¨æ€è§„åˆ’æ³•çš„æ€æƒ³æ˜¯ï¼Œåˆ©ç”¨å·²çŸ¥çš„å›æ–‡ä¸²ä¿¡æ¯æ¨å¯¼å‡ºæ›´é•¿çš„å›æ–‡ä¸²ã€‚

- å®šä¹‰åŠ¨æ€è§„åˆ’æ•°ç»„ `dp`ï¼Œå…¶ä¸­ `dp[i][j]` è¡¨ç¤ºå­—ç¬¦ä¸² `s` ä»ç´¢å¼• `i` åˆ°ç´¢å¼• `j` æ˜¯å¦ä¸ºå›æ–‡ä¸²ã€‚
- çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š

  - `s[i] == s[j] && dp[i+1][j-1] == true` æ—¶ï¼Œ`dp[i][j] = true`
  - å¦åˆ™ï¼Œ`dp[i][j] = false`

- è¾¹ç•Œæ¡ä»¶ï¼š

  - `dp[i][i] = true`
  - `s[i] == s[i+1]` æ—¶ï¼Œ`dp[i][i+1] = true`

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^2)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n^2)`ã€‚

## ä»£ç 

::: code-tabs

@tab ä¸­å¿ƒæ‰©å±•æ³•

```javascript
/**
 * @param {string} s
 * @return {string}
 */
var longestPalindrome = function (s) {
	const palindrome = (i, j) => {
		while (i >= 0 && j < s.length && s[i] == s[j]) {
			i--;
			j++;
		}
		return s.substring(i + 1, j);
	};
	let res = '';
	for (let i = 0; i < s.length; i++) {
		let s1 = palindrome(i, i);
		let s2 = palindrome(i, i + 1);
		res = res.length > s1.length ? res : s1;
		res = res.length > s2.length ? res : s2;
	}
	return res;
};
```

@tab åŠ¨æ€è§„åˆ’

```javascript
/**
 * @param {string} s
 * @return {string}
 */
var longestPalindrome = function (s) {
	const n = s.length;
	let dp = new Array(n).fill(false).map((i) => new Array(n).fill(false));
	let start = 0;
	let end = 0;

	// åˆå§‹åŒ–åŠ¨æ€è§„åˆ’æ•°ç»„
	for (let i = 0; i < n; i++) {
		dp[i][i] = true;
		if (i < n - 1 && s[i] == s[i + 1]) {
			dp[i][i + 1] = true;
			start = i;
			end = i + 1;
		}
	}

	// å¯¹äºé•¿åº¦ä¸º 2 çš„å­ä¸²ï¼Œæˆ‘ä»¬åœ¨åˆå§‹åŒ–åŠ¨æ€è§„åˆ’æ•°ç»„æ—¶å·²ç»è€ƒè™‘åˆ°äº†ï¼Œå³ dp[i][i+1]ã€‚
	// å› æ­¤ï¼Œä»é•¿åº¦ä¸º 3 çš„å­ä¸²å¼€å§‹éå†ï¼Œç›´åˆ°é•¿åº¦ä¸º n çš„å­ä¸²ï¼Œé€æ­¥å¡«å……åŠ¨æ€è§„åˆ’æ•°ç»„ã€‚
	for (let len = 3; len <= n; len++) {
		for (let i = 0; i + len - 1 < n; i++) {
			const j = i + len - 1;
			if (s[i] == s[j] && dp[i + 1][j - 1]) {
				dp[i][j] = true;
				start = i;
				end = i + len - 1;
			}
		}
	}
	return s.substring(start, end + 1);
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 214 | [æœ€çŸ­å›æ–‡ä¸²](https://leetcode.com/problems/shortest-palindrome) |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`å­—ç¬¦ä¸²åŒ¹é…`](/tag/string-matching.md) [`å“ˆå¸Œå‡½æ•°`](/tag/hash-function.md) `1+` | <font color=#ff334b>Hard</font> |
| 266 | [å›æ–‡æ’åˆ—](https://leetcode.com/problems/palindrome-permutation) |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | <font color=#15bd66>Easy</font> |
| 336 | [å›æ–‡å¯¹](https://leetcode.com/problems/palindrome-pairs) |  |  [`å­—å…¸æ ‘`](/tag/trie.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `1+` | <font color=#ff334b>Hard</font> |
| 516 | [æœ€é•¿å›æ–‡å­åºåˆ—](https://leetcode.com/problems/longest-palindromic-subsequence) | [[âœ“]](/problem/0516.md) |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ffb800>Medium</font> |
| 647 | [å›æ–‡å­ä¸²](https://leetcode.com/problems/palindromic-substrings) |  |  [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ffb800>Medium</font> |
| 2472 | [ä¸é‡å å›æ–‡å­å­—ç¬¦ä¸²çš„æœ€å¤§æ•°ç›®](https://leetcode.com/problems/maximum-number-of-non-overlapping-palindrome-substrings) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | <font color=#ff334b>Hard</font> |