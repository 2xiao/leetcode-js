---
title: 2099. æ‰¾åˆ°å’Œæœ€å¤§çš„é•¿åº¦ä¸º K çš„å­åºåˆ—
description: LeetCode 2099. æ‰¾åˆ°å’Œæœ€å¤§çš„é•¿åº¦ä¸º K çš„å­åºåˆ—é¢˜è§£ï¼ŒFind Subsequence of Length K With the Largest Sumï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2099. æ‰¾åˆ°å’Œæœ€å¤§çš„é•¿åº¦ä¸º K çš„å­åºåˆ—
  - æ‰¾åˆ°å’Œæœ€å¤§çš„é•¿åº¦ä¸º K çš„å­åºåˆ—
  - Find Subsequence of Length K With the Largest Sum
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - æ’åº
  - å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰
---

# 2099. æ‰¾åˆ°å’Œæœ€å¤§çš„é•¿åº¦ä¸º K çš„å­åºåˆ—

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ’åº`](/tag/sorting.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/find-subsequence-of-length-k-with-the-largest-sum) [`LeetCode`](https://leetcode.com/problems/find-subsequence-of-length-k-with-the-largest-sum)

## é¢˜ç›®

You are given an integer array `nums` and an integer `k`. You want to find a
**subsequence** of `nums` of length `k` that has the **largest** sum.

Return _**any** such subsequence as an integer array of length_ `k`.

A **subsequence** is an array that can be derived from another array by
deleting some or no elements without changing the order of the remaining
elements.

**Example 1:**

> Input: nums = [2,1,3,3], k = 2
>
> Output: [3,3]
>
> Explanation:
>
> The subsequence has the largest sum of 3 + 3 = 6.

**Example 2:**

> Input: nums = [-1,-2,3,4], k = 3
>
> Output: [-1,3,4]
>
> Explanation:
>
> The subsequence has the largest sum of -1 + 3 + 4 = 6.

**Example 3:**

> Input: nums = [3,4,3,3], k = 2
>
> Output: [3,4]
>
> Explanation:
>
> The subsequence has the largest sum of 3 + 4 = 7.
>
> Another possible subsequence is [4, 3].

**Constraints:**

- `1 <= nums.length <= 1000`
- `-10^5 <= nums[i] <= 10^5`
- `1 <= k <= nums.length`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ã€‚ä½ éœ€è¦æ‰¾åˆ° `nums` ä¸­é•¿åº¦ä¸º `k` çš„ **å­åºåˆ—** ï¼Œä¸”è¿™ä¸ªå­åºåˆ—çš„ **å’Œæœ€å¤§**ã€‚

è¯·ä½ è¿”å› **ä»»æ„** ä¸€ä¸ªé•¿åº¦ä¸º `k` çš„æ•´æ•°å­åºåˆ—ã€‚

**å­åºåˆ—** å®šä¹‰ä¸ºä»ä¸€ä¸ªæ•°ç»„é‡Œåˆ é™¤ä¸€äº›å…ƒç´ åï¼Œä¸æ”¹å˜å‰©ä¸‹å…ƒç´ çš„é¡ºåºå¾—åˆ°çš„æ•°ç»„ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** nums = [2,1,3,3], k = 2
>
> **è¾“å‡ºï¼š**[3,3]
>
> **è§£é‡Šï¼š**
>
> å­åºåˆ—æœ‰æœ€å¤§å’Œï¼š3 + 3 = 6 ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** nums = [-1,-2,3,4], k = 3
>
> **è¾“å‡ºï¼š**[-1,3,4]
>
> **è§£é‡Šï¼š**
>
> å­åºåˆ—æœ‰æœ€å¤§å’Œï¼š-1 + 3 + 4 = 6 ã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** nums = [3,4,3,3], k = 2
>
> **è¾“å‡ºï¼š**[3,4]
>
> **è§£é‡Šï¼š**
>
> å­åºåˆ—æœ‰æœ€å¤§å’Œï¼š3 + 4 = 7 ã€‚
>
> å¦ä¸€ä¸ªå¯è¡Œçš„å­åºåˆ—ä¸º [4, 3] ã€‚

**æç¤ºï¼š**

- `1 <= nums.length <= 1000`
- `-10^5 <= nums[i] <= 10^5`
- `1 <= k <= nums.length`

## è§£é¢˜æ€è·¯

1. **ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸º `k` çš„æœ€å°å †**

   - **ä¸ºä»€ä¹ˆç”¨æœ€å°å †**ï¼š
     - æˆ‘ä»¬éœ€è¦æ‰¾åˆ° `k` ä¸ªæœ€å¤§å…ƒç´ ï¼Œä½†ä¸ºäº†é«˜æ•ˆå¤„ç†ï¼Œæˆ‘ä»¬ä½¿ç”¨æœ€å°å †æ¥ç»´æŠ¤å½“å‰æœ€å¤§çš„ `k` ä¸ªå…ƒç´ ã€‚
     - å †é¡¶å§‹ç»ˆæ˜¯å½“å‰æœ€å°çš„å…ƒç´ ï¼Œå¯ä»¥å¿«é€Ÿä¸æ–°çš„å…ƒç´ æ¯”è¾ƒå¹¶æ›¿æ¢ï¼ˆå¦‚æœæ–°å…ƒç´ æ›´å¤§ï¼‰ã€‚
   - å †ä¸­å­˜å‚¨çš„æ˜¯æ•°ç»„å…ƒç´ åŠå…¶ç´¢å¼•ï¼Œä»¥ä¾¿åç»­æ’åºæ¢å¤é¡ºåºã€‚

2. **éå†æ•°ç»„ `nums`**

   - å¯¹äºæ¯ä¸ªå…ƒç´ ï¼š
     - å¦‚æœå †çš„å¤§å°å°äº `k`ï¼Œç›´æ¥å°†å…ƒç´ åŠ å…¥å †ã€‚
     - å¦‚æœå †çš„å¤§å°ç­‰äº `k`ï¼Œæ£€æŸ¥å½“å‰å…ƒç´ æ˜¯å¦æ¯”å †é¡¶å…ƒç´ æ›´å¤§ï¼š
       - å¦‚æœæ›´å¤§ï¼Œåˆ™ç§»é™¤å †é¡¶å…ƒç´ ï¼Œå°†å½“å‰å…ƒç´ åŠ å…¥å †ã€‚
       - å¦‚æœæ›´å°ï¼Œè·³è¿‡å½“å‰å…ƒç´ ã€‚
   - **å †ä¸­å§‹ç»ˆä¿å­˜ `k` ä¸ªæœ€å¤§å…ƒç´ **ã€‚

3. **ä»å †ä¸­æå–å…ƒç´ å¹¶æŒ‰ç´¢å¼•æ’åº**

   - å †ä¸­å…ƒç´ çš„é¡ºåºä¸ä¸€å®šä¸åŸæ•°ç»„ä¸€è‡´ï¼Œå› æ­¤éœ€è¦æŒ‰ç…§ç´¢å¼•å¯¹å †ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚
   - æŒ‰ç…§ç´¢å¼•æ’åºåï¼Œæå–å †ä¸­å…ƒç´ çš„å€¼æ„æˆæœ€ç»ˆçš„å­åºåˆ—ã€‚

4. **è¾“å‡ºç»“æœ**
   - è¿”å›æ’åºåçš„å­åºåˆ—ï¼Œå³æ€»å’Œæœ€å¤§çš„é•¿åº¦ä¸º `k` çš„å­åºåˆ—ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n log k + k log k)`

  - éå† `nums` çš„æ—¶é—´å¤æ‚åº¦ï¼š`O(n)`ã€‚
  - æ¯æ¬¡ `insert` å’Œ `pop` çš„å¤æ‚åº¦ï¼š`O(log k)`ï¼Œæœ€å¤šæ“ä½œ `n` æ¬¡ã€‚
  - å †æ’åºçš„å¤æ‚åº¦ï¼š`O(k log k)`ã€‚
  - æ€»å¤æ‚åº¦ï¼š`O(n log k + k log k)`ï¼Œå¯¹äºå°çš„ `k`ï¼Œæ€§èƒ½éå¸¸é«˜æ•ˆã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(k)`ï¼Œå †çš„å¤§å°é™åˆ¶ä¸º `k`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number[]}
 */
var maxSubsequence = function (nums, k) {
	const priority = (a, b) => a[0] < b[0]; // æœ€å°å †
	const heap = new MinHeap([], priority);

	// ç»´æŠ¤å¤§å°ä¸º k çš„æœ€å°å †
	for (let i = 0; i < nums.length; i++) {
		heap.insert([nums[i], i]);
		if (heap.size() > k) {
			heap.pop(); // å †å¤§å°è¶…è¿‡ k æ—¶ç§»é™¤æœ€å°å€¼
		}
	}

	// æŒ‰ç´¢å¼•æ’åºå¹¶æå–ç»“æœ
	return heap
		.toArray()
		.sort((a, b) => a[1] - b[1])
		.map((item) => item[0]);
};

class MinHeap {
	constructor(arr = [], priority = (a, b) => a > b) {
		this.heap = arr;
		this.priority = priority;
		for (let i = Math.floor(this.heap.length / 2) - 1; i >= 0; i--) {
			this.heapifyDown(i);
		}
	}

	insert(num) {
		this.heap.push(num);
		this.heapifyUp(this.heap.length - 1);
	}

	pop() {
		if (this.heap.length === 0) return null;
		const top = this.heap[0];
		const last = this.heap.pop();
		if (this.heap.length > 0) {
			this.heap[0] = last;
			this.heapifyDown(0);
		}
		return top;
	}

	size() {
		return this.heap.length;
	}

	toArray() {
		return this.heap;
	}

	heapifyDown(i) {
		const n = this.heap.length;
		const left = 2 * i + 1;
		const right = 2 * i + 2;
		let smallest = i;

		if (left < n && this.priority(this.heap[left], this.heap[smallest])) {
			smallest = left;
		}
		if (right < n && this.priority(this.heap[right], this.heap[smallest])) {
			smallest = right;
		}

		if (smallest !== i) {
			[this.heap[i], this.heap[smallest]] = [this.heap[smallest], this.heap[i]];
			this.heapifyDown(smallest);
		}
	}

	heapifyUp(i) {
		while (i > 0) {
			const parent = Math.floor((i - 1) / 2);
			if (this.priority(this.heap[i], this.heap[parent])) {
				[this.heap[i], this.heap[parent]] = [this.heap[parent], this.heap[i]];
				i = parent;
			} else {
				break;
			}
		}
	}
}
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 215 | æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´  | [[âœ“]](/problem/0215.md) |  [`æ•°ç»„`](/tag/array.md) [`åˆ†æ²»`](/tag/divide-and-conquer.md) [`å¿«é€Ÿé€‰æ‹©`](/tag/quickselect.md) `2+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/kth-largest-element-in-an-array) [ğŸ”—](https://leetcode.com/problems/kth-largest-element-in-an-array) |
| 1005 | K æ¬¡å–ååæœ€å¤§åŒ–çš„æ•°ç»„å’Œ | [[âœ“]](/problem/1005.md) |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/maximize-sum-of-array-after-k-negations) [ğŸ”—](https://leetcode.com/problems/maximize-sum-of-array-after-k-negations) |
| 1356 | æ ¹æ®æ•°å­—äºŒè¿›åˆ¶ä¸‹ 1 çš„æ•°ç›®æ’åº | [[âœ“]](/problem/1356.md) |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`è®¡æ•°`](/tag/counting.md) `1+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/sort-integers-by-the-number-of-1-bits) [ğŸ”—](https://leetcode.com/problems/sort-integers-by-the-number-of-1-bits) |
| 2163 | åˆ é™¤å…ƒç´ åå’Œçš„æœ€å°å·®å€¼ |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-difference-in-sums-after-removal-of-elements) [ğŸ”—](https://leetcode.com/problems/minimum-difference-in-sums-after-removal-of-elements) |