---
title: 1646. è·å–ç”Ÿæˆæ•°ç»„ä¸­çš„æœ€å¤§å€¼
description: LeetCode 1646. è·å–ç”Ÿæˆæ•°ç»„ä¸­çš„æœ€å¤§å€¼é¢˜è§£ï¼ŒGet Maximum in Generated Arrayï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1646. è·å–ç”Ÿæˆæ•°ç»„ä¸­çš„æœ€å¤§å€¼
  - è·å–ç”Ÿæˆæ•°ç»„ä¸­çš„æœ€å¤§å€¼
  - Get Maximum in Generated Array
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - æ¨¡æ‹Ÿ
---

# 1646. è·å–ç”Ÿæˆæ•°ç»„ä¸­çš„æœ€å¤§å€¼

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/get-maximum-in-generated-array) [`LeetCode`](https://leetcode.com/problems/get-maximum-in-generated-array)

## é¢˜ç›®

You are given an integer `n`. A **0-indexed** integer array `nums` of length
`n + 1` is generated in the following way:

- `nums[0] = 0`
- `nums[1] = 1`
- `nums[2 * i] = nums[i]` when `2 <= 2 * i <= n`
- `nums[2 * i + 1] = nums[i] + nums[i + 1]` when `2 <= 2 * i + 1 <= n`

Return the maximum integer in the array `nums`â€‹â€‹â€‹.

**Example 1:**

> Input: n = 7
>
> Output: 3
>
> Explanation: According to the given rules:
>
> ```
> nums[0] = 0
> nums[1] = 1
> nums[(1 * 2) = 2] = nums[1] = 1
> nums[(1 * 2) + 1 = 3] = nums[1] + nums[2] = 1 + 1 = 2
> nums[(2 * 2) = 4] = nums[2] = 1
> nums[(2 * 2) + 1 = 5] = nums[2] + nums[3] = 1 + 2 = 3
> nums[(3 * 2) = 6] = nums[3] = 2
> nums[(3 * 2) + 1 = 7] = nums[3] + nums[4] = 2 + 1 = 3
> ```
>
> Hence, nums = [0,1,1,2,1,3,2,3], and the maximum is max(0,1,1,2,1,3,2,3) = 3.

**Example 2:**

> Input: n = 2
>
> Output: 1
>
> Explanation: According to the given rules, nums = [0,1,1]. The maximum is max(0,1,1) = 1.

**Example 3:**

> Input: n = 3
>
> Output: 2
>
> Explanation: According to the given rules, nums = [0,1,1,2]. The maximum is max(0,1,1,2) = 2.

**Constraints:**

- `0 <= n <= 100`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` ã€‚æŒ‰ä¸‹è¿°è§„åˆ™ç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º `n + 1` çš„æ•°ç»„ `nums` ï¼š

- `nums[0] = 0`
- `nums[1] = 1`
- å½“ `2 <= 2 * i <= n` æ—¶ï¼Œ`nums[2 * i] = nums[i]`
- å½“ `2 <= 2 * i + 1 <= n` æ—¶ï¼Œ`nums[2 * i + 1] = nums[i] + nums[i + 1]`

è¿”å›ç”Ÿæˆæ•°ç»„ `nums` ä¸­çš„ **æœ€å¤§** å€¼ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** n = 7
>
> **è¾“å‡ºï¼š** 3
>
> **è§£é‡Šï¼š** æ ¹æ®è§„åˆ™ï¼š
>
> ```
> nums[0] = 0
> nums[1] = 1
> nums[(1 * 2) = 2] = nums[1] = 1
> nums[(1 * 2) + 1 = 3] = nums[1] + nums[2] = 1 + 1 = 2
> nums[(2 * 2) = 4] = nums[2] = 1
> nums[(2 * 2) + 1 = 5] = nums[2] + nums[3] = 1 + 2 = 3
> nums[(3 * 2) = 6] = nums[3] = 2
> nums[(3 * 2) + 1 = 7] = nums[3] + nums[4] = 2 + 1 = 3
> ```
>
> å› æ­¤ï¼Œnums = [0,1,1,2,1,3,2,3]ï¼Œæœ€å¤§å€¼ 3

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** n = 2
>
> **è¾“å‡ºï¼š** 1
>
> **è§£é‡Šï¼š** æ ¹æ®è§„åˆ™ï¼Œnums[0]ã€nums[1] å’Œ nums[2] ä¹‹ä¸­çš„æœ€å¤§å€¼æ˜¯ 1

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** n = 3
>
> **è¾“å‡ºï¼š** 2
>
> **è§£é‡Šï¼š** æ ¹æ®è§„åˆ™ï¼Œnums[0]ã€nums[1]ã€nums[2] å’Œ nums[3] ä¹‹ä¸­çš„æœ€å¤§å€¼æ˜¯ 2

**æç¤ºï¼š**

- `0 <= n <= 100`

## è§£é¢˜æ€è·¯

1. **ç‰¹æ®Šæƒ…å†µå¤„ç†**ï¼š

   - å¦‚æœ `n == 0`ï¼Œè¿”å› `0`ã€‚
   - å¦‚æœ `n == 1`ï¼Œè¿”å› `1`ã€‚

2. **æ•°ç»„åˆå§‹åŒ–**ï¼š

   - åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º `n + 1` çš„æ•°ç»„ `nums`ï¼Œåˆå§‹èµ‹å€¼ä¸º `0`ã€‚
   - è®¾ç½® `nums[0] = 0`ï¼Œ`nums[1] = 1`ã€‚

3. **åŠ¨æ€ç”Ÿæˆæ•°ç»„**ï¼š

   - ä»ç´¢å¼• `2` å¼€å§‹ï¼Œä¾æ¬¡è®¡ç®— `nums[i]` çš„å€¼ï¼š
     - å¦‚æœ `i` æ˜¯å¶æ•°ï¼Œ`nums[i] = nums[i / 2]`ã€‚
     - å¦‚æœ `i` æ˜¯å¥‡æ•°ï¼Œ`nums[i] = nums[(i - 1) / 2] + nums[(i - 1) / 2 + 1]`ã€‚
   - åœ¨è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œæ›´æ–°æœ€å¤§å€¼ `max`ã€‚

4. **è¿”å›ç»“æœ**ï¼š
   - éå†å®Œæˆåï¼Œè¿”å› `max`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œéå†ä» `2` åˆ° `n`ï¼Œè®¡ç®—æ¯ä¸ªå…ƒç´ çš„å€¼ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œä½¿ç”¨äº†ä¸€ä¸ªé•¿åº¦ä¸º `n + 1` çš„æ•°ç»„ `nums`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} n
 * @return {number}
 */
var getMaximumGenerated = function (n) {
	if (n == 0) return 0;
	if (n == 1) return 1;

	let max = 0;
	const nums = new Array(n + 1);
	nums[0] = 0;
	nums[1] = 1;
	for (let i = 2; i <= n; i++) {
		if (i % 2 == 0) {
			nums[i] = nums[i / 2];
		} else {
			nums[i] = nums[(i - 1) / 2] + nums[(i - 1) / 2 + 1];
		}
		max = Math.max(max, nums[i]);
	}
	return max;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 2789 | åˆå¹¶åæ•°ç»„ä¸­çš„æœ€å¤§å…ƒç´  |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/largest-element-in-an-array-after-merge-operations) [ğŸ”—](https://leetcode.com/problems/largest-element-in-an-array-after-merge-operations) |
