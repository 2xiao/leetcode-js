---
title: 3396. ä½¿æ•°ç»„å…ƒç´ äº’ä¸ç›¸åŒæ‰€éœ€çš„æœ€å°‘æ“ä½œæ¬¡æ•°
description: LeetCode 3396. ä½¿æ•°ç»„å…ƒç´ äº’ä¸ç›¸åŒæ‰€éœ€çš„æœ€å°‘æ“ä½œæ¬¡æ•°é¢˜è§£ï¼ŒMinimum Number of Operations to Make Elements in Array Distinctï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3396. ä½¿æ•°ç»„å…ƒç´ äº’ä¸ç›¸åŒæ‰€éœ€çš„æœ€å°‘æ“ä½œæ¬¡æ•°
  - ä½¿æ•°ç»„å…ƒç´ äº’ä¸ç›¸åŒæ‰€éœ€çš„æœ€å°‘æ“ä½œæ¬¡æ•°
  - Minimum Number of Operations to Make Elements in Array Distinct
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
---

# 3396. ä½¿æ•°ç»„å…ƒç´ äº’ä¸ç›¸åŒæ‰€éœ€çš„æœ€å°‘æ“ä½œæ¬¡æ•°

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minimum-number-of-operations-to-make-elements-in-array-distinct) [`LeetCode`](https://leetcode.com/problems/minimum-number-of-operations-to-make-elements-in-array-distinct)

## é¢˜ç›®

You are given an integer array `nums`. You need to ensure that the elements in
the array are **distinct**. To achieve this, you can perform the following
operation any number of times:

- Remove 3 elements from the beginning of the array. If the array has fewer than 3 elements, remove all remaining elements.

**Note** that an empty array is considered to have distinct elements. Return
the **minimum** number of operations needed to make the elements in the array
distinct.

**Example 1:**

**Input:** nums = [1,2,3,4,2,3,3,5,7]

**Output:** 2

**Explanation:**

- In the first operation, the first 3 elements are removed, resulting in the array `[4, 2, 3, 3, 5, 7]`.
- In the second operation, the next 3 elements are removed, resulting in the array `[3, 5, 7]`, which has distinct elements.

Therefore, the answer is 2.

**Example 2:**

**Input:** nums = [4,5,6,4,4]

**Output:** 2

**Explanation:**

- In the first operation, the first 3 elements are removed, resulting in the array `[4, 4]`.
- In the second operation, all remaining elements are removed, resulting in an empty array.

Therefore, the answer is 2.

**Example 3:**

**Input:** nums = [6,7,8,9]

**Output:** 0

**Explanation:**

The array already contains distinct elements. Therefore, the answer is 0.

**Constraints:**

- `1 <= nums.length <= 100`
- `1 <= nums[i] <= 100`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œä½ éœ€è¦ç¡®ä¿æ•°ç»„ä¸­çš„å…ƒç´  **äº’ä¸ç›¸åŒ **ã€‚ä¸ºæ­¤ï¼Œä½ å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œä»»æ„æ¬¡ï¼š

- ä»æ•°ç»„çš„å¼€å¤´ç§»é™¤ 3 ä¸ªå…ƒç´ ã€‚å¦‚æœæ•°ç»„ä¸­å…ƒç´ å°‘äº 3 ä¸ªï¼Œåˆ™ç§»é™¤æ‰€æœ‰å‰©ä½™å…ƒç´ ã€‚

**æ³¨æ„ï¼š** ç©ºæ•°ç»„ä¹Ÿè§†ä½œä¸ºæ•°ç»„å…ƒç´ äº’ä¸ç›¸åŒã€‚è¿”å›ä½¿æ•°ç»„å…ƒç´ äº’ä¸ç›¸åŒæ‰€éœ€çš„ **æœ€å°‘æ“ä½œæ¬¡æ•° **ã€‚

**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** nums = [1,2,3,4,2,3,3,5,7]

**è¾“å‡ºï¼š** 2

**è§£é‡Šï¼š**

- ç¬¬ä¸€æ¬¡æ“ä½œï¼šç§»é™¤å‰ 3 ä¸ªå…ƒç´ ï¼Œæ•°ç»„å˜ä¸º `[4, 2, 3, 3, 5, 7]`ã€‚
- ç¬¬äºŒæ¬¡æ“ä½œï¼šå†æ¬¡ç§»é™¤å‰ 3 ä¸ªå…ƒç´ ï¼Œæ•°ç»„å˜ä¸º `[3, 5, 7]`ï¼Œæ­¤æ—¶æ•°ç»„ä¸­çš„å…ƒç´ äº’ä¸ç›¸åŒã€‚

å› æ­¤ï¼Œç­”æ¡ˆæ˜¯ 2ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** nums = [4,5,6,4,4]

**è¾“å‡ºï¼š** 2

**è§£é‡Šï¼š**

- ç¬¬ä¸€æ¬¡æ“ä½œï¼šç§»é™¤å‰ 3 ä¸ªå…ƒç´ ï¼Œæ•°ç»„å˜ä¸º `[4, 4]`ã€‚
- ç¬¬äºŒæ¬¡æ“ä½œï¼šç§»é™¤æ‰€æœ‰å‰©ä½™å…ƒç´ ï¼Œæ•°ç»„å˜ä¸ºç©ºã€‚

å› æ­¤ï¼Œç­”æ¡ˆæ˜¯ 2ã€‚

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š** nums = [6,7,8,9]

**è¾“å‡ºï¼š** 0

**è§£é‡Šï¼š**

æ•°ç»„ä¸­çš„å…ƒç´ å·²ç»äº’ä¸ç›¸åŒï¼Œå› æ­¤ä¸éœ€è¦è¿›è¡Œä»»ä½•æ“ä½œï¼Œç­”æ¡ˆæ˜¯ 0ã€‚

**æç¤ºï¼š**

- `1 <= nums.length <= 100`
- `1 <= nums[i] <= 100`

## è§£é¢˜æ€è·¯

1. **ä½¿ç”¨ Set è®°å½•å·²å‡ºç°çš„å…ƒç´ **  
   æˆ‘ä»¬ç”¨ä¸€ä¸ª `Set` æ¥å­˜å‚¨å·²ç»éå†è¿‡çš„å…ƒç´ ï¼Œç”¨äºæ£€æµ‹æ˜¯å¦æœ‰é‡å¤å…ƒç´ å‡ºç°ã€‚

2. **ä»æ•°ç»„æœ«å°¾å‘å‰éå†**  
   ä»æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œå‘å‰éå†ï¼Œè¿™æ ·åšçš„ç›®çš„å¯èƒ½æ˜¯ä¸ºäº†ç¡®ä¿ç¬¬ä¸€æ¬¡é‡å¤å‡ºç°çš„å…ƒç´ æ˜¯ç¦»æ•°ç»„æœ«å°¾è¶Šè¿‘è¶Šå¥½ã€‚

3. **æ£€æµ‹é‡å¤**  
   æ¯æ¬¡éå†åˆ°ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå¦‚æœè¿™ä¸ªå…ƒç´ å·²ç»å­˜åœ¨äº `seen` é›†åˆä¸­ï¼Œè¯´æ˜å®ƒæ˜¯ä¸€ä¸ªé‡å¤å€¼ã€‚

4. **è®¡ç®—ç»“æœ**  
   ä¸€æ—¦æ‰¾åˆ°é‡å¤å…ƒç´ ï¼Œç”¨ä¸‹æ ‡ `i` è®¡ç®—å‡ºæ“ä½œæ¬¡æ•° `Math.floor(i / 3) + 1`ï¼Œè¿”å›è¿™ä¸ªç»“æœã€‚

5. **æ— é‡å¤æ—¶è¿”å› 0**  
   å¦‚æœéå†å®Œæˆéƒ½æ²¡æœ‰å‘ç°é‡å¤å…ƒç´ ï¼Œåˆ™è¿”å› 0ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œæœ€å¤šéå†æ•°ç»„ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå“ˆå¸Œè¡¨ä¸­æœ€å¤šå­˜å‚¨ `n` ä¸ªæ•°å­—ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var minimumOperations = function (nums) {
	let seen = new Set();

	for (let i = nums.length - 1; i >= 0; i--) {
		if (seen.has(nums[i])) {
			return Math.floor(i / 3) + 1;
		}
		seen.add(nums[i]);
	}
	return 0;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 945 | ä½¿æ•°ç»„å”¯ä¸€çš„æœ€å°å¢é‡ | [[âœ“]](/problem/0945.md) |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`è®¡æ•°`](/tag/counting.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-increment-to-make-array-unique) [ğŸ”—](https://leetcode.com/problems/minimum-increment-to-make-array-unique) |