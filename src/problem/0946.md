---
title: 946. éªŒè¯æ ˆåºåˆ—
description: LeetCode 946. éªŒè¯æ ˆåºåˆ—é¢˜è§£ï¼ŒValidate Stack Sequencesï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 946. éªŒè¯æ ˆåºåˆ—
  - éªŒè¯æ ˆåºåˆ—
  - Validate Stack Sequences
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - æ•°ç»„
  - æ¨¡æ‹Ÿ
---

# 946. éªŒè¯æ ˆåºåˆ—

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/validate-stack-sequences) [`LeetCode`](https://leetcode.com/problems/validate-stack-sequences)

## é¢˜ç›®

Given two integer arrays `pushed` and `popped` each with distinct values,
return `true` _if this could have been the result of a sequence of push and
pop operations on an initially empty stack, or_`false` _otherwise._

**Example 1:**

> Input: pushed = [1,2,3,4,5], popped = [4,5,3,2,1]
>
> Output: true
>
> Explanation: We might do the following sequence:
>
> push(1), push(2), push(3), push(4),
>
> pop() -> 4,
>
> push(5),
>
> pop() -> 5, pop() -> 3, pop() -> 2, pop() -> 1

**Example 2:**

> Input: pushed = [1,2,3,4,5], popped = [4,3,5,1,2]
>
> Output: false
>
> Explanation: 1 cannot be popped before 2.

**Constraints:**

- `1 <= pushed.length <= 1000`
- `0 <= pushed[i] <= 1000`
- All the elements of `pushed` are **unique**.
- `popped.length == pushed.length`
- `popped` is a permutation of `pushed`.

## é¢˜ç›®å¤§æ„

ç»™å®š `pushed` å’Œ `popped` ä¸¤ä¸ªåºåˆ—ï¼Œæ¯ä¸ªåºåˆ—ä¸­çš„ **å€¼éƒ½ä¸é‡å¤** ï¼Œåªæœ‰å½“å®ƒä»¬å¯èƒ½æ˜¯åœ¨æœ€åˆç©ºæ ˆä¸Šè¿›è¡Œçš„æ¨å…¥ push å’Œå¼¹å‡º pop
æ“ä½œåºåˆ—çš„ç»“æœæ—¶ï¼Œè¿”å› `true`ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** pushed = [1,2,3,4,5], popped = [4,5,3,2,1]
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š** æˆ‘ä»¬å¯ä»¥æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š
>
> push(1), push(2), push(3), push(4), pop() -> 4,
>
> push(5), pop() -> 5, pop() -> 3, pop() -> 2, pop() -> 1

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** pushed = [1,2,3,4,5], popped = [4,3,5,1,2]
>
> **è¾“å‡ºï¼š** false
>
> **è§£é‡Šï¼š** 1 ä¸èƒ½åœ¨ 2 ä¹‹å‰å¼¹å‡ºã€‚

**æç¤ºï¼š**

- `1 <= pushed.length <= 1000`
- `0 <= pushed[i] <= 1000`
- `pushed` çš„æ‰€æœ‰å…ƒç´  **äº’ä¸ç›¸åŒ**
- `popped.length == pushed.length`
- `popped` æ˜¯ `pushed` çš„ä¸€ä¸ªæ’åˆ—

## è§£é¢˜æ€è·¯

è¿™é“é¢˜å¯ä»¥ä½¿ç”¨æ¨¡æ‹Ÿæ ˆçš„æ–¹æ³•è¿›è¡Œåˆ¤æ–­ï¼Œä½¿ç”¨ä¸€ä¸ªè¾…åŠ©æ ˆ `stack`ï¼Œæ¨¡æ‹Ÿ å…¥æ ˆï¼ˆ`push`ï¼‰å’Œå‡ºæ ˆï¼ˆ`pop`ï¼‰æ“ä½œï¼Œæœ€åé€šè¿‡åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºæ¥æ¥éªŒè¯åºåˆ—çš„æ­£ç¡®æ€§ã€‚

1. **åˆå§‹åŒ–ï¼š**

   - åˆ›å»ºä¸€ä¸ªç©ºæ ˆ `stack` æ¥æ¨¡æ‹Ÿæ ˆçš„æ“ä½œã€‚
   - è®¾ç½®ä¸€ä¸ªå˜é‡ `popIndex` ä¸º 0ï¼Œè¡¨ç¤ºå½“å‰éœ€è¦åŒ¹é…çš„å‡ºæ ˆåºåˆ—ä¸­çš„å…ƒç´ ä½ç½®ã€‚

2. **éå† `pushed`ï¼š**

   - å°†æ¯ä¸ªå…ƒç´  `item` å…¥æ ˆï¼ˆ`stack.push(item)`ï¼‰ã€‚
   - åœ¨æ¯æ¬¡å…¥æ ˆåï¼Œæ£€æŸ¥æ ˆé¡¶å…ƒç´ æ˜¯å¦ä¸ `popped[popIndex]` ç›¸ç­‰ï¼š
     - å¦‚æœç›¸ç­‰ï¼Œè¯´æ˜å½“å‰å‡ºæ ˆåºåˆ—ä¸­çš„å…ƒç´ å¯ä»¥å‡ºæ ˆï¼Œæˆ‘ä»¬æ‰§è¡Œ `stack.pop()` å¹¶å°† `popIndex` åŠ  1ã€‚
     - ç»§ç»­é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ ˆé¡¶å…ƒç´ ä¸ `popped[popIndex]` ä¸ç›¸ç­‰æˆ–æ ˆä¸ºç©ºã€‚

3. **éªŒè¯ç»“æœï¼š**
   - å¦‚æœæœ€ç»ˆæ ˆä¸ºç©ºï¼Œè¯´æ˜ `popped` æ˜¯åˆæ³•çš„å‡ºæ ˆåºåˆ—ï¼›å¦åˆ™ä¸æ˜¯ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯ `pushed` çš„é•¿åº¦ï¼Œæ¯ä¸ªå…ƒç´ å…¥æ ˆä¸€æ¬¡ï¼Œæœ€å¤šå‡ºæ ˆä¸€æ¬¡ï¼Œæ€»æ“ä½œæ¬¡æ•°æ˜¯ `O(n)`ï¼Œ
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œæ ˆæœ€å¤šå­˜å‚¨ `pushed` ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} pushed
 * @param {number[]} popped
 * @return {boolean}
 */
var validateStackSequences = function (pushed, popped) {
	let stack = []; // æ¨¡æ‹Ÿæ ˆæ“ä½œ
	let popIndex = 0; // æŒ‡å‘å‡ºæ ˆåºåˆ—çš„å½“å‰ä½ç½®

	for (let item of pushed) {
		stack.push(item); // å…¥æ ˆæ“ä½œ
		// æ ˆé¡¶å…ƒç´ ä¸å½“å‰å‡ºæ ˆå…ƒç´ ç›¸ç­‰æ—¶ï¼Œæ‰§è¡Œå‡ºæ ˆæ“ä½œ
		while (stack.length > 0 && stack[stack.length - 1] === popped[popIndex]) {
			stack.pop();
			popIndex++;
		}
	}

	// å¦‚æœæ ˆä¸ºç©ºï¼Œè¡¨ç¤ºå‡ºæ ˆåºåˆ—æ˜¯åˆæ³•çš„
	return stack.length === 0;
};
```
