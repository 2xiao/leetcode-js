---
title: 2466. ç»Ÿè®¡æ„é€ å¥½å­—ç¬¦ä¸²çš„æ–¹æ¡ˆæ•°
description: LeetCode 2466. ç»Ÿè®¡æ„é€ å¥½å­—ç¬¦ä¸²çš„æ–¹æ¡ˆæ•°é¢˜è§£ï¼ŒCount Ways To Build Good Stringsï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2466. ç»Ÿè®¡æ„é€ å¥½å­—ç¬¦ä¸²çš„æ–¹æ¡ˆæ•°
  - ç»Ÿè®¡æ„é€ å¥½å­—ç¬¦ä¸²çš„æ–¹æ¡ˆæ•°
  - Count Ways To Build Good Strings
  - è§£é¢˜æ€è·¯
  - åŠ¨æ€è§„åˆ’
---

# 2466. ç»Ÿè®¡æ„é€ å¥½å­—ç¬¦ä¸²çš„æ–¹æ¡ˆæ•°

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/count-ways-to-build-good-strings) [`LeetCode`](https://leetcode.com/problems/count-ways-to-build-good-strings)

## é¢˜ç›®

Given the integers `zero`, `one`, `low`, and `high`, we can construct a string
by starting with an empty string, and then at each step perform either of the
following:

- Append the character `'0'` `zero` times.
- Append the character `'1'` `one` times.

This can be performed any number of times.

A **good** string is a string constructed by the above process having a
**length** between `low` and `high` (**inclusive**).

Return _the number of**different** good strings that can be constructed
satisfying these properties._ Since the answer can be large, return it
**modulo** `109 + 7`.

**Example 1:**

> Input: low = 3, high = 3, zero = 1, one = 1
>
> Output: 8
>
> Explanation:
>
> One possible valid good string is "011".
>
> It can be constructed as follows: "" -> "0" -> "01" -> "011".
>
> All binary strings from "000" to "111" are good strings in this example.

**Example 2:**

> Input: low = 2, high = 3, zero = 1, one = 2
>
> Output: 5
>
> Explanation: The good strings are "00", "11", "000", "110", and "011".

**Constraints:**

- `1 <= low <= high <= 10^5`
- `1 <= zero, one <= low`

## é¢˜ç›®å¤§æ„

ç»™ä½ æ•´æ•° `zero` ï¼Œ`one` ï¼Œ`low` å’Œ `high` ï¼Œæˆ‘ä»¬ä»ç©ºå­—ç¬¦ä¸²å¼€å§‹æ„é€ ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸€æ­¥æ‰§è¡Œä¸‹é¢æ“ä½œä¸­çš„ä¸€ç§ï¼š

- å°† `'0'` åœ¨å­—ç¬¦ä¸²æœ«å°¾æ·»åŠ  `zero` æ¬¡ã€‚
- å°† `'1'` åœ¨å­—ç¬¦ä¸²æœ«å°¾æ·»åŠ  `one` æ¬¡ã€‚

ä»¥ä¸Šæ“ä½œå¯ä»¥æ‰§è¡Œä»»æ„æ¬¡ã€‚

å¦‚æœé€šè¿‡ä»¥ä¸Šè¿‡ç¨‹å¾—åˆ°ä¸€ä¸ª **é•¿åº¦** åœ¨ `low` å’Œ `high` ä¹‹é—´ï¼ˆåŒ…å«ä¸Šä¸‹è¾¹ç•Œï¼‰çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—ç¬¦ä¸²æˆ‘ä»¬ç§°ä¸º **å¥½** å­—ç¬¦ä¸²ã€‚

è¯·ä½ è¿”å›æ»¡è¶³ä»¥ä¸Šè¦æ±‚çš„ **ä¸åŒ** å¥½å­—ç¬¦ä¸²æ•°ç›®ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·å°†ç»“æœå¯¹ `109 + 7` **å–ä½™** åè¿”å›ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** low = 3, high = 3, zero = 1, one = 1
>
> **è¾“å‡ºï¼š** 8
>
> **è§£é‡Šï¼š**
>
> ä¸€ä¸ªå¯èƒ½çš„å¥½å­—ç¬¦ä¸²æ˜¯ "011" ã€‚
>
> å¯ä»¥è¿™æ ·æ„é€ å¾—åˆ°ï¼š"" -> "0" -> "01" -> "011" ã€‚
>
> ä» "000" åˆ° "111" ä¹‹é—´æ‰€æœ‰çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²éƒ½æ˜¯å¥½å­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** low = 2, high = 3, zero = 1, one = 2
>
> **è¾“å‡ºï¼š** 5
>
> **è§£é‡Šï¼š** å¥½å­—ç¬¦ä¸²ä¸º "00" ï¼Œ"11" ï¼Œ"000" ï¼Œ"110" å’Œ "011" ã€‚

**æç¤ºï¼š**

- `1 <= low <= high <= 10^5`
- `1 <= zero, one <= low`

## è§£é¢˜æ€è·¯

1. **çŠ¶æ€å®šä¹‰**

å®šä¹‰ `dp[i]` è¡¨ç¤ºé•¿åº¦ä¸º `i` çš„å¥½å­—ç¬¦ä¸²çš„æ•°é‡ã€‚

2. **çŠ¶æ€è½¬ç§»**

é•¿åº¦ä¸º `i` çš„å­—ç¬¦ä¸²å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼ç”Ÿæˆï¼š

- åœ¨é•¿åº¦ä¸º `i - zero` çš„å­—ç¬¦ä¸²åé¢æ·»åŠ é•¿åº¦ä¸º `zero` çš„ `'0'`ã€‚
- åœ¨é•¿åº¦ä¸º `i - one` çš„å­—ç¬¦ä¸²åé¢æ·»åŠ é•¿åº¦ä¸º `one` çš„ `'1'`ã€‚

å› æ­¤ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š`dp[i] = dp[i - zero] + dp[i - one]`
æ³¨æ„è¦å¯¹ç»“æœå–æ¨¡ `10^9 + 7`ã€‚

3. **åˆå§‹çŠ¶æ€**

é•¿åº¦ä¸º `0` çš„å¥½å­—ç¬¦ä¸²åªæœ‰ä¸€ç§ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰ï¼Œå› æ­¤ `dp[0] = 1`ã€‚

4. **ç»“æœè®¡ç®—**

éå†èŒƒå›´ `[low, high]`ï¼Œå°†æ‰€æœ‰é•¿åº¦åœ¨è¯¥èŒƒå›´å†…çš„ `dp[i]` ç´¯åŠ ï¼Œå¾—åˆ°ç­”æ¡ˆã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(high)`

  - å¡«å…… `dp` æ•°ç»„éœ€è¦éå† `1` åˆ° `high`ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º`O(high)`ã€‚
  - éå† `[low, high]` ç´¯åŠ ç»“æœï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(high - low)`ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(high)`ï¼Œä½¿ç”¨äº†é•¿åº¦ä¸º `high + 1` çš„æ•°ç»„ `dp`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} low
 * @param {number} high
 * @param {number} zero
 * @param {number} one
 * @return {number}
 */
var countGoodStrings = function (low, high, zero, one) {
	const mod = 10 ** 9 + 7;
	let dp = new Array(high + 1).fill(0);
	dp[0] = 1; // é•¿åº¦ä¸º 0 çš„æƒ…å†µ
	let res = 0;

	for (let i = 1; i <= high; i++) {
		if (i >= zero) dp[i] = dp[i - zero]; // åŠ å…¥é›¶
		if (i >= one) dp[i] = (dp[i] + dp[i - one]) % mod; // åŠ å…¥ä¸€
		if (i >= low) res = (res + dp[i]) % mod; // åœ¨ [low, high] èŒƒå›´å†…ç´¯åŠ ç»“æœ
	}

	return res;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 70 | çˆ¬æ¥¼æ¢¯ | [[âœ“]](/problem/0070.md) |  [`è®°å¿†åŒ–æœç´¢`](/tag/memoization.md) [`æ•°å­¦`](/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/climbing-stairs) [ğŸ”—](https://leetcode.com/problems/climbing-stairs) |