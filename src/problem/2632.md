# [2632. æŸ¯é‡ŒåŒ– ğŸ”’](https://2xiao.github.io/leetcode-js/problem/2632.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/curry) [`LeetCode`](https://leetcode.com/problems/curry)

## é¢˜ç›®

## è§£é¢˜æ€è·¯

[æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰](https://en.wikipedia.org/wiki/Currying)æ˜¯ä¸€ç§å…³äºå‡½æ•°çš„é«˜é˜¶æŠ€æœ¯ï¼Œå®ƒæ˜¯æŒ‡å°†ä¸€ä¸ªå‡½æ•°ä»å¯è°ƒç”¨çš„ `f(a, b, c)` è½¬æ¢ä¸ºå¯è°ƒç”¨çš„ `f(a)(b)(c)`ã€‚æŸ¯é‡ŒåŒ–ä¸ä¼šè°ƒç”¨å‡½æ•°ï¼Œåªæ˜¯å¯¹å‡½æ•°è¿›è¡Œè½¬æ¢ã€‚

#### æŸ¯é‡ŒåŒ–çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ

å¯ä»¥ä»ä¸€ä¸ªå®é™…ä¸­çš„ä¾‹å­ä¸­ï¼Œäº†è§£æŸ¯é‡ŒåŒ–çš„å¥½å¤„ã€‚

ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªç”¨äºæ ¼å¼åŒ–å’Œè¾“å‡ºä¿¡æ¯çš„æ—¥å¿—ï¼ˆloggingï¼‰å‡½æ•° `log(date, importance, message)`ï¼š

```js
function log(date, importance, message) {
	alert(`[${date.getHours()}:${date.getMinutes()}] [${importance}] ${message}`);
}
```

å°†å®ƒæŸ¯é‡ŒåŒ–ï¼š

`log = _.curry(log);`

æŸ¯é‡ŒåŒ–ä¹‹åï¼Œ`log` ä»æ­£å¸¸è¿è¡Œï¼š

`log(new Date(), "DEBUG", "some debug"); // log(a, b, c)`

ä½†æ˜¯ä¹Ÿèƒ½ä»¥æŸ¯é‡ŒåŒ–å½¢å¼è¿è¡Œï¼š

`log(new Date())("DEBUG")("some debug"); // log(a)(b)(c)`

ç°åœ¨ï¼Œå¯ä»¥è½»æ¾åœ°ä¸ºå½“å‰æ—¥å¿—åˆ›å»ºä¾¿æ·å‡½æ•°ï¼š

```js
// logNow ä¼šæ˜¯å¸¦æœ‰å›ºå®šç¬¬ä¸€ä¸ªå‚æ•°çš„æ—¥å¿—çš„éƒ¨åˆ†åº”ç”¨å‡½æ•°
let logNow = log(new Date());

// ä½¿ç”¨å®ƒ
logNow('INFO', 'message'); // [HH:mm] INFO message
```

ç°åœ¨ï¼Œ`logNow` æ˜¯å…·æœ‰å›ºå®šç¬¬ä¸€ä¸ªå‚æ•°çš„ `log`ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯æ›´ç®€çŸ­çš„â€œéƒ¨åˆ†åº”ç”¨å‡½æ•°ï¼ˆpartially applied functionï¼‰â€æˆ–â€œéƒ¨åˆ†å‡½æ•°ï¼ˆpartialï¼‰â€ã€‚

å¯ä»¥æ›´è¿›ä¸€æ­¥ï¼Œä¸ºå½“å‰çš„è°ƒè¯•æ—¥å¿—ï¼ˆdebug logï¼‰æä¾›ä¾¿æ·å‡½æ•°ï¼š

```js
let debugNow = logNow('DEBUG');

debugNow('message'); // [HH:mm] DEBUG message
```

å› æ­¤ï¼ŒæŸ¯é‡ŒåŒ–è®©æˆ‘ä»¬èƒ½å¤Ÿæ›´å®¹æ˜“åœ°è·å–éƒ¨åˆ†åº”ç”¨å‡½æ•°ã€‚å°±åƒåœ¨æ—¥å¿—è®°å½•ç¤ºä¾‹ä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œæ™®é€šå‡½æ•° `log(date, importance, message)` åœ¨è¢«æŸ¯é‡ŒåŒ–ä¹‹åï¼Œå½“è°ƒç”¨å®ƒçš„æ—¶å€™ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼ˆå¦‚ `log(date)`ï¼‰æˆ–ä¸¤ä¸ªå‚æ•°ï¼ˆ`log(date, importance)`ï¼‰æ—¶ï¼Œå®ƒä¼šè¿”å›éƒ¨åˆ†åº”ç”¨å‡½æ•°ã€‚

#### å®ç°æŸ¯é‡ŒåŒ–å‡½æ•°çš„æ€è·¯

1. **å‡½æ•°å‚æ•°å¤„ç†**ï¼š

   - è¾“å…¥çš„å‡½æ•° `fn` å¯èƒ½æ¥å—å¤šä¸ªå‚æ•°ã€‚
   - ä½¿ç”¨ `fn.length` æ¥è·å–å‡½æ•°æœŸæœ›çš„å‚æ•°æ•°é‡ã€‚

2. **é€’å½’è°ƒç”¨**ï¼š

   - å®šä¹‰ä¸€ä¸ªå†…éƒ¨å‡½æ•° `curried`ï¼Œç”¨äºå¤„ç†ä¼ å…¥çš„å‚æ•°ã€‚
   - æ£€æŸ¥å½“å‰æ”¶åˆ°çš„å‚æ•°æ•°é‡ `args.length` æ˜¯å¦è¾¾åˆ° `fn` æ‰€éœ€çš„å‚æ•°æ•°é‡ï¼š
     - å¦‚æœè¾¾åˆ°äº†ï¼Œåˆ™ç›´æ¥è°ƒç”¨ `fn` å¹¶è¿”å›ç»“æœã€‚
     - å¦‚æœæœªè¾¾åˆ°ï¼Œåˆ™è¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°æ¥æ”¶æ›´å¤šå‚æ•°ï¼ˆ`nextArgs`ï¼‰å¹¶å°†ä¹‹å‰çš„å‚æ•°ï¼ˆ`args`ï¼‰ä¸æ–°å‚æ•°åˆå¹¶ã€‚

3. **è¿”å›åˆæˆçš„å‡½æ•°**ï¼š
   - é€šè¿‡é€’å½’è°ƒç”¨ `curried`ï¼Œå…è®¸ç»§ç»­æ¥æ”¶å‚æ•°ç›´åˆ°æ»¡è¶³æ¡ä»¶ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œæ¯æ¬¡è°ƒç”¨æŸ¯é‡ŒåŒ–å‡½æ•°çš„å¼€é”€æ˜¯å¸¸æ•°çº§çš„ï¼Œå› ä¸ºåªæ˜¯å¤„ç†å‚æ•°å’Œå‡½æ•°è°ƒç”¨ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œåœ¨æœ€åæƒ…å†µä¸‹éœ€è¦å­˜å‚¨æ‰€æœ‰ä¼ å…¥çš„å‚æ•°ï¼Œç›´åˆ°è¾¾åˆ°æœŸæœ›æ•°é‡çš„å‚æ•°ã€‚

## ä»£ç 

```javascript
var curry = function (fn) {
	return function curried(...args) {
		// å¦‚æœå‚æ•°æ•°é‡æ»¡è¶³è¦æ±‚ï¼Œè°ƒç”¨åŸå§‹å‡½æ•°
		if (args.length >= fn.length) {
			return fn(...args);
		}
		// å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªæ–°å‡½æ•°ç»§ç»­æ¥æ”¶å‚æ•°
		return (...nextArgs) => curried(...args, ...nextArgs);
	};
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2623 | [è®°å¿†å‡½æ•°](https://leetcode.com/problems/memoize) | [[âœ“]](/problem/2623.md) |  | <font color=#ffb800>Medium</font> |
| 2630 | [è®°å¿†å‡½æ•° II](https://leetcode.com/problems/memoize-ii) | [[âœ“]](/problem/2630.md) |  | <font color=#ff334b>Hard</font> |
