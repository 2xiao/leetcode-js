---
title: 132. åˆ†å‰²å›æ–‡ä¸² II
description: LeetCode 132. åˆ†å‰²å›æ–‡ä¸² IIé¢˜è§£ï¼ŒPalindrome Partitioning IIï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 132. åˆ†å‰²å›æ–‡ä¸² II
  - åˆ†å‰²å›æ–‡ä¸² II
  - Palindrome Partitioning II
  - è§£é¢˜æ€è·¯
  - å­—ç¬¦ä¸²
  - åŠ¨æ€è§„åˆ’
---

# 132. åˆ†å‰²å›æ–‡ä¸² II

ğŸ”´ <font color=#ff334b>Hard</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/palindrome-partitioning-ii) [`LeetCode`](https://leetcode.com/problems/palindrome-partitioning-ii)

## é¢˜ç›®

Given a string `s`, partition `s` such that every substring of the partition
is a palindrome.

Return _the **minimum** cuts needed for a palindrome partitioning of_ `s`.

**Example 1:**

> Input: s = "aab"
>
> Output: 1
>
> Explanation: The palindrome partitioning ["aa","b"] could be produced using 1 cut.

**Example 2:**

> Input: s = "a"
>
> Output: 0

**Example 3:**

> Input: s = "ab"
>
> Output: 1

**Constraints:**

- `1 <= s.length <= 2000`
- `s` consists of lowercase English letters only.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œè¯·ä½ å°† `s` åˆ†å‰²æˆä¸€äº›å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯å›æ–‡ä¸²ã€‚

è¿”å›ç¬¦åˆè¦æ±‚çš„ **æœ€å°‘åˆ†å‰²æ¬¡æ•°** ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** s = "aab"
>
> **è¾“å‡ºï¼š** 1
>
> **è§£é‡Šï¼š** åªéœ€ä¸€æ¬¡åˆ†å‰²å°±å¯å°† _s_ åˆ†å‰²æˆ ["aa","b"] è¿™æ ·ä¸¤ä¸ªå›æ–‡å­ä¸²ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** s = "a"
>
> **è¾“å‡ºï¼š** 0

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** s = "ab"
>
> **è¾“å‡ºï¼š** 1

**æç¤ºï¼š**

- `1 <= s.length <= 2000`
- `s` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

## è§£é¢˜æ€è·¯

1. **çŠ¶æ€å®šä¹‰ï¼š**

   - ç”¨æ•°ç»„ `dp[i]` è¡¨ç¤ºä»å­—ç¬¦ä¸²å¼€å¤´åˆ°ç´¢å¼• `i-1` çš„æœ€å°åˆ‡å‰²æ¬¡æ•°ã€‚

2. **è½¬ç§»æ–¹ç¨‹ï¼š**

   - å¦‚æœæŸä¸€æ®µå­ä¸² `s[left:right]` æ˜¯å›æ–‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°è¯•åœ¨è¯¥å›æ–‡ç»“æŸå¤„æ›´æ–° `dp[right]`ï¼š
   - `dp[right] = min(dp[right], dp[left] + 1)`
   - `dp[left]` è¡¨ç¤ºåœ¨ `left-1` ä½ç½®çš„æœ€å°åˆ‡å‰²æ•°ï¼ŒåŠ  1 è¡¨ç¤ºå°†å½“å‰å›æ–‡å­ä¸²åˆ†å‰²å‡ºæ¥ã€‚

3. **ä¸­å¿ƒæ‰©å±•åˆ¤æ–­å›æ–‡ï¼š**

   - ä½¿ç”¨ä¸­å¿ƒæ‰©å±•æ³•ï¼ŒåŒæ—¶å¯»æ‰¾**å¥‡æ•°é•¿åº¦**å’Œ**å¶æ•°é•¿åº¦**çš„å›æ–‡å­ä¸²ã€‚
   - å¯¹æ¯ä¸ªä¸­å¿ƒä½ç½® `i`ï¼š
     - å¥‡æ•°é•¿åº¦å›æ–‡ï¼š`s[i-j] == s[i+j]`ã€‚
     - å¶æ•°é•¿åº¦å›æ–‡ï¼š`s[i-j+1] == s[i+j]`ã€‚

4. **æœ€ç»ˆç­”æ¡ˆï¼š**
   - `dp[n]` å³æ•´ä¸ªå­—ç¬¦ä¸²çš„æœ€å°åˆ‡å‰²æ¬¡æ•°ã€‚

å…·ä½“ç®—æ³•å¦‚ä¸‹ï¼š

1. åˆå§‹åŒ– `dp` æ•°ç»„ï¼Œ`dp[i]` çš„åˆå§‹å€¼ä¸º `i - 1`ï¼Œè¡¨ç¤ºæœ€åæƒ…å†µä¸‹çš„åˆ‡å‰²æ•°ï¼ˆæ¯ä¸ªå­—ç¬¦éƒ½å•ç‹¬æˆä¸ºä¸€ä¸ªå›æ–‡å­ä¸²ï¼‰ã€‚
2. éå†æ¯ä¸ªå­—ç¬¦ä½ç½® `i` ä½œä¸ºä¸­å¿ƒï¼Œåˆ†åˆ«æ‰©å±•å¯»æ‰¾å¥‡æ•°é•¿åº¦å’Œå¶æ•°é•¿åº¦çš„å›æ–‡å­ä¸²ã€‚
3. åœ¨æ‰©å±•è¿‡ç¨‹ä¸­ï¼Œæ›´æ–° `dp` å€¼ï¼Œè®°å½•å½“å‰å›æ–‡å­ä¸²ç»“æŸä½ç½®çš„æœ€å°åˆ‡å‰²æ•°ã€‚
4. è¿”å› `dp[n]`ï¼Œå³æ•´ä¸ªå­—ç¬¦ä¸²çš„æœ€å°åˆ‡å‰²æ•°ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^2)`ï¼Œä¸­å¿ƒæ‰©å±•æ³•éœ€è¦éå† `n` ä¸ªå­—ç¬¦ï¼Œå¹¶å‘ä¸¤ä¾§æ‰©å±•åˆ¤æ–­å›æ–‡ï¼Œæœ€åæƒ…å†µä¸‹æ¯ä¸ªå­—ç¬¦éœ€è¦æ‰©å±• `O(n)` æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼ŒåŠ¨æ€è§„åˆ’æ•°ç»„ `dp` éœ€è¦ `O(n)` ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var minCut = function (s) {
	const n = s.length;
	// åˆå§‹åŒ– dp æ•°ç»„ï¼Œdp[i] è¡¨ç¤º s[0:i-1] çš„æœ€å°åˆ‡å‰²æ¬¡æ•°
	let dp = new Array(n + 1).fill().map((_, i) => i - 1);

	// éå†æ¯ä¸ªä¸­å¿ƒä½ç½® i
	for (let i = 0; i < n; i++) {
		// å¤„ç†å¥‡æ•°é•¿åº¦å›æ–‡
		for (let j = 0; i - j >= 0 && i + j < n && s[i - j] === s[i + j]; j++) {
			dp[i + j + 1] = Math.min(dp[i + j + 1], dp[i - j] + 1);
		}

		// å¤„ç†å¶æ•°é•¿åº¦å›æ–‡
		for (
			let j = 1;
			i - j + 1 >= 0 && i + j < n && s[i - j + 1] === s[i + j];
			j++
		) {
			dp[i + j + 1] = Math.min(dp[i + j + 1], dp[i - j + 1] + 1);
		}
	}

	// è¿”å›æ•´ä¸ªå­—ç¬¦ä¸²çš„æœ€å°åˆ‡å‰²æ¬¡æ•°
	return dp[n];
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 131 | åˆ†å‰²å›æ–‡ä¸² | [[âœ“]](/problem/0131.md) |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) [`å›æº¯`](/tag/backtracking.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/palindrome-partitioning) [ğŸ”—](https://leetcode.com/problems/palindrome-partitioning) |
| 1745 | åˆ†å‰²å›æ–‡ä¸² IV |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/palindrome-partitioning-iv) [ğŸ”—](https://leetcode.com/problems/palindrome-partitioning-iv) |
| 2472 | ä¸é‡å å›æ–‡å­å­—ç¬¦ä¸²çš„æœ€å¤§æ•°ç›® |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-number-of-non-overlapping-palindrome-substrings) [ğŸ”—](https://leetcode.com/problems/maximum-number-of-non-overlapping-palindrome-substrings) |
| 2518 | å¥½åˆ†åŒºçš„æ•°ç›® |  |  [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/number-of-great-partitions) [ğŸ”—](https://leetcode.com/problems/number-of-great-partitions) |