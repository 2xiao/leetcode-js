# [1405. æœ€é•¿å¿«ä¹å­—ç¬¦ä¸²](https://leetcode.com/problems/longest-happy-string)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/outline/tag/greedy.md) [`å­—ç¬¦ä¸²`](/outline/tag/string.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/outline/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/longest-happy-string)

## é¢˜ç›®

A string `s` is called **happy** if it satisfies the following conditions:

- `s` only contains the letters `'a'`, `'b'`, and `'c'`.
- `s` does not contain any of `"aaa"`, `"bbb"`, or `"ccc"` as a substring.
- `s` contains **at most** `a` occurrences of the letter `'a'`.
- `s` contains **at most** `b` occurrences of the letter `'b'`.
- `s` contains **at most** `c` occurrences of the letter `'c'`.

Given three integers `a`, `b`, and `c`, return _the**longest possible happy** string_. If there are multiple longest happy strings, return _any of them_. If
there is no such string, return _the empty string_`""`.

A **substring** is a contiguous sequence of characters within a string.

**Example 1:**

> Input: a = 1, b = 1, c = 7
>
> Output: "ccaccbcc"
>
> Explanation: "ccbccacc" would also be a correct answer.

**Example 2:**

> Input: a = 7, b = 1, c = 0
>
> Output: "aabaa"
>
> Explanation: It is the only correct answer in this case.

**Constraints:**

- `0 <= a, b, c <= 100`
- `a + b + c > 0`

## é¢˜ç›®å¤§æ„

å¦‚æœå­—ç¬¦ä¸²ä¸­ä¸å«æœ‰ä»»ä½• `'aaa'`ï¼Œ`'bbb'` æˆ– `'ccc'` è¿™æ ·çš„å­—ç¬¦ä¸²ä½œä¸ºå­ä¸²ï¼Œé‚£ä¹ˆè¯¥å­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸ªã€Œå¿«ä¹å­—ç¬¦ä¸²ã€ã€‚

ç»™ä½ ä¸‰ä¸ªæ•´æ•° `a`ï¼Œ`b` ï¼Œ`c`ï¼Œè¯·ä½ è¿”å› **ä»»æ„ä¸€ä¸ª** æ»¡è¶³ä¸‹åˆ—å…¨éƒ¨æ¡ä»¶çš„å­—ç¬¦ä¸² `s`ï¼š

- `s` æ˜¯ä¸€ä¸ªå°½å¯èƒ½é•¿çš„å¿«ä¹å­—ç¬¦ä¸²ã€‚
- `s` ä¸­ **æœ€å¤š** æœ‰`a` ä¸ªå­—æ¯ `'a'`ã€`b` ä¸ªå­—æ¯ `'b'`ã€`c` ä¸ªå­—æ¯ `'c'` ã€‚
- `s `ä¸­åªå«æœ‰ `'a'`ã€`'b'` ã€`'c'` ä¸‰ç§å­—æ¯ã€‚

å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å­—ç¬¦ä¸² `s` ï¼Œè¯·è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸² `""`ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** a = 1, b = 1, c = 7
>
> **è¾“å‡ºï¼š** "ccaccbcc"
>
> **è§£é‡Šï¼š** "ccbccacc" ä¹Ÿæ˜¯ä¸€ç§æ­£ç¡®ç­”æ¡ˆã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** a = 2, b = 2, c = 1
>
> **è¾“å‡ºï¼š** "aabbc"

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** a = 7, b = 1, c = 0
>
> **è¾“å‡ºï¼š** "aabaa"
>
> **è§£é‡Šï¼š** è¿™æ˜¯è¯¥æµ‹è¯•ç”¨ä¾‹çš„å”¯ä¸€æ­£ç¡®ç­”æ¡ˆã€‚

**æç¤ºï¼š**

- `0 <= a, b, c <= 100`
- `a + b + c > 0`

## è§£é¢˜æ€è·¯

è¿™ä¸ªé—®é¢˜å¯ä»¥å½’ç±»ä¸º**è´ªå¿ƒç®—æ³•**ã€‚æ ¸å¿ƒæ€è·¯æ˜¯**ä¼˜å…ˆä½¿ç”¨æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦**ï¼Œä½†è¦é¿å…äº§ç”Ÿè¿ç»­ä¸‰ä¸ªç›¸åŒçš„å­—ç¬¦ã€‚

1. **æ¨¡æ‹Ÿæ„å»ºå­—ç¬¦ä¸²**ï¼š ç»´æŠ¤ä¸‰ä¸ªå˜é‡ `a`, `b`, å’Œ `c`ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¯ä¸ªå­—ç¬¦çš„å‰©ä½™æ¬¡æ•°ã€‚
2. **æ’åºé€‰æ‹©æœ€å¤§å­—ç¬¦**ï¼šæ¯æ¬¡éƒ½å¯¹æŒ‰ç…§å‰å‰©ä½™æ¬¡æ•°ä»å¤§åˆ°å°æ’åºï¼Œä¼˜å…ˆé€‰æ‹©å‰©ä½™æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦è¿›è¡Œæ‹¼æ¥ã€‚
3. **è´ªå¿ƒç­–ç•¥**ï¼šæ¯æ¬¡é€‰æ‹©å‰©ä½™æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦åŠ å…¥ç»“æœï¼Œå¦‚æœè¯¥å­—ç¬¦å·²ç»è¿ç»­å‡ºç°ä¸¤æ¬¡ï¼Œåˆ™é€‰æ‹©å‰©ä½™æ¬¡æ•°ç¬¬äºŒå¤šçš„å­—ç¬¦ï¼Œç¡®ä¿ä¸ä¼šè¿ç»­å‡ºç°ä¸‰ä¸ªç›¸åŒå­—ç¬¦ã€‚
4. **åœæ­¢æ¡ä»¶**ï¼šå½“ä¸èƒ½å†æ·»åŠ ä»»ä½•å­—ç¬¦æ—¶ï¼Œå³æ— æ³•é€‰æ‹©ä¸‹ä¸€ä¸ªåˆæ³•å­—ç¬¦ï¼ˆä¾‹å¦‚æ‰€æœ‰å­—ç¬¦éƒ½å·²ç»ä½¿ç”¨å®Œï¼Œæˆ–è€…å‰©ä¸‹çš„å­—ç¬¦ä¼šå¯¼è‡´è¿èƒŒ"è¿ç»­ä¸é‡å¤ä¸‰æ¬¡"çš„è§„åˆ™ï¼‰ï¼Œåˆ™åœæ­¢æ„å»ºã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯ `a + b + c`ï¼Œæœ€å¤šè¿›è¡Œ `a + b + c` æ¬¡å­—ç¬¦åŠ å…¥æ“ä½œï¼Œæ¯æ¬¡åŠ å…¥æ—¶åªéœ€è¿›è¡Œæœ€å¤šä¸‰æ¬¡çš„æ¯”è¾ƒå’Œé€‰æ‹©ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œæ„å»ºäº†ä¸€ä¸ªæœ€å¤§é•¿åº¦ä¸º `a + b + c` çš„ç»“æœå­—ç¬¦ä¸²ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} a
 * @param {number} b
 * @param {number} c
 * @return {string}
 */
var longestDiverseString = function (a, b, c) {
	let str = '';
	let chars = [
		{ char: 'a', count: a },
		{ char: 'b', count: b },
		{ char: 'c', count: c }
	];

	while (true) {
		// æŒ‰ç…§ count ä»å¤§åˆ°å°æ’åº
		chars.sort((a, b) => b.count - a.count);

		let added = false;
		for (let i = 0; i < 3; i++) {
			let char = chars[i].char;
			if (chars[i].count == 0) break;

			// å¦‚æœæœ€åä¸¤ä¸ªå­—ç¬¦å’Œå½“å‰å­—ç¬¦ä¸€æ ·ï¼Œè·³è¿‡
			if (
				str.length >= 2 &&
				str[str.length - 2] == char &&
				str[str.length - 1] == char
			) {
				continue;
			}

			// å¦åˆ™å°†å®ƒåŠ åˆ° str æœ«å°¾
			str = str + char;
			chars[i].count--;
			added = true;
			break;
		}

		// å½“ä¸èƒ½å†æ·»åŠ ä»»ä½•å­—ç¬¦æ—¶ï¼Œåœæ­¢å¾ªç¯
		if (!added) break;
	}
	return str;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 767 | [é‡æ„å­—ç¬¦ä¸²](https://leetcode.com/problems/reorganize-string) |  |  [`è´ªå¿ƒ`](/outline/tag/greedy.md) [`å“ˆå¸Œè¡¨`](/outline/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/outline/tag/string.md) `3+` | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
