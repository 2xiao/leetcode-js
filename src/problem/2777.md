---
title: 2777. æ—¥æœŸèŒƒå›´ç”Ÿæˆå™¨ ğŸ”’
description: LeetCode,2777. æ—¥æœŸèŒƒå›´ç”Ÿæˆå™¨ ğŸ”’,æ—¥æœŸèŒƒå›´ç”Ÿæˆå™¨,Date Range Generator,è§£é¢˜æ€è·¯
keywords:
  - LeetCode
  - 2777. æ—¥æœŸèŒƒå›´ç”Ÿæˆå™¨ ğŸ”’
  - æ—¥æœŸèŒƒå›´ç”Ÿæˆå™¨
  - Date Range Generator
  - è§£é¢˜æ€è·¯
---

# 2777. æ—¥æœŸèŒƒå›´ç”Ÿæˆå™¨ ğŸ”’

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/date-range-generator) [`LeetCode`](https://leetcode.com/problems/date-range-generator)

## é¢˜ç›®

Given a start date `start`, an end date `end`, and a positive integer `step`,
return a generator object that yields dates in the range from `start` to `end`
inclusive.

The value of `step` indicates the number of days between consecutive yielded
values.

All yielded dates must be in the string format `YYYY-MM-DD`.

**Example 1:**

> Input: start = "2023-04-01", end = "2023-04-04", step = 1
>
> Output: ["2023-04-01","2023-04-02","2023-04-03","2023-04-04"]
>
> Explanation:
>
> ```js
> const g = dateRangeGenerator(start, end, step);
> g.next().value; // '2023-04-01'
> g.next().value; // '2023-04-02'
> g.next().value; // '2023-04-03'
> g.next().value; // '2023-04-04'
> ```

**Example 2:**

> Input: start = "2023-04-10", end = "2023-04-20", step = 3
>
> Output: ["2023-04-10","2023-04-13","2023-04-16","2023-04-19"]
>
> Explanation:
>
> ```js
> const g = dateRangeGenerator(start, end, step);
> g.next().value; // '2023-04-10'
> g.next().value; // '2023-04-13'
> g.next().value; // '2023-04-16'
> g.next().value; // '2023-04-19'
> ```

**Example 3:**

> Input: start = "2023-04-10", end = "2023-04-10", step = 1
>
> Output: ["2023-04-10"]
>
> Explanation:
>
> ```js
> const g = dateRangeGenerator(start, end, step);
> g.next().value; // '2023-04-10'
> ```

**Constraints:**

- `new Date(start) <= new Date(end)`
- `start` and `end` dates are in the string format `YYYY-MM-DD`
- `0 <= The difference in days between the start date and the end date <= 1500`
- `1 <= step <= 1000`

## é¢˜ç›®å¤§æ„

ç°ç»™å®šèµ·å§‹æ—¥æœŸ `start` ã€ç»“æŸæ—¥æœŸ `end` å’Œæ­£æ•´æ•° `step` ï¼Œè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œè¯¥ç”Ÿæˆå™¨å¯¹è±¡æŒ‰ç…§ä» `start` åˆ°
`end`ï¼ˆåŒ…æ‹¬ start å’Œ end ï¼‰çš„èŒƒå›´ç”Ÿæˆæ—¥æœŸã€‚

`step` çš„å€¼è¡¨ç¤ºè¿ç»­ç”Ÿæˆçš„æ—¥æœŸä¹‹é—´çš„å¤©æ•°é—´éš”ã€‚

æ‰€æœ‰æ—¥æœŸéƒ½ä»¥å­—ç¬¦ä¸²æ ¼å¼ `YYYY-MM-DD` è¡¨ç¤ºã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** start = "2023-04-01", end = "2023-04-04", step = 1
>
> **è¾“å‡ºï¼š**["2023-04-01","2023-04-02","2023-04-03","2023-04-04"]
>
> **è§£é‡Šï¼š**
>
> ```js
> const g = dateRangeGenerator(start, end, step);
> g.next().value; // '2023-04-01'
> g.next().value; // '2023-04-02'
> g.next().value; // '2023-04-03'
> g.next().value; // '2023-04-04'
> ```

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** start = "2023-04-10", end = "2023-04-20", step = 3
>
> **è¾“å‡ºï¼š**["2023-04-10","2023-04-13","2023-04-16","2023-04-19"]
>
> **è§£é‡Šï¼š**
>
> ```js
> const g = dateRangeGenerator(start, end, step);
> g.next().value; // '2023-04-10'
> g.next().value; // '2023-04-13'
> g.next().value; // '2023-04-16'
> g.next().value; // '2023-04-19'
> ```

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** start = "2023-04-10", end = "2023-04-10", step = 1
>
> **è¾“å‡ºï¼š**["2023-04-10"]
>
> **è§£é‡Šï¼š**
>
> ```js
> const g = dateRangeGenerator(start, end, step);
> g.next().value; // '2023-04-10'
> ```

**æç¤ºï¼š**

- `new Date(start) <= new Date(end)`
- `start` å’Œ `end` çš„æ—¥æœŸæ ¼å¼æ˜¯ `YYYY-MM-DD`
- `0 <= ç»“æŸæ—¥æœŸä¸å¼€å§‹æ—¥æœŸä¹‹é—´çš„å¤©æ•°å·® <= 1500`
- `1 <= step <= 1000`

## è§£é¢˜æ€è·¯

1. **ç”Ÿæˆå™¨å‡½æ•°ï¼š** ç”Ÿæˆå™¨å‡½æ•°å¯ä»¥é€šè¿‡ `function*` å£°æ˜æ¥åˆ›å»ºï¼Œå®ƒå…è®¸åœ¨è¿­ä»£è¿‡ç¨‹ä¸­æš‚åœå¹¶è¿”å›ä¸€ä¸ªå€¼ã€‚æ¯æ¬¡è°ƒç”¨ `next()` æ—¶ï¼Œç”Ÿæˆå™¨ä¼šè¿”å›ä¸‹ä¸€ä¸ªæ—¥æœŸã€‚

2. **ç”Ÿæˆå™¨é€»è¾‘ï¼š**

   - `currentDate` æ˜¯ä» `start` æ—¥æœŸåˆ›å»ºçš„ `Date` å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨å½“å‰æ—¥æœŸã€‚
   - `endDate` æ˜¯ `end` æ—¥æœŸçš„ `Date` å¯¹è±¡ï¼Œè¡¨ç¤ºç»“æŸæ—¥æœŸã€‚
   - `step` è¡¨ç¤ºä»å½“å‰æ—¥æœŸåˆ°ä¸‹ä¸€ä¸ªæ—¥æœŸçš„å¤©æ•°å·®ï¼Œéœ€è¦ä½¿ç”¨ `Date` å¯¹è±¡çš„ `setDate()` æ–¹æ³•æ¥å¢åŠ æˆ–å‡å°‘å¤©æ•°ã€‚
   - ç”Ÿæˆå™¨é€šè¿‡ `while (currentDate <= endDate)` å¾ªç¯ç”Ÿæˆæ—¥æœŸï¼Œç›´åˆ° `currentDate` è¶…è¿‡ `endDate`ã€‚
   - æ¯æ¬¡å¾ªç¯ä¸­ï¼Œç”Ÿæˆå™¨è¿”å›å½“å‰æ—¥æœŸï¼ˆæ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²ï¼‰ï¼Œç„¶åå°† `currentDate` å¢åŠ  `step` å¤©ã€‚

3. **æ—¥æœŸæ ¼å¼åŒ–ï¼š** ä½¿ç”¨ `toISOString()` æ–¹æ³•æ¥è·å–æ ‡å‡†çš„ ISO æ ¼å¼æ—¥æœŸï¼ˆä¾‹å¦‚ï¼š`2024-11-04T00:00:00.000Z`ï¼‰ï¼Œç„¶åä»ä¸­æå– `YYYY-MM-DD` éƒ¨åˆ†ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯ç”Ÿæˆçš„æ—¥æœŸæ•°ï¼Œæ¯æ¬¡è°ƒç”¨ `next()` æ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡æ—¥æœŸè®¡ç®—ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œç”Ÿæˆå™¨æ˜¯æƒ°æ€§æ±‚å€¼çš„ï¼Œä¸ä¼šåœ¨å†…å­˜ä¸­å­˜å‚¨æ‰€æœ‰çš„æ—¥æœŸï¼Œç©ºé—´å¤æ‚åº¦æ˜¯å¸¸æ•°çº§åˆ«ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} start
 * @param {string} end
 * @param {number} step
 * @return {Generator}
 */
var dateRangeGenerator = function* (start, end, step) {
	const curDate = new Date(start),
		endDate = new Date(end);

	// ç”Ÿæˆæ—¥æœŸç›´åˆ°è¶…å‡ºç»“æŸæ—¥æœŸ
	while (curDate <= endDate) {
		// ä½¿ç”¨ toISOString æå– YYYY-MM-DD æ ¼å¼
		yield curDate.toISOString().split('T')[0];

		// è®¾ç½®æ–°çš„æ—¥æœŸ
		curDate.setDate(curDate.getDate() + step);
	}
};
```
