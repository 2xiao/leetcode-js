---
title: 367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°
description: LeetCode 367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°é¢˜è§£ï¼ŒValid Perfect Squareï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°
  - æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°
  - Valid Perfect Square
  - è§£é¢˜æ€è·¯
  - æ•°å­¦
  - äºŒåˆ†æŸ¥æ‰¾
---

# 367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°å­¦`](/tag/math.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/valid-perfect-square) [`LeetCode`](https://leetcode.com/problems/valid-perfect-square)

## é¢˜ç›®

Given a positive integer num, return `true` _if_ `num` _is a perfect square
or_ `false` _otherwise_.

A **perfect square** is an integer that is the square of an integer. In other
words, it is the product of some integer with itself.

You must not use any built-in library function, such as `sqrt`.

**Example 1:**

> Input: num = 16
>
> Output: true
>
> Explanation: We return true because 4 \* 4 = 16 and 4 is an integer.

**Example 2:**

> Input: num = 14
>
> Output: false
>
> Explanation: We return false because 3.742 \* 3.742 = 14 and 3.742 is not an integer.

**Constraints:**

- `1 <= num <= 2^31 - 1`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° `num` ã€‚å¦‚æœ `num` æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œåˆ™è¿”å› `true` ï¼Œå¦åˆ™è¿”å› `false` ã€‚

**å®Œå…¨å¹³æ–¹æ•°** æ˜¯ä¸€ä¸ªå¯ä»¥å†™æˆæŸä¸ªæ•´æ•°çš„å¹³æ–¹çš„æ•´æ•°ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒå¯ä»¥å†™æˆæŸä¸ªæ•´æ•°å’Œè‡ªèº«çš„ä¹˜ç§¯ã€‚

ä¸èƒ½ä½¿ç”¨ä»»ä½•å†…ç½®çš„åº“å‡½æ•°ï¼Œå¦‚ `sqrt` ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** num = 16
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š** è¿”å› true ï¼Œå› ä¸º 4 \* 4 = 16 ä¸” 4 æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** num = 14
>
> **è¾“å‡ºï¼š** false
>
> **è§£é‡Šï¼š** è¿”å› false ï¼Œå› ä¸º 3.742 \* 3.742 = 14 ä½† 3.742 ä¸æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚

**æç¤ºï¼š**

- `1 <= num <= 2^31 - 1`

## è§£é¢˜æ€è·¯

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ **äºŒåˆ†æŸ¥æ‰¾** æ¥é«˜æ•ˆåˆ¤æ–­ `num` æ˜¯å¦ä¸ºå®Œå…¨å¹³æ–¹æ•°ã€‚

å¦‚æœä½¿ç”¨æš´åŠ›æ³•ï¼Œä» `1` åˆ° `num` éå†æ‰€æœ‰å¯èƒ½çš„æ•´æ•°ï¼Œå¹¶åˆ¤æ–­å…¶å¹³æ–¹æ˜¯å¦ç­‰äº `num`ï¼Œè¿™ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(sqrt(num))`ï¼Œå¯¹äºè¾ƒå¤§çš„ `num` æ•ˆç‡è¾ƒä½ã€‚

ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ï¼Œå¯ä»¥åœ¨å¯¹æ•°æ—¶é—´å†…æ‰¾åˆ° `num` æ˜¯å¦ä¸ºå®Œå…¨å¹³æ–¹æ•°ã€‚å‡è®¾ `x` æ˜¯ `num` çš„å¹³æ–¹æ ¹ï¼Œæˆ‘ä»¬å¯ä»¥é™åˆ¶ `x` çš„å–å€¼èŒƒå›´åœ¨ `[1, num]`ã€‚é€šè¿‡äºŒåˆ†æŸ¥æ‰¾ï¼Œé€æ­¥é€¼è¿‘ `x`ï¼Œæ£€æŸ¥ä¸­é—´å€¼ `mid` çš„å¹³æ–¹æ˜¯å¦ç­‰äº `num`ï¼Œå¹¶æ ¹æ®ç»“æœç¼©å°æœç´¢èŒƒå›´ã€‚

1. åˆå§‹åŒ– `left = 1` å’Œ `right = num`ï¼Œå®šä¹‰æœç´¢èŒƒå›´ã€‚
2. è®¡ç®—ä¸­é—´å€¼ `mid = Math.floor((left + right) / 2)`ã€‚
3. æ¯”è¾ƒ `mid * mid` å’Œ `num`ï¼š

   - å¦‚æœ `mid * mid == num`ï¼Œè¿”å› `true`ã€‚
   - å¦‚æœ `mid * mid > num`ï¼Œè¯´æ˜å¹³æ–¹æ ¹åœ¨å·¦åŠéƒ¨åˆ†ï¼Œè°ƒæ•´å³è¾¹ç•Œï¼š`right = mid - 1`ã€‚
   - å¦‚æœ `mid * mid < num`ï¼Œè¯´æ˜å¹³æ–¹æ ¹åœ¨å³åŠéƒ¨åˆ†ï¼Œè°ƒæ•´å·¦è¾¹ç•Œï¼š`left = mid + 1`ã€‚

4. å¦‚æœæœç´¢å®Œæˆåæœªæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„æ•´æ•°ï¼Œè¿”å› `false`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(log n)`ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ¯æ¬¡æœç´¢å°†èŒƒå›´ç¼©å°ä¸€åŠï¼Œæœ€å¤šè¿›è¡Œ `O(log n)` æ¬¡æ¯”è¾ƒã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ä¸ªé¢å¤–å˜é‡ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} num
 * @return {boolean}
 */
var isPerfectSquare = function (num) {
	let left = 1,
		right = num; // åˆå§‹åŒ–æœç´¢èŒƒå›´
	while (left <= right) {
		const mid = Math.floor((left + right) / 2); // è®¡ç®—ä¸­é—´å€¼
		const product = mid * mid; // è®¡ç®—å¹³æ–¹å€¼
		if (product === num) return true; // å¦‚æœæ‰¾åˆ°å®Œå…¨å¹³æ–¹æ•°
		else if (product > num) {
			right = mid - 1; // ç¼©å°æœç´¢èŒƒå›´åˆ°å·¦åŠéƒ¨åˆ†
		} else {
			left = mid + 1; // ç¼©å°æœç´¢èŒƒå›´åˆ°å³åŠéƒ¨åˆ†
		}
	}
	return false; // å¦‚æœæœªæ‰¾åˆ°ï¼Œè¿”å› false
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 69 | x çš„å¹³æ–¹æ ¹ | [[âœ“]](/problem/0069.md) |  [`æ•°å­¦`](/tag/math.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/sqrtx) [ğŸ”—](https://leetcode.com/problems/sqrtx) |
| 633 | å¹³æ–¹æ•°ä¹‹å’Œ |  |  [`æ•°å­¦`](/tag/math.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/sum-of-square-numbers) [ğŸ”—](https://leetcode.com/problems/sum-of-square-numbers) |