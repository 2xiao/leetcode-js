# [2723. ä¸¤ä¸ª Promise å¯¹è±¡ç›¸åŠ ](https://2xiao.github.io/leetcode-js/problem/2723.html)

ðŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ðŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/add-two-promises) [`LeetCode`](https://leetcode.com/problems/add-two-promises)

## é¢˜ç›®

Given two promises `promise1` and `promise2`, return a new promise. `promise1`
and `promise2` will both resolve with a number. The returned promise should
resolve with the sum of the two numbers.

**Example 1:**

> Input:
>
> promise1 = new Promise(resolve => setTimeout(() => resolve(2), 20)),
>
> promise2 = new Promise(resolve => setTimeout(() => resolve(5), 60))
>
> Output: 7
>
> Explanation: The two input promises resolve with the values of 2 and 5 respectively. The returned promise should resolve with a value of 2 + 5 = 7. The time the returned promise resolves is not judged for this problem.

**Example 2:**

> Input:
>
> promise1 = new Promise(resolve => setTimeout(() => resolve(10), 50)),
>
> promise2 = new Promise(resolve => setTimeout(() => resolve(-12), 30))
>
> Output: -2
>
> Explanation: The two input promises resolve with the values of 10 and -12 respectively. The returned promise should resolve with a value of 10 + -12 = -2.

**Constraints:**

- `promise1` and `promise2` are promises that resolve with a number

## é¢˜ç›®å¤§æ„

ç»™å®šä¸¤ä¸ª promise å¯¹è±¡ `promise1` å’Œ `promise2`ï¼Œè¿”å›žä¸€ä¸ªæ–°çš„ promiseã€‚`promise1` å’Œ `promise2`
éƒ½ä¼šè¢«è§£æžä¸ºä¸€ä¸ªæ•°å­—ã€‚è¿”å›žçš„ Promise åº”è¯¥è§£æžä¸ºè¿™ä¸¤ä¸ªæ•°å­—çš„å’Œã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š**
>
> promise1 = new Promise(resolve => setTimeout(() => resolve(2), 20)),
>
> promise2 = new Promise(resolve => setTimeout(() => resolve(5), 60))
>
> **è¾“å‡ºï¼š** 7
>
> **è§£é‡Šï¼š** ä¸¤ä¸ªè¾“å…¥çš„ Promise åˆ†åˆ«è§£æžä¸ºå€¼ 2 å’Œ 5ã€‚è¿”å›žçš„ Promise åº”è¯¥è§£æžä¸º 2 + 5 = 7ã€‚è¿”å›žçš„ Promise è§£æžçš„æ—¶é—´ä¸ä½œä¸ºåˆ¤æ–­æ¡ä»¶ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š**
>
> promise1 = new Promise(resolve => setTimeout(() => resolve(10), 50)),
>
> promise2 = new Promise(resolve => setTimeout(() => resolve(-12), 30))
>
> **è¾“å‡ºï¼š** -2
>
> **è§£é‡Šï¼š** ä¸¤ä¸ªè¾“å…¥çš„ Promise åˆ†åˆ«è§£æžä¸ºå€¼ 10 å’Œ -12ã€‚è¿”å›žçš„ Promise åº”è¯¥è§£æžä¸º 10 + -12 = -2ã€‚

**æç¤ºï¼š**

- `promise1 å’Œ promise2` éƒ½æ˜¯è¢«è§£æžä¸ºä¸€ä¸ªæ•°å­—çš„ promise å¯¹è±¡

## è§£é¢˜æ€è·¯

1. **Promise è§£æž**ï¼šJavaScript çš„ `Promise` æ˜¯ä¸€ç§ç”¨äºŽå¼‚æ­¥æ“ä½œçš„å¯¹è±¡ï¼Œæ”¯æŒå¼‚æ­¥æ“ä½œç»“æŸåŽï¼ˆä¸è®ºæ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼‰æ‰§è¡Œç›¸åº”çš„å¤„ç†ä»£ç ã€‚æˆ‘ä»¬éœ€è¦ä»Žä¸¤ä¸ª `Promise` ä¸­è§£æžå‡ºå®ƒä»¬çš„å€¼ã€‚

2. **ç»„åˆ Promise**ï¼šå¯ä»¥ä½¿ç”¨ `Promise.all()` æ¥å¤„ç†å¤šä¸ª Promiseï¼Œå®ƒæŽ¥æ”¶ä¸€ä¸ª Promise æ•°ç»„ï¼Œå¹¶è¿”å›žä¸€ä¸ªæ–°çš„ Promiseï¼Œå½“æ‰€æœ‰è¾“å…¥çš„ Promise éƒ½è§£å†³ï¼ˆfulfilledï¼‰æ—¶ï¼Œæ–°çš„ Promise ä¹Ÿä¼šè¢«è§£å†³ï¼Œå¹¶ä¸”å…¶è§£æžå€¼ä¸ºè¾“å…¥ Promise çš„è§£æžå€¼ç»„æˆçš„æ•°ç»„ã€‚

3. **è¿”å›žç»“æžœ**ï¼šå½“ä¸¤ä¸ª Promise éƒ½æˆåŠŸè§£æžåŽï¼Œæˆ‘ä»¬å°†å®ƒä»¬çš„å€¼ç›¸åŠ ï¼Œå¹¶è¿”å›žä¸€ä¸ªæ–°çš„ Promiseã€‚

#### å¤æ‚åº¦åˆ†æž

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œå› ä¸º `Promise.all()` ä¼šå¹¶å‘æ‰§è¡Œä¸¤ä¸ª Promiseï¼Œå®ƒæœ¬èº«å¹¶ä¸è€—è´¹é¢å¤–æ—¶é—´ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªéœ€è¦å¸¸æ•°ç©ºé—´æ¥å­˜å‚¨ä¸¤ä¸ª Promise çš„è§£æžå€¼ã€‚

## ä»£ç 

```javascript
/**
 * @param {Promise} promise1
 * @param {Promise} promise2
 * @return {Promise}
 */
var addTwoPromises = async function (promise1, promise2) {
	return Promise.all([promise1, promise2]).then((values) => {
		return values[0] + values[1]; // å°†ä¸¤ä¸ª Promise çš„ç»“æžœç›¸åŠ 
	});
};

/**
 * addTwoPromises(Promise.resolve(2), Promise.resolve(2))
 *   .then(console.log); // 4
 */
```
