---
title: 447. å›æ—‹é•–çš„æ•°é‡
description: LeetCode 447. å›æ—‹é•–çš„æ•°é‡é¢˜è§£ï¼ŒNumber of Boomerangsï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 447. å›æ—‹é•–çš„æ•°é‡
  - å›æ—‹é•–çš„æ•°é‡
  - Number of Boomerangs
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - æ•°å­¦
---

# 447. å›æ—‹é•–çš„æ•°é‡

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ•°å­¦`](/tag/math.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/number-of-boomerangs) [`LeetCode`](https://leetcode.com/problems/number-of-boomerangs)

## é¢˜ç›®

You are given `n` `points` in the plane that are all **distinct** , where
`points[i] = [xi, yi]`. A **boomerang** is a tuple of points `(i, j, k)` such
that the distance between `i` and `j` equals the distance between `i` and `k`
**(the order of the tuple matters)**.

Return _the number of boomerangs_.

**Example 1:**

> Input: points = [[0,0],[1,0],[2,0]]
>
> Output: 2
>
> Explanation: The two boomerangs are [[1,0],[0,0],[2,0]] and [[1,0],[2,0],[0,0]].

**Example 2:**

> Input: points = [[1,1],[2,2],[3,3]]
>
> Output: 2

**Example 3:**

> Input: points = [[1,1]]
>
> Output: 0

**Constraints:**

- `n == points.length`
- `1 <= n <= 500`
- `points[i].length == 2`
- `-10^4 <= xi, yi <= 10^4`
- All the points are **unique**.

## é¢˜ç›®å¤§æ„

ç»™å®šå¹³é¢ä¸Š `n` å¯¹ **äº’ä¸ç›¸åŒ** çš„ç‚¹ `points` ï¼Œå…¶ä¸­ `points[i] = [xi, yi]` ã€‚**å›æ—‹é•–** æ˜¯ç”±ç‚¹
`(i, j, k)` è¡¨ç¤ºçš„å…ƒç»„ ï¼Œå…¶ä¸­ `i` å’Œ `j` ä¹‹é—´çš„æ¬§å¼è·ç¦»å’Œ `i` å’Œ `k` ä¹‹é—´çš„æ¬§å¼è·ç¦»ç›¸ç­‰ï¼ˆ**éœ€è¦è€ƒè™‘å…ƒç»„çš„é¡ºåº** ï¼‰ã€‚

è¿”å›å¹³é¢ä¸Šæ‰€æœ‰å›æ—‹é•–çš„æ•°é‡ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** points = [[0,0],[1,0],[2,0]]
>
> **è¾“å‡ºï¼š** 2
>
> **è§£é‡Šï¼š** ä¸¤ä¸ªå›æ—‹é•–ä¸º **[[1,0],[0,0],[2,0]]** å’Œ **[[1,0],[2,0],[0,0]]**

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** points = [[1,1],[2,2],[3,3]]
>
> **è¾“å‡ºï¼š** 2

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** points = [[1,1]]
>
> **è¾“å‡ºï¼š** 0

**æç¤ºï¼š**

- `n == points.length`
- `1 <= n <= 500`
- `points[i].length == 2`
- `-10^4 <= xi, yi <= 10^4`
- æ‰€æœ‰ç‚¹éƒ½ **äº’ä¸ç›¸åŒ**

## è§£é¢˜æ€è·¯

1. **å®šä¹‰å›æ—‹é•–**

   - é¢˜ç›®è¦æ±‚æ‰¾åˆ°æ‰€æœ‰æ»¡è¶³ `(i, j, k)` çš„ **å›æ—‹é•–**ï¼ˆBoomerangï¼‰ï¼Œå³æ»¡è¶³ï¼š
     `dist(i, j) == dist(i, k)`
     å…¶ä¸­ `dist(i, j)` è¡¨ç¤ºç‚¹ `i` å’Œ `j` ä¹‹é—´çš„è·ç¦»ã€‚

2. **è®¡ç®—ç‚¹å¯¹ä¹‹é—´çš„è·ç¦»**

   - æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ **å¹³æ–¹æ¬§å‡ é‡Œå¾—è·ç¦»** æ¥é¿å…æµ®ç‚¹è¿ç®—ï¼š
     `dist(i, j) = (x1 - x2)^2 + (y1 - y2)^2`
   - å¯¹äºæ¯ä¸ªç‚¹ `i`ï¼Œç»Ÿè®¡å®ƒä¸å…¶ä»–ç‚¹çš„è·ç¦»å‡ºç°çš„æ¬¡æ•°ã€‚

3. **åˆ©ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡ç›¸åŒè·ç¦»çš„ç‚¹**

   - å¯¹äºæ¯ä¸ªç‚¹ `i`ï¼Œç”¨å“ˆå¸Œè¡¨ `count` ç»Ÿè®¡åˆ°å…¶ä»–ç‚¹çš„è·ç¦»ï¼š
     - `count[dist]` è®°å½•å½“å‰ `i` ç‚¹ä¸‹ï¼Œå‡ºç°ç›¸åŒ `dist` çš„ç‚¹çš„ä¸ªæ•°ã€‚
   - è‹¥ `count[dist] = m`ï¼Œé‚£ä¹ˆä»è¿™äº›ç‚¹ä¸­é€‰å‡ºä¸¤ä¸ªç‚¹ `(j, k)` ç»„æˆå›æ—‹é•–çš„æ–¹æ¡ˆæ•°ä¸ºï¼š
     `m * (m - 1)`
     å› ä¸º `j -> k` å’Œ `k -> j` æ˜¯ä¸åŒçš„æ’åˆ—ã€‚

4. **éå†æ‰€æœ‰ç‚¹ï¼Œç´¯åŠ æ‰€æœ‰æ–¹æ¡ˆ**
   - å¯¹äºæ¯ä¸ªç‚¹ `i`ï¼Œéå† `j` è®¡ç®—æ‰€æœ‰ `dist(i, j)` å¹¶æ›´æ–° `count[dist]` ç»Ÿè®¡æ•°é‡ã€‚
   - è®¡ç®— `m * (m - 1)` å¹¶ç´¯åŠ åˆ° `res`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦ï¼š** `O(n^2)`
  - ä¸¤å±‚å¾ªç¯è®¡ç®—æ‰€æœ‰ç‚¹å¯¹çš„è·ç¦»ï¼Œå…± `O(n^2)` æ¬¡ã€‚
  - `count` å“ˆå¸Œè¡¨çš„æ’å…¥å’ŒæŸ¥è¯¢å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º `O(1)`ï¼Œæ•´ä½“ `O(n^2)`ã€‚
- **ç©ºé—´å¤æ‚åº¦ï¼š** `O(n)`
  - `count` å“ˆå¸Œè¡¨æœ€å¤šå­˜å‚¨ `n` ä¸ªä¸åŒçš„è·ç¦»ï¼ˆæç«¯æƒ…å†µï¼‰ã€‚
  - ç”±äº `count` æ¯è½® `i` è®¡ç®—å®Œæˆåéƒ½ä¼šæ¸…ç©ºï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦ä¸º `O(n)`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[][]} points
 * @return {number}
 */
var numberOfBoomerangs = function (points) {
	const n = points.length;
	let res = 0;

	for (let i = 0; i < n; i++) {
		let count = new Map();
		for (let j = 0; j < n; j++) {
			if (i === j) continue;
			const [x1, y1] = points[i];
			const [x2, y2] = points[j];
			const dist = (x1 - x2) ** 2 + (y1 - y2) ** 2;
			const cnt = count.get(dist) || 0;
			res += 2 * cnt; // ä¸¤ä¸ªæ’åˆ—ï¼š (j, k) å’Œ (k, j)
			count.set(dist, cnt + 1);
		}
	}
	return res;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 356 | ç›´çº¿é•œåƒ ğŸ”’ |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ•°å­¦`](/tag/math.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/line-reflection) [ğŸ”—](https://leetcode.com/problems/line-reflection) |