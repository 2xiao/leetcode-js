---
title: 3223. æ“ä½œåå­—ç¬¦ä¸²çš„æœ€çŸ­é•¿åº¦
description: LeetCode 3223. æ“ä½œåå­—ç¬¦ä¸²çš„æœ€çŸ­é•¿åº¦é¢˜è§£ï¼ŒMinimum Length of String After Operationsï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3223. æ“ä½œåå­—ç¬¦ä¸²çš„æœ€çŸ­é•¿åº¦
  - æ“ä½œåå­—ç¬¦ä¸²çš„æœ€çŸ­é•¿åº¦
  - Minimum Length of String After Operations
  - è§£é¢˜æ€è·¯
  - å“ˆå¸Œè¡¨
  - å­—ç¬¦ä¸²
  - è®¡æ•°
---

# 3223. æ“ä½œåå­—ç¬¦ä¸²çš„æœ€çŸ­é•¿åº¦

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`è®¡æ•°`](/tag/counting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/minimum-length-of-string-after-operations) [`LeetCode`](https://leetcode.com/problems/minimum-length-of-string-after-operations)

## é¢˜ç›®

You are given a string `s`.

You can perform the following process on `s` **any** number of times:

- Choose an index `i` in the string such that there is **at least** one character to the left of index `i` that is equal to `s[i]`, and **at least** one character to the right that is also equal to `s[i]`.
- Delete the **closest** character to the **left** of index `i` that is equal to `s[i]`.
- Delete the **closest** character to the **right** of index `i` that is equal to `s[i]`.

Return the **minimum** length of the final string `s` that you can achieve.

**Example 1:**

**Input:** s = "abaacbcbb"

**Output:** 5

**Explanation:**  
We do the following operations:

- Choose index 2, then remove the characters at indices 0 and 3. The resulting string is `s = "bacbcbb"`.
- Choose index 3, then remove the characters at indices 0 and 5. The resulting string is `s = "acbcb"`.

**Example 2:**

**Input:** s = "aa"

**Output:** 2

**Explanation:**  
We cannot perform any operations, so we return the length of the original
string.

**Constraints:**

- `1 <= s.length <= 2 * 10^5`
- `s` consists only of lowercase English letters.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ã€‚

ä½ éœ€è¦å¯¹ `s` æ‰§è¡Œä»¥ä¸‹æ“ä½œ **ä»»æ„** æ¬¡ï¼š

- é€‰æ‹©ä¸€ä¸ªä¸‹æ ‡ `i` ï¼Œæ»¡è¶³ `s[i]` å·¦è¾¹å’Œå³è¾¹éƒ½ **è‡³å°‘** æœ‰ä¸€ä¸ªå­—ç¬¦ä¸å®ƒç›¸åŒã€‚
- åˆ é™¤ `s[i]` **å·¦è¾¹** ç¦»å®ƒ **æœ€è¿‘** ä¸”ç›¸åŒçš„å­—ç¬¦ã€‚
- åˆ é™¤ `s[i]` **å³è¾¹** ç¦»å®ƒ **æœ€è¿‘** ä¸”ç›¸åŒçš„å­—ç¬¦ã€‚

è¯·ä½ è¿”å›æ‰§è¡Œå®Œæ‰€æœ‰æ“ä½œåï¼Œ `s` çš„ **æœ€çŸ­** é•¿åº¦ã€‚

**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** s = "abaacbcbb"

**è¾“å‡ºï¼š** 5

**è§£é‡Šï¼š**  
æˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

- é€‰æ‹©ä¸‹æ ‡ 2 ï¼Œç„¶ååˆ é™¤ä¸‹æ ‡ 0 å’Œ 3 å¤„çš„å­—ç¬¦ï¼Œå¾—åˆ° `s = "bacbcbb"` ã€‚
- é€‰æ‹©ä¸‹æ ‡ 3 ï¼Œç„¶ååˆ é™¤ä¸‹æ ‡ 0 å’Œ 5 å¤„çš„å­—ç¬¦ï¼Œå¾—åˆ° `s = "acbcb"` ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** s = "aa"

**è¾“å‡ºï¼š** 2

**è§£é‡Šï¼š**  
æ— æ³•å¯¹å­—ç¬¦ä¸²è¿›è¡Œä»»ä½•æ“ä½œï¼Œæ‰€ä»¥è¿”å›åˆå§‹å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚

**æç¤ºï¼š**

- `1 <= s.length <= 2 * 10^5`
- `s` åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚

## è§£é¢˜æ€è·¯

1. **åˆå§‹åŒ–**

   - åˆå§‹åŒ–å˜é‡ `res` ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ `s.length`ã€‚

2. **å­—ç¬¦è®¡æ•°**

   - ä½¿ç”¨é•¿åº¦ä¸º 26 çš„æ•°ç»„ `count`ï¼Œæ¯ä¸ªç´¢å¼•ä»£è¡¨ä¸€ä¸ªå­—æ¯çš„è®¡æ•°ã€‚
   - å°å†™å­—æ¯çš„ ASCII èŒƒå›´æ˜¯ `'a'` åˆ° `'z'`ï¼Œå¯¹åº”çš„å€¼æ˜¯ `97` åˆ° `122`ã€‚
   - æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¡ç®— `char.charCodeAt() - 97` å°†æ¯ä¸ªå­—æ¯æ˜ å°„åˆ°æ•°ç»„ç´¢å¼• `0` åˆ° `25`ã€‚
   - éå†å­—ç¬¦ä¸²æ—¶ï¼Œå¢åŠ å¯¹åº”å­—æ¯çš„è®¡æ•°ã€‚
   - å½“æŸä¸ªå­—ç¬¦çš„è®¡æ•°è¾¾åˆ° 3 æ—¶ï¼Œé‡ç½®è®¡æ•°ä¸º 1ï¼ˆç›¸å½“äºç§»é™¤ 2 ä¸ªå­—ç¬¦ï¼‰ï¼Œå¹¶å°†ç»“æœé•¿åº¦ `res` å‡å°‘ 2ã€‚

3. **æœ€ç»ˆç»“æœ**
   - éå†ç»“æŸåï¼Œè¿”å› `res`ï¼Œå³ç§»é™¤æ‰€æœ‰å‡ºç°ä¸‰æ¬¡çš„å­—ç¬¦åï¼Œå­—ç¬¦ä¸²çš„æœ€çŸ­é•¿åº¦ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œéå†å­—ç¬¦ä¸²ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä½¿ç”¨ä¸€ä¸ªé•¿åº¦ä¸º 26 çš„æ•°ç»„ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var minimumLength = function (s) {
	let res = s.length;
	let count = new Array(26).fill(0);
	for (let char of s) {
		const index = char.charCodeAt() - 97; // è®¡ç®—å­—æ¯åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•
		count[index]++;
		if (count[index] == 3) {
			count[index] = 1;
			res -= 2;
		}
	}
	return res;
};
```
