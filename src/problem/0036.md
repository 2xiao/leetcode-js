# [36. æœ‰æ•ˆçš„æ•°ç‹¬](https://2xiao.github.io/leetcode-js/problem/0036.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/valid-sudoku) [`LeetCode`](https://leetcode.com/problems/valid-sudoku)

## é¢˜ç›®

Determine if a `9 x 9` Sudoku board is valid. Only the filled cells need to be validated **according to the following rules** :

1. Each row must contain the digits `1-9` without repetition.
2. Each column must contain the digits `1-9` without repetition.
3. Each of the nine `3 x 3` sub-boxes of the grid must contain the digits `1-9` without repetition.

**Note:**

- A Sudoku board (partially filled) could be valid but is not necessarily solvable.
- Only the filled cells need to be validated according to the mentioned rules.

**Example 1:**

![](https://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Sudoku-by-L2G-20050714.svg/250px-Sudoku-by-L2G-20050714.svg.png)

> Input: board =
>
> [["5","3",".",".","7",".",".",".","."]
>
> ,["6",".",".","1","9","5",".",".","."]
>
> ,[".","9","8",".",".",".",".","6","."]
>
> ,["8",".",".",".","6",".",".",".","3"]
>
> ,["4",".",".","8",".","3",".",".","1"]
>
> ,["7",".",".",".","2",".",".",".","6"]
>
> ,[".","6",".",".",".",".","2","8","."]
>
> ,[".",".",".","4","1","9",".",".","5"]
>
> ,[".",".",".",".","8",".",".","7","9"]]
>
> Output: true

**Example 2:**

> Input: board =
>
> [["8","3",".",".","7",".",".",".","."]
>
> ,["6",".",".","1","9","5",".",".","."]
>
> ,[".","9","8",".",".",".",".","6","."]
>
> ,["8",".",".",".","6",".",".",".","3"]
>
> ,["4",".",".","8",".","3",".",".","1"]
>
> ,["7",".",".",".","2",".",".",".","6"]
>
> ,[".","6",".",".",".",".","2","8","."]
>
> ,[".",".",".","4","1","9",".",".","5"]
>
> ,[".",".",".",".","8",".",".","7","9"]]
>
> Output: false
>
> Explanation: Same as Example 1, except with the **5** in the top left corner being modified to **8**. Since there are two 8's in the top left 3x3 sub-box, it is invalid.

**Constraints:**

- `board.length == 9`
- `board[i].length == 9`
- `board[i][j]` is a digit `1-9` or `'.'`.

## é¢˜ç›®å¤§æ„

åˆ¤æ–­ä¸€ä¸ª Â 9x9 çš„æ•°ç‹¬æ˜¯å¦æœ‰æ•ˆã€‚åªéœ€è¦æ ¹æ®ä»¥ä¸‹è§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚

1. æ•°å­— Â 1-9Â  åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
2. æ•°å­— Â 1-9Â  åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
3. æ•°å­— Â 1-9Â  åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„ Â 3x3Â  å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚

## è§£é¢˜æ€è·¯

- ç»™å‡ºä¸€ä¸ªæ•°ç‹¬çš„æ£‹ç›˜ï¼Œè¦æ±‚åˆ¤æ–­è¿™ä¸ªæ£‹ç›˜å½“å‰æ˜¯å¦æ»¡è¶³æ•°ç‹¬çš„è¦æ±‚ï¼šå³è¡Œåˆ—æ˜¯å¦éƒ½åªåŒ…å« 1-9ï¼Œæ¯ä¸ªä¹å®«æ ¼é‡Œé¢æ˜¯å¦ä¹ŸåªåŒ…å« 1-9 ã€‚
- æ³¨æ„è¿™é¢˜å’Œ [ç¬¬ 37 é¢˜](./0037.md) æ˜¯ä¸åŒçš„ï¼Œè¿™ä¸€é¢˜æ˜¯åˆ¤æ–­å½“å‰æ£‹ç›˜çŠ¶æ€æ˜¯å¦æ»¡è¶³æ•°ç‹¬çš„è¦æ±‚ï¼Œè€Œ [ç¬¬ 37 é¢˜](./0037.md) æ˜¯è¦æ±‚æ±‚è§£æ•°ç‹¬ã€‚æœ¬é¢˜ä¸­çš„æ£‹ç›˜æœ‰äº›æ˜¯æ— è§£çš„ï¼Œä½†æ˜¯æ£‹ç›˜çŠ¶æ€æ˜¯æ»¡è¶³é¢˜æ„çš„ã€‚
- åªéœ€è¦éå†çŸ©é˜µï¼Œåˆ†åˆ«åˆ¤æ–­è¡Œåˆ—å’Œä¹å®«æ ¼å†…æœ‰æ²¡æœ‰é‡å¤çš„æ•°å­—å³å¯ï¼›
- çŸ©é˜µçš„æ•°ç»„ä¸‹æ ‡ (`i_j`) å¦‚ä¸‹ï¼Œéš¾ç‚¹åœ¨äºå¦‚ä½•è®¡ç®—ä¹å®«æ ¼å†…å…ƒç´ çš„ä¸‹æ ‡:
  - `box[i][j] = board[3 * Math.floor(i / 3) + Math.floor(j / 3)][3 * (i % 3) + (j % 3)]`

```
0_0 0_1 0_2 | 0_3 0_4 0_5 | 0_6 0_7 0_8
1_0 1_1 1_2 | 1_3 1_4 1_5 | 1_6 1_7 1_8
2_0 2_1 2_2 | 2_3 2_4 2_5 | 2_6 2_7 2_8
---------------------------------------
3_0 3_1 3_2 | 3_3 3_4 3_5 | 3_6 3_7 3_8
4_0 4_1 4_2 | 4_3 4_4 4_5 | 4_6 4_7 4_8
5_0 5_1 5_2 | 5_3 5_4 5_5 | 5_6 5_7 5_8
---------------------------------------
6_0 6_1 6_2 | 6_3 6_4 6_5 | 6_6 6_7 6_8
7_0 7_1 7_2 | 7_3 7_4 7_5 | 7_6 7_7 7_8
8_0 8_1 8_2 | 8_3 8_4 8_5 | 8_6 8_7 8_8
```

## ä»£ç 

```javascript
/**
 * @param {character[][]} board
 * @return {boolean}
 */
var isValidSudoku = function (board) {
	for (let i = 0; i < 9; i++) {
		let row = new Set();
		let col = new Set();
		let box = new Set();
		for (let j = 0; j < 9; j++) {
			let _row = board[i][j];
			let _col = board[j][i];
			let _box =
				board[3 * Math.floor(i / 3) + Math.floor(j / 3)][3 * (i % 3) + (j % 3)];

			if (_row != '.') {
				if (row.has(_row)) return false;
				row.add(_row);
			}
			if (_col != '.') {
				if (col.has(_col)) return false;
				col.add(_col);
			}
			if (_box != '.') {
				if (box.has(_box)) return false;
				box.add(_box);
			}
		}
	}
	return true;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 37 | [è§£æ•°ç‹¬](https://leetcode.com/problems/sudoku-solver) | [[âœ“]](/problem/0037.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å›æº¯`](/tag/backtracking.md) `1+` | <font color=#ff334b>Hard</font> |
| 2133 | [æ£€æŸ¥æ˜¯å¦æ¯ä¸€è¡Œæ¯ä¸€åˆ—éƒ½åŒ…å«å…¨éƒ¨æ•´æ•°](https://leetcode.com/problems/check-if-every-row-and-column-contains-all-numbers) |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`çŸ©é˜µ`](/tag/matrix.md) | <font color=#15bd66>Easy</font> |