---
title: 434. å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°
description: LeetCode 434. å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°é¢˜è§£ï¼ŒNumber of Segments in a Stringï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 434. å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°
  - å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°
  - Number of Segments in a String
  - è§£é¢˜æ€è·¯
  - å­—ç¬¦ä¸²
---

# 434. å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/number-of-segments-in-a-string) [`LeetCode`](https://leetcode.com/problems/number-of-segments-in-a-string)

## é¢˜ç›®

Given a string `s`, return _the number of segments in the string_.

A **segment** is defined to be a contiguous sequence of **non-space
characters**.

**Example 1:**

> Input: s = "Hello, my name is John"
>
> Output: 5
>
> Explanation: The five segments are ["Hello,", "my", "name", "is", "John"]

**Example 2:**

> Input: s = "Hello"
>
> Output: 1

**Constraints:**

- `0 <= s.length <= 300`
- `s` consists of lowercase and uppercase English letters, digits, or one of the following characters `"!@#$%^&*()_+-=',.:"`.
- The only space character in `s` is `' '`.

## é¢˜ç›®å¤§æ„

ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­çš„å•è¯ä¸ªæ•°ï¼Œè¿™é‡Œçš„å•è¯æŒ‡çš„æ˜¯è¿ç»­çš„ä¸æ˜¯ç©ºæ ¼çš„å­—ç¬¦ã€‚

è¯·æ³¨æ„ï¼Œä½ å¯ä»¥å‡å®šå­—ç¬¦ä¸²é‡Œä¸åŒ…æ‹¬ä»»ä½•ä¸å¯æ‰“å°çš„å­—ç¬¦ã€‚

**ç¤ºä¾‹:**

> **è¾“å…¥:** "Hello, my name is John"
>
> **è¾“å‡º:** 5
>
> **è§£é‡Š:** è¿™é‡Œçš„å•è¯æ˜¯æŒ‡è¿ç»­çš„ä¸æ˜¯ç©ºæ ¼çš„å­—ç¬¦ï¼Œæ‰€ä»¥ "Hello," ç®—ä½œ 1 ä¸ªå•è¯ã€‚

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šæ‹†åˆ†æ•°ç»„

æˆ‘ä»¬å¯ä»¥å°†å­—ç¬¦ä¸² `s` ä»¥**ç©ºæ ¼**ä½œä¸ºåˆ†éš”ç¬¦æ‹†åˆ†æˆä¸€ä¸ªæ•°ç»„ï¼Œç„¶åè¿‡æ»¤æ‰ç©ºå­—ç¬¦ä¸²ï¼Œæœ€åè®¡ç®—æ•°ç»„çš„é•¿åº¦ï¼ˆå•è¯æ•°é‡ï¼‰ã€‚

1. ä½¿ç”¨ `split(' ')` æ–¹æ³•å°†å­—ç¬¦ä¸²æŒ‰**ç©ºæ ¼**æ‹†åˆ†æˆå¤šä¸ªå­å­—ç¬¦ä¸²ã€‚
2. ä½¿ç”¨ `filter()` è¿‡æ»¤æ‰æ•°ç»„ä¸­çš„ç©ºå­—ç¬¦ä¸²ï¼ˆ`''`ï¼‰ï¼Œå› ä¸ºç©ºå­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆå•è¯ã€‚
3. è¿”å›è¿‡æ»¤åçš„æ•°ç»„é•¿åº¦ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦ï¼š** `O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚`split` å’Œ `filter` æ“ä½œéƒ½ä¼šéå†æ•´ä¸ªå­—ç¬¦ä¸²ã€‚
- **ç©ºé—´å¤æ‚åº¦ï¼š** `O(n)`ï¼Œ`split` æ–¹æ³•ä¼šç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ã€‚

### æ€è·¯äºŒï¼šéå†å­—ç¬¦ä¸²

è€ƒè™‘åˆ°æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ï¼Œæœ‰ä¸€ç§**ä¼˜åŒ–è§£æ³•**ï¼Œé€šè¿‡ç›´æ¥éå†å­—ç¬¦ä¸²å¹¶è®¡ç®—å•è¯æ•°é‡ï¼Œé¿å…ä½¿ç”¨ `split()` æ–¹æ³•å’Œ `filter()` æ–¹æ³•ï¼Œä»è€Œå‡å°‘å†…å­˜æ¶ˆè€—ã€‚

é€šè¿‡**éå†å­—ç¬¦ä¸²**ï¼Œåœ¨é‡åˆ°éç©ºå­—ç¬¦æ—¶å¼€å§‹è®¡æ•°ï¼Œå½“é‡åˆ°ç©ºæ ¼æ—¶ï¼Œæˆ‘ä»¬è®¤ä¸ºä¸€ä¸ªå•è¯å·²ç»ç»“æŸã€‚è¿™æ ·å¯ä»¥ç›´æ¥è®¡ç®—å•è¯æ•°é‡ï¼Œè€Œä¸éœ€è¦å…ˆæŠŠæ•´ä¸ªå­—ç¬¦ä¸²æ‹†åˆ†æˆæ•°ç»„ã€‚

1. éå†å­—ç¬¦ä¸² `s`ï¼Œç”¨ä¸€ä¸ªå¸ƒå°”å€¼ `inWord` æ¥æ ‡è®°å½“å‰æ˜¯å¦åœ¨ä¸€ä¸ªå•è¯ä¸­ã€‚
2. å½“é‡åˆ°éç©ºæ ¼å­—ç¬¦æ—¶ï¼Œå¦‚æœå½“å‰ä¸åœ¨ä¸€ä¸ªå•è¯ä¸­ï¼Œè¯´æ˜ä¸€ä¸ªæ–°å•è¯å¼€å§‹äº†ï¼Œå•è¯è®¡æ•°åŠ  1ã€‚
3. å½“é‡åˆ°ç©ºæ ¼æ—¶ï¼Œè®¾ç½® `inWord` ä¸º `false`ï¼Œè¡¨ç¤ºå½“å‰æ²¡æœ‰åœ¨ä¸€ä¸ªå•è¯ä¸­ã€‚
4. æœ€åè¿”å›å•è¯çš„æ•°é‡ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦ï¼š** `O(n)`ï¼Œåªéå†ä¸€æ¬¡å­—ç¬¦ä¸²ã€‚
- **ç©ºé—´å¤æ‚åº¦ï¼š** `O(1)`ï¼Œåªç”¨å¸¸æ•°ç©ºé—´æ¥å­˜å‚¨è®¡æ•°å™¨å’Œæ ‡è®°ã€‚

## ä»£ç 

::: code-tabs

@tab æ‹†åˆ†æ•°ç»„

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var countSegments = function (s) {
	return s.split(' ').filter((i) => i !== '').length;
};
```

@tab éå†å­—ç¬¦ä¸²

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var countSegments = function (s) {
	let count = 0;
	let inWord = false;

	for (let i = 0; i < s.length; i++) {
		if (s[i] !== ' ') {
			if (!inWord) {
				count++;
				inWord = true;
			}
		} else {
			inWord = false;
		}
	}

	return count;
};
```

:::
