---
title: 852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•
description: LeetCode 852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•é¢˜è§£ï¼ŒPeak Index in a Mountain Arrayï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•
  - å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•
  - Peak Index in a Mountain Array
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
---

# 852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/peak-index-in-a-mountain-array) [`LeetCode`](https://leetcode.com/problems/peak-index-in-a-mountain-array)

## é¢˜ç›®

You are given an integer **mountain** array `arr` of length `n` where the
values increase to a **peak element** and then decrease.

Return the index of the peak element.

Your task is to solve it in `O(log(n))` time complexity.

**Example 1:**

**Input:** arr = [0,1,0]

**Output:** 1

**Example 2:**

**Input:** arr = [0,2,1,0]

**Output:** 1

**Example 3:**

**Input:** arr = [0,10,5,2]

**Output:** 1

**Constraints:**

- `3 <= arr.length <= 10^5`
- `0 <= arr[i] <= 10^6`
- `arr` is **guaranteed** to be a mountain array.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•° **å±±è„‰** æ•°ç»„ `arr` ï¼Œå…¶ä¸­çš„å€¼é€’å¢åˆ°ä¸€ä¸ª **å³°å€¼å…ƒç´ ** ç„¶åé€’å‡ã€‚

è¿”å›å³°å€¼å…ƒç´ çš„ä¸‹æ ‡ã€‚

ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º `O(log(n))` çš„è§£å†³æ–¹æ¡ˆã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** arr = [0,1,0]
>
> **è¾“å‡ºï¼š** 1

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** arr = [0,2,1,0]
>
> **è¾“å‡ºï¼š** 1

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** arr = [0,10,5,2]
>
> **è¾“å‡ºï¼š** 1

**æç¤ºï¼š**

- `3 <= arr.length <= 10^5`
- `0 <= arr[i] <= 10^6`
- é¢˜ç›®æ•°æ® **ä¿è¯** `arr` æ˜¯ä¸€ä¸ªå±±è„‰æ•°ç»„

## è§£é¢˜æ€è·¯

1. **ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾**ï¼šå¯ä»¥é€šè¿‡äºŒåˆ†æŸ¥æ‰¾æ¥é«˜æ•ˆæ‰¾åˆ°è¿™ä¸ªå³°å€¼ï¼š

   - è®¾ç½® `left` ä¸ºæ•°ç»„çš„èµ·å§‹ç´¢å¼•ï¼Œ`right` ä¸ºæ•°ç»„çš„ç»“æŸç´¢å¼•ã€‚
   - åœ¨æ¯æ¬¡è¿­ä»£ä¸­è®¡ç®—ä¸­é—´ç´¢å¼• `mid`ã€‚

2. **åˆ¤æ–­ä¸­é—´å…ƒç´ **ï¼š

   - å¦‚æœ `arr[mid]` æ˜¯å³°å€¼ï¼Œåˆ™ç›´æ¥è¿”å› `mid`ã€‚
   - å¦‚æœ `arr[mid]` å¤§äºå…¶å·¦ä¾§å…ƒç´ è€Œå°äºå…¶å³ä¾§å…ƒç´ ï¼Œè¯´æ˜å³°å€¼åœ¨å³ä¾§ï¼Œå› æ­¤å°† `left` ç§»åŠ¨åˆ° `mid`ã€‚
   - å¦‚æœ `arr[mid]` å°äºå…¶å·¦ä¾§å…ƒç´ ï¼Œè¯´æ˜å³°å€¼åœ¨å·¦ä¾§ï¼Œå› æ­¤å°† `right` ç§»åŠ¨åˆ° `mid`ã€‚

3. **å¾ªç¯ç›´åˆ°æ‰¾åˆ°å³°å€¼**ï¼šç»§ç»­è¿­ä»£ï¼Œç›´åˆ°æ‰¾åˆ°å³°å€¼ç´¢å¼•ã€‚

4. **è¿”å›ç»“æœ**ï¼šå½“ `left` ä¸ `right` é‡åˆæ—¶ï¼Œ`left` å°±æ˜¯å³°å€¼çš„ç´¢å¼•ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(log n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„çš„é•¿åº¦ï¼Œæ¯æ¬¡éƒ½å°†æœç´¢èŒƒå›´ç¼©å°ä¸€åŠï¼Œä½¿ç”¨äº†äºŒåˆ†æŸ¥æ‰¾çš„ç­–ç•¥ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨å¸¸æ•°çº§çš„ç©ºé—´æ¥å­˜å‚¨å˜é‡ï¼Œè€Œä¸éšè¾“å…¥è§„æ¨¡è€Œå˜åŒ–ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} arr
 * @return {number}
 */
var peakIndexInMountainArray = function (arr) {
	let left = 0;
	right = arr.length - 1;
	while (left < right) {
		let mid = ((right + left) / 2) | 0;
		if (arr[mid] > arr[mid - 1] && arr[mid] > arr[mid + 1]) {
			// arr[mid] å°±æ˜¯å³°å€¼
			return mid;
		} else if (arr[mid] > arr[mid - 1] && arr[mid + 1] > arr[mid]) {
			// å³°å€¼åœ¨å³ä¾§
			left = mid;
		} else {
			// å³°å€¼åœ¨å·¦ä¾§
			right = mid;
		}
	}
	return left;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 162 | å¯»æ‰¾å³°å€¼ | [[âœ“]](/problem/0162.md) |  [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/find-peak-element) [ğŸ”—](https://leetcode.com/problems/find-peak-element) |
| 1095 | å±±è„‰æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼ |  |  [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`äº¤äº’`](/tag/interactive.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/find-in-mountain-array) [ğŸ”—](https://leetcode.com/problems/find-in-mountain-array) |
| 1671 | å¾—åˆ°å±±å½¢æ•°ç»„çš„æœ€å°‘åˆ é™¤æ¬¡æ•° | [[âœ“]](/problem/1671.md) |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `1+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-number-of-removals-to-make-mountain-array) [ğŸ”—](https://leetcode.com/problems/minimum-number-of-removals-to-make-mountain-array) |