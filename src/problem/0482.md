---
title: 482. å¯†é’¥æ ¼å¼åŒ–
description: LeetCode 482. å¯†é’¥æ ¼å¼åŒ–é¢˜è§£ï¼ŒLicense Key Formattingï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 482. å¯†é’¥æ ¼å¼åŒ–
  - å¯†é’¥æ ¼å¼åŒ–
  - License Key Formatting
  - è§£é¢˜æ€è·¯
  - å­—ç¬¦ä¸²
---

# 482. å¯†é’¥æ ¼å¼åŒ–

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/license-key-formatting) [`LeetCode`](https://leetcode.com/problems/license-key-formatting)

## é¢˜ç›®

You are given a license key represented as a string `s` that consists of only
alphanumeric characters and dashes. The string is separated into `n + 1`
groups by `n` dashes. You are also given an integer `k`.

We want to reformat the string `s` such that each group contains exactly `k`
characters, except for the first group, which could be shorter than `k` but
still must contain at least one character. Furthermore, there must be a dash
inserted between two groups, and you should convert all lowercase letters to
uppercase.

Return _the reformatted license key_.

**Example 1:**

> Input: s = "5F3Z-2e-9-w", k = 4
>
> Output: "5F3Z-2E9W"
>
> Explanation: The string s has been split into two parts, each part has 4 characters.
>
> Note that the two extra dashes are not needed and can be removed.

**Example 2:**

> Input: s = "2-5g-3-J", k = 2
>
> Output: "2-5G-3J"
>
> Explanation: The string s has been split into three parts, each part has 2 characters except the first part as it could be shorter as mentioned above.

**Constraints:**

- `1 <= s.length <= 10^5`
- `s` consists of English letters, digits, and dashes `'-'`.
- `1 <= k <= 10^4`

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªè®¸å¯å¯†é’¥å­—ç¬¦ä¸² `s`ï¼Œä»…ç”±å­—æ¯ã€æ•°å­—å­—ç¬¦å’Œç ´æŠ˜å·ç»„æˆã€‚å­—ç¬¦ä¸²ç”± `n` ä¸ªç ´æŠ˜å·åˆ†æˆ `n + 1` ç»„ã€‚ä½ ä¹Ÿä¼šå¾—åˆ°ä¸€ä¸ªæ•´æ•° `k` ã€‚

æˆ‘ä»¬æƒ³è¦é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸² `s`ï¼Œä½¿æ¯ä¸€ç»„åŒ…å« `k` ä¸ªå­—ç¬¦ï¼Œé™¤äº†ç¬¬ä¸€ç»„ï¼Œå®ƒå¯ä»¥æ¯” `k`
çŸ­ï¼Œä½†ä»ç„¶å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªå­—ç¬¦ã€‚æ­¤å¤–ï¼Œä¸¤ç»„ä¹‹é—´å¿…é¡»æ’å…¥ç ´æŠ˜å·ï¼Œå¹¶ä¸”åº”è¯¥å°†æ‰€æœ‰å°å†™å­—æ¯è½¬æ¢ä¸ºå¤§å†™å­—æ¯ã€‚

è¿”å› _é‡æ–°æ ¼å¼åŒ–çš„è®¸å¯å¯†é’¥_ ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** S = "5F3Z-2e-9-w", k = 4
>
> **è¾“å‡ºï¼š** "5F3Z-2E9W"
>
> **è§£é‡Šï¼š** å­—ç¬¦ä¸² S è¢«åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼Œæ¯éƒ¨åˆ† 4 ä¸ªå­—ç¬¦ï¼›
>
> > æ³¨æ„ï¼Œä¸¤ä¸ªé¢å¤–çš„ç ´æŠ˜å·éœ€è¦åˆ æ‰ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** S = "2-5g-3-J", k = 2
>
> **è¾“å‡ºï¼š** "2-5G-3J"
>
> **è§£é‡Šï¼š** å­—ç¬¦ä¸² S è¢«åˆ†æˆäº† 3 ä¸ªéƒ¨åˆ†ï¼ŒæŒ‰ç…§å‰é¢çš„è§„åˆ™æè¿°ï¼Œç¬¬ä¸€éƒ¨åˆ†çš„å­—ç¬¦å¯ä»¥å°‘äºç»™å®šçš„æ•°é‡ï¼Œå…¶ä½™éƒ¨åˆ†çš†ä¸º 2 ä¸ªå­—ç¬¦ã€‚

**æç¤º:**

- `1 <= s.length <= 10^5`
- `s` åªåŒ…å«å­—æ¯ã€æ•°å­—å’Œç ´æŠ˜å· `'-'`.
- `1 <= k <= 10^4`

## è§£é¢˜æ€è·¯

1. **å»é™¤ç ´æŠ˜å·å’Œè½¬æ¢ä¸ºå¤§å†™**ï¼š

   - ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ `/-/g` åˆ é™¤æ‰€æœ‰ç ´æŠ˜å·ã€‚
   - å°†å‰©ä½™å­—ç¬¦è½¬æ¢ä¸ºå¤§å†™ã€‚

2. **åˆ†ç»„é€»è¾‘**ï¼š

   - è®¡ç®—ç¬¬ä¸€ç»„çš„é•¿åº¦ï¼š`firstLength`ã€‚
   - å¦‚æœç¬¬ä¸€ç»„çš„é•¿åº¦ä¸ä¸º `0`ï¼Œå°†å…¶å•ç‹¬æˆªå–å‡ºæ¥ã€‚
   - ä»ç¬¬ä¸€ç»„åé¢çš„å­—ç¬¦å¼€å§‹ï¼Œæ¯ `k` ä¸ªå­—ç¬¦æˆªå–å¹¶æ·»åŠ åˆ°ç»“æœæ•°ç»„ä¸­ã€‚

3. **æ‹¼æ¥ç»“æœ**ï¼š

   - ä½¿ç”¨ `join('-')` å°†æ‰€æœ‰åˆ†ç»„ç”¨ç ´æŠ˜å·è¿æ¥æˆæœ€ç»ˆç»“æœå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
  - å»é™¤ç ´æŠ˜å·å’Œè½¬æ¢ä¸ºå¤§å†™ï¼Œéå†å­—ç¬¦ä¸²ä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚
  - åˆ†ç»„æ“ä½œï¼Œéå†æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ†æˆè‹¥å¹²ç»„ï¼Œæ¯ç»„ `k` ä¸ªå­—ç¬¦ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚
  - æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `join` æ‹¼æ¥åˆ†ç»„æ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚
  - æ€»æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œç”¨äºå­˜å‚¨å»é™¤ç ´æŠ˜å·åçš„å­—ç¬¦ä¸²å’Œç»“æœæ•°ç»„ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @param {number} k
 * @return {string}
 */
var licenseKeyFormatting = function (s, k) {
	// åˆ é™¤ç ´æŠ˜å·å¹¶å°†å­—ç¬¦è½¬æ¢ä¸ºå¤§å†™
	let cleanStr = s.replace(/-/g, '').toUpperCase();

	// ä»åå‘å‰åˆ†ç»„
	let result = [];
	let firstLength = cleanStr.length % k; // ç¬¬ä¸€ç»„å¯èƒ½é•¿åº¦å°äº k

	// ç¬¬ä¸€ç»„ï¼ˆå¦‚æœé•¿åº¦ä¸ä¸º 0ï¼‰
	if (firstLength > 0) {
		result.push(cleanStr.slice(0, firstLength));
	}

	// å…¶ä½™ç»„ï¼Œæ¯ k ä¸ªå­—ç¬¦
	for (let i = firstLength; i < cleanStr.length; i += k) {
		result.push(cleanStr.slice(i, i + k));
	}

	// ç”¨ç ´æŠ˜å·è¿æ¥æ‰€æœ‰åˆ†ç»„å¹¶è¿”å›ç»“æœ
	return result.join('-');
};
```
