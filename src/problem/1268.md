---
title: 1268. æœç´¢æ¨èç³»ç»Ÿ
description: LeetCode 1268. æœç´¢æ¨èç³»ç»Ÿé¢˜è§£ï¼ŒSearch Suggestions Systemï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1268. æœç´¢æ¨èç³»ç»Ÿ
  - æœç´¢æ¨èç³»ç»Ÿ
  - Search Suggestions System
  - è§£é¢˜æ€è·¯
  - å­—å…¸æ ‘
  - æ•°ç»„
  - å­—ç¬¦ä¸²
  - äºŒåˆ†æŸ¥æ‰¾
  - æ’åº
  - å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰
---

# 1268. æœç´¢æ¨èç³»ç»Ÿ

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å­—å…¸æ ‘`](/tag/trie.md) [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`æ’åº`](/tag/sorting.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/search-suggestions-system) [`LeetCode`](https://leetcode.com/problems/search-suggestions-system)

## é¢˜ç›®

You are given an array of strings `products` and a string `searchWord`.

Design a system that suggests at most three product names from `products`
after each character of `searchWord` is typed. Suggested products should have
common prefix with `searchWord`. If there are more than three products with a
common prefix return the three lexicographically minimums products.

Return _a list of lists of the suggested products after each character
of_`searchWord` _is typed_.

**Example 1:**

> Input: products = ["mobile","mouse","moneypot","monitor","mousepad"], searchWord = "mouse"
>
> Output: [["mobile","moneypot","monitor"],["mobile","moneypot","monitor"],["mouse","mousepad"],["mouse","mousepad"],["mouse","mousepad"]]
>
> Explanation: products sorted lexicographically = ["mobile","moneypot","monitor","mouse","mousepad"].
>
> After typing m and mo all products match and we show user ["mobile","moneypot","monitor"].
>
> After typing mou, mous and mouse the system suggests ["mouse","mousepad"].

**Example 2:**

> Input: products = ["havana"], searchWord = "havana"
>
> Output: [["havana"],["havana"],["havana"],["havana"],["havana"],["havana"]]
>
> Explanation: The only word "havana" will be always suggested while typing the search word.

**Constraints:**

- `1 <= products.length <= 1000`
- `1 <= products[i].length <= 3000`
- `1 <= sum(products[i].length) <= 2 * 10^4`
- All the strings of `products` are **unique**.
- `products[i]` consists of lowercase English letters.
- `1 <= searchWord.length <= 1000`
- `searchWord` consists of lowercase English letters.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªäº§å“æ•°ç»„ `products` å’Œä¸€ä¸ªå­—ç¬¦ä¸² `searchWord` ï¼Œ`products` æ•°ç»„ä¸­æ¯ä¸ªäº§å“éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

è¯·ä½ è®¾è®¡ä¸€ä¸ªæ¨èç³»ç»Ÿï¼Œåœ¨ä¾æ¬¡è¾“å…¥å•è¯ `searchWord` çš„æ¯ä¸€ä¸ªå­—æ¯åï¼Œæ¨è `products` æ•°ç»„ä¸­å‰ç¼€ä¸ `searchWord`
ç›¸åŒçš„æœ€å¤šä¸‰ä¸ªäº§å“ã€‚å¦‚æœå‰ç¼€ç›¸åŒçš„å¯æ¨èäº§å“è¶…è¿‡ä¸‰ä¸ªï¼Œè¯·æŒ‰å­—å…¸åºè¿”å›æœ€å°çš„ä¸‰ä¸ªã€‚

è¯·ä½ ä»¥äºŒç»´åˆ—è¡¨çš„å½¢å¼ï¼Œè¿”å›åœ¨è¾“å…¥ `searchWord` æ¯ä¸ªå­—æ¯åç›¸åº”çš„æ¨èäº§å“çš„åˆ—è¡¨ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** products = ["mobile","mouse","moneypot","monitor","mousepad"], searchWord = "mouse"
>
> **è¾“å‡ºï¼š**[
>
> ["mobile","moneypot","monitor"],
>
> ["mobile","moneypot","monitor"],
>
> ["mouse","mousepad"],
>
> ["mouse","mousepad"],
>
> ["mouse","mousepad"]
>
> ]
>
> **è§£é‡Šï¼š** æŒ‰å­—å…¸åºæ’åºåçš„äº§å“åˆ—è¡¨æ˜¯ ["mobile","moneypot","monitor","mouse","mousepad"]
>
> è¾“å…¥ m å’Œ moï¼Œç”±äºæ‰€æœ‰äº§å“çš„å‰ç¼€éƒ½ç›¸åŒï¼Œæ‰€ä»¥ç³»ç»Ÿè¿”å›å­—å…¸åºæœ€å°çš„ä¸‰ä¸ªäº§å“ ["mobile","moneypot","monitor"]
>
> è¾“å…¥ mouï¼Œ mous å’Œ mouse åç³»ç»Ÿéƒ½è¿”å› ["mouse","mousepad"]

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** products = ["havana"], searchWord = "havana"
>
> **è¾“å‡ºï¼š**[["havana"],["havana"],["havana"],["havana"],["havana"],["havana"]]

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** products = ["bags","baggage","banner","box","cloths"], searchWord = "bags"
>
> **è¾“å‡ºï¼š**[["baggage","bags","banner"],["baggage","bags","banner"],["baggage","bags"],["bags"]]

**ç¤ºä¾‹ 4ï¼š**

> **è¾“å…¥ï¼š** products = ["havana"], searchWord = "tatiana"
>
> **è¾“å‡ºï¼š**[[],[],[],[],[],[],[]]

**æç¤ºï¼š**

- `1 <= products.length <= 1000`
- `1 <= Î£ products[i].length <= 2 * 10^4`
- `products[i]` ä¸­æ‰€æœ‰çš„å­—ç¬¦éƒ½æ˜¯å°å†™è‹±æ–‡å­—æ¯ã€‚
- `1 <= searchWord.length <= 1000`
- `searchWord` ä¸­æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å°å†™è‹±æ–‡å­—æ¯ã€‚

## è§£é¢˜æ€è·¯

1. å¯¹æ‰€æœ‰äº§å“è¿›è¡Œå­—å…¸åºæ’åºã€‚

2. **æ„å»ºå­—å…¸æ ‘**ï¼š

   - æ’å…¥æ¯ä¸ªäº§å“åˆ°å­—å…¸æ ‘ä¸­ã€‚
   - åŒæ—¶åœ¨æ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤ä¸€ä¸ªæœ€å¤š 3 ä¸ªçš„å€™é€‰åˆ—è¡¨ã€‚

3. **æœç´¢å‰ç¼€**ï¼š

   - éå† `searchWord` çš„æ¯ä¸ªå­—ç¬¦ï¼Œåœ¨å­—å…¸æ ‘ä¸­æŸ¥æ‰¾å¯¹åº”èŠ‚ç‚¹ã€‚
   - è¿”å›èŠ‚ç‚¹ä¸­çš„å€™é€‰åˆ—è¡¨ã€‚

4. **è¿”å›ç»“æœ**ï¼š

   - å°†æ¯ä¸ªå‰ç¼€å¯¹åº”çš„å€™é€‰åˆ—è¡¨åŠ å…¥ç»“æœã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n * L + m)`ï¼Œå…¶ä¸­ `L` æ˜¯å¹³å‡å­—ç¬¦ä¸²é•¿åº¦ï¼Œ `n` æ˜¯ `products` çš„é•¿åº¦ï¼Œ`m` æ˜¯æœç´¢å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
  - æ„å»ºå­—å…¸æ ‘ï¼šæ¯ä¸ªå­—ç¬¦ä¸²æ’å…¥ `O(L)`ï¼Œå¤æ‚åº¦ä¸º `O(n * L)`ã€‚
  - æœç´¢ï¼šéå† `searchWord` çš„æ¯ä¸ªå­—ç¬¦ `O(m)`ï¼Œæ¯æ¬¡æŸ¥æ‰¾å€™é€‰åˆ—è¡¨ `O(3)`ï¼Œå¤æ‚åº¦ä¸º `O(m)`ã€‚
  - æ€»å¤æ‚åº¦ï¼š`O(n * L + m)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n * L)`ï¼Œå­—å…¸æ ‘å ç”¨çš„ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {string[]} products
 * @param {string} searchWord
 * @return {string[][]}
 */
var suggestedProducts = function (products, searchWord) {
	// å¯¹ products è¿›è¡Œå­—å…¸åºæ’åº
	products.sort();

	// æ„å»ºå­—å…¸æ ‘
	let dict = {};
	for (let word of products) {
		let cur = dict;
		for (let char of word) {
			if (!cur[char]) {
				cur[char] = { suggest: [] };
			}
			cur = cur[char];
			if (cur.suggest.length < 3) {
				cur.suggest.push(word);
			}
		}
		cur.isEnd = true;
	}

	// æœç´¢å‰ç¼€
	let res = [],
		cur = dict;
	for (let char of searchWord) {
		if (cur) {
			cur = cur[char];
		}
		res.push(cur ? cur.suggest : []);
	}

	return res;
};
```
