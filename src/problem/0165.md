---
title: 165. æ¯”è¾ƒç‰ˆæœ¬å·
description: LeetCode 165. æ¯”è¾ƒç‰ˆæœ¬å·é¢˜è§£ï¼ŒCompare Version Numbersï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 165. æ¯”è¾ƒç‰ˆæœ¬å·
  - æ¯”è¾ƒç‰ˆæœ¬å·
  - Compare Version Numbers
  - è§£é¢˜æ€è·¯
  - åŒæŒ‡é’ˆ
  - å­—ç¬¦ä¸²
---

# 165. æ¯”è¾ƒç‰ˆæœ¬å·

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/compare-version-numbers) [`LeetCode`](https://leetcode.com/problems/compare-version-numbers)

## é¢˜ç›®

Given two **version strings** , `version1` and `version2`, compare them. A
version string consists of **revisions** separated by dots `'.'`. The **value
of the revision** is its **integer conversion** ignoring leading zeros.

To compare version strings, compare their revision values in **left-to-right
order**. If one of the version strings has fewer revisions, treat the missing
revision values as `0`.

Return the following:

- If `version1 < version2`, return -1.
- If `version1 > version2`, return 1.
- Otherwise, return 0.

**Example 1:**

**Input:** version1 = "1.2", version2 = "1.10"

**Output:** -1

**Explanation:**

version1's second revision is "2" and version2's second revision is "10": 2 <
10, so version1 < version2.

**Example 2:**

**Input:** version1 = "1.01", version2 = "1.001"

**Output:** 0

**Explanation:**

Ignoring leading zeroes, both "01" and "001" represent the same integer "1".

**Example 3:**

**Input:** version1 = "1.0", version2 = "1.0.0.0"

**Output:** 0

**Explanation:**

version1 has less revisions, which means every missing revision are treated as
"0".

**Constraints:**

- `1 <= version1.length, version2.length <= 500`
- `version1` and `version2` only contain digits and `'.'`.
- `version1` and `version2` **are valid version numbers**.
- All the given revisions in `version1` and `version2` can be stored in a **32-bit integer**.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸¤ä¸ª **ç‰ˆæœ¬å·å­—ç¬¦ä¸²** `version1` å’Œ `version2` ï¼Œè¯·ä½ æ¯”è¾ƒå®ƒä»¬ã€‚ç‰ˆæœ¬å·ç”±è¢«ç‚¹ `'.'`
åˆ†å¼€çš„ä¿®è®¢å·ç»„æˆã€‚**ä¿®è®¢å·çš„å€¼** æ˜¯å®ƒ **è½¬æ¢ä¸ºæ•´æ•°** å¹¶å¿½ç•¥å‰å¯¼é›¶ã€‚

æ¯”è¾ƒç‰ˆæœ¬å·æ—¶ï¼Œè¯·æŒ‰ **ä»å·¦åˆ°å³çš„é¡ºåº** ä¾æ¬¡æ¯”è¾ƒå®ƒä»¬çš„ä¿®è®¢å·ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªç‰ˆæœ¬å­—ç¬¦ä¸²çš„ä¿®è®¢å·è¾ƒå°‘ï¼Œåˆ™å°†ç¼ºå¤±çš„ä¿®è®¢å·è§†ä¸º `0`ã€‚

è¿”å›è§„åˆ™å¦‚ä¸‹ï¼š

- å¦‚æœ `_version1  _< _version2_` è¿”å› `-1`ï¼Œ
- å¦‚æœ `_version1  _> _version2_` è¿”å› `1`ï¼Œ
- é™¤æ­¤ä¹‹å¤–è¿”å› `0`ã€‚

**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** version1 = "1.2", version2 = "1.10"

**è¾“å‡ºï¼š** -1

**è§£é‡Šï¼š**

version1 çš„ç¬¬äºŒä¸ªä¿®è®¢å·ä¸º "2"ï¼Œversion2 çš„ç¬¬äºŒä¸ªä¿®è®¢å·ä¸º "10"ï¼š2 < 10ï¼Œæ‰€ä»¥ version1 < version2ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** version1 = "1.01", version2 = "1.001"

**è¾“å‡ºï¼š** 0

**è§£é‡Šï¼š**

å¿½ç•¥å‰å¯¼é›¶ï¼Œ"01" å’Œ "001" éƒ½ä»£è¡¨ç›¸åŒçš„æ•´æ•° "1"ã€‚

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š** version1 = "1.0", version2 = "1.0.0.0"

**è¾“å‡ºï¼š** 0

**è§£é‡Šï¼š**

version1 æœ‰æ›´å°‘çš„ä¿®è®¢å·ï¼Œæ¯ä¸ªç¼ºå¤±çš„ä¿®è®¢å·æŒ‰ "0" å¤„ç†ã€‚

**æç¤ºï¼š**

- `1 <= version1.length, version2.length <= 500`
- `version1` å’Œ `version2` ä»…åŒ…å«æ•°å­—å’Œ `'.'`
- `version1` å’Œ `version2` éƒ½æ˜¯ **æœ‰æ•ˆç‰ˆæœ¬å·**
- `version1` å’Œ `version2` çš„æ‰€æœ‰ä¿®è®¢å·éƒ½å¯ä»¥å­˜å‚¨åœ¨ **32 ä½æ•´æ•°** ä¸­

## è§£é¢˜æ€è·¯

1. **åˆå§‹åŒ–æŒ‡é’ˆå’Œè¾…åŠ©å˜é‡**ï¼š

   - å®šä¹‰æŒ‡é’ˆ `i` å’Œ `j` åˆ†åˆ«æŒ‡å‘ `version1` å’Œ `version2` çš„å½“å‰ä½ç½®ã€‚
   - å®šä¹‰ `x1` å’Œ `x2` ç”¨äºå­˜å‚¨å½“å‰éƒ¨åˆ†çš„æ•°å€¼ã€‚

2. **é€éƒ¨åˆ†æ¯”è¾ƒ**ï¼š

   - ç”¨ `while` å¾ªç¯è¯»å–ä¸¤ä¸ªç‰ˆæœ¬å·çš„å½“å‰éƒ¨åˆ†ï¼Œç›´åˆ°é‡åˆ° `.` æˆ–å­—ç¬¦ä¸²æœ«å°¾ã€‚
   - å°†æ¯ä¸ªå­—ç¬¦è½¬æ¢ä¸ºæ•°å­—ï¼Œå¹¶ç´¯ç§¯è®¡ç®—å½“å‰éƒ¨åˆ†çš„å€¼ã€‚
   - æ¯”è¾ƒå½“å‰éƒ¨åˆ†çš„å€¼ `x1` å’Œ `x2`ï¼š
     - å¦‚æœ `x1 < x2`ï¼Œè¿”å› `-1`ã€‚
     - å¦‚æœ `x1 > x2`ï¼Œè¿”å› `1`ã€‚

3. **ç»§ç»­ä¸‹ä¸€éƒ¨åˆ†**ï¼š

   - é‡ç½® `x1` å’Œ `x2` ä¸º `0`ï¼Œå¹¶ç§»åŠ¨æŒ‡é’ˆ `i` å’Œ `j` åˆ°ä¸‹ä¸€ä¸ªéƒ¨åˆ†ã€‚

4. **å¤„ç†ä¸åŒé•¿åº¦çš„ç‰ˆæœ¬å·**ï¼š

   - å³ä½¿ `i` æˆ– `j` åˆ°è¾¾æœ«å°¾ï¼Œå¦ä¸€ä¸ªç‰ˆæœ¬å·ä»å¯èƒ½æœ‰å‰©ä½™éƒ¨åˆ†ï¼ˆä¾‹å¦‚ï¼š`1.0` å’Œ `1.0.0`ï¼‰ã€‚
   - åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†å‰©ä½™éƒ¨åˆ†è§†ä¸º `0` ç»§ç»­æ¯”è¾ƒã€‚

5. **è¿”å›ç»“æœ**ï¼š
   - å¦‚æœæ‰€æœ‰éƒ¨åˆ†éƒ½ç›¸ç­‰ï¼Œè¿”å› `0`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(max(n1, n2))`ï¼Œå…¶ä¸­ `n1` å’Œ `n2` åˆ†åˆ«æ˜¯ `version1` å’Œ `version2` çš„é•¿åº¦ï¼Œéå†ä¸¤ä¸ªç‰ˆæœ¬å·çš„æ‰€æœ‰å­—ç¬¦ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä»…ä½¿ç”¨äº†å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} version1
 * @param {string} version2
 * @return {number}
 */
var compareVersion = function (version1, version2) {
	const n1 = version1.length,
		n2 = version2.length;
	let x1 = 0,
		x2 = 0;

	for (let i = 0, j = 0; i < n1 || j < n2; i++, j++) {
		// è¯»å– version1 çš„ä¸‹ä¸€æ®µç‰ˆæœ¬å·
		while (i < n1 && version1[i] !== '.') {
			x1 = 10 * x1 + Number(version1[i++]);
		}
		// è¯»å– version2 çš„ä¸‹ä¸€æ®µç‰ˆæœ¬å·
		while (j < n2 && version2[j] !== '.') {
			x2 = 10 * x2 + Number(version2[j++]);
		}

		// æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬å·
		if (x1 < x2) return -1;
		if (x1 > x2) return 1;

		// é‡ç½®
		x1 = 0;
		x2 = 0;
	}

	return 0;
};
```
