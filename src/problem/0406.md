---
title: 406. æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—
description: LeetCode 406. æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—é¢˜è§£ï¼ŒQueue Reconstruction by Heightï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 406. æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—
  - æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—
  - Queue Reconstruction by Height
  - è§£é¢˜æ€è·¯
  - æ ‘çŠ¶æ•°ç»„
  - çº¿æ®µæ ‘
  - æ•°ç»„
  - æ’åº
---

# 406. æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘çŠ¶æ•°ç»„`](/tag/binary-indexed-tree.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æ•°ç»„`](/tag/array.md) [`æ’åº`](/tag/sorting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/queue-reconstruction-by-height) [`LeetCode`](https://leetcode.com/problems/queue-reconstruction-by-height)

## é¢˜ç›®

You are given an array of people, `people`, which are the attributes of some
people in a queue (not necessarily in order). Each `people[i] = [hi, ki]`
represents the `ith` person of height `hi` with **exactly** `ki` other people
in front who have a height greater than or equal to `hi`.

Reconstruct and return _the queue that is represented by the input
array_ `people`. The returned queue should be formatted as an array `queue`,
where `queue[j] = [hj, kj]` is the attributes of the `jth` person in the queue
(`queue[0]` is the person at the front of the queue).

**Example 1:**

> Input: people = [[7,0],[4,4],[7,1],[5,0],[6,1],[5,2]]
>
> Output: [[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]]
>
> Explanation:
>
> Person 0 has height 5 with no other people taller or the same height in front.
>
> Person 1 has height 7 with no other people taller or the same height in front.
>
> Person 2 has height 5 with two persons taller or the same height in front, which is person 0 and 1.
>
> Person 3 has height 6 with one person taller or the same height in front, which is person 1.
>
> Person 4 has height 4 with four people taller or the same height in front, which are people 0, 1, 2, and 3.
>
> Person 5 has height 7 with one person taller or the same height in front, which is person 1.
>
> Hence [[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]] is the reconstructed queue.

**Example 2:**

> Input: people = [[6,0],[5,0],[4,0],[3,2],[2,2],[1,4]]
>
> Output: [[4,0],[5,0],[2,2],[3,2],[1,4],[6,0]]

**Constraints:**

- `1 <= people.length <= 2000`
- `0 <= hi <= 10^6`
- `0 <= ki < people.length`
- It is guaranteed that the queue can be reconstructed.

## é¢˜ç›®å¤§æ„

å‡è®¾æœ‰æ‰“ä¹±é¡ºåºçš„ä¸€ç¾¤äººç«™æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ•°ç»„ `people` è¡¨ç¤ºé˜Ÿåˆ—ä¸­ä¸€äº›äººçš„å±æ€§ï¼ˆä¸ä¸€å®šæŒ‰é¡ºåºï¼‰ã€‚æ¯ä¸ª `people[i] = [hi, ki]`
è¡¨ç¤ºç¬¬ `i` ä¸ªäººçš„èº«é«˜ä¸º `hi` ï¼Œå‰é¢ **æ­£å¥½** æœ‰ `ki` ä¸ªèº«é«˜å¤§äºæˆ–ç­‰äº `hi` çš„äººã€‚

è¯·ä½ é‡æ–°æ„é€ å¹¶è¿”å›è¾“å…¥æ•°ç»„ `people` æ‰€è¡¨ç¤ºçš„é˜Ÿåˆ—ã€‚è¿”å›çš„é˜Ÿåˆ—åº”è¯¥æ ¼å¼åŒ–ä¸ºæ•°ç»„ `queue` ï¼Œå…¶ä¸­ `queue[j] = [hj, kj]`
æ˜¯é˜Ÿåˆ—ä¸­ç¬¬ `j` ä¸ªäººçš„å±æ€§ï¼ˆ`queue[0]` æ˜¯æ’åœ¨é˜Ÿåˆ—å‰é¢çš„äººï¼‰ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** people = [[7,0],[4,4],[7,1],[5,0],[6,1],[5,2]]
>
> **è¾“å‡ºï¼š**[[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]]
>
> **è§£é‡Šï¼š**
>
> ç¼–å·ä¸º 0 çš„äººèº«é«˜ä¸º 5 ï¼Œæ²¡æœ‰èº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ã€‚
>
> ç¼–å·ä¸º 1 çš„äººèº«é«˜ä¸º 7 ï¼Œæ²¡æœ‰èº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ã€‚
>
> ç¼–å·ä¸º 2 çš„äººèº«é«˜ä¸º 5 ï¼Œæœ‰ 2 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 0 å’Œ 1 çš„äººã€‚
>
> ç¼–å·ä¸º 3 çš„äººèº«é«˜ä¸º 6 ï¼Œæœ‰ 1 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 1 çš„äººã€‚
>
> ç¼–å·ä¸º 4 çš„äººèº«é«˜ä¸º 4 ï¼Œæœ‰ 4 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 0ã€1ã€2ã€3 çš„äººã€‚
>
> ç¼–å·ä¸º 5 çš„äººèº«é«˜ä¸º 7 ï¼Œæœ‰ 1 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 1 çš„äººã€‚
>
> å› æ­¤ [[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]] æ˜¯é‡æ–°æ„é€ åçš„é˜Ÿåˆ—ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** people = [[6,0],[5,0],[4,0],[3,2],[2,2],[1,4]]
>
> **è¾“å‡ºï¼š**[[4,0],[5,0],[2,2],[3,2],[1,4],[6,0]]

**æç¤ºï¼š**

- `1 <= people.length <= 2000`
- `0 <= hi <= 10^6`
- `0 <= ki < people.length`
- é¢˜ç›®æ•°æ®ç¡®ä¿é˜Ÿåˆ—å¯ä»¥è¢«é‡å»º

## è§£é¢˜æ€è·¯

**è´ªå¿ƒç­–ç•¥ + æ’å…¥æ’åº**ï¼ŒæŒ‰ç…§è´ªå¿ƒæ€æƒ³ï¼Œä»é«˜ä¸ªå­ä¼˜å…ˆçš„è§’åº¦å…¥æ‰‹æ›´å®¹æ˜“æ»¡è¶³æ¡ä»¶çº¦æŸã€‚

1. **æ’åºç­–ç•¥**ï¼š

   - **æŒ‰èº«é«˜é™åºæ’åº**ï¼Œå¯¹äºèº«é«˜ç›¸åŒçš„äººæŒ‰ `k` å‡åºæ’åºï¼š
     ```javascript
     people.sort((a, b) => b[0] - a[0] || a[1] - b[1]);
     ```
   - è¿™æ ·é«˜ä¸ªå­ä¼˜å…ˆå¤„ç†ï¼Œå¯ä»¥ç›´æ¥æ’å…¥è€Œä¸å½±å“åç»­çš„è®¡ç®—ã€‚

2. **æ’å…¥é‡å»ºé˜Ÿåˆ—**ï¼š
   - éå†æ’åºåçš„ `people` æ•°ç»„ï¼Œæ ¹æ®æ¯ä¸ªäººçš„ `k` å€¼å°†å…¶æ’å…¥åˆ°å¯¹åº”ä½ç½®ï¼š
     - ä½¿ç”¨ `splice(k, 0, item)` æ¥ç¡®ä¿æ’å…¥ä½ç½®æ»¡è¶³ `k` æ¡ä»¶ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^2)`ï¼Œç”±äº `splice()` æ“ä½œå¯èƒ½éœ€è¦çº¿æ€§æ—¶é—´ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œç”¨äºå­˜å‚¨ç»“æœé˜Ÿåˆ—ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[][]} people
 * @return {number[][]}
 */
var reconstructQueue = function (people) {
	// æŒ‰èº«é«˜é™åºï¼Œkå€¼å‡åºæ’åº
	people.sort((a, b) => b[0] - a[0] || a[1] - b[1]);

	let result = [];
	for (let person of people) {
		// æ’å…¥åˆ°æ­£ç¡®ä½ç½®
		result.splice(person[1], 0, person);
	}
	return result;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 315 | è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•° |  |  [`æ ‘çŠ¶æ•°ç»„`](/tag/binary-indexed-tree.md) [`çº¿æ®µæ ‘`](/tag/segment-tree.md) [`æ•°ç»„`](/tag/array.md) `4+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/count-of-smaller-numbers-after-self) [ğŸ”—](https://leetcode.com/problems/count-of-smaller-numbers-after-self) |
| 2512 | å¥–åŠ±æœ€é¡¶å°–çš„ K åå­¦ç”Ÿ |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `2+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/reward-top-k-students) [ğŸ”—](https://leetcode.com/problems/reward-top-k-students) |