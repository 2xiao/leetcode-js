---
title: 598. åŒºé—´åŠ æ³• II
description: LeetCode 598. åŒºé—´åŠ æ³• IIé¢˜è§£ï¼ŒRange Addition IIï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 598. åŒºé—´åŠ æ³• II
  - åŒºé—´åŠ æ³• II
  - Range Addition II
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - æ•°å­¦
---

# 598. åŒºé—´åŠ æ³• II

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/range-addition-ii) [`LeetCode`](https://leetcode.com/problems/range-addition-ii)

## é¢˜ç›®

You are given an `m x n` matrix `M` initialized with all `0`'s and an array of
operations `ops`, where `ops[i] = [ai, bi]` means `M[x][y]` should be
incremented by one for all `0 <= x < ai` and `0 <= y < bi`.

Count and return _the number of maximum integers in the matrix after
performing all the operations_.

**Example 1:**

![](https://assets.leetcode.com/uploads/2020/10/02/ex1.jpg)

> Input: m = 3, n = 3, ops = [[2,2],[3,3]]
>
> Output: 4
>
> Explanation: The maximum integer in M is 2, and there are four of it in M. So return 4.

**Example 2:**

> Input: m = 3, n = 3, ops = [[2,2],[3,3],[3,3],[3,3],[2,2],[3,3],[3,3],[3,3],[2,2],[3,3],[3,3],[3,3]]
>
> Output: 4

**Example 3:**

> Input: m = 3, n = 3, ops = []
>
> Output: 9

**Constraints:**

- `1 <= m, n <= 4 * 10^4`
- `0 <= ops.length <= 10^4`
- `ops[i].length == 2`
- `1 <= ai <= m`
- `1 <= bi <= n`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `m x n` çš„çŸ©é˜µ `M` å’Œä¸€ä¸ªæ“ä½œæ•°ç»„ `op` ã€‚çŸ©é˜µåˆå§‹åŒ–æ—¶æ‰€æœ‰çš„å•å…ƒæ ¼éƒ½ä¸º `0` ã€‚`ops[i] = [ai, bi]`
æ„å‘³ç€å½“æ‰€æœ‰çš„ `0 <= x < ai` å’Œ `0 <= y < bi` æ—¶ï¼Œ `M[x][y]` åº”è¯¥åŠ  1ã€‚

åœ¨ _æ‰§è¡Œå®Œæ‰€æœ‰æ“ä½œå_ ï¼Œè®¡ç®—å¹¶è¿”å› _çŸ©é˜µä¸­æœ€å¤§æ•´æ•°çš„ä¸ªæ•°_ ã€‚

**ç¤ºä¾‹ 1:**

![](https://assets.leetcode.com/uploads/2020/10/02/ex1.jpg)

> **è¾“å…¥:** m = 3, n = 3ï¼Œops = [[2,2],[3,3]]
>
> **è¾“å‡º:** 4
>
> **è§£é‡Š:** M ä¸­æœ€å¤§çš„æ•´æ•°æ˜¯ 2, è€Œä¸” M ä¸­æœ‰ 4 ä¸ªå€¼ä¸º 2 çš„å…ƒç´ ã€‚å› æ­¤è¿”å› 4ã€‚

**ç¤ºä¾‹ 2:**

> **è¾“å…¥:** m = 3, n = 3, ops = [[2,2],[3,3],[3,3],[3,3],[2,2],[3,3],[3,3],[3,3],[2,2],[3,3],[3,3],[3,3]]
>
> **è¾“å‡º:** 4

**ç¤ºä¾‹ 3:**

> **è¾“å…¥:** m = 3, n = 3, ops = []
>
> **è¾“å‡º:** 9

**æç¤º:**

- `1 <= m, n <= 4 * 10^4`
- `0 <= ops.length <= 10^4`
- `ops[i].length == 2`
- `1 <= ai <= m`
- `1 <= bi <= n`

## è§£é¢˜æ€è·¯

1. **å€¼æœ€å¤§çš„åŒºåŸŸ**

   - å¯¹äºæ¯æ¬¡æ“ä½œ `ops[i] = [a, b]`ï¼Œä¼šå¯¹çŸ©å½¢ `(0,0)` åˆ° `(a-1, b-1)` çš„åŒºåŸŸåŠ  1ã€‚
   - å› æ­¤ï¼Œå€¼æœ€å¤§çš„åŒºåŸŸä¼šè¢«æ‰€æœ‰æ“ä½œé‡å ï¼Œå®é™…æ˜¯æ‰€æœ‰æ“ä½œä¸­çŸ©å½¢çš„**æœ€å°èŒƒå›´äº¤é›†**ã€‚

2. **å¦‚ä½•è®¡ç®—æœ€å°èŒƒå›´äº¤é›†**

   - éå† `ops` æ•°ç»„ï¼Œå¯¹ `a` å’Œ `b` åˆ†åˆ«å–æœ€å°å€¼ï¼Œå¾—åˆ°æ“ä½œåçš„æœ€å°è¡Œ `minRow` å’Œæœ€å°åˆ— `minCol`ã€‚
   - çŸ©å½¢ç½‘æ ¼çš„æœ€å¤§å€¼åŒºåŸŸå³ä¸ºå¤§å°ä¸º `minRow Ã— minCol` çš„çŸ©å½¢åŒºåŸŸã€‚

3. **ç‰¹æ®Šæƒ…å†µ**
   - å¦‚æœ `ops` æ˜¯ç©ºæ•°ç»„ï¼Œæ²¡æœ‰ä»»ä½•æ“ä½œï¼Œå€¼æœ€å¤§çš„ç½‘æ ¼åŒºåŸŸå°±æ˜¯æ•´ä¸ªçŸ©å½¢ `m Ã— n`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(k)`ï¼Œå…¶ä¸­ `k` æ˜¯ `ops` çš„é•¿åº¦ï¼Œéå† `ops` ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸é‡ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} m
 * @param {number} n
 * @param {number[][]} ops
 * @return {number}
 */
var maxCount = function (m, n, ops) {
	let minRow = m; // åˆå§‹ä¸ºçŸ©é˜µè¡Œæ•°
	let minCol = n; // åˆå§‹ä¸ºçŸ©é˜µåˆ—æ•°

	// éå†æ“ä½œï¼Œè®¡ç®—æœ€å°è¡Œæ•°å’Œåˆ—æ•°
	for (let [a, b] of ops) {
		minRow = Math.min(minRow, a);
		minCol = Math.min(minCol, b);
	}

	// æœ€å¤§å€¼åŒºåŸŸçš„ç½‘æ ¼æ•°é‡
	return minRow * minCol;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 370 | åŒºé—´åŠ æ³• ğŸ”’ |  |  [`æ•°ç»„`](/tag/array.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/range-addition) [ğŸ”—](https://leetcode.com/problems/range-addition) |
| 2718 | æŸ¥è¯¢åçŸ©é˜µçš„å’Œ |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/sum-of-matrix-after-queries) [ğŸ”—](https://leetcode.com/problems/sum-of-matrix-after-queries) |