---
title: 409. æœ€é•¿å›æ–‡ä¸²
description: LeetCode 409. æœ€é•¿å›æ–‡ä¸²é¢˜è§£ï¼ŒLongest Palindromeï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 409. æœ€é•¿å›æ–‡ä¸²
  - æœ€é•¿å›æ–‡ä¸²
  - Longest Palindrome
  - è§£é¢˜æ€è·¯
  - è´ªå¿ƒ
  - å“ˆå¸Œè¡¨
  - å­—ç¬¦ä¸²
---

# 409. æœ€é•¿å›æ–‡ä¸²

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/longest-palindrome) [`LeetCode`](https://leetcode.com/problems/longest-palindrome)

## é¢˜ç›®

Given a string `s` which consists of lowercase or uppercase letters, return
the length of the **longest palindrome** that can be built with those letters.

Letters are **case sensitive** , for example, `"Aa"` is not considered a
palindrome.

**Example 1:**

> Input: s = "abccccdd"
>
> Output: 7
>
> Explanation: One longest palindrome that can be built is "dccaccd", whose length is 7.

**Example 2:**

> Input: s = "a"
>
> Output: 1
>
> Explanation: The longest palindrome that can be built is "a", whose length is 1.

**Constraints:**

- `1 <= s.length <= 2000`
- `s` consists of lowercase **and/or** uppercase English letters only.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªåŒ…å«å¤§å†™å­—æ¯å’Œå°å†™å­—æ¯çš„å­—ç¬¦ä¸² `s` ï¼Œè¿”å› _é€šè¿‡è¿™äº›å­—æ¯æ„é€ æˆçš„**æœ€é•¿çš„ å›æ–‡ä¸²**_ çš„é•¿åº¦ã€‚

åœ¨æ„é€ è¿‡ç¨‹ä¸­ï¼Œè¯·æ³¨æ„ **åŒºåˆ†å¤§å°å†™** ã€‚æ¯”å¦‚ `"Aa"` ä¸èƒ½å½“åšä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹ 1:**

> **è¾“å…¥:** s = "abccccdd"
>
> **è¾“å‡º:** 7
>
> **è§£é‡Š:**
>
> æˆ‘ä»¬å¯ä»¥æ„é€ çš„æœ€é•¿çš„å›æ–‡ä¸²æ˜¯"dccaccd", å®ƒçš„é•¿åº¦æ˜¯ 7ã€‚

**ç¤ºä¾‹ 2:**

> **è¾“å…¥:** s = "a"
>
> **è¾“å‡º:** 1
>
> **è§£é‡Šï¼š** å¯ä»¥æ„é€ çš„æœ€é•¿å›æ–‡ä¸²æ˜¯"a"ï¼Œå®ƒçš„é•¿åº¦æ˜¯ 1ã€‚

**æç¤º:**

- `1 <= s.length <= 2000`
- `s` åªç”±å°å†™ **å’Œ/æˆ–** å¤§å†™è‹±æ–‡å­—æ¯ç»„æˆ

## è§£é¢˜æ€è·¯

æˆ‘ä»¬è¦ä»ç»™å®šå­—ç¬¦ä¸² `s` ä¸­æ„é€ å‡º**æœ€é•¿çš„å›æ–‡ä¸²**ã€‚

- å›æ–‡ä¸²å…·æœ‰å¯¹ç§°æ€§ï¼Œå­—ç¬¦æˆå¯¹åˆ†å¸ƒï¼Œä¾‹å¦‚ `'aa'` æˆ– `'bb'`ï¼Œå› æ­¤æ¯æ‰¾åˆ°ä¸€å¯¹å­—ç¬¦ï¼Œå°±å¯ä»¥æ·»åŠ è¿™ä¸¤ä¸ªå­—ç¬¦åˆ°å›æ–‡ä¸²çš„ä¸¤ç«¯ï¼Œè´¡çŒ®é•¿åº¦ `+2`ã€‚
- æœ€åå¦‚æœè¿˜æœ‰æœªé…å¯¹çš„å­—ç¬¦ï¼Œå¯ä»¥é€‰ä¸€ä¸ªæ”¾åœ¨å›æ–‡ä¸²çš„ä¸­é—´ï¼Œè¿™æ ·ä»ç„¶æ˜¯æœ‰æ•ˆçš„å›æ–‡ä¸²ï¼Œè´¡çŒ®é•¿åº¦ `+1`ã€‚

å…·ä½“ç®—æ³•å¦‚ä¸‹ï¼š

1. ä½¿ç”¨ä¸€ä¸ª `Set` æ•°æ®ç»“æ„æ¥è®°å½•å­—ç¬¦æ˜¯å¦å·²é…å¯¹ã€‚

   - éå†å­—ç¬¦ä¸² `s`ï¼Œå¯¹æ¯ä¸ªå­—ç¬¦ï¼š
     - å¦‚æœå­—ç¬¦å·²ç»å­˜åœ¨äº `Set` ä¸­ï¼Œè¯´æ˜æ‰¾åˆ°ä¸€å¯¹ç›¸åŒå­—ç¬¦ï¼Œå°†è¿™å¯¹å­—ç¬¦è´¡çŒ®çš„é•¿åº¦ `+2`ï¼Œç„¶åä» `Set` ä¸­åˆ é™¤è¯¥å­—ç¬¦ï¼ˆè¡¨ç¤ºè¿™å¯¹å­—ç¬¦å·²è¢«ä½¿ç”¨ï¼‰ã€‚
     - å¦‚æœå­—ç¬¦ä¸å­˜åœ¨äº `Set` ä¸­ï¼Œå°†è¯¥å­—ç¬¦æ·»åŠ åˆ° `Set` ä¸­ï¼Œè¡¨ç¤ºå®ƒå½“å‰æœªæ‰¾åˆ°é…å¯¹ã€‚

2. éå†ç»“æŸåï¼Œ`Set` ä¸­å‰©ä½™çš„å­—ç¬¦éƒ½æ˜¯æœªé…å¯¹çš„å­—ç¬¦ï¼š

   - å¦‚æœ `Set` ä¸­æœ‰å­—ç¬¦ï¼ˆ`set.size > 0`ï¼‰ï¼Œè¯´æ˜å¯ä»¥é€‰æ‹©ä¸€ä¸ªå­—ç¬¦æ”¾åœ¨å›æ–‡ä¸²çš„ä¸­é—´ï¼Œè´¡çŒ®é•¿åº¦ `+1`ã€‚

3. è¿”å›æœ€ç»ˆè®¡ç®—å¾—åˆ°çš„æœ€é•¿å›æ–‡ä¸²çš„é•¿åº¦ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œéå†ä¸€éå­—ç¬¦ä¸² `s`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(k)`ï¼Œå…¶ä¸­ `k` æ˜¯å­—ç¬¦çš„ç§ç±»æ•°ï¼ˆæœ€å¤šä¸º 52 ä¸ªå¤§å°å†™å­—æ¯ï¼‰ï¼Œ`Set` æœ€å¤šå­˜å‚¨ `k` ä¸ªå­—ç¬¦ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var longestPalindrome = function (s) {
	let set = new Set(); // ç”¨äºè®°å½•å­—ç¬¦æ˜¯å¦é…å¯¹
	let maxLength = 0;

	for (let char of s) {
		if (set.has(char)) {
			// å‘ç°é…å¯¹çš„å­—ç¬¦ï¼Œè´¡çŒ®é•¿åº¦ +2
			maxLength += 2;
			set.delete(char); // ç§»é™¤å·²é…å¯¹çš„å­—ç¬¦
		} else {
			// æœªæ‰¾åˆ°é…å¯¹ï¼Œå°†å­—ç¬¦åŠ å…¥ Set
			set.add(char);
		}
	}

	// å¦‚æœè¿˜æœ‰æœªé…å¯¹çš„å­—ç¬¦ï¼Œå¯ä»¥æ”¾ä¸€ä¸ªå­—ç¬¦åœ¨å›æ–‡ä¸²ä¸­é—´
	if (set.size > 0) {
		maxLength += 1;
	}

	return maxLength;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 266 | å›æ–‡æ’åˆ— ğŸ”’ |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/palindrome-permutation) [ğŸ”—](https://leetcode.com/problems/palindrome-permutation) |
| 2131 | è¿æ¥ä¸¤å­—æ¯å•è¯å¾—åˆ°çš„æœ€é•¿å›æ–‡ä¸² |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `2+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/longest-palindrome-by-concatenating-two-letter-words) [ğŸ”—](https://leetcode.com/problems/longest-palindrome-by-concatenating-two-letter-words) |
| 2384 | æœ€å¤§å›æ–‡æ•°å­— |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/largest-palindromic-number) [ğŸ”—](https://leetcode.com/problems/largest-palindromic-number) |