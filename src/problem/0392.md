---
title: 392. åˆ¤æ–­å­åºåˆ—
description: LeetCode 392. åˆ¤æ–­å­åºåˆ—é¢˜è§£ï¼ŒIs Subsequenceï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 392. åˆ¤æ–­å­åºåˆ—
  - åˆ¤æ–­å­åºåˆ—
  - Is Subsequence
  - è§£é¢˜æ€è·¯
  - åŒæŒ‡é’ˆ
  - å­—ç¬¦ä¸²
  - åŠ¨æ€è§„åˆ’
---

# 392. åˆ¤æ–­å­åºåˆ—

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/is-subsequence) [`LeetCode`](https://leetcode.com/problems/is-subsequence)

## é¢˜ç›®

Given two strings `s` and `t`, return `true` _if_`s` _is a **subsequence** of
_`t` _, or_`false` _otherwise_.

A **subsequence** of a string is a new string that is formed from the original
string by deleting some (can be none) of the characters without disturbing the
relative positions of the remaining characters. (i.e., `"ace"` is a
subsequence of `" _a_ b _c_ d _e_ "` while `"aec"` is not).

**Example 1:**

> Input: s = "abc", t = "ahbgdc"
>
> Output: true

**Example 2:**

> Input: s = "axc", t = "ahbgdc"
>
> Output: false

**Constraints:**

- `0 <= s.length <= 100`
- `0 <= t.length <= 10^4`
- `s` and `t` consist only of lowercase English letters.

**Follow up:** Suppose there are lots of incoming `s`, say `s1, s2, ..., sk`
where `k >= 109`, and you want to check one by one to see if `t` has its
subsequence. In this scenario, how would you change your code?

## é¢˜ç›®å¤§æ„

ç»™å®šå­—ç¬¦ä¸² `s` å’Œ `t` ï¼Œåˆ¤æ–­ `s` æ˜¯å¦ä¸º `t` çš„å­åºåˆ—ã€‚å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­åºåˆ—æ˜¯åŸå§‹å­—ç¬¦ä¸²åˆ é™¤ä¸€äº›ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰å­—ç¬¦è€Œä¸æ”¹å˜å‰©ä½™å­—ç¬¦ç›¸å¯¹ä½ç½®å½¢æˆçš„æ–°å­—ç¬¦ä¸²ã€‚ï¼ˆä¾‹å¦‚ï¼Œ`"ace"`æ˜¯`"abcde"`çš„ä¸€ä¸ªå­åºåˆ—ï¼Œè€Œ`"aec"`ä¸æ˜¯ï¼‰ã€‚

**è¿›é˜¶** ï¼šå¦‚æœæœ‰å¤§é‡è¾“å…¥çš„ `S`ï¼Œç§°ä½œ` S1, S2, ... , Sk` å…¶ä¸­ `k >= 10äº¿`ï¼Œä½ éœ€è¦ä¾æ¬¡æ£€æŸ¥å®ƒä»¬æ˜¯å¦ä¸º `T` çš„å­åºåˆ—ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ ä¼šæ€æ ·æ”¹å˜ä»£ç ï¼Ÿ

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šåŒæŒ‡é’ˆ

- ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ `i` å’Œ `j`ï¼Œåˆ†åˆ«éå† `s` å’Œ `t`ï¼š
  1. æŒ‡é’ˆ `i` ç”¨äºæŒ‡å‘ `s` ä¸­çš„å½“å‰å­—ç¬¦ï¼›
  2. æŒ‡é’ˆ `j` ç”¨äºæŒ‡å‘ `t` ä¸­çš„å½“å‰å­—ç¬¦ã€‚
- éå† `t`ï¼š
  - å¦‚æœ `s[i] == t[j]`ï¼Œè¯´æ˜åŒ¹é…ä¸Šäº†ï¼Œ`i++`ã€‚
  - å§‹ç»ˆç§»åŠ¨ `j`ï¼Œä»¥ç¡®ä¿å­—ç¬¦çš„é¡ºåºæ€§ã€‚
- å¦‚æœ `i == s.length`ï¼Œè¯´æ˜ `s` çš„æ‰€æœ‰å­—ç¬¦éƒ½èƒ½æŒ‰é¡ºåºåŒ¹é…ä¸Šï¼Œè¿”å› `true`ï¼›å¦åˆ™è¿”å› `false`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**: `O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸² `t` çš„é•¿åº¦ã€‚
- **ç©ºé—´å¤æ‚åº¦**: `O(1)`ã€‚

---

### è¿›é˜¶ï¼šäºŒåˆ†æ³•ï¼ˆè¿›é˜¶ç‰ˆï¼‰

- **é¢„å¤„ç† `t` çš„ç´¢å¼•ä½ç½®**ï¼š
  - å…ˆç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨ `indexMap` å­˜å‚¨ `t` ä¸­æ¯ä¸ªå­—ç¬¦çš„æ‰€æœ‰å‡ºç°ä½ç½®ï¼ˆæŒ‰ç…§ç´¢å¼•å‡åºï¼‰ã€‚
- **äºŒåˆ†æŸ¥æ‰¾åŠ é€ŸåŒ¹é…**ï¼š

  - éå† `s` ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾å®šä½è¯¥å­—ç¬¦åœ¨ `t` ä¸­çš„ä¸‹ä¸€ä¸ªåŒ¹é…ä½ç½®ã€‚
  - åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œå¿«é€Ÿæ‰¾åˆ° `t` ä¸­å¤§äºå½“å‰æŒ‡é’ˆ `j` çš„æœ€å°ç´¢å¼•ã€‚
  - å¦‚æœæ‰¾ä¸åˆ°ï¼Œè¯´æ˜æ— æ³•åŒ¹é…å½“å‰å­—ç¬¦ï¼Œè¿”å› `false`ã€‚

- äºŒåˆ†æŸ¥æ‰¾å‡½æ•° `left_bound`ï¼šåœ¨å‡åºæ•°ç»„ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äº `target` çš„ä½ç½®ï¼Œè‹¥ä¸å­˜åœ¨è¿”å› `-1`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**: `O(n + m log n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸² `t` çš„é•¿åº¦ï¼Œ`m` æ˜¯ `s` çš„é•¿åº¦ã€‚

  - **é¢„å¤„ç†**ï¼šéå† `t` æ„å»ºå“ˆå¸Œè¡¨ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚
  - **åŒ¹é…**ï¼šå¯¹äºæ¯ä¸ªå­—ç¬¦ï¼Œåœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾ä½ç½®ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(m log n)`ã€‚
  - **æ€»å¤æ‚åº¦**: `O(n + m log n)`ã€‚

- **ç©ºé—´å¤æ‚åº¦**: `O(n)`ï¼Œä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨å­˜å‚¨ç´¢å¼•ä½ç½®ã€‚

## ä»£ç 

::: code-tabs
@tab åŒæŒ‡é’ˆ

```javascript
/**
 * @param {string} s
 * @param {string} t
 * @return {boolean}
 */
var isSubsequence = function (s, t) {
	let i = 0; // æŒ‡å‘ s çš„æŒ‡é’ˆ
	let j = 0; // æŒ‡å‘ t çš„æŒ‡é’ˆ
	while (i < s.length && j < t.length) {
		if (s[i] == t[j]) {
			i++; // åŒ¹é…ä¸Šæ—¶ç§»åŠ¨ s çš„æŒ‡é’ˆ
		}
		j++; // å§‹ç»ˆç§»åŠ¨ t çš„æŒ‡é’ˆ
	}
	return i == s.length; // æ˜¯å¦å®Œå…¨åŒ¹é…
};
```

@tab è¿›é˜¶ï¼šäºŒåˆ†æ³•

```javascript
/**
 * @param {string} s
 * @param {string} t
 * @return {boolean}
 */
var isSubsequence = function (s, t) {
	let indexMap = {};
	// æ„å»ºå­—ç¬¦ä½ç½®çš„å“ˆå¸Œè¡¨
	for (let i = 0; i < t.length; i++) {
		if (!indexMap[t[i]]) {
			indexMap[t[i]] = [];
		}
		indexMap[t[i]].push(i);
	}
	// åœ¨ t ä¸Šçš„æŒ‡é’ˆ
	let j = 0;
	for (let i = 0; i < s.length; i++) {
		// å¦‚æœ s[i] ä¸åœ¨ t ä¸­ï¼Œç›´æ¥è¿”å› false
		if (!indexMap[s[i]]) return false;
		// æ‰¾åˆ°å¤§äºç­‰äº j çš„ä¸‹ä¸€ä¸ªä½ç½®
		let pos = left_bound(indexMap[s[i]], j);
		if (pos == -1) return false;
		// æ›´æ–°æŒ‡é’ˆä½ç½®
		j = indexMap[s[i]][pos] + 1;
	}
	return true;
};

// äºŒåˆ†æŸ¥æ‰¾ï¼šæ‰¾åˆ°å¤§äºç­‰äº target çš„æœ€å°ä½ç½®
var left_bound = function (arr, target) {
	let left = 0,
		right = arr.length;
	while (left < right) {
		let mid = left + Math.floor((right - left) / 2);
		if (arr[mid] < target) {
			left = mid + 1;
		} else {
			right = mid;
		}
	}
	return left == arr.length ? -1 : left;
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 792 | åŒ¹é…å­åºåˆ—çš„å•è¯æ•° |  |  [`å­—å…¸æ ‘`](/tag/trie.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `4+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/number-of-matching-subsequences) [ğŸ”—](https://leetcode.com/problems/number-of-matching-subsequences) |
| 1055 | å½¢æˆå­—ç¬¦ä¸²çš„æœ€çŸ­è·¯å¾„ ğŸ”’ |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/shortest-way-to-form-string) [ğŸ”—](https://leetcode.com/problems/shortest-way-to-form-string) |
| 2486 | è¿½åŠ å­—ç¬¦ä»¥è·å¾—å­åºåˆ— |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/append-characters-to-string-to-make-subsequence) [ğŸ”—](https://leetcode.com/problems/append-characters-to-string-to-make-subsequence) |
| 2825 | å¾ªç¯å¢é•¿ä½¿å­—ç¬¦ä¸²å­åºåˆ—ç­‰äºå¦ä¸€ä¸ªå­—ç¬¦ä¸² |  |  [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/make-string-a-subsequence-using-cyclic-increments) [ğŸ”—](https://leetcode.com/problems/make-string-a-subsequence-using-cyclic-increments) |