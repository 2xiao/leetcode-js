---
title: 3264. K æ¬¡ä¹˜è¿ç®—åçš„æœ€ç»ˆæ•°ç»„ I
description: LeetCode 3264. K æ¬¡ä¹˜è¿ç®—åçš„æœ€ç»ˆæ•°ç»„ Ié¢˜è§£ï¼ŒFinal Array State After K Multiplication Operations Iï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 3264. K æ¬¡ä¹˜è¿ç®—åçš„æœ€ç»ˆæ•°ç»„ I
  - K æ¬¡ä¹˜è¿ç®—åçš„æœ€ç»ˆæ•°ç»„ I
  - Final Array State After K Multiplication Operations I
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - æ•°å­¦
  - æ¨¡æ‹Ÿ
  - å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰
---

# 3264. K æ¬¡ä¹˜è¿ç®—åçš„æœ€ç»ˆæ•°ç»„ I

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md) [`å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰`](/tag/heap-priority-queue.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/final-array-state-after-k-multiplication-operations-i) [`LeetCode`](https://leetcode.com/problems/final-array-state-after-k-multiplication-operations-i)

## é¢˜ç›®

You are given an integer array `nums`, an integer `k`, and an integer
`multiplier`.

You need to perform `k` operations on `nums`. In each operation:

- Find the **minimum** value `x` in `nums`. If there are multiple occurrences of the minimum value, select the one that appears **first**.
- Replace the selected minimum value `x` with `x * multiplier`.

Return an integer array denoting the _final state_ of `nums` after performing
all `k` operations.

**Example 1:**

**Input:** nums = [2,1,3,5,6], k = 5, multiplier = 2

**Output:** [8,4,6,5,6]

**Explanation:**

| Operation         | Result          |
| ----------------- | --------------- |
| After operation 1 | [2, 2, 3, 5, 6] |
| After operation 2 | [4, 2, 3, 5, 6] |
| After operation 3 | [4, 4, 3, 5, 6] |
| After operation 4 | [4, 4, 6, 5, 6] |
| After operation 5 | [8, 4, 6, 5, 6] |

**Example 2:**

**Input:** nums = [1,2], k = 3, multiplier = 4

**Output:** [16,8]

**Explanation:**

| Operation         | Result  |
| ----------------- | ------- |
| After operation 1 | [4, 2]  |
| After operation 2 | [4, 8]  |
| After operation 3 | [16, 8] |

**Constraints:**

- `1 <= nums.length <= 100`
- `1 <= nums[i] <= 100`
- `1 <= k <= 10`
- `1 <= multiplier <= 5`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œä¸€ä¸ªæ•´æ•° `k` å’Œä¸€ä¸ªæ•´æ•° `multiplier` ã€‚

ä½ éœ€è¦å¯¹ `nums` æ‰§è¡Œ `k` æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œä¸­ï¼š

- æ‰¾åˆ° `nums` ä¸­çš„ **æœ€å°** å€¼ `x` ï¼Œå¦‚æœå­˜åœ¨å¤šä¸ªæœ€å°å€¼ï¼Œé€‰æ‹©æœ€ **å‰é¢** çš„ä¸€ä¸ªã€‚
- å°† `x` æ›¿æ¢ä¸º `x * multiplier` ã€‚

è¯·ä½ è¿”å›æ‰§è¡Œå®Œ `k` æ¬¡ä¹˜è¿ç®—ä¹‹åï¼Œæœ€ç»ˆçš„ `nums` æ•°ç»„ã€‚

**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** nums = [2,1,3,5,6], k = 5, multiplier = 2

**è¾“å‡ºï¼š**[8,4,6,5,6]

**è§£é‡Šï¼š**

| æ“ä½œ       | ç»“æœ            |
| ---------- | --------------- |
| 1 æ¬¡æ“ä½œå | [2, 2, 3, 5, 6] |
| 2 æ¬¡æ“ä½œå | [4, 2, 3, 5, 6] |
| 3 æ¬¡æ“ä½œå | [4, 4, 3, 5, 6] |
| 4 æ¬¡æ“ä½œå | [4, 4, 6, 5, 6] |
| 5 æ¬¡æ“ä½œå | [8, 4, 6, 5, 6] |

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š** nums = [1,2], k = 3, multiplier = 4

**è¾“å‡ºï¼š**[16,8]

**è§£é‡Šï¼š**

| æ“ä½œ       | ç»“æœ    |
| ---------- | ------- |
| 1 æ¬¡æ“ä½œå | [4, 2]  |
| 2 æ¬¡æ“ä½œå | [4, 8]  |
| 3 æ¬¡æ“ä½œå | [16, 8] |

**æç¤ºï¼š**

- `1 <= nums.length <= 100`
- `1 <= nums[i] <= 100`
- `1 <= k <= 10`
- `1 <= multiplier <= 5`

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šç›´æ¥éå†æ³•

1. åˆå§‹åŒ–æ“ä½œæ¬¡æ•° `k` å’Œå€ä¹˜å› å­ `multiplier`ã€‚
2. å¾ªç¯ `k` æ¬¡ï¼š
   - éå† `nums` æ•°ç»„ï¼Œæ‰¾åˆ°æ•°ç»„ä¸­æœ€å°å€¼çš„ç´¢å¼•ã€‚
   - å°†è¯¥æœ€å°å€¼æ›´æ–°ä¸º `x * multiplier`ã€‚
3. æœ€ç»ˆè¿”å›ä¿®æ”¹åçš„æ•°ç»„ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(k * n)`ï¼Œæ¯æ¬¡æŸ¥æ‰¾æœ€å°å€¼éœ€è¦éå†æ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ï¼Œä¸€å…±æ‰§è¡Œ `k` æ¬¡ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º `O(k * n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä»…ä½¿ç”¨äº†å¸¸æ•°ç©ºé—´ã€‚

### æ€è·¯äºŒï¼šæœ€å°å †

1. åˆå§‹åŒ–æœ€å°å † `minHeap`ï¼Œæœ€å°å †çš„ä¼˜å…ˆçº§ä¸ºï¼šæŒ‰å€¼ä»å°åˆ°å¤§æ’åºï¼Œå€¼ç›¸åŒæ—¶æŒ‰ç´¢å¼•æ’åºã€‚
2. å¾ªç¯ `k` æ¬¡ï¼š
   - ä»æœ€å°å †ä¸­å–å‡ºå †é¡¶å…ƒç´  `[num, idx]`ï¼Œä¹Ÿå°±æ˜¯å½“å‰çš„ `[æœ€å°å€¼, ç´¢å¼•]`ã€‚
   - å°†è¯¥æœ€å°å€¼æ›´æ–°ä¸º `[num * multiplier, idx]`ï¼Œå¹¶æ’å…¥åˆ°å †ä¸­ã€‚
3. å°†å †ä¸­æ•°æ®æŒ‰ç´¢å¼•æ’åºåï¼Œæ„å»ºå‡ºä»…å« `num` çš„æ•°ç»„å¹¶è¿”å›ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n log n + k log n)`
  - åˆå§‹æ„å»ºå †çš„æ—¶é—´ä¸º `O(n)`ã€‚
  - æ¯æ¬¡å¼¹å‡ºå †é¡¶å’Œæ’å…¥çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(log n)`ï¼Œæ‰§è¡Œ `k` æ¬¡ï¼Œå¤æ‚åº¦ä¸º `O(k log n)`ã€‚
  - æŒ‰ç´¢å¼•æ’åºçš„æ—¶é—´ä¸º `O(n log n)`ã€‚
  - æ€»æ—¶é—´å¤æ‚åº¦ä¸º `O(n log n + k log n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œä½¿ç”¨äº†å †å­˜å‚¨ `nums` çš„æ‰€æœ‰å…ƒç´ ã€‚

## ä»£ç 

::: code-tabs
@tab ç›´æ¥éå†æ³•

```javascript
/**
 * @param {number[]} nums
 * @param {number} k
 * @param {number} multiplier
 * @return {number[]}
 */
var multiplyMinimum = function (nums, k, multiplier) {
	for (let i = 0; i < k; i++) {
		// æ‰¾åˆ°å½“å‰æ•°ç»„çš„æœ€å°å€¼ç´¢å¼•
		let minIndex = 0;
		for (let j = 1; j < nums.length; j++) {
			if (nums[j] < nums[minIndex]) {
				minIndex = j;
			}
		}
		// æ›¿æ¢æœ€å°å€¼
		nums[minIndex] *= multiplier;
	}
	return nums;
};
```

@tab æœ€å°å †

```javascript
/**
 * @param {number[]} nums
 * @param {number} k
 * @param {number} multiplier
 * @return {number[]}
 */
var getFinalState = function (nums, k, multiplier) {
	// æ„å»º [num, idx] æ•°ç»„
	const arr = nums.map((num, idx) => [num, idx]);
	// æŒ‰å€¼æ’åºï¼Œå€¼ç›¸åŒæ—¶æŒ‰ç´¢å¼•æ’åº
	const priority = (a, b) => {
		if (a[0] == b[0]) return a[1] < b[1];
		return a[0] < b[0];
	};

	// åˆå§‹åŒ–æœ€å°å †
	let minHeap = new MinHeap(arr, priority);

	while (k > 0) {
		// è·å–å½“å‰æœ€å°å€¼åŠå…¶ç´¢å¼•
		const [num, idx] = minHeap.pop();
		// æ’å…¥æ–°çš„å€¼åˆ°å †ä¸­
		minHeap.insert([num * multiplier, idx]);
		k--;
	}

	// å°†å †ä¸­æ•°æ®æŒ‰ idx æ’åºåè¿”å› num
	return minHeap
		.toArray()
		.sort((a, b) => a[1] - b[1]) // æŒ‰ç´¢å¼•æ’åº
		.map(([num, idx]) => num); // æ„å»ºä»…å« num çš„æ•°ç»„
};

// æœ€å°å †
class MinHeap {
	constructor(arr = [], priority = (a, b) => a < b) {
		this.heap = arr;
		this.priority = priority;
		for (let i = ((this.heap.length / 2) | 0) - 1; i >= 0; i--) {
			this.heapifyDown(i);
		}
	}
	// æ’å…¥å…ƒç´ 
	insert(item) {
		this.heap.push(item);
		this.heapifyUp(this.heap.length - 1);
	}
	// ç§»é™¤å¹¶è¿”å›å †é¡¶
	pop() {
		if (this.heap.length == 0) return null;
		const top = this.heap[0];
		const last = this.heap.pop();
		if (this.heap.length) {
			this.heap[0] = last;
			this.heapifyDown(0);
		}
		return top;
	}
	toArray() {
		return this.heap;
	}
	heapifyUp(i) {
		while (i) {
			const parent = ((i - 1) / 2) | 0;
			if (this.priority(this.heap[i], this.heap[parent])) {
				[this.heap[i], this.heap[parent]] = [this.heap[parent], this.heap[i]];
				i = parent;
			} else {
				break;
			}
		}
	}
	heapifyDown(i) {
		const left = i * 2 + 1,
			right = i * 2 + 2;
		let min = i;
		if (
			left < this.heap.length &&
			this.priority(this.heap[left], this.heap[min])
		) {
			min = left;
		}
		if (
			right < this.heap.length &&
			this.priority(this.heap[right], this.heap[min])
		) {
			min = right;
		}
		if (min !== i) {
			[this.heap[i], this.heap[min]] = [this.heap[min], this.heap[i]];
			this.heapifyDown(min);
		}
	}
}
```

:::
