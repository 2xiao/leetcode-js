---
title: 872. å¶å­ç›¸ä¼¼çš„æ ‘
description: LeetCode 872. å¶å­ç›¸ä¼¼çš„æ ‘é¢˜è§£ï¼ŒLeaf-Similar Treesï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 872. å¶å­ç›¸ä¼¼çš„æ ‘
  - å¶å­ç›¸ä¼¼çš„æ ‘
  - Leaf-Similar Trees
  - è§£é¢˜æ€è·¯
  - æ ‘
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - äºŒå‰æ ‘
---

# 872. å¶å­ç›¸ä¼¼çš„æ ‘

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/leaf-similar-trees) [`LeetCode`](https://leetcode.com/problems/leaf-similar-trees)

## é¢˜ç›®

Consider all the leaves of a binary tree, from left to right order, the values
of those leaves form a **leaf value sequence** _._

![](https://s3-lc-upload.s3.amazonaws.com/uploads/2018/07/16/tree.png)

For example, in the given tree above, the leaf value sequence is `(6, 7, 4, 9,
8)`.

Two binary trees are considered _leaf-similar_ if their leaf value sequence
is the same.

Return `true` if and only if the two given trees with head nodes `root1` and
`root2` are leaf-similar.

**Example 1:**

![](https://assets.leetcode.com/uploads/2020/09/03/leaf-similar-1.jpg)

> Input: root1 = [3,5,1,6,2,9,8,null,null,7,4], root2 = [3,5,1,6,7,4,2,null,null,null,null,null,null,9,8]
>
> Output: true

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/09/03/leaf-similar-2.jpg)

> Input: root1 = [1,2,3], root2 = [1,3,2]
>
> Output: false

**Constraints:**

- The number of nodes in each tree will be in the range `[1, 200]`.
- Both of the given trees will have values in the range `[0, 200]`.

## é¢˜ç›®å¤§æ„

è¯·è€ƒè™‘ä¸€æ£µäºŒå‰æ ‘ä¸Šæ‰€æœ‰çš„å¶å­ï¼Œè¿™äº›å¶å­çš„å€¼æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºæ’åˆ—å½¢æˆä¸€ä¸ª **å¶å€¼åºåˆ—** ã€‚

![](https://s3-lc-upload.s3.amazonaws.com/uploads/2018/07/16/tree.png)

ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç»™å®šä¸€æ£µå¶å€¼åºåˆ—ä¸º `(6, 7, 4, 9, 8)` çš„æ ‘ã€‚

å¦‚æœæœ‰ä¸¤æ£µäºŒå‰æ ‘çš„å¶å€¼åºåˆ—æ˜¯ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è®¤ä¸ºå®ƒä»¬æ˜¯ *å¶ç›¸ä¼¼ *çš„ã€‚

å¦‚æœç»™å®šçš„ä¸¤ä¸ªæ ¹ç»“ç‚¹åˆ†åˆ«ä¸º `root1` å’Œ `root2` çš„æ ‘æ˜¯å¶ç›¸ä¼¼çš„ï¼Œåˆ™è¿”å› `true`ï¼›å¦åˆ™è¿”å› `false` ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2020/09/03/leaf-similar-1.jpg)

> **è¾“å…¥ï¼š** root1 = [3,5,1,6,2,9,8,null,null,7,4], root2 = [3,5,1,6,7,4,2,null,null,null,null,null,null,9,8]
>
> **è¾“å‡ºï¼š** true

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2020/09/03/leaf-similar-2.jpg)

> **è¾“å…¥ï¼š** root1 = [1,2,3], root2 = [1,3,2]
>
> **è¾“å‡ºï¼š** false

**æç¤ºï¼š**

- ç»™å®šçš„ä¸¤æ£µæ ‘ç»“ç‚¹æ•°åœ¨ `[1, 200]` èŒƒå›´å†…
- ç»™å®šçš„ä¸¤æ£µæ ‘ä¸Šçš„å€¼åœ¨ `[0, 200]` èŒƒå›´å†…

## è§£é¢˜æ€è·¯

1. **DFS éå†**ï¼šé€šè¿‡ `dfs` å‡½æ•°é€’å½’éå†æ ‘ï¼Œç›´åˆ°æ‰¾åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ¯å½“é‡åˆ°ä¸€ä¸ªå¶å­èŠ‚ç‚¹æ—¶ï¼Œæ”¶é›†å¶å­èŠ‚ç‚¹çš„å€¼ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨æ•°ç»„ä¸­ã€‚
2. **æ¯”è¾ƒå¶å­èŠ‚ç‚¹åˆ—è¡¨**ï¼šéå†å®Œä¸¤æ£µæ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹åï¼Œåªéœ€è¦æ¯”è¾ƒè¿™ä¸¤ä¸ªä¿å­˜å¶å­èŠ‚ç‚¹å€¼çš„æ•°ç»„æ˜¯å¦ç›¸ç­‰ã€‚å¦‚æœç›¸ç­‰ï¼Œåˆ™è¿”å› `true`ï¼Œå¦åˆ™è¿”å› `false`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ ‘çš„èŠ‚ç‚¹æ€»æ•°ã€‚
  - å¯¹äºæ¯æ£µæ ‘ï¼Œéœ€è¦éå†ä¸€æ¬¡æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå› æ­¤ `getLeafValues` å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n)`ã€‚
  - æ¯”è¾ƒä¸¤æ£µæ ‘çš„å¶å­èŠ‚ç‚¹åˆ—è¡¨éœ€è¦ `O(k)` æ—¶é—´ï¼Œå…¶ä¸­ `k` æ˜¯å¶å­èŠ‚ç‚¹çš„æ•°é‡ï¼Œæœ€åæƒ…å†µä¸‹ `k` ä¸ `n` ç›¸ç­‰ã€‚
  - å› æ­¤ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œä½¿ç”¨äº†é€’å½’æ¥éå†æ ‘ï¼Œé€’å½’è°ƒç”¨æ ˆçš„ç©ºé—´å¤æ‚åº¦æ˜¯ `O(h)`ï¼Œå…¶ä¸­ `h` æ˜¯æ ‘çš„é«˜åº¦ã€‚åœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ ‘çš„é«˜åº¦å¯èƒ½ä¸º `n`ï¼Œå› æ­¤é€’å½’çš„ç©ºé—´å¤æ‚åº¦ä¸º `O(n)`ï¼Œè¿”å›çš„ `result` æ•°ç»„ä¹Ÿå ç”¨ `O(n)` çš„ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {TreeNode} root1
 * @param {TreeNode} root2
 * @return {boolean}
 */
var leafSimilar = function (root1, root2) {
	// è·å–æ ‘çš„å¶å­èŠ‚ç‚¹å€¼åˆ—è¡¨
	const getLeafValues = (root) => {
		let result = [];
		const dfs = (node) => {
			if (!node) return;
			// å¦‚æœæ˜¯å¶å­èŠ‚ç‚¹
			if (!node.left && !node.right) {
				result.push(node.val);
			}
			dfs(node.left);
			dfs(node.right);
		};
		dfs(root);
		return result;
	};

	// è·å–ä¸¤æ£µæ ‘çš„å¶å­èŠ‚ç‚¹å€¼
	const leaves1 = getLeafValues(root1);
	const leaves2 = getLeafValues(root2);

	// æ¯”è¾ƒå¶å­èŠ‚ç‚¹å€¼æ˜¯å¦ç›¸åŒ
	return leaves1.toString() === leaves2.toString();
};
```
