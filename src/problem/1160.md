---
title: 1160. æ‹¼å†™å•è¯
description: LeetCode 1160. æ‹¼å†™å•è¯é¢˜è§£ï¼ŒFind Words That Can Be Formed by Charactersï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1160. æ‹¼å†™å•è¯
  - æ‹¼å†™å•è¯
  - Find Words That Can Be Formed by Characters
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - å­—ç¬¦ä¸²
  - è®¡æ•°
---

# 1160. æ‹¼å†™å•è¯

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`è®¡æ•°`](/tag/counting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/find-words-that-can-be-formed-by-characters) [`LeetCode`](https://leetcode.com/problems/find-words-that-can-be-formed-by-characters)

## é¢˜ç›®

You are given an array of strings `words` and a string `chars`.

A string is **good** if it can be formed by characters from `chars` (each
character can only be used once).

Return _the sum of lengths of all good strings in words_.

**Example 1:**

> Input: words = ["cat","bt","hat","tree"], chars = "atach"
>
> Output: 6
>
> Explanation: The strings that can be formed are "cat" and "hat" so the answer is 3 + 3 = 6.

**Example 2:**

> Input: words = ["hello","world","leetcode"], chars = "welldonehoneyr"
>
> Output: 10
>
> Explanation: The strings that can be formed are "hello" and "world" so the answer is 5 + 5 = 10.

**Constraints:**

- `1 <= words.length <= 1000`
- `1 <= words[i].length, chars.length <= 100`
- `words[i]` and `chars` consist of lowercase English letters.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä»½ã€è¯æ±‡è¡¨ã€ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ï¼‰ `words` å’Œä¸€å¼ ã€å­—æ¯è¡¨ã€ï¼ˆå­—ç¬¦ä¸²ï¼‰ `chars`ã€‚

å‡å¦‚ä½ å¯ä»¥ç”¨ `chars` ä¸­çš„ã€å­—æ¯ã€ï¼ˆå­—ç¬¦ï¼‰æ‹¼å†™å‡º `words` ä¸­çš„æŸä¸ªã€å•è¯ã€ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è®¤ä¸ºä½ æŒæ¡äº†è¿™ä¸ªå•è¯ã€‚

æ³¨æ„ï¼šæ¯æ¬¡æ‹¼å†™ï¼ˆæŒ‡æ‹¼å†™è¯æ±‡è¡¨ä¸­çš„ä¸€ä¸ªå•è¯ï¼‰æ—¶ï¼Œ`chars` ä¸­çš„æ¯ä¸ªå­—æ¯éƒ½åªèƒ½ç”¨ä¸€æ¬¡ã€‚

è¿”å›è¯æ±‡è¡¨ `words` ä¸­ä½ æŒæ¡çš„æ‰€æœ‰å•è¯çš„ **é•¿åº¦ä¹‹å’Œ** ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** words = ["cat","bt","hat","tree"], chars = "atach"
>
> **è¾“å‡ºï¼š** 6
>
> **è§£é‡Šï¼š**
>
> å¯ä»¥å½¢æˆå­—ç¬¦ä¸² "cat" å’Œ "hat"ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 3 + 3 = 6ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** words = ["hello","world","leetcode"], chars = "welldonehoneyr"
>
> **è¾“å‡ºï¼š** 10
>
> **è§£é‡Šï¼š**
>
> å¯ä»¥å½¢æˆå­—ç¬¦ä¸² "hello" å’Œ "world"ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 5 + 5 = 10ã€‚

**æç¤ºï¼š**

- `1 <= words.length <= 1000`
- `1 <= words[i].length, chars.length <= 100`
- æ‰€æœ‰å­—ç¬¦ä¸²ä¸­éƒ½ä»…åŒ…å«å°å†™è‹±æ–‡å­—æ¯

## è§£é¢˜æ€è·¯

1. **ç»Ÿè®¡å­—æ¯è¡¨ä¸­æ¯ä¸ªå­—æ¯çš„æ•°é‡**  
   é€šè¿‡ç»Ÿè®¡ `chars` ä¸­æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°ï¼Œç”Ÿæˆä¸€ä¸ªå­—ç¬¦é¢‘ç‡çš„å“ˆå¸Œè¡¨ã€‚

2. **åˆ¤æ–­æ¯ä¸ªå•è¯æ˜¯å¦èƒ½æ‹¼å†™**  
   å¯¹äº `words` ä¸­çš„æ¯ä¸ªå•è¯ï¼Œç»Ÿè®¡è¯¥å•è¯ä¸­æ¯ä¸ªå­—æ¯çš„éœ€æ±‚æ•°é‡ï¼Œç„¶åæ£€æŸ¥ `chars` ä¸­æ˜¯å¦æœ‰è¶³å¤Ÿçš„å­—æ¯æ¥æ‹¼å†™è¯¥å•è¯ã€‚å¦‚æœèƒ½å¤Ÿæ‹¼å†™ï¼Œç´¯åŠ è¯¥å•è¯çš„é•¿åº¦ã€‚

3. **ç´¯åŠ æ‰€æœ‰èƒ½å¤Ÿæ‹¼å†™çš„å•è¯çš„é•¿åº¦**  
   éå†æ‰€æœ‰å•è¯å¹¶æ£€æŸ¥æ˜¯å¦èƒ½æ‹¼å†™ï¼Œç´¯åŠ èƒ½å¤Ÿæ‹¼å†™çš„å•è¯çš„é•¿åº¦ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n + k * m)`
  - éå† `chars` å­—ç¬¦ä¸²å¹¶ç»Ÿè®¡å­—ç¬¦é¢‘ç‡éœ€è¦ `O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯ `chars` çš„é•¿åº¦ã€‚
  - ç»Ÿè®¡ `k` ä¸ªå•è¯çš„å­—ç¬¦é¢‘ç‡éœ€è¦ `O(k * m)`ï¼Œå…¶ä¸­ `k` æ˜¯ `words` çš„é•¿åº¦ï¼Œ`m` æ˜¯å•è¯çš„å¹³å‡é•¿åº¦ã€‚
  - æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n + k * m)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n + k * m)`ï¼Œä½¿ç”¨ä¸¤ä¸ª `Map` å­˜å‚¨ `chars` å’Œæ¯ä¸ªå•è¯çš„å­—ç¬¦é¢‘ç‡ã€‚

## ä»£ç 

```javascript
var countCharacters = function (words, chars) {
	let charsMap = new Map();

	// ç»Ÿè®¡ chars ä¸­æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°
	for (let char of chars) {
		charsMap.set(char, (charsMap.get(char) || 0) + 1);
	}

	let totalLength = 0;

	// éå† words ä¸­çš„æ¯ä¸ªå•è¯
	for (let word of words) {
		let wordMap = new Map();
		let canForm = true;

		for (let char of word) {
			// ç»Ÿè®¡å½“å‰å•è¯ä¸­æ¯ä¸ªå­—æ¯çš„éœ€æ±‚æ•°é‡
			wordMap.set(char, (wordMap.get(char) || 0) + 1);
			// æ£€æŸ¥ chars ä¸­æ˜¯å¦æœ‰è¶³å¤Ÿçš„å­—æ¯
			if (cur.get(char) > (charsMap.get(char) || 0)) {
				canForm = false;
				break;
			}
		}

		// å¦‚æœèƒ½æ‹¼å†™è¿™ä¸ªå•è¯ï¼Œç´¯åŠ å®ƒçš„é•¿åº¦
		if (canForm) {
			totalLength += word.length;
		}
	}

	return totalLength;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 383 | èµé‡‘ä¿¡ | [[âœ“]](/problem/0383.md) |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`è®¡æ•°`](/tag/counting.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/ransom-note) [ğŸ”—](https://leetcode.com/problems/ransom-note) |
| 2287 | é‡æ’å­—ç¬¦å½¢æˆç›®æ ‡å­—ç¬¦ä¸² | [[âœ“]](/problem/2287.md) |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`è®¡æ•°`](/tag/counting.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/rearrange-characters-to-make-target-string) [ğŸ”—](https://leetcode.com/problems/rearrange-characters-to-make-target-string) |