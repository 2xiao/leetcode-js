---
title: 5. æœ€é•¿å›æ–‡å­ä¸²
description: LeetCode 5. æœ€é•¿å›æ–‡å­ä¸²é¢˜è§£ï¼ŒLongest Palindromic Substringï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 5. æœ€é•¿å›æ–‡å­ä¸²
  - æœ€é•¿å›æ–‡å­ä¸²
  - Longest Palindromic Substring
  - è§£é¢˜æ€è·¯
  - åŒæŒ‡é’ˆ
  - å­—ç¬¦ä¸²
  - åŠ¨æ€è§„åˆ’
---

# 5. æœ€é•¿å›æ–‡å­ä¸²

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/longest-palindromic-substring) [`LeetCode`](https://leetcode.com/problems/longest-palindromic-substring)

## é¢˜ç›®

Given a string `s`, return _the longest_ _palindromic_ _substring_ in `s`.

**Example 1:**

> Input: s = "babad"
>
> Output: "bab"
>
> Explanation: "aba" is also a valid answer.

**Example 2:**

> Input: s = "cbbd"
>
> Output: "bb"

**Constraints:**

- `1 <= s.length <= 1000`
- `s` consist of only digits and English letters.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œæ‰¾åˆ° `s` ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚

å¦‚æœå­—ç¬¦ä¸²çš„ååºä¸åŸå§‹å­—ç¬¦ä¸²ç›¸åŒï¼Œåˆ™è¯¥å­—ç¬¦ä¸²ç§°ä¸ºå›æ–‡å­—ç¬¦ä¸²ã€‚

`s` ä»…ç”±æ•°å­—å’Œè‹±æ–‡å­—æ¯ç»„æˆã€‚

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šä¸­å¿ƒæ‰©å±•æ³•

æ‰¾å›æ–‡ä¸²çš„éš¾ç‚¹åœ¨äºï¼Œå›æ–‡ä¸²çš„çš„é•¿åº¦å¯èƒ½æ˜¯å¥‡æ•°ä¹Ÿå¯èƒ½æ˜¯å¶æ•°ï¼Œè§£å†³é—®é¢˜çš„æ ¸å¿ƒæ˜¯ä»¥æ¯ä¸ªå­—ç¬¦æˆ–ä¸¤ä¸ªç›¸é‚»å­—ç¬¦ä¸ºä¸­å¿ƒï¼Œç”¨å·¦å³æŒ‡é’ˆå‘ä¸¤è¾¹æ‰©å±•ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²ã€‚éå†æ‰€æœ‰å¯èƒ½çš„ä¸­å¿ƒï¼Œè®°å½•æœ€é•¿çš„å›æ–‡ä¸²ã€‚

- **å¥‡æ•°é•¿åº¦çš„å›æ–‡ä¸²ï¼š**
  ä»¥æ¯ä¸ªå­—ç¬¦ä¸ºä¸­å¿ƒï¼Œå‘ä¸¤è¾¹æ‰©å±•åˆ¤æ–­å›æ–‡ä¸²ã€‚
- **å¶æ•°é•¿åº¦çš„å›æ–‡ä¸²ï¼š**
  ä»¥æ¯ä¸¤ä¸ªç›¸é‚»å­—ç¬¦çš„ä¸­å¿ƒå‘ä¸¤è¾¹æ‰©å±•åˆ¤æ–­å›æ–‡ä¸²ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^2)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ã€‚

---

### æ€è·¯äºŒï¼šåŠ¨æ€è§„åˆ’

1. **å®šä¹‰ `dp[i][j]`**ï¼š

   - `dp[i][j] = true` è¡¨ç¤º `s[i:j]`ï¼ˆä» `i` åˆ° `j` çš„å­ä¸²ï¼‰æ˜¯å›æ–‡ä¸²ã€‚
   - `dp[i][j] = false` è¡¨ç¤º `s[i:j]` ä¸æ˜¯å›æ–‡ä¸²ã€‚

2. **çŠ¶æ€è½¬ç§»**ï¼š

   - `s[i] == s[j]` æ—¶ï¼š
     - **é•¿åº¦ä¸º 1 æˆ– 2**ï¼š`s[i:j]` ä¸€å®šæ˜¯å›æ–‡ï¼ˆ`i == j` æˆ– `j - i == 1`ï¼‰ã€‚
     - **é•¿åº¦å¤§äº 2**ï¼š`s[i:j]` åªæœ‰åœ¨ `dp[i+1][j-1] == true` æ—¶æ‰æ˜¯å›æ–‡ã€‚

3. **åˆå§‹åŒ–**ï¼š

   - å•ä¸ªå­—ç¬¦ `dp[i][i] = true`ã€‚

4. **éå†é¡ºåº**ï¼š
   - `j` å…ˆé€’å¢ï¼Œç¡®ä¿ `dp[i+1][j-1]` åœ¨ `dp[i][j]` ä¹‹å‰è®¡ç®—å®Œæ¯•ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^2)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ŒåŒå±‚å¾ªç¯å¡«å…… `dp`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n^2)`ï¼Œå­˜å‚¨ `dp` æ•°ç»„ã€‚

## ä»£ç 

::: code-tabs

@tab ä¸­å¿ƒæ‰©å±•æ³•

```javascript
/**
 * @param {string} s
 * @return {string}
 */
var longestPalindrome = function (s) {
	const palindrome = (i, j) => {
		while (i >= 0 && j < s.length && s[i] == s[j]) {
			i--;
			j++;
		}
		return s.substring(i + 1, j);
	};
	let res = '';
	for (let i = 0; i < s.length; i++) {
		let s1 = palindrome(i, i);
		let s2 = palindrome(i, i + 1);
		res = res.length > s1.length ? res : s1;
		res = res.length > s2.length ? res : s2;
	}
	return res;
};
```

@tab åŠ¨æ€è§„åˆ’

```javascript
var longestPalindrome = function (s) {
	const n = s.length;
	const dp = Array(n)
		.fill()
		.map(() => Array(n).fill(false));
	let start = 0,
		end = 0;

	for (let j = 0; j < n; j++) {
		dp[j][j] = true;
		for (let i = 0; i < j; i++) {
			if (s[i] === s[j] && (j - i <= 2 || dp[i + 1][j - 1])) {
				dp[i][j] = true;
				if (j - i > end - start) {
					start = i;
					end = j;
				}
			}
		}
	}
	return s.slice(start, end + 1);
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 214 | æœ€çŸ­å›æ–‡ä¸² |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`å­—ç¬¦ä¸²åŒ¹é…`](/tag/string-matching.md) [`å“ˆå¸Œå‡½æ•°`](/tag/hash-function.md) `1+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/shortest-palindrome) [ğŸ”—](https://leetcode.com/problems/shortest-palindrome) |
| 266 | å›æ–‡æ’åˆ— ğŸ”’ |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/palindrome-permutation) [ğŸ”—](https://leetcode.com/problems/palindrome-permutation) |
| 336 | å›æ–‡å¯¹ |  |  [`å­—å…¸æ ‘`](/tag/trie.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `1+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/palindrome-pairs) [ğŸ”—](https://leetcode.com/problems/palindrome-pairs) |
| 516 | æœ€é•¿å›æ–‡å­åºåˆ— | [[âœ“]](/problem/0516.md) |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/longest-palindromic-subsequence) [ğŸ”—](https://leetcode.com/problems/longest-palindromic-subsequence) |
| 647 | å›æ–‡å­ä¸² |  |  [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/palindromic-substrings) [ğŸ”—](https://leetcode.com/problems/palindromic-substrings) |
| 2472 | ä¸é‡å å›æ–‡å­å­—ç¬¦ä¸²çš„æœ€å¤§æ•°ç›® |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/maximum-number-of-non-overlapping-palindrome-substrings) [ğŸ”—](https://leetcode.com/problems/maximum-number-of-non-overlapping-palindrome-substrings) |