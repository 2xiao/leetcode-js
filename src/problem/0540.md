---
title: 540. æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ 
description: LeetCode 540. æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ é¢˜è§£ï¼ŒSingle Element in a Sorted Arrayï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 540. æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ 
  - æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ 
  - Single Element in a Sorted Array
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
---

# 540. æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ 

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/single-element-in-a-sorted-array) [`LeetCode`](https://leetcode.com/problems/single-element-in-a-sorted-array)

## é¢˜ç›®

You are given a sorted array consisting of only integers where every element
appears exactly twice, except for one element which appears exactly once.

Return _the single element that appears only once_.

Your solution must run in `O(log n)` time and `O(1)` space.

**Example 1:**

> Input: nums = [1,1,2,3,3,4,4,8,8]
>
> Output: 2

**Example 2:**

> Input: nums = [3,3,7,7,10,11,11]
>
> Output: 10

**Constraints:**

- `1 <= nums.length <= 10^5`
- `0 <= nums[i] <= 10^5`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä»…ç”±æ•´æ•°ç»„æˆçš„æœ‰åºæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¼šå‡ºç°ä¸¤æ¬¡ï¼Œå”¯æœ‰ä¸€ä¸ªæ•°åªä¼šå‡ºç°ä¸€æ¬¡ã€‚

è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›åªå‡ºç°ä¸€æ¬¡çš„é‚£ä¸ªæ•°ã€‚

ä½ è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡»æ»¡è¶³ `O(log n)` æ—¶é—´å¤æ‚åº¦å’Œ `O(1)` ç©ºé—´å¤æ‚åº¦ã€‚

**ç¤ºä¾‹ 1:**

> **è¾“å…¥:** nums = [1,1,2,3,3,4,4,8,8]
>
> **è¾“å‡º:** 2

**ç¤ºä¾‹ 2:**

> **è¾“å…¥:** nums = [3,3,7,7,10,11,11]
>
> **è¾“å‡º:** 10

**æç¤º:**

- `1 <= nums.length <= 10^5`
- `0 <= nums[i] <= 10^5`

## è§£é¢˜æ€è·¯

ç”±äºæ•°ç»„æ˜¯æœ‰åºçš„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥è§£å†³é—®é¢˜ï¼Œå…·ä½“åˆ†æå¦‚ä¸‹ï¼š

1. è§‚å¯Ÿè§„å¾‹ï¼Œæ¯ä¸ªå…ƒç´ å‡ºç°ä¸¤æ¬¡ï¼Œä¸”æ•°ç»„æ˜¯ä¸¥æ ¼æœ‰åºçš„ï¼š

   - å‡è®¾æ‰€æœ‰å…ƒç´ éƒ½æˆå¯¹å‡ºç°ï¼Œåˆ™å®ƒä»¬çš„ç´¢å¼•å‘ˆç°å¦‚ä¸‹æ¨¡å¼ï¼šæˆå¯¹å…ƒç´ çš„ç¬¬ä¸€ä¸ªä½ç½®ä¸ºå¶æ•°ï¼Œç¬¬äºŒä¸ªä½ç½®ä¸ºå¥‡æ•°ã€‚
   - ä¾‹å¦‚ï¼Œæ•°ç»„ `[1, 1, 2, 2, 3, 3, 4]` ä¸­ï¼Œå…ƒç´ æˆå¯¹çš„ç´¢å¼•å…³ç³»æ˜¯ `(0, 1), (2, 3), (4, 5)`ã€‚
   - å¦‚æœæŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œåˆ™ä»å®ƒä¹‹åï¼Œæ‰€æœ‰æˆå¯¹çš„ç´¢å¼•æ¨¡å¼å°†è¢«æ‰“ç ´ã€‚
   - ä¾‹å¦‚ï¼Œæ•°ç»„ `[1, 1, 2, 3, 3, 4, 4]` ä¸­ï¼Œ`2` åªå‡ºç°ä¸€æ¬¡ï¼Œä»ç´¢å¼• 2 å¼€å§‹ï¼Œç´¢å¼•æ¨¡å¼å˜ä¸ºå¥‡æ•°å¶æ•°ã€‚

2. æˆ‘ä»¬å¯ä»¥é€šè¿‡äºŒåˆ†æŸ¥æ‰¾å®šä½å”¯ä¸€çš„æ•°å­—ï¼š
   - å–ä¸­é—´ç´¢å¼• `mid`ã€‚
   - æ£€æŸ¥ `mid` æ˜¯å¦æ»¡è¶³æˆå¯¹è§„å¾‹ï¼š
     - å¦‚æœ `mid` æ˜¯å¶æ•°ï¼Œä¸” `nums[mid] == nums[mid + 1]`ï¼Œè¯´æ˜å”¯ä¸€çš„æ•°å­—åœ¨å³åŠéƒ¨åˆ†ã€‚
     - å¦‚æœ `mid` æ˜¯å¥‡æ•°ï¼Œä¸” `nums[mid] == nums[mid - 1]`ï¼Œè¯´æ˜å”¯ä¸€çš„æ•°å­—åœ¨å³åŠéƒ¨åˆ†ã€‚
     - å¦åˆ™ï¼Œå”¯ä¸€çš„æ•°å­—åœ¨å·¦åŠéƒ¨åˆ†ã€‚
   - é€šè¿‡è°ƒæ•´äºŒåˆ†æŸ¥æ‰¾çš„èŒƒå›´ `left` å’Œ `right`ï¼Œé€æ¸ç¼©å°èŒƒå›´ï¼Œæœ€ç»ˆæ‰¾åˆ°å”¯ä¸€çš„æ•°å­—ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(log n)`ï¼Œæ¯æ¬¡æŸ¥æ‰¾èŒƒå›´ç¼©å°ä¸€åŠã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä½¿ç”¨äº†å¸¸æ•°ä¸ªé¢å¤–å˜é‡ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var singleNonDuplicate = function (nums) {
	let left = 0,
		right = nums.length - 1;
	let idx;
	while (left <= right) {
		const mid = Math.floor((left + right) / 2);
		// æ£€æŸ¥æ˜¯å¦åœ¨æˆå¯¹ç´¢å¼•æ¨¡å¼ä¸‹
		if (
			(mid % 2 === 0 && nums[mid] === nums[mid + 1]) ||
			(mid % 2 === 1 && nums[mid] === nums[mid - 1])
		) {
			// å”¯ä¸€å…ƒç´ åœ¨å³è¾¹
			left = mid + 1;
		} else {
			// å”¯ä¸€å…ƒç´ åœ¨å·¦è¾¹æˆ–å½“å‰
			idx = mid;
			right = mid - 1;
		}
	}
	return nums[idx];
};
```
