---
title: 2017. ç½‘æ ¼æ¸¸æˆ
description: LeetCode 2017. ç½‘æ ¼æ¸¸æˆé¢˜è§£ï¼ŒGrid Gameï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2017. ç½‘æ ¼æ¸¸æˆ
  - ç½‘æ ¼æ¸¸æˆ
  - Grid Game
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - çŸ©é˜µ
  - å‰ç¼€å’Œ
---

# 2017. ç½‘æ ¼æ¸¸æˆ

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/grid-game) [`LeetCode`](https://leetcode.com/problems/grid-game)

## é¢˜ç›®

You are given a **0-indexed** 2D array `grid` of size `2 x n`, where
`grid[r][c]` represents the number of points at position `(r, c)` on the
matrix. Two robots are playing a game on this matrix.

Both robots initially start at `(0, 0)` and want to reach `(1, n-1)`. Each
robot may only move to the **right** (`(r, c)` to `(r, c + 1)`) or
**down**(`(r, c)` to `(r + 1, c)`).

At the start of the game, the **first** robot moves from `(0, 0)` to `(1,
n-1)`, collecting all the points from the cells on its path. For all cells
`(r, c)` traversed on the path, `grid[r][c]` is set to `0`. Then, the
**second** robot moves from `(0, 0)` to `(1, n-1)`, collecting the points on
its path. Note that their paths may intersect with one another.

The **first** robot wants to **minimize** the number of points collected by
the **second** robot. In contrast, the **second** robot wants to **maximize**
the number of points it collects. If both robots play **optimally** , return
_the**number of points** collected by the **second** robot._

**Example 1:**

![](https://assets.leetcode.com/uploads/2021/09/08/a1.png)

> Input: grid = [[2,5,4],[1,5,1]]
>
> Output: 4
>
> Explanation: The optimal path taken by the first robot is shown in red, and the optimal path taken by the second robot is shown in blue.
>
> The cells visited by the first robot are set to 0.
>
> The second robot will collect 0 + 0 + 4 + 0 = 4 points.

**Example 2:**

![](https://assets.leetcode.com/uploads/2021/09/08/a2.png)

> Input: grid = [[3,3,1],[8,5,2]]
>
> Output: 4
>
> Explanation: The optimal path taken by the first robot is shown in red, and the optimal path taken by the second robot is shown in blue.
>
> The cells visited by the first robot are set to 0.
>
> The second robot will collect 0 + 3 + 1 + 0 = 4 points.

**Example 3:**

![](https://assets.leetcode.com/uploads/2021/09/08/a3.png)

> Input: grid = [[1,3,1,15],[1,3,3,1]]
>
> Output: 7
>
> Explanation: The optimal path taken by the first robot is shown in red, and the optimal path taken by the second robot is shown in blue.
>
> The cells visited by the first robot are set to 0.
>
> The second robot will collect 0 + 1 + 3 + 3 + 0 = 7 points.

**Constraints:**

- `grid.length == 2`
- `n == grid[r].length`
- `1 <= n <= 5 * 10^4`
- `1 <= grid[r][c] <= 10^5`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„äºŒç»´æ•°ç»„ `grid` ï¼Œæ•°ç»„å¤§å°ä¸º `2 x n` ï¼Œå…¶ä¸­ `grid[r][c]` è¡¨ç¤ºçŸ©é˜µä¸­ `(r, c)`
ä½ç½®ä¸Šçš„ç‚¹æ•°ã€‚ç°åœ¨æœ‰ä¸¤ä¸ªæœºå™¨äººæ­£åœ¨çŸ©é˜µä¸Šå‚ä¸ä¸€åœºæ¸¸æˆã€‚

ä¸¤ä¸ªæœºå™¨äººåˆå§‹ä½ç½®éƒ½æ˜¯ `(0, 0)` ï¼Œç›®æ ‡ä½ç½®æ˜¯ `(1, n-1)` ã€‚æ¯ä¸ªæœºå™¨äººåªä¼š **å‘å³** (`(r, c)` åˆ° `(r, c +
1)`) æˆ– **å‘ä¸‹**(`(r, c)` åˆ° `(r + 1, c)`) ã€‚

æ¸¸æˆå¼€å§‹ï¼Œ**ç¬¬ä¸€ä¸ª** æœºå™¨äººä» `(0, 0)` ç§»åŠ¨åˆ° `(1, n-1)` ï¼Œå¹¶æ”¶é›†è·¯å¾„ä¸Šå•å…ƒæ ¼çš„å…¨éƒ¨ç‚¹æ•°ã€‚å¯¹äºè·¯å¾„ä¸Šæ‰€æœ‰å•å…ƒæ ¼ `(r, c)`
ï¼Œé€”ç»å `grid[r][c]` ä¼šé‡ç½®ä¸º `0` ã€‚ç„¶åï¼Œ**ç¬¬äºŒä¸ª** æœºå™¨äººä» `(0, 0)` ç§»åŠ¨åˆ° `(1, n-1)`
ï¼ŒåŒæ ·æ”¶é›†è·¯å¾„ä¸Šå•å…ƒçš„å…¨éƒ¨ç‚¹æ•°ã€‚æ³¨æ„ï¼Œå®ƒä»¬çš„è·¯å¾„å¯èƒ½ä¼šå­˜åœ¨ç›¸äº¤çš„éƒ¨åˆ†ã€‚

**ç¬¬ä¸€ä¸ª** æœºå™¨äººæƒ³è¦æ‰“å‡»ç«äº‰å¯¹æ‰‹ï¼Œä½¿ **ç¬¬äºŒä¸ª** æœºå™¨äººæ”¶é›†åˆ°çš„ç‚¹æ•° **æœ€å°åŒ–** ã€‚ä¸æ­¤ç›¸å¯¹ï¼Œ**ç¬¬äºŒä¸ª** æœºå™¨äººæƒ³è¦ **æœ€å¤§åŒ–**
è‡ªå·±æ”¶é›†åˆ°çš„ç‚¹æ•°ã€‚ä¸¤ä¸ªæœºå™¨äººéƒ½å‘æŒ¥å‡ºè‡ªå·±çš„ **æœ€ä½³æ°´å¹³** çš„å‰æä¸‹ï¼Œè¿”å› **ç¬¬äºŒä¸ª** æœºå™¨äººæ”¶é›†åˆ°çš„ **ç‚¹æ•°** ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/09/08/a1.png)

> **è¾“å…¥ï¼š** grid = [[2,5,4],[1,5,1]]
>
> **è¾“å‡ºï¼š** 4
>
> **è§£é‡Šï¼š** ç¬¬ä¸€ä¸ªæœºå™¨äººçš„æœ€ä½³è·¯å¾„å¦‚çº¢è‰²æ‰€ç¤ºï¼Œç¬¬äºŒä¸ªæœºå™¨äººçš„æœ€ä½³è·¯å¾„å¦‚è“è‰²æ‰€ç¤ºã€‚
>
> ç¬¬ä¸€ä¸ªæœºå™¨äººè®¿é—®è¿‡çš„å•å…ƒæ ¼å°†ä¼šé‡ç½®ä¸º 0 ã€‚
>
> ç¬¬äºŒä¸ªæœºå™¨äººå°†ä¼šæ”¶é›†åˆ° 0 + 0 + 4 + 0 = 4 ä¸ªç‚¹ã€‚

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/09/08/a2.png)

> **è¾“å…¥ï¼š** grid = [[3,3,1],[8,5,2]]
>
> **è¾“å‡ºï¼š** 4
>
> **è§£é‡Šï¼š** ç¬¬ä¸€ä¸ªæœºå™¨äººçš„æœ€ä½³è·¯å¾„å¦‚çº¢è‰²æ‰€ç¤ºï¼Œç¬¬äºŒä¸ªæœºå™¨äººçš„æœ€ä½³è·¯å¾„å¦‚è“è‰²æ‰€ç¤ºã€‚
>
> ç¬¬ä¸€ä¸ªæœºå™¨äººè®¿é—®è¿‡çš„å•å…ƒæ ¼å°†ä¼šé‡ç½®ä¸º 0 ã€‚
>
> ç¬¬äºŒä¸ªæœºå™¨äººå°†ä¼šæ”¶é›†åˆ° 0 + 3 + 1 + 0 = 4 ä¸ªç‚¹ã€‚

**ç¤ºä¾‹ 3ï¼š**

![](https://assets.leetcode.com/uploads/2021/09/08/a3.png)

> **è¾“å…¥ï¼š** grid = [[1,3,1,15],[1,3,3,1]]
>
> **è¾“å‡ºï¼š** 7
>
> **è§£é‡Šï¼š** ç¬¬ä¸€ä¸ªæœºå™¨äººçš„æœ€ä½³è·¯å¾„å¦‚çº¢è‰²æ‰€ç¤ºï¼Œç¬¬äºŒä¸ªæœºå™¨äººçš„æœ€ä½³è·¯å¾„å¦‚è“è‰²æ‰€ç¤ºã€‚
>
> ç¬¬ä¸€ä¸ªæœºå™¨äººè®¿é—®è¿‡çš„å•å…ƒæ ¼å°†ä¼šé‡ç½®ä¸º 0 ã€‚
>
> ç¬¬äºŒä¸ªæœºå™¨äººå°†ä¼šæ”¶é›†åˆ° 0 + 1 + 3 + 3 + 0 = 7 ä¸ªç‚¹ã€‚

**æç¤ºï¼š**

- `grid.length == 2`
- `n == grid[r].length`
- `1 <= n <= 5 * 10^4`
- `1 <= grid[r][c] <= 10^5`

## è§£é¢˜æ€è·¯

ç©å®¶ 1 é€‰æ‹©è·¯å¾„åï¼Œç©å®¶ 2 éœ€è¦é€‰æ‹©ä¸€æ¡ä¸ç©å®¶ 1 è·¯å¾„ä¸é‡å çš„è·¯å¾„ã€‚

ç©å®¶ 2 çš„è·¯å¾„åªèƒ½èµ°ç©å®¶ 1 è·¯å¾„çš„å‰©ä½™éƒ¨åˆ†ï¼ˆä¸Šè¡Œæˆ–ä¸‹è¡Œï¼‰ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è®¡ç®—ç©å®¶ 2 åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹çš„åˆ†æ•°å³å¯ã€‚

1. ä½¿ç”¨å‰ç¼€å’Œè®¡ç®—ä¸¤ä¸ªæ–¹å‘çš„è·¯å¾„å’Œï¼š

   - `firstRowSum` è¡¨ç¤ºç©å®¶ 1 ä»å½“å‰åˆ—ä¹‹åï¼ˆåŒ…æ‹¬å½“å‰åˆ—ï¼‰å‘å³çš„æ€»å’Œã€‚
   - `secondRowSum` è¡¨ç¤ºç©å®¶ 1 ä»å½“å‰åˆ—ä¹‹å‰ï¼ˆä¸åŒ…æ‹¬å½“å‰åˆ—ï¼‰å‘å·¦çš„æ€»å’Œã€‚

2. éå†æ¯ä¸ªåˆ—ï¼Œå‡è®¾ç©å®¶ 1 åˆ‡æ¢è·¯å¾„çš„åˆ†å‰²ç‚¹ä¸ºå½“å‰åˆ— `i`ï¼Œè®¡ç®—ä»¥ä¸‹ä¸¤ç§æƒ…å†µçš„åˆ†æ•°ï¼š

   - ç©å®¶ 2 å‘å³é€‰æ‹©å‰©ä½™çš„ç¬¬ä¸€è¡Œè·¯å¾„åˆ†æ•°ï¼ˆ`firstRowSum`ï¼‰ã€‚
   - ç©å®¶ 2 å‘å·¦é€‰æ‹©ç¬¬äºŒè¡Œè·¯å¾„åˆ†æ•°ï¼ˆ`secondRowSum`ï¼‰ã€‚

3. å¯¹äºæ¯ä¸€åˆ—ï¼Œç©å®¶ 2 çš„åˆ†æ•°æ˜¯ `max(firstRowSum, secondRowSum)`ï¼ˆå³é€‰æ‹©è·¯å¾„æ—¶çš„æœ€åæƒ…å†µï¼‰ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°è¿™ç§åˆ†æ•°çš„æœ€å°å€¼ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯åˆ—æ•°ï¼Œéå†ä¸€éç½‘æ ¼çš„åˆ—ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä½¿ç”¨å¸¸æ•°çº§å˜é‡ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[][]} grid
 * @return {number}
 */
var gridGame = function (grid) {
	let firstRowSum = grid[0].reduce((a, b) => a + b, 0); // ç¬¬ä¸€è¡Œæ€»å’Œ
	let secondRowSum = 0; // ç¬¬äºŒè¡Œåˆå§‹ç´¯ç§¯å’Œ
	let minSum = Infinity; // ç©å®¶ 2 çš„æœ€å°å¯èƒ½åˆ†æ•°

	for (let i = 0; i < grid[0].length; i++) {
		firstRowSum -= grid[0][i]; // ä»ç¬¬ä¸€è¡Œæ€»å’Œä¸­å‡å»å½“å‰åˆ—çš„å€¼
		minSum = Math.min(minSum, Math.max(firstRowSum, secondRowSum)); // ç©å®¶ 2 çš„æœ€å¤§åˆ†æ•°ï¼ˆé€‰æ‹©æœ€ä¼˜è·¯å¾„ï¼‰
		secondRowSum += grid[1][i]; // ç´¯åŠ ç¬¬äºŒè¡Œçš„å€¼
	}

	return minSum;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 2483 | å•†åº—çš„æœ€å°‘ä»£ä»· |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/minimum-penalty-for-a-shop) [ğŸ”—](https://leetcode.com/problems/minimum-penalty-for-a-shop) |