---
title: 2629. å¤åˆå‡½æ•°
description: LeetCode,2629. å¤åˆå‡½æ•°,å¤åˆå‡½æ•°,Function Composition,è§£é¢˜æ€è·¯
keywords:
  - LeetCode
  - 2629. å¤åˆå‡½æ•°
  - å¤åˆå‡½æ•°
  - Function Composition
  - è§£é¢˜æ€è·¯
---

# 2629. å¤åˆå‡½æ•°

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/function-composition) [`LeetCode`](https://leetcode.com/problems/function-composition)

## é¢˜ç›®

Given an array of functions `[f1, f2, f3, ..., fn]`, return a new function
`fn` that is the **function composition** of the array of functions.

The **function composition** of `[f(x), g(x), h(x)]` is `fn(x) = f(g(h(x)))`.

The **function composition** of an empty list of functions is the **identity
function** `f(x) = x`.

You may assume each function in the array accepts one integer as input and
returns one integer as output.

**Example 1:**

> Input: functions = [x => x + 1, x => x * x, x => 2 * x], x = 4
>
> Output: 65
>
> Explanation:
>
> Evaluating from right to left ...
>
> Starting with x = 4.
>
> 2 \* (4) = 8
>
> (8) \* (8) = 64
>
> (64) + 1 = 65

**Example 2:**

> Input: functions = [x => 10 * x, x => 10 * x, x => 10 * x], x = 1
>
> Output: 1000
>
> Explanation:
>
> Evaluating from right to left ...
>
> 10 \* (1) = 10
>
> 10 \* (10) = 100
>
> 10 \* (100) = 1000

**Example 3:**

> Input: functions = [], x = 42
>
> Output: 42
>
> Explanation:
>
> The composition of zero functions is the identity function

**Constraints:**

- `-1000 <= x <= 1000`
- `0 <= functions.length <= 1000`
- all functions accept and return a single integer

## é¢˜ç›®å¤§æ„

è¯·ä½ ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‡½æ•°æ•°ç»„ `[f1, f2, f3ï¼Œâ€¦ï¼Œ fn]` ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•° `fn` ï¼Œå®ƒæ˜¯å‡½æ•°æ•°ç»„çš„ **å¤åˆå‡½æ•°** ã€‚

`[f(x)ï¼Œ g(x)ï¼Œ h(x)]` çš„ **å¤åˆå‡½æ•°** ä¸º `fn(x) = f(g(h(x)))` ã€‚

ä¸€ä¸ªç©ºå‡½æ•°åˆ—è¡¨çš„ **å¤åˆå‡½æ•°** æ˜¯ **æ’ç­‰å‡½æ•°** `f(x) = x` ã€‚

ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­çš„æ¯ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªæ•´å‹å‚æ•°ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•´å‹ä½œä¸ºè¾“å‡ºã€‚

**æç¤ºï¼š**

- `-1000 <= x <= 1000`
- `0 <= functions.length <= 1000`
- æ‰€æœ‰å‡½æ•°éƒ½æ¥å—å¹¶è¿”å›ä¸€ä¸ªæ•´å‹

## è§£é¢˜æ€è·¯

è¿™é“é¢˜è¦å°†å¤šä¸ªå‡½æ•°æŒ‰ç…§ä»å³åˆ°å·¦çš„é¡ºåºåµŒå¥—æ‰§è¡Œï¼Œæ ¸å¿ƒåœ¨äºç†è§£å‡½æ•°ç»„åˆçš„æ‰§è¡Œé¡ºåºä»¥åŠå¦‚ä½•åœ¨ JavaScript ä¸­ä½¿ç”¨ `reduceRight` æ¥ç®€åŒ–å®ç°ã€‚

1. **ä»å³å‘å·¦æ‰§è¡Œå‡½æ•°**ï¼šéœ€è¦å¯¹è¾“å…¥å€¼ä¾æ¬¡åº”ç”¨å‡½æ•°æ•°ç»„ä¸­çš„å‡½æ•°ï¼Œä»æœ€åä¸€ä¸ªå‡½æ•°å¼€å§‹ï¼Œä¾æ¬¡å‘å‰åº”ç”¨ï¼Œè¿™å¯ä»¥ä½¿ç”¨ `reduceRight` æ¥å®ç°ã€‚
2. **ç©ºæ•°ç»„æƒ…å†µ**ï¼šå¦‚æœå‡½æ•°æ•°ç»„ä¸ºç©ºï¼Œè¿”å›çš„åº”è¯¥æ˜¯ä¸€ä¸ªæ’ç­‰å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ `return x => x`ï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•æ“ä½œéœ€è¦æ‰§è¡Œã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯ `functions` æ•°ç»„çš„é•¿åº¦ï¼Œéœ€è¦å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸€æ¬¡è°ƒç”¨ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œé™¤äº†è¾“å…¥å’Œè¾“å‡ºçš„é¢å¤–ç©ºé—´ï¼Œä¸éœ€è¦é¢å¤–çš„ç©ºé—´å­˜å‚¨å…¶ä»–æ•°æ®ã€‚

## ä»£ç 

```javascript
/**
 * @param {Function[]} functions
 * @return {Function}
 */
var compose = function (functions) {
	return function (x) {
		return functions.reduceRight((acc, fn) => fn(acc), x);
	};
};

/**
 * const fn = compose([x => x + 1, x => 2 * x])
 * fn(4) // 9
 */
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 2620 | è®¡æ•°å™¨ | [[âœ“]](/problem/2620.md) |  | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/counter) [ğŸ”—](https://leetcode.com/problems/counter) |
| 2623 | è®°å¿†å‡½æ•° | [[âœ“]](/problem/2623.md) |  | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/memoize) [ğŸ”—](https://leetcode.com/problems/memoize) |