---
title: 1598. æ–‡ä»¶å¤¹æ“ä½œæ—¥å¿—æœé›†å™¨
description: LeetCode 1598. æ–‡ä»¶å¤¹æ“ä½œæ—¥å¿—æœé›†å™¨é¢˜è§£ï¼ŒCrawler Log Folderï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1598. æ–‡ä»¶å¤¹æ“ä½œæ—¥å¿—æœé›†å™¨
  - æ–‡ä»¶å¤¹æ“ä½œæ—¥å¿—æœé›†å™¨
  - Crawler Log Folder
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - æ•°ç»„
  - å­—ç¬¦ä¸²
---

# 1598. æ–‡ä»¶å¤¹æ“ä½œæ—¥å¿—æœé›†å™¨

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/crawler-log-folder) [`LeetCode`](https://leetcode.com/problems/crawler-log-folder)

## é¢˜ç›®

The Leetcode file system keeps a log each time some user performs a _change folder_ operation.

The operations are described below:

- `"../"` : Move to the parent folder of the current folder. (If you are already in the main folder, **remain in the same folder**).
- `"./"` : Remain in the same folder.
- `"x/"` : Move to the child folder named `x` (This folder is **guaranteed to always exist**).

You are given a list of strings `logs` where `logs[i]` is the operation
performed by the user at the `ith` step.

The file system starts in the main folder, then the operations in `logs` are
performed.

Return _the minimum number of operations needed to go back to the main folder after the change folder operations._

**Example 1:**

![](https://assets.leetcode.com/uploads/2020/09/09/sample_11_1957.png)

> Input: `logs = ["d1/","d2/","../","d21/","./"]`
>
> Output: 2
>
> Explanation: Use this change folder operation `"../"` 2 times and go back to the main folder.

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/09/09/sample_22_1957.png)

> Input: `logs = ["d1/","d2/","./","d3/","../","d31/"]`
>
> Output: 3

**Example 3:**

> Input: `logs = ["d1/","../","../","../"]`
>
> Output: 0

**Constraints:**

- `1 <= logs.length <= 10^3`
- `2 <= logs[i].length <= 10`
- `logs[i]` contains lowercase English letters, digits, `'.'`, and `'/'`.
- `logs[i]` follows the format described in the statement.
- Folder names consist of lowercase English letters and digits.

## é¢˜ç›®å¤§æ„

æ¯å½“ç”¨æˆ·æ‰§è¡Œå˜æ›´æ–‡ä»¶å¤¹æ“ä½œæ—¶ï¼ŒLeetCode æ–‡ä»¶ç³»ç»Ÿéƒ½ä¼šä¿å­˜ä¸€æ¡æ—¥å¿—è®°å½•ã€‚

ä¸‹é¢ç»™å‡ºå¯¹å˜æ›´æ“ä½œçš„è¯´æ˜ï¼š

- `"../"` ï¼šç§»åŠ¨åˆ°å½“å‰æ–‡ä»¶å¤¹çš„çˆ¶æ–‡ä»¶å¤¹ã€‚å¦‚æœå·²ç»åœ¨ä¸»æ–‡ä»¶å¤¹ä¸‹ï¼Œåˆ™ **ç»§ç»­åœç•™åœ¨å½“å‰æ–‡ä»¶å¤¹** ã€‚
- `"./"` ï¼šç»§ç»­åœç•™åœ¨å½“å‰æ–‡ä»¶å¤¹ã€‚
- `"x/"` ï¼šç§»åŠ¨åˆ°åä¸º `x` çš„å­æ–‡ä»¶å¤¹ä¸­ã€‚é¢˜ç›®æ•°æ® **ä¿è¯æ€»æ˜¯å­˜åœ¨æ–‡ä»¶å¤¹`x`** ã€‚

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ `logs` ï¼Œå…¶ä¸­ `logs[i]` æ˜¯ç”¨æˆ·åœ¨ `ith` æ­¥æ‰§è¡Œçš„æ“ä½œã€‚

æ–‡ä»¶ç³»ç»Ÿå¯åŠ¨æ—¶ä½äºä¸»æ–‡ä»¶å¤¹ï¼Œç„¶åæ‰§è¡Œ `logs` ä¸­çš„æ“ä½œã€‚

æ‰§è¡Œå®Œæ‰€æœ‰å˜æ›´æ–‡ä»¶å¤¹æ“ä½œåï¼Œè¯·ä½ æ‰¾å‡º **è¿”å›ä¸»æ–‡ä»¶å¤¹æ‰€éœ€çš„æœ€å°æ­¥æ•°** ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/09/26/sample_11_1957.png)

> **è¾“å…¥ï¼š** `logs = ["d1/","d2/","../","d21/","./"]`
>
> **è¾“å‡ºï¼š** 2
>
> **è§£é‡Šï¼š** æ‰§è¡Œ `"../"` æ“ä½œå˜æ›´æ–‡ä»¶å¤¹ 2 æ¬¡ï¼Œå³å¯å›åˆ°ä¸»æ–‡ä»¶å¤¹

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2020/09/26/sample_22_1957.png)

> **è¾“å…¥ï¼š** `logs = ["d1/","d2/","./","d3/","../","d31/"]`
>
> **è¾“å‡ºï¼š** 3

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** `logs = ["d1/","../","../","../"]`
>
> **è¾“å‡ºï¼š** 0

**æç¤ºï¼š**

- `1 <= logs.length <= 10^3`
- `2 <= logs[i].length <= 10`
- `logs[i]` åŒ…å«å°å†™è‹±æ–‡å­—æ¯ï¼Œæ•°å­—ï¼Œ`'.'` å’Œ `'/'`
- `logs[i]` ç¬¦åˆè¯­å¥ä¸­æè¿°çš„æ ¼å¼
- æ–‡ä»¶å¤¹åç§°ç”±å°å†™è‹±æ–‡å­—æ¯å’Œæ•°å­—ç»„æˆ

## è§£é¢˜æ€è·¯

æœ¬é“é¢˜ä¸éœ€è¦æ˜¾ç¤ºåœ°ç»´æŠ¤ä¸€ä¸ªæ ˆï¼Œè€Œæ˜¯å¯ä»¥é€šè¿‡ä¸€ä¸ªæ•°å­—å˜é‡ `stack` æ¨¡æ‹Ÿå½“å‰ç›®å½•æ·±åº¦ï¼Œæ ¹æ®ä¸åŒçš„æ“ä½œå¯¹å…¶è¿›è¡Œå¢å‡ï¼š

- é‡åˆ° `"../"`ï¼šæ·±åº¦å‡ 1ï¼Œä½†ä¸èƒ½å°äº 0ã€‚
- é‡åˆ° `"./"`ï¼šå½“å‰æ·±åº¦ä¿æŒä¸å˜ã€‚
- é‡åˆ°å…¶ä»–ç›®å½•ï¼šæ·±åº¦åŠ  1ã€‚

1. åˆå§‹åŒ–å˜é‡ `stack = 0`ï¼Œè¡¨ç¤ºå½“å‰æ·±åº¦ã€‚
2. éå†æ•°ç»„ `logs`ï¼Œå¯¹æ¯ä¸ªæ“ä½œè¿›è¡Œåˆ¤æ–­ï¼š

   - å¦‚æœæ˜¯ `"../"`ï¼Œåˆ™å‡å°‘æ·±åº¦ï¼Œä½†ä½¿ç”¨ `Math.max(0, stack - 1)` ç¡®ä¿æ·±åº¦ä¸å˜ä¸ºè´Ÿæ•°ã€‚
   - å¦‚æœæ˜¯ `"./"`ï¼Œè·³è¿‡ï¼Œä¸å¯¹æ·±åº¦è¿›è¡Œä¿®æ”¹ã€‚
   - å¦‚æœæ˜¯å…¶ä»–å­—ç¬¦ä¸²ï¼Œåˆ™å¢åŠ æ·±åº¦ `stack++`ã€‚

3. éå†ç»“æŸåï¼Œ`stack` çš„å€¼å³ä¸ºæœ€ç»ˆç›®å½•æ·±åº¦ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯ `logs` çš„é•¿åº¦ï¼Œåªéœ€è¦éå†ä¸€æ¬¡ `logs`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä»…ä½¿ç”¨äº†ä¸€ä¸ªå˜é‡ `stack`ã€‚

## ä»£ç 

```javascript
/**
 * @param {string[]} logs
 * @return {number}
 */
var minOperations = function (logs) {
	let stack = 0;
	for (let log of logs) {
		if (log === '../') {
			stack = Math.max(0, stack - 1); // ç¡®ä¿ç›®å½•ä¸ä¼šä¸Šå‡åˆ°è´Ÿæ•°
		} else if (log !== './') {
			stack++; // æœ‰æ•ˆçš„æ–‡ä»¶å¤¹æ“ä½œ
		}
	}
	return stack;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 682 | æ£’çƒæ¯”èµ› | [[âœ“]](/problem/0682.md) |  [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/baseball-game) [ğŸ”—](https://leetcode.com/problems/baseball-game) |
| 844 | æ¯”è¾ƒå«é€€æ ¼çš„å­—ç¬¦ä¸² | [[âœ“]](/problem/0844.md) |  [`æ ˆ`](/tag/stack.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) `1+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/backspace-string-compare) [ğŸ”—](https://leetcode.com/problems/backspace-string-compare) |
