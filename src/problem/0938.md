---
title: 938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ
description: LeetCode 938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œé¢˜è§£ï¼ŒRange Sum of BSTï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ
  - äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ
  - Range Sum of BST
  - è§£é¢˜æ€è·¯
  - æ ‘
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - äºŒå‰æœç´¢æ ‘
  - äºŒå‰æ ‘
---

# 938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`äºŒå‰æœç´¢æ ‘`](/tag/binary-search-tree.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/range-sum-of-bst) [`LeetCode`](https://leetcode.com/problems/range-sum-of-bst)

## é¢˜ç›®

Given the `root` node of a binary search tree and two integers `low` and
`high`, return _the sum of values of all nodes with a value in
the **inclusive** range_`[low, high]`.

**Example 1:**

![](https://assets.leetcode.com/uploads/2020/11/05/bst1.jpg)

> Input: root = [10,5,15,3,7,null,18], low = 7, high = 15
>
> Output: 32
>
> Explanation: Nodes 7, 10, and 15 are in the range [7, 15]. 7 + 10 + 15 = 32.

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/11/05/bst2.jpg)

> Input: root = [10,5,15,3,7,13,18,1,null,6], low = 6, high = 10
>
> Output: 23
>
> Explanation: Nodes 6, 7, and 10 are in the range [6, 10]. 6 + 7 + 10 = 23.

**Constraints:**

- The number of nodes in the tree is in the range `[1, 2 * 104]`.
- `1 <= Node.val <= 10^5`
- `1 <= low <= high <= 10^5`
- All `Node.val` are **unique**.

## é¢˜ç›®å¤§æ„

ç»™å®šäºŒå‰æœç´¢æ ‘çš„æ ¹ç»“ç‚¹ `root`ï¼Œè¿”å›å€¼ä½äºèŒƒå›´ _`[low, high]`_ ä¹‹é—´çš„æ‰€æœ‰ç»“ç‚¹çš„å€¼çš„å’Œã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2020/11/05/bst1.jpg)

> **è¾“å…¥ï¼š** root = [10,5,15,3,7,null,18], low = 7, high = 15
>
> **è¾“å‡ºï¼š** 32

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2020/11/05/bst2.jpg)

> **è¾“å…¥ï¼š** root = [10,5,15,3,7,13,18,1,null,6], low = 6, high = 10
>
> **è¾“å‡ºï¼š** 23

**æç¤ºï¼š**

- æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ `[1, 2 * 104]` å†…
- `1 <= Node.val <= 10^5`
- `1 <= low <= high <= 10^5`
- æ‰€æœ‰ `Node.val` **äº’ä¸ç›¸åŒ**

## è§£é¢˜æ€è·¯

é¢˜ç›®è¦æ±‚æˆ‘ä»¬è®¡ç®—äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰ä¸­æ‰€æœ‰å€¼åœ¨ `low` å’Œ `high` èŒƒå›´å†…çš„èŠ‚ç‚¹å€¼çš„å’Œã€‚åˆ©ç”¨äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ï¼Œå¯ä»¥ä¼˜åŒ–æœç´¢è¿‡ç¨‹ã€‚

1. **äºŒå‰æœç´¢æ ‘çš„æ€§è´¨**ï¼š

   - å¯¹äºä»»æ„èŠ‚ç‚¹ `root`ï¼Œå¦‚æœ `root.val` å°äº `low`ï¼Œé‚£ä¹ˆå…¶å·¦å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å€¼éƒ½å°äº `root.val`ï¼Œå› æ­¤ä¸éœ€è¦å†éå†å·¦å­æ ‘ã€‚
   - å¦‚æœ `root.val` å¤§äº `high`ï¼Œé‚£ä¹ˆå…¶å³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å€¼éƒ½å¤§äº `root.val`ï¼Œå› æ­¤ä¸éœ€è¦å†éå†å³å­æ ‘ã€‚
   - å¦‚æœ `root.val` åœ¨ `[low, high]` èŒƒå›´å†…ï¼Œåˆ™å°†å…¶å€¼åŠ åˆ°æ€»å’Œä¸­ï¼Œå¹¶ç»§ç»­éå†å·¦å³å­æ ‘ã€‚

2. **é€’å½’ç­–ç•¥**ï¼š

   - ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€’å½’éå†äºŒå‰æœç´¢æ ‘ã€‚
   - åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šåˆ¤æ–­å…¶å€¼æ˜¯å¦åœ¨ `low` å’Œ `high` èŒƒå›´å†…ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å°†å…¶å€¼åŠ åˆ° `sum` ä¸­ã€‚
   - é€’å½’å·¦å­æ ‘æ—¶ï¼Œåªåœ¨å½“å‰èŠ‚ç‚¹çš„å€¼å¤§äºç­‰äº `low` æ—¶è¿›è¡Œã€‚
   - é€’å½’å³å­æ ‘æ—¶ï¼Œåªåœ¨å½“å‰èŠ‚ç‚¹çš„å€¼å°äºç­‰äº `high` æ—¶è¿›è¡Œã€‚

3. **è¾¹ç•Œæƒ…å†µ**ï¼š
   - å¦‚æœæ ‘ä¸ºç©ºï¼Œè¿”å› `0`ã€‚
   - å¦‚æœæ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½åœ¨èŒƒå›´å¤–ï¼Œåˆ™è¿”å› `0`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**: `O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ ‘ä¸­èŠ‚ç‚¹çš„æ•°é‡ã€‚æœ€åæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦éå†æ•´æ£µæ ‘ã€‚
- **ç©ºé—´å¤æ‚åº¦**: `O(h)`ï¼Œå…¶ä¸­ `h` æ˜¯æ ‘çš„é«˜åº¦ã€‚é€’å½’è°ƒç”¨æ ˆçš„æœ€å¤§æ·±åº¦ä¸ºæ ‘çš„é«˜åº¦ï¼Œæœ€åæƒ…å†µä¸‹æ˜¯ `O(n)`ï¼Œå³æ ‘ä¸ºé“¾çŠ¶æ—¶ã€‚

## ä»£ç 

```javascript
/**
 * @param {TreeNode} root
 * @param {number} low
 * @param {number} high
 * @return {number}
 */
var rangeSumBST = function (root, low, high) {
	let sum = 0;

	const dfs = (node) => {
		if (!node) return;

		if (node.val >= low && node.val <= high) {
			sum += node.val;
		}

		// å¦‚æœå½“å‰èŠ‚ç‚¹å€¼å¤§äºç­‰äºlowï¼Œåˆ™å¯ä»¥ç»§ç»­éå†å·¦å­æ ‘
		if (node.val >= low) {
			dfs(node.left);
		}

		// å¦‚æœå½“å‰èŠ‚ç‚¹å€¼å°äºç­‰äºhighï¼Œåˆ™å¯ä»¥ç»§ç»­éå†å³å­æ ‘
		if (node.val <= high) {
			dfs(node.right);
		}
	};

	dfs(root);

	return sum;
};
```
