---
title: 997. æ‰¾åˆ°å°é•‡çš„æ³•å®˜
description: LeetCode 997. æ‰¾åˆ°å°é•‡çš„æ³•å®˜é¢˜è§£ï¼ŒFind the Town Judgeï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 997. æ‰¾åˆ°å°é•‡çš„æ³•å®˜
  - æ‰¾åˆ°å°é•‡çš„æ³•å®˜
  - Find the Town Judge
  - è§£é¢˜æ€è·¯
  - å›¾
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
---

# 997. æ‰¾åˆ°å°é•‡çš„æ³•å®˜

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`å›¾`](/tag/graph.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/find-the-town-judge) [`LeetCode`](https://leetcode.com/problems/find-the-town-judge)

## é¢˜ç›®

In a town, there are `n` people labeled from `1` to `n`. There is a rumor that
one of these people is secretly the town judge.

If the town judge exists, then:

1. The town judge trusts nobody.
2. Everybody (except for the town judge) trusts the town judge.
3. There is exactly one person that satisfies properties **1** and **2**.

You are given an array `trust` where `trust[i] = [ai, bi]` representing that
the person labeled `ai` trusts the person labeled `bi`. If a trust
relationship does not exist in `trust` array, then such a trust relationship
does not exist.

Return _the label of the town judge if the town judge exists and can be
identified, or return_`-1` _otherwise_.

**Example 1:**

> Input: n = 2, trust = [[1,2]]
>
> Output: 2

**Example 2:**

> Input: n = 3, trust = [[1,3],[2,3]]
>
> Output: 3

**Example 3:**

> Input: n = 3, trust = [[1,3],[2,3],[3,1]]
>
> Output: -1

**Constraints:**

- `1 <= n <= 1000`
- `0 <= trust.length <= 10^4`
- `trust[i].length == 2`
- All the pairs of `trust` are **unique**.
- `ai != bi`
- `1 <= ai, bi <= n`

## é¢˜ç›®å¤§æ„

å°é•‡é‡Œæœ‰ `n` ä¸ªäººï¼ŒæŒ‰ä» `1` åˆ° `n` çš„é¡ºåºç¼–å·ã€‚ä¼ è¨€ç§°ï¼Œè¿™äº›äººä¸­æœ‰ä¸€ä¸ªæš—åœ°é‡Œæ˜¯å°é•‡æ³•å®˜ã€‚

å¦‚æœå°é•‡æ³•å®˜çœŸçš„å­˜åœ¨ï¼Œé‚£ä¹ˆï¼š

1. å°é•‡æ³•å®˜ä¸ä¼šä¿¡ä»»ä»»ä½•äººã€‚
2. æ¯ä¸ªäººï¼ˆé™¤äº†å°é•‡æ³•å®˜ï¼‰éƒ½ä¿¡ä»»è¿™ä½å°é•‡æ³•å®˜ã€‚
3. åªæœ‰ä¸€ä¸ªäººåŒæ—¶æ»¡è¶³å±æ€§ **1** å’Œå±æ€§ **2** ã€‚

ç»™ä½ ä¸€ä¸ªæ•°ç»„ `trust` ï¼Œå…¶ä¸­ `trust[i] = [ai, bi]` è¡¨ç¤ºç¼–å·ä¸º `ai` çš„äººä¿¡ä»»ç¼–å·ä¸º `bi` çš„äººã€‚

å¦‚æœå°é•‡æ³•å®˜å­˜åœ¨å¹¶ä¸”å¯ä»¥ç¡®å®šä»–çš„èº«ä»½ï¼Œè¯·è¿”å›è¯¥æ³•å®˜çš„ç¼–å·ï¼›å¦åˆ™ï¼Œè¿”å› `-1` ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** n = 2, trust = [[1,2]]
>
> **è¾“å‡ºï¼š** 2

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** n = 3, trust = [[1,3],[2,3]]
>
> **è¾“å‡ºï¼š** 3

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** n = 3, trust = [[1,3],[2,3],[3,1]]
>
> **è¾“å‡ºï¼š** -1

**æç¤ºï¼š**

- `1 <= n <= 1000`
- `0 <= trust.length <= 10^4`
- `trust[i].length == 2`
- `trust` ä¸­çš„æ‰€æœ‰`trust[i] = [ai, bi]` **äº’ä¸ç›¸åŒ**
- `ai != bi`
- `1 <= ai, bi <= n`

## è§£é¢˜æ€è·¯

1. **åˆå§‹åŒ–æ•°æ®ç»“æ„ï¼š**

   - åˆ›å»ºä¸€ä¸ª `judge` æ•°ç»„ï¼Œé•¿åº¦ä¸º `n + 1`ï¼Œç”¨æ¥è®°å½•æ¯ä¸ªèŠ‚ç‚¹ï¼ˆå¯¹åº”æ¯ä¸ªäººï¼‰è¢«ä¿¡ä»»çš„æ¬¡æ•°ã€‚`judge[i]` è¡¨ç¤ºç¬¬ `i` ä¸ªäººè¢«ä¿¡ä»»çš„æ¬¡æ•°ã€‚
   - ä½¿ç”¨ä¸€ä¸ª `believer` é›†åˆæ¥è®°å½•æ‰€æœ‰ä¿¡ä»»äº†å…¶ä»–äººçš„äººã€‚å³ï¼Œä¿¡ä»»å…³ç³»ä¸­çš„æ¯ä¸ª `a` éƒ½åŠ å…¥åˆ° `believer` ä¸­ã€‚

2. **å¤„ç†ä¿¡ä»»å…³ç³»ï¼š**

   - éå† `trust` æ•°ç»„ï¼Œé’ˆå¯¹æ¯ä¸ªä¿¡ä»»å…³ç³» `[a, b]`ï¼š
     - å°† `judge[b]` åŠ  1ï¼Œè¡¨ç¤º `b` è¢«ä¿¡ä»»äº†ä¸€æ¬¡ã€‚
     - å°† `a` åŠ å…¥åˆ° `believer` é›†åˆä¸­ï¼Œè¡¨ç¤º `a` ä¿¡ä»»äº†åˆ«äººã€‚

3. **å¯»æ‰¾æ³•å®˜ï¼š**
   - æ³•å®˜æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸ªä½“ï¼Œä»–è¢« `n - 1` ä¸ªäººä¿¡ä»»ï¼Œå¹¶ä¸”ä»–è‡ªå·±ä¸ä¿¡ä»»ä»»ä½•äººã€‚å› æ­¤ï¼Œéå† `judge` æ•°ç»„ï¼Œæ‰¾åˆ°è¢«ä¿¡ä»»æ¬¡æ•°ç­‰äº `n - 1` ä¸”ä¸åœ¨ `believer` é›†åˆä¸­çš„äººã€‚
4. **è¿”å›ç»“æœï¼š**
   - å¦‚æœæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„äººï¼Œè¿”å›å…¶ç¼–å·ï¼ˆå³æ³•å®˜ç¼–å·ï¼‰ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„äººï¼Œåˆ™è¿”å› `-1`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(t + n)`
  - éå† `trust` æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(T)`ï¼Œå…¶ä¸­ `t` æ˜¯ `trust` æ•°ç»„çš„é•¿åº¦ã€‚
  - éå† `judge` æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯äººæ•°ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`
  - `judge` æ•°ç»„çš„å¤§å°ä¸º `n + 1`ï¼Œå ç”¨ `O(n)` çš„ç©ºé—´ã€‚
  - `believer` é›†åˆæœ€å¤šåŒ…å« `n` ä¸ªäººï¼Œå ç”¨ `O(n)` çš„ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} n
 * @param {number[][]} trust
 * @return {number}
 */
var findJudge = function (n, trust) {
	let judge = new Array(n + 1).fill(0),
		believer = new Set();

	// å¤„ç†ä¿¡ä»»å…³ç³»
	for (let [a, b] of trust) {
		judge[b]++;
		believer.add(a);
	}

	// å¯»æ‰¾æ³•å®˜
	for (let i = 1; i <= n; i++) {
		if (judge[i] == n - 1 && !believer.has(i)) {
			return i;
		}
	}
	return -1;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 277 | æœå¯»åäºº ğŸ”’ |  |  [`å›¾`](/tag/graph.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äº¤äº’`](/tag/interactive.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/find-the-celebrity) [ğŸ”—](https://leetcode.com/problems/find-the-celebrity) |