# [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://2xiao.github.io/leetcode-js/problem/0003.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/longest-substring-without-repeating-characters) [`LeetCode`](https://leetcode.com/problems/longest-substring-without-repeating-characters)

## é¢˜ç›®

Given a string `s`, find the length of the **longest** **substring** without repeating characters.

**Example 1:**

> Input: s = "abcabcbb"
>
> Output: 3
>
> Explanation: The answer is "abc", with the length of 3.

**Example 2:**

> Input: s = "bbbbb"
>
> Output: 1
>
> Explanation: The answer is "b", with the length of 1.

**Example 3:**

> Input: s = "pwwkew"
>
> Output: 3
>
> Explanation: The answer is "wke", with the length of 3.
>
> Notice that the answer must be a substring, "pwke" is a subsequence and not a substring.

**Constraints:**

- `0 <= s.length <= 5 * 10^4`
- `s` consists of English letters, digits, symbols and spaces.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ **æœ€é•¿å­ä¸²** çš„é•¿åº¦ã€‚

**å­å­—ç¬¦ä¸²** æ˜¯å­—ç¬¦ä¸²ä¸­è¿ç»­çš„ **éç©º** å­—ç¬¦åºåˆ—ã€‚

## è§£é¢˜æ€è·¯

è¿™ä¸€é¢˜å¯ä»¥ä½¿ç”¨ **æ»‘åŠ¨çª—å£** æŠ€å·§æ¥è§£å†³ã€‚

1. **å®šä¹‰æ»‘åŠ¨çª—å£**ï¼š

   - ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ `left` å’Œ `right` æ¥è¡¨ç¤ºæ»‘åŠ¨çª—å£çš„å·¦å³è¾¹ç•Œã€‚æ»‘åŠ¨çª—å£ä¼šéšç€æŒ‡é’ˆçš„ç§»åŠ¨è€Œæ‰©å¤§æˆ–æ”¶ç¼©ã€‚
   - ç»´æŠ¤ä¸€ä¸ª `window` å¯¹è±¡ï¼Œè®°å½•å½“å‰çª—å£ä¸­å„å­—ç¬¦å‡ºç°çš„é¢‘æ¬¡ã€‚

2. **æ‰©å±•å³æŒ‡é’ˆ**ï¼š

   - æ¯æ¬¡å°†å³æŒ‡é’ˆ `right` å‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œå°†å¯¹åº”çš„å­—ç¬¦åŠ å…¥ `window`ï¼Œæ›´æ–°è¯¥å­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚

3. **æ”¶ç¼©å·¦æŒ‡é’ˆ**ï¼š

   - å¦‚æœå½“å‰å­—ç¬¦å·²ç»åœ¨çª—å£ä¸­å‡ºç°äº†ä¸æ­¢ä¸€æ¬¡ï¼ˆå³ `window[c] > 1`ï¼‰ï¼Œè¯´æ˜å½“å‰çª—å£ä¸­æœ‰é‡å¤å­—ç¬¦ã€‚æ­¤æ—¶æˆ‘ä»¬è¦é€šè¿‡ç§»åŠ¨å·¦æŒ‡é’ˆ `left` æ¥ç¼©å°çª—å£ï¼Œç›´åˆ°å»æ‰é‡å¤çš„å­—ç¬¦ï¼Œä¿è¯çª—å£å†…æ¯ä¸ªå­—ç¬¦åªå‡ºç°ä¸€æ¬¡ã€‚

4. **è®°å½•ç»“æœ**ï¼š

   - æ¯æ¬¡è°ƒæ•´å®Œçª—å£åï¼Œæ£€æŸ¥å½“å‰çª—å£çš„å¤§å°ï¼Œå¹¶æ›´æ–°æœ€é•¿å­ä¸²çš„é•¿åº¦ `res`ã€‚

5. **ç»ˆæ­¢æ¡ä»¶**ï¼š
   - å½“å³æŒ‡é’ˆéå†åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾æ—¶ï¼Œå¾ªç¯ç»“æŸï¼Œè¿”å› `res` å³ä¸ºæœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­ä¸²é•¿åº¦ã€‚

è¯¦ç»†çš„æ»‘åŠ¨çª—å£ç­”é¢˜æ¡†æ¶è®²è§£ï¼Œå¯é˜…è¯» [ã€Š3.11 æ»‘åŠ¨çª—å£ã€‹](../book/slide_window.md)ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š `O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸² `s` çš„é•¿åº¦ã€‚

  - å¤–å±‚çš„ `while` å¾ªç¯éå†å­—ç¬¦ä¸² `s`ï¼Œæ¯ä¸ªå­—ç¬¦æœ€å¤šåªä¼šè¢«å·¦æŒ‡é’ˆå’Œå³æŒ‡é’ˆè®¿é—®ä¸€æ¬¡ã€‚å› æ­¤ï¼Œæ•´ä¸ªæ»‘åŠ¨çª—å£ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ï¼Œå› ä¸ºæ¯ä¸ªå­—ç¬¦è‡³å¤šåªä¼šè¢«è®¿é—®ä¸¤æ¬¡ï¼ˆä¸€æ¬¡å³æŒ‡é’ˆç§»åŠ¨ï¼Œä¸€æ¬¡å·¦æŒ‡é’ˆç§»åŠ¨ï¼‰ã€‚
  - æ›´æ–° `window` å’Œæ¯”è¾ƒæ“ä½œéƒ½æ˜¯å¸¸æ•°æ—¶é—´æ“ä½œ `O(1)`ï¼Œä¸ä¼šå½±å“æ•´ä½“å¤æ‚åº¦ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š `O(1)`
  - è™½ç„¶åœ¨ `window` ä¸­å­˜å‚¨å­—ç¬¦çš„é¢‘æ¬¡ï¼Œä½† `window` æœ€å¤šåªä¼šåŒ…å« 128 ä¸ª ASCII å­—ç¬¦ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º `O(1)`ï¼Œä¸å­—ç¬¦ä¸² `s` çš„é•¿åº¦æ— å…³ã€‚
  - å…¶ä»–å˜é‡å¦‚ `left`ã€`right`ã€`res` ä»¥åŠä¸­é—´å˜é‡ `c` å’Œ `d` éƒ½åªå ç”¨å¸¸æ•°ç©ºé—´ã€‚

## ä»£ç 

::: code-tabs

@tab æ»‘åŠ¨çª—å£æ¡†æ¶

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var lengthOfLongestSubstring = function (s) {
	let window = {}, // è®°å½•çª—å£å†…å­—ç¬¦çš„é¢‘æ¬¡
		left = 0, // å·¦æŒ‡é’ˆ
		right = 0, // å³æŒ‡é’ˆ
		res = 0; // è®°å½•æœ€é•¿å­ä¸²çš„é•¿åº¦

	// éå†å­—ç¬¦ä¸²
	while (right < s.length) {
		let c = s[right]; // å½“å‰å³æŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦
		right++; // å³æŒ‡é’ˆå‘å³ç§»åŠ¨
		window[c] = (window[c] || 0) + 1; // ç»Ÿè®¡å½“å‰å­—ç¬¦çš„é¢‘æ¬¡

		// å¦‚æœçª—å£å†…æœ‰é‡å¤å­—ç¬¦ï¼Œæ”¶ç¼©çª—å£
		while (window[c] > 1) {
			let d = s[left]; // å·¦æŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦
			left++; // å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ï¼Œç¼©å°çª—å£
			window[d]--; // å‡å°‘çª—å£å†…å­—ç¬¦é¢‘æ¬¡
		}

		// æ›´æ–°ç»“æœï¼Œè®°å½•æœ€å¤§é•¿åº¦
		res = Math.max(res, right - left);
	}

	return res; // è¿”å›æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­ä¸²é•¿åº¦
};
```

@tab ç®€åŒ–ç‰ˆ

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var lengthOfLongestSubstring = function (s) {
	let max = 0;
	let curStr = '';
	for (let i = 0; i < s.length; i++) {
		const char = s.charAt(i);
		const pos = curStr.indexOf(char);
		if (pos !== -1) {
			curStr = curStr.slice(pos + 1, curStr.length);
		}
		curStr += char;
		max = Math.max(max, curStr.length);
	}
	return max;
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 159 | [è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸² ğŸ”’](https://leetcode.com/problems/longest-substring-with-at-most-two-distinct-characters) |  |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ffb800>Medium</font> |
| 340 | [è‡³å¤šåŒ…å« K ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸² ğŸ”’](https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters) |  |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ffb800>Medium</font> |
| 992 | [K ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„](https://leetcode.com/problems/subarrays-with-k-different-integers) |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`è®¡æ•°`](/tag/counting.md) `1+` | <font color=#ff334b>Hard</font> |
| 1695 | [åˆ é™¤å­æ•°ç»„çš„æœ€å¤§å¾—åˆ†](https://leetcode.com/problems/maximum-erasure-value) |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ffb800>Medium</font> |
| 2067 | [ç­‰è®¡æ•°å­ä¸²çš„æ•°é‡ ğŸ”’](https://leetcode.com/problems/number-of-equal-count-substrings) |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`è®¡æ•°`](/tag/counting.md) [`å‰ç¼€å’Œ`](/tag/prefix-sum.md) | <font color=#ffb800>Medium</font> |
| 2260 | [å¿…é¡»æ‹¿èµ·çš„æœ€å°è¿ç»­å¡ç‰Œæ•°](https://leetcode.com/problems/minimum-consecutive-cards-to-pick-up) | [[âœ“]](/problem/2260.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ffb800>Medium</font> |
| 2401 | [æœ€é•¿ä¼˜é›…å­æ•°ç»„](https://leetcode.com/problems/longest-nice-subarray) |  |  [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ffb800>Medium</font> |
| 2405 | [å­å­—ç¬¦ä¸²çš„æœ€ä¼˜åˆ’åˆ†](https://leetcode.com/problems/optimal-partition-of-string) |  |  [`è´ªå¿ƒ`](/tag/greedy.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | <font color=#ffb800>Medium</font> |
| 2799 | [ç»Ÿè®¡å®Œå…¨å­æ•°ç»„çš„æ•°ç›®](https://leetcode.com/problems/count-complete-subarrays-in-an-array) |  |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ»‘åŠ¨çª—å£`](/tag/sliding-window.md) | <font color=#ffb800>Medium</font> |
| 2981 | [æ‰¾å‡ºå‡ºç°è‡³å°‘ä¸‰æ¬¡çš„æœ€é•¿ç‰¹æ®Šå­å­—ç¬¦ä¸² I](https://leetcode.com/problems/find-longest-special-substring-that-occurs-thrice-i) |  |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `2+` | <font color=#ffb800>Medium</font> |
| 2982 | [æ‰¾å‡ºå‡ºç°è‡³å°‘ä¸‰æ¬¡çš„æœ€é•¿ç‰¹æ®Šå­å­—ç¬¦ä¸² II](https://leetcode.com/problems/find-longest-special-substring-that-occurs-thrice-ii) |  |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/tag/string.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `2+` | <font color=#ffb800>Medium</font> |