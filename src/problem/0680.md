---
title: 680. éªŒè¯å›æ–‡ä¸² II
description: LeetCode 680. éªŒè¯å›æ–‡ä¸² IIé¢˜è§£ï¼ŒValid Palindrome IIï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 680. éªŒè¯å›æ–‡ä¸² II
  - éªŒè¯å›æ–‡ä¸² II
  - Valid Palindrome II
  - è§£é¢˜æ€è·¯
  - è´ªå¿ƒ
  - åŒæŒ‡é’ˆ
  - å­—ç¬¦ä¸²
---

# 680. éªŒè¯å›æ–‡ä¸² II

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/valid-palindrome-ii) [`LeetCode`](https://leetcode.com/problems/valid-palindrome-ii)

## é¢˜ç›®

Given a string `s`, return `true` _if the_`s` _can be palindrome after
deleting**at most one** character from it_.

**Example 1:**

> Input: s = "aba"
>
> Output: true

**Example 2:**

> Input: s = "abca"
>
> Output: true
>
> Explanation: You could delete the character 'c'.

**Example 3:**

> Input: s = "abc"
>
> Output: false

**Constraints:**

- `1 <= s.length <= 10^5`
- `s` consists of lowercase English letters.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œ**æœ€å¤š** å¯ä»¥ä»ä¸­åˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚

è¯·ä½ åˆ¤æ–­ `s` æ˜¯å¦èƒ½æˆä¸ºå›æ–‡å­—ç¬¦ä¸²ï¼šå¦‚æœèƒ½ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** s = "aba"
>
> **è¾“å‡ºï¼š** true

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** s = "abca"
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š** ä½ å¯ä»¥åˆ é™¤å­—ç¬¦ 'c' ã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** s = "abc"
>
> **è¾“å‡ºï¼š** false

**æç¤ºï¼š**

- `1 <= s.length <= 10^5`
- `s` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

## è§£é¢˜æ€è·¯

1. **åˆ¤æ–­å›æ–‡**ï¼š

   - ä¸€ä¸ªå­—ç¬¦ä¸² `s` æ˜¯å›æ–‡ï¼Œå½“ä¸”ä»…å½“ `s[i] == s[s.length - 1 - i]`ï¼Œå¯¹äºæ‰€æœ‰çš„ `i`ï¼Œæ»¡è¶³è¿™ä¸ªæ¡ä»¶ã€‚
   - å®šä¹‰è¾…åŠ©å‡½æ•° `isPalindrome`ï¼Œç”¨äºåˆ¤æ–­å­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²ï¼Œä½¿ç”¨åŒæŒ‡é’ˆä»ä¸¤ç«¯å‘ä¸­é—´æ¨è¿›ã€‚

2. **å…·ä½“æ­¥éª¤**ï¼š

   - ä½¿ç”¨åŒæŒ‡é’ˆ `left` å’Œ `right` ä»å­—ç¬¦ä¸²ä¸¤ç«¯å‘ä¸­é—´è¿›è¡Œéå†ã€‚
   - å¦‚æœ `s[left] === s[right]`ï¼Œåˆ™ç»§ç»­å‘ä¸­é—´æ¨è¿›ï¼Œæ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚
   - å¦‚æœ `s[left] !== s[right]`ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§é€‰æ‹©ï¼š
     1. åˆ é™¤ `left` æŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦ï¼Œæ£€æŸ¥ä» `left + 1` åˆ° `right` çš„å­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡ã€‚
     2. åˆ é™¤ `right` æŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦ï¼Œæ£€æŸ¥ä» `left` åˆ° `right - 1` çš„å­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡ã€‚
   - å¦‚æœä¸¤ç§åˆ é™¤æ–¹å¼ä¸­æœ‰ä¸€ç§èƒ½è®©å­—ç¬¦ä¸²æˆä¸ºå›æ–‡ï¼Œåˆ™è¿”å› `true`ï¼›å¦åˆ™è¿”å› `false`ã€‚

3. **è¾¹ç•Œæ¡ä»¶**ï¼š
   - å¦‚æœå­—ç¬¦ä¸²æœ¬èº«å·²ç»æ˜¯å›æ–‡ï¼Œç›´æ¥è¿”å› `true`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸² `s` çš„é•¿åº¦ã€‚æœ€åæƒ…å†µä¸‹ï¼Œæœ€å¤šéœ€è¦ä¸¤æ¬¡éå†æ•´ä¸ªå­—ç¬¦ä¸²ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ç©ºé—´æ¥è¿›è¡Œè®¡ç®—ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {boolean}
 */
var validPalindrome = function (s) {
	// åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ˜¯å›æ–‡
	const isPalindrome = (str, left, right) => {
		while (left < right) {
			if (str[left++] !== str[right--]) return false;
		}
		return true;
	};

	let left = 0,
		right = s.length - 1;

	// åŒæŒ‡é’ˆæ£€æŸ¥æ˜¯å¦æ˜¯å›æ–‡
	while (left < right) {
		if (s[left] === s[right]) {
			left++;
			right--;
		} else {
			// å°è¯•åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼Œæ£€æŸ¥ä¸¤ç§æƒ…å†µ
			return (
				isPalindrome(s, left + 1, right) || isPalindrome(s, left, right - 1)
			);
		}
	}

	// å¦‚æœç»è¿‡ä¸Šè¿°æ£€æŸ¥åä»ç„¶æ˜¯å›æ–‡
	return true;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 125 | éªŒè¯å›æ–‡ä¸² | [[âœ“]](/problem/0125.md) |  [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/valid-palindrome) [ğŸ”—](https://leetcode.com/problems/valid-palindrome) |
| 1216 | éªŒè¯å›æ–‡ä¸² III ğŸ”’ |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/valid-palindrome-iii) [ğŸ”—](https://leetcode.com/problems/valid-palindrome-iii) |
| 2330 | éªŒè¯å›æ–‡ä¸² IV ğŸ”’ |  |  [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/valid-palindrome-iv) [ğŸ”—](https://leetcode.com/problems/valid-palindrome-iv) |