---
title: 766. æ‰˜æ™®åˆ©èŒ¨çŸ©é˜µ
description: LeetCode 766. æ‰˜æ™®åˆ©èŒ¨çŸ©é˜µé¢˜è§£ï¼ŒToeplitz Matrixï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 766. æ‰˜æ™®åˆ©èŒ¨çŸ©é˜µ
  - æ‰˜æ™®åˆ©èŒ¨çŸ©é˜µ
  - Toeplitz Matrix
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - çŸ©é˜µ
---

# 766. æ‰˜æ™®åˆ©èŒ¨çŸ©é˜µ

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/toeplitz-matrix) [`LeetCode`](https://leetcode.com/problems/toeplitz-matrix)

## é¢˜ç›®

Given an `m x n` `matrix`, return _`true` if the matrix is Toeplitz.
Otherwise, return `false`._

A matrix is **Toeplitz** if every diagonal from top-left to bottom-right has
the same elements.

**Example 1:**

![](https://assets.leetcode.com/uploads/2020/11/04/ex1.jpg)

> Input: matrix = [[1,2,3,4],[5,1,2,3],[9,5,1,2]]
>
> Output: true
>
> Explanation:
>
> In the above grid, the diagonals are:
>
> "[9]", "[5, 5]", "[1, 1, 1]", "[2, 2, 2]", "[3, 3]", "[4]".
>
> In each diagonal all elements are the same, so the answer is True.

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/11/04/ex2.jpg)

> Input: matrix = [[1,2],[2,2]]
>
> Output: false
>
> Explanation:
>
> The diagonal "[1, 2]" has different elements.

**Constraints:**

- `m == matrix.length`
- `n == matrix[i].length`
- `1 <= m, n <= 20`
- `0 <= matrix[i][j] <= 99`

**Follow up:**

- What if the `matrix` is stored on disk, and the memory is limited such that you can only load at most one row of the matrix into the memory at once?
- What if the `matrix` is so large that you can only load up a partial row into the memory at once?

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `m x n` çš„çŸ©é˜µ `matrix` ã€‚å¦‚æœè¿™ä¸ªçŸ©é˜µæ˜¯æ‰˜æ™®åˆ©èŒ¨çŸ©é˜µï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› \__`false` _ã€‚\_

å¦‚æœçŸ©é˜µä¸Šæ¯ä¸€æ¡ç”±å·¦ä¸Šåˆ°å³ä¸‹çš„å¯¹è§’çº¿ä¸Šçš„å…ƒç´ éƒ½ç›¸åŒï¼Œé‚£ä¹ˆè¿™ä¸ªçŸ©é˜µæ˜¯ \_\_**æ‰˜æ™®åˆ©èŒ¨çŸ©é˜µ** ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2020/11/04/ex1.jpg)

> **è¾“å…¥ï¼š** matrix = [[1,2,3,4],[5,1,2,3],[9,5,1,2]]
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š**
>
> åœ¨ä¸Šè¿°çŸ©é˜µä¸­, å…¶å¯¹è§’çº¿ä¸º:
>
> "[9]", "[5, 5]", "[1, 1, 1]", "[2, 2, 2]", "[3, 3]", "[4]"ã€‚
>
> å„æ¡å¯¹è§’çº¿ä¸Šçš„æ‰€æœ‰å…ƒç´ å‡ç›¸åŒ, å› æ­¤ç­”æ¡ˆæ˜¯ True ã€‚

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2020/11/04/ex2.jpg)

> **è¾“å…¥ï¼š** matrix = [[1,2],[2,2]]
>
> **è¾“å‡ºï¼š** false
>
> **è§£é‡Šï¼š**
>
> å¯¹è§’çº¿ "[1, 2]" ä¸Šçš„å…ƒç´ ä¸åŒã€‚

**æç¤ºï¼š**

- `m == matrix.length`
- `n == matrix[i].length`
- `1 <= m, n <= 20`
- `0 <= matrix[i][j] <= 99`

**è¿›é˜¶ï¼š**

- å¦‚æœçŸ©é˜µå­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œå¹¶ä¸”å†…å­˜æœ‰é™ï¼Œä»¥è‡³äºä¸€æ¬¡æœ€å¤šåªèƒ½å°†çŸ©é˜µçš„ä¸€è¡ŒåŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ
- å¦‚æœçŸ©é˜µå¤ªå¤§ï¼Œä»¥è‡³äºä¸€æ¬¡åªèƒ½å°†ä¸å®Œæ•´çš„ä¸€è¡ŒåŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ

## è§£é¢˜æ€è·¯

ä¸€ä¸ªçŸ©é˜µæ˜¯ **æ‰˜æ™®åˆ©èŒ¨çŸ©é˜µ** çš„æ¡ä»¶æ˜¯ï¼š**ä»»æ„ä»å·¦ä¸Šåˆ°å³ä¸‹çš„å¯¹è§’çº¿ä¸Šçš„æ‰€æœ‰å…ƒç´ éƒ½ç›¸ç­‰**ã€‚
æ¢å¥è¯è¯´ï¼Œå¯¹äºçŸ©é˜µçš„ä»»æ„ä½ç½® `(i, j)`ï¼Œå¦‚æœå…¶å³ä¸‹æ–¹çš„å…ƒç´  `(i+1, j+1)` å­˜åœ¨ï¼Œåˆ™ `matrix[i][j] == matrix[i+1][j+1]`ã€‚

---

### åŸºç¡€ç‰ˆ

1. **éå†çŸ©é˜µ**ï¼š

   - ä»ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—å¼€å§‹ï¼Œéå†æ‰€æœ‰å¯èƒ½çš„å¯¹è§’çº¿ä¸Šçš„å…ƒç´ ã€‚
   - æ£€æŸ¥æ˜¯å¦æ»¡è¶³ `matrix[i][j] == matrix[i+1][j+1]`ã€‚

2. **æ³¨æ„è¾¹ç•Œæ¡ä»¶**ï¼š

   - å¦‚æœæ˜¯çŸ©é˜µçš„æœ€åä¸€è¡Œæˆ–è€…æœ€åä¸€åˆ—ï¼Œåˆ™æ— éœ€å†è¿›è¡Œæ¯”è¾ƒã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m * n)`ï¼Œéå†çŸ©é˜µä¸­é™¤æœ€åä¸€è¡Œå’Œæœ€åä¸€åˆ—çš„æ‰€æœ‰å…ƒç´ ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼ŒåŸåœ°æ¯”è¾ƒï¼Œä¸ä½¿ç”¨é¢å¤–ç©ºé—´ã€‚

---

### è¿›é˜¶ç‰ˆ

1. **è¡Œå†…å­˜åŠ è½½é™åˆ¶**ï¼š

   - ç”±äºå†…å­˜é™åˆ¶ï¼Œä¸€æ¬¡åªèƒ½åŠ è½½çŸ©é˜µçš„ä¸€è¡Œã€‚å¯ä»¥é‡‡ç”¨ä»¥ä¸‹ç­–ç•¥ï¼š
     - é€è¡ŒåŠ è½½çŸ©é˜µï¼Œä¿å­˜ä¸Šä¸€è¡Œçš„å†…å®¹åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚
     - åŠ è½½å½“å‰è¡Œæ—¶ï¼Œæ¯”è¾ƒå½“å‰è¡Œä¸ä¸Šä¸€è¡Œç›¸é‚»çš„å…ƒç´ æ˜¯å¦ç›¸ç­‰ã€‚
     - åªéœ€å­˜å‚¨ä¸¤è¡Œçš„å†…å®¹ï¼Œç©ºé—´å¤æ‚åº¦ä¸º `O(n)`ã€‚

2. **ä¸å®Œæ•´è¡Œå†…å­˜é™åˆ¶**ï¼š
   - å‡è®¾ä¸€æ¬¡åªèƒ½åŠ è½½çŸ©é˜µçš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥ä½¿ç”¨æ»‘åŠ¨çª—å£æ–¹æ³•ã€‚
     - å¯¹äºæ¯æ¬¡åŠ è½½çš„ä¸€éƒ¨åˆ†è¡Œæˆ–åˆ—ï¼Œåªè®°å½•å¿…è¦çš„å¯¹è§’çº¿å…ƒç´ ï¼Œé€æ­¥éªŒè¯å…¶ä¸€è‡´æ€§ã€‚
     - ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå›ºå®šé•¿åº¦çš„æ•°ç»„å­˜å‚¨å¯¹è§’çº¿çš„é¦–å…ƒç´ ï¼Œé€æ­¥æ›´æ–°å’Œæ¯”è¾ƒã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m * n)`ï¼Œéå†çŸ©é˜µä¸­é™¤æœ€åä¸€è¡Œå’Œæœ€åä¸€åˆ—çš„æ‰€æœ‰å…ƒç´ ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œåªéœ€å­˜å‚¨ä¸€è¡Œçš„å†…å®¹ã€‚

## ä»£ç 

::: code-tabs
@tab åŸºç¡€ç‰ˆ

```javascript
/**
 * @param {number[][]} matrix
 * @return {boolean}
 */
var isToeplitzMatrix = function (matrix) {
	const m = matrix.length;
	const n = matrix[0].length;

	for (let i = 0; i < m - 1; i++) {
		for (let j = 0; j < n - 1; j++) {
			if (matrix[i][j] !== matrix[i + 1][j + 1]) {
				return false;
			}
		}
	}

	return true;
};
```

@tab è¿›é˜¶ç‰ˆ

```javascript
/**
 * @param {number[][]} matrix
 * @return {boolean}
 */
var isToeplitzMatrix = function (matrix) {
	let prevRow = matrix[0];
	for (let i = 1; i < matrix.length; i++) {
		for (let j = 1; j < matrix[i].length; j++) {
			if (matrix[i][j] !== prevRow[j - 1]) {
				return false;
			}
		}
		prevRow = matrix[i];
	}
	return true;
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 422 | æœ‰æ•ˆçš„å•è¯æ–¹å— ğŸ”’ |  |  [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/valid-word-square) [ğŸ”—](https://leetcode.com/problems/valid-word-square) |