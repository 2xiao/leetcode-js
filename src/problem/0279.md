# [279. å®Œå…¨å¹³æ–¹æ•°](https://leetcode.com/problems/perfect-squares)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°å­¦`](/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/perfect-squares)

## é¢˜ç›®

Given an integer `n`, return _the least number of perfect square numbers that sum to_ `n`.

A **perfect square** is an integer that is the square of an integer; in other
words, it is the product of some integer with itself. For example, `1`, `4`,
`9`, and `16` are perfect squares while `3` and `11` are not.

**Example 1:**

> Input: n = 12
>
> Output: 3
>
> Explanation: 12 = 4 + 4 + 4.

**Example 2:**

> Input: n = 13
>
> Output: 2
>
> Explanation: 13 = 4 + 9.

**Constraints:**

- `1 <= n <= 10^4`

## é¢˜ç›®å¤§æ„

ç»™å®šæ­£æ•´æ•° Â nï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚ Â 1, 4, 9, 16, ...ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº nã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•° n ï¼Œè¿”å›å’Œä¸º n çš„å®Œå…¨å¹³æ–¹æ•°çš„ æœ€å°‘æ•°é‡ ã€‚

å®Œå…¨å¹³æ–¹æ•° æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå…¶å€¼ç­‰äºå¦ä¸€ä¸ªæ•´æ•°çš„å¹³æ–¹ï¼›æ¢å¥è¯è¯´ï¼Œå…¶å€¼ç­‰äºä¸€ä¸ªæ•´æ•°è‡ªä¹˜çš„ç§¯ã€‚ä¾‹å¦‚ï¼Œ1ã€4ã€9 å’Œ 16 éƒ½æ˜¯å®Œå…¨å¹³æ–¹æ•°ï¼Œè€Œ 3 å’Œ 11 ä¸æ˜¯ã€‚

## è§£é¢˜æ€è·¯

- ç”±æ‹‰æ ¼æœ—æ—¥çš„å››å¹³æ–¹å®šç†å¯å¾—ï¼Œæ¯ä¸ªè‡ªç„¶æ•°éƒ½å¯ä»¥è¡¨ç¤ºä¸ºå››ä¸ªæ•´æ•°å¹³æ–¹ä¹‹å’Œã€‚ å…¶ä¸­å››ä¸ªæ•°å­—æ˜¯æ•´æ•°ã€‚å››å¹³æ–¹å’Œå®šç†è¯æ˜äº†ä»»æ„ä¸€ä¸ªæ­£æ•´æ•°éƒ½å¯ä»¥è¢«è¡¨ç¤ºä¸ºè‡³å¤šå››ä¸ªæ­£æ•´æ•°çš„å¹³æ–¹å’Œã€‚è¿™ç»™å‡ºäº†æœ¬é¢˜çš„ç­”æ¡ˆçš„ä¸Šç•Œã€‚
- n çš„æœ€å°‘æ•°é‡å®Œå…¨å¹³æ–¹æ•°ä¹‹å’Œï¼Œç­‰äº n å‡å»ä»»æ„ä¸€ä¸ªæ¯” n å°çš„å®Œå…¨å¹³æ–¹æ•°çš„æœ€å°‘æ•°é‡å®Œå…¨å¹³æ–¹æ•°ä¹‹å’Œï¼Œå†åŠ ä¸€ã€‚
- `dp[i]` è¡¨ç¤º`i`çš„å®Œå…¨å¹³æ–¹å’Œçš„æœ€å°‘æ•°é‡ï¼Œ`dp[i - j * j] + 1`è¡¨ç¤ºå‡å»ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•° j çš„å®Œå…¨å¹³æ–¹ä¹‹åçš„æ•°é‡åŠ  1 å°±ç­‰äº`dp[i]`ï¼Œåªè¦åœ¨`dp[i]`, `dp[i - j * j] + 1`ä¸­å¯»æ‰¾ä¸€ä¸ªè¾ƒå°‘çš„å°±æ˜¯æœ€å`dp[i]`çš„å€¼ã€‚
- `dp(i) = Math.min(dp[i], dp(i - j * j) + 1)`

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**: `O(n* sqrt(n))`ï¼Œ`n` æ˜¯è¾“å…¥çš„æ•´æ•°ï¼Œéœ€è¦å¾ªç¯ `n` æ¬¡ï¼Œæ¯æ¬¡è®¡ç®— `dp` æ–¹ç¨‹çš„å¤æ‚åº¦ `sqrt(n)`
- **ç©ºé—´å¤æ‚åº¦**: `O(n)`ï¼Œä½¿ç”¨äº†ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„è¾…åŠ©æ•°ç»„ã€‚

## ä»£ç 

```javascript
const square = (n) => {
	let dp = new Array(n).fill(0);
	for (let i = 1; i <= n; i++) {
		dp[i] = i; // æœ€åæƒ…å†µæ˜¯æ¯æ¬¡+1ï¼Œå¦‚dp[3] = 1 + 1 + 1
		for (let j = 1; i - j * j >= 0; j++) {
			dp[i] = Math.min(dp[i], dp[i - j * j] + 1);
		}
	}
	return dp[n];
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 204 | [è®¡æ•°è´¨æ•°](https://leetcode.com/problems/count-primes) |  |  [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`æšä¸¾`](/tag/enumeration.md) `1+` | <font color=#ffb800>Medium</font> |
| 264 | [ä¸‘æ•° II](https://leetcode.com/problems/ugly-number-ii) | [[âœ“]](/problem/0264.md) |  [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`æ•°å­¦`](/tag/math.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) `1+` | <font color=#ffb800>Medium</font> |
| 2787 | [å°†ä¸€ä¸ªæ•°å­—è¡¨ç¤ºæˆå¹‚çš„å’Œçš„æ–¹æ¡ˆæ•°](https://leetcode.com/problems/ways-to-express-an-integer-as-sum-of-powers) |  |  [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md) | <font color=#ffb800>Medium</font> |