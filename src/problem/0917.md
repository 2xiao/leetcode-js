---
title: 917. ä»…ä»…åè½¬å­—æ¯
description: LeetCode 917. ä»…ä»…åè½¬å­—æ¯é¢˜è§£ï¼ŒReverse Only Lettersï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 917. ä»…ä»…åè½¬å­—æ¯
  - ä»…ä»…åè½¬å­—æ¯
  - Reverse Only Letters
  - è§£é¢˜æ€è·¯
  - åŒæŒ‡é’ˆ
  - å­—ç¬¦ä¸²
---

# 917. ä»…ä»…åè½¬å­—æ¯

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`å­—ç¬¦ä¸²`](/tag/string.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/reverse-only-letters) [`LeetCode`](https://leetcode.com/problems/reverse-only-letters)

## é¢˜ç›®

Given a string `s`, reverse the string according to the following rules:

- All the characters that are not English letters remain in the same position.
- All the English letters (lowercase or uppercase) should be reversed.

Return `s` _after reversing it_.

**Example 1:**

> Input: s = "ab-cd"
>
> Output: "dc-ba"

**Example 2:**

> Input: s = "a-bC-dEf-ghIj"
>
> Output: "j-Ih-gfE-dCba"

**Example 3:**

> Input: s = "Test1ng-Leet=code-Q!"
>
> Output: "Qedo1ct-eeLg=ntse-T!"

**Constraints:**

- `1 <= s.length <= 100`
- `s` consists of characters with ASCII values in the range `[33, 122]`.
- `s` does not contain `'\"'` or `'\\'`.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œæ ¹æ®ä¸‹è¿°è§„åˆ™åè½¬å­—ç¬¦ä¸²ï¼š

- æ‰€æœ‰éè‹±æ–‡å­—æ¯ä¿ç•™åœ¨åŸæœ‰ä½ç½®ã€‚
- æ‰€æœ‰è‹±æ–‡å­—æ¯ï¼ˆå°å†™æˆ–å¤§å†™ï¼‰ä½ç½®åè½¬ã€‚

è¿”å›åè½¬åçš„ `s` ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** s = "ab-cd"
>
> **è¾“å‡ºï¼š** "dc-ba"

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** s = "a-bC-dEf-ghIj"
>
> **è¾“å‡ºï¼š** "j-Ih-gfE-dCba"

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** s = "Test1ng-Leet=code-Q!"
>
> **è¾“å‡ºï¼š** "Qedo1ct-eeLg=ntse-T!"

**æç¤º**

- `1 <= s.length <= 100`
- `s` ä»…ç”± ASCII å€¼åœ¨èŒƒå›´ `[33, 122]` çš„å­—ç¬¦ç»„æˆ
- `s` ä¸å« `'\"'` æˆ– `'\\'`

## è§£é¢˜æ€è·¯

å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆçš„æ–¹æ³•ï¼Œåˆ†åˆ«ä»å­—ç¬¦ä¸²çš„ä¸¤ç«¯å‘ä¸­é—´æ‰«æï¼Œé‡åˆ°å­—æ¯æ—¶è¿›è¡Œäº¤æ¢ã€‚

1. **å®šä¹‰è¾…åŠ©å‡½æ•°**  
   å®šä¹‰ä¸€ä¸ª `isLetter` å‡½æ•°ï¼Œç”¨äºåˆ¤æ–­å­—ç¬¦æ˜¯å¦æ˜¯å­—æ¯ï¼ˆå¤§å°å†™å‡å¯ï¼‰ã€‚

2. **åˆå§‹åŒ–åŒæŒ‡é’ˆ**

   - `left` æŒ‡é’ˆä»å­—ç¬¦ä¸²çš„å¼€å¤´å¼€å§‹ã€‚
   - `right` æŒ‡é’ˆä»å­—ç¬¦ä¸²çš„æœ«å°¾å¼€å§‹ã€‚

3. **æ‰«æå’Œäº¤æ¢**

   - å¦‚æœ `left` å’Œ `right` æ‰€æŒ‡å‘çš„å­—ç¬¦ä¸­æœ‰éå­—æ¯å­—ç¬¦ï¼Œåˆ™åˆ†åˆ«å‘å†…ç§»åŠ¨ç›¸åº”çš„æŒ‡é’ˆï¼Œç›´åˆ°æ‰¾åˆ°å­—æ¯ã€‚
   - å¦‚æœä¸¤æŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦å‡ä¸ºå­—æ¯ï¼Œåˆ™äº¤æ¢å®ƒä»¬ã€‚
   - ç„¶åç»§ç»­ç§»åŠ¨æŒ‡é’ˆï¼Œé‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ° `left >= right`ã€‚

4. **è¿”å›ç»“æœ**
   - å°†ç»è¿‡å¤„ç†çš„æ•°ç»„è½¬æ¢å›å­—ç¬¦ä¸²å¹¶è¿”å›ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œéå†å­—ç¬¦ä¸²ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œä½¿ç”¨äº†ä¸€ä¸ªå­—ç¬¦æ•°ç»„ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {string}
 */
var reverseOnlyLetters = function (s) {
	const isLetter = (char) => {
		return (char >= 'a' && char <= 'z') || (char >= 'A' && char <= 'Z');
	};
	let arr = s.split('');
	let left = 0,
		right = arr.length - 1;
	while (left < right) {
		while (left < right && !isLetter(arr[left])) {
			left++;
		}
		while (left < right && !isLetter(arr[right])) {
			right--;
		}
		let temp = s[left];
		arr[left] = arr[right];
		arr[right] = temp;
		left++;
		right--;
	}
	return arr.join('');
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 2810 | æ•…éšœé”®ç›˜ |  |  [`å­—ç¬¦ä¸²`](/tag/string.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/faulty-keyboard) [ğŸ”—](https://leetcode.com/problems/faulty-keyboard) |