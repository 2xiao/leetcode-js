---
title: 1472. è®¾è®¡æµè§ˆå™¨å†å²è®°å½•
description: LeetCode 1472. è®¾è®¡æµè§ˆå™¨å†å²è®°å½•é¢˜è§£ï¼ŒDesign Browser Historyï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1472. è®¾è®¡æµè§ˆå™¨å†å²è®°å½•
  - è®¾è®¡æµè§ˆå™¨å†å²è®°å½•
  - Design Browser History
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - è®¾è®¡
  - æ•°ç»„
  - é“¾è¡¨
  - æ•°æ®æµ
  - åŒå‘é“¾è¡¨
---

# 1472. è®¾è®¡æµè§ˆå™¨å†å²è®°å½•

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`è®¾è®¡`](/tag/design.md) [`æ•°ç»„`](/tag/array.md) [`é“¾è¡¨`](/tag/linked-list.md) [`æ•°æ®æµ`](/tag/data-stream.md) [`åŒå‘é“¾è¡¨`](/tag/doubly-linked-list.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/design-browser-history) [`LeetCode`](https://leetcode.com/problems/design-browser-history)

## é¢˜ç›®

You have a **browser** of one tab where you start on the `homepage` and you
can visit another `url`, get back in the history number of `steps` or move
forward in the history number of `steps`.

Implement the `BrowserHistory` class:

- `BrowserHistory(string homepage)` Initializes the object with the `homepage` of the browser.
- `void visit(string url)` Visits `url` from the current page. It clears up all the forward history.
- `string back(int steps)` Move `steps` back in history. If you can only return `x` steps in the history and `steps > x`, you will return only `x` steps. Return the current `url` after moving back in history **at most** `steps`.
- `string forward(int steps)` Move `steps` forward in history. If you can only forward `x` steps in the history and `steps > x`, you will forward only `x` steps. Return the current `url` after forwarding in history **at most** `steps`.

**Example:**

> Input:
>
> ["BrowserHistory","visit","visit","visit","back","back","forward","visit","forward","back","back"]
>
> [["leetcode.com"],["google.com"],["facebook.com"],["youtube.com"],[1],[1],[1],["linkedin.com"],[2],[2],[7]]
>
> Output:
>
> [null,null,null,null,"facebook.com","google.com","facebook.com",null,"linkedin.com","google.com","leetcode.com"]
>
> Explanation:
>
> BrowserHistory browserHistory = new BrowserHistory("leetcode.com");
>
> browserHistory.visit("google.com") // You are in "leetcode.com". Visit "google.com"
>
> browserHistory.visit("facebook.com") // You are in "google.com". Visit "facebook.com"
>
> browserHistory.visit("youtube.com") // You are in "facebook.com". Visit "youtube.com"
>
> browserHistory.back(1); // You are in "youtube.com", move back to "facebook.com" return "facebook.com"
>
> browserHistory.back(1); // You are in "facebook.com", move back to "google.com" return "google.com"
>
> browserHistory.forward(1); // You are in "google.com", move forward to "facebook.com" return "facebook.com"
>
> browserHistory.visit("linkedin.com") // You are in "facebook.com". Visit "linkedin.com"
>
> browserHistory.forward(2); // You are in "linkedin.com", you cannot move forward any steps.
>
> browserHistory.back(2); // You are in "linkedin.com", move back two steps to "facebook.com" then to "google.com". return "google.com"
>
> browserHistory.back(7); // You are in "google.com", you can move back only one step to "leetcode.com". return "leetcode.com"

**Constraints:**

- `1 <= homepage.length <= 20`
- `1 <= url.length <= 20`
- `1 <= steps <= 100`
- `homepage` and `url` consist of '.' or lower case English letters.
- At most `5000` calls will be made to `visit`, `back`, and `forward`.

## é¢˜ç›®å¤§æ„

è®¾è®¡ä¸€ä¸ªåªæ”¯æŒå•ä¸ªæ ‡ç­¾é¡µçš„ **æµè§ˆå™¨** ï¼Œæœ€å¼€å§‹æµè§ˆçš„ç½‘é¡µæ˜¯ `homepage` ï¼Œå¯ä»¥è®¿é—®å…¶ä»–çš„ç½‘ç«™ `url` ï¼Œä¹Ÿå¯ä»¥åœ¨æµè§ˆå†å²ä¸­åé€€ `steps` æ­¥æˆ–å‰è¿› `steps` æ­¥ã€‚

## è§£é¢˜æ€è·¯

ä½¿ç”¨æ ˆæ¥å­˜å‚¨æµè§ˆå™¨çš„è®¿é—®å†å²ï¼Œä½¿ç”¨ `cur_index` å˜é‡æ¥å­˜å‚¨å½“å‰è®¿é—®çš„ç½‘å€åœ¨æ ˆä¸­çš„ä½ç½®ã€‚

- visitï¼š
  - å…ˆæ¸…ç©º `cur_index` ä¹‹åçš„å†å²è®°å½•ï¼›
  - å°† `url` æ”¾å…¥æ ˆé¡¶ï¼›
  - å°† `cur_index` æŒ‡å‘æ ˆé¡¶ï¼›
- backï¼šæ¯”è¾ƒæ ˆä¸­å­˜å‚¨çš„å†å²è®°å½•æ•° `n` å’Œ `steps` çš„å¤§å°ï¼Œæœ€å¤šåªèƒ½å€’é€€ `n` æ­¥
- forward: æ¯”è¾ƒ `cur_index` ä¹‹åçš„å†å²è®°å½•æ•° `m` å’Œ `steps` çš„å¤§å°ï¼Œæœ€å¤šåªèƒ½å‰è¿› `m` æ­¥

## ä»£ç 

```javascript
class BrowserHistory {
	// @param {string} homepage
	constructor(homepage) {
		this.history = [homepage];
		this.cur_index = 0;
	}

	// @param {string} url
	// @return {void}
	visit(url) {
		// clear forward history
		this.history = this.history.slice(0, this.cur_index + 1);
		this.history.push(url);
		this.cur_index++;
	}

	// @param {number} steps
	// @return {string}
	back(steps) {
		this.cur_index = Math.max(0, this.cur_index - steps);
		return this.history[this.cur_index];
	}

	// @param {number} steps
	// @return {string}
	forward(steps) {
		this.cur_index = Math.min(this.history.length - 1, this.cur_index + steps);
		return this.history[this.cur_index];
	}
}
/**
 * Your BrowserHistory object will be instantiated and called as such:
 * var obj = new BrowserHistory(homepage)
 * obj.visit(url)
 * var param_2 = obj.back(steps)
 * var param_3 = obj.forward(steps)
 */
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 2254 | è®¾è®¡è§†é¢‘å…±äº«å¹³å° ğŸ”’ |  |  [`æ ˆ`](/tag/stack.md) [`è®¾è®¡`](/tag/design.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `1+` | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/design-video-sharing-platform) [ğŸ”—](https://leetcode.com/problems/design-video-sharing-platform) |