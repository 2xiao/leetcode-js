---
title: 1574. åˆ é™¤æœ€çŸ­çš„å­æ•°ç»„ä½¿å‰©ä½™æ•°ç»„æœ‰åº
description: LeetCode,1574. åˆ é™¤æœ€çŸ­çš„å­æ•°ç»„ä½¿å‰©ä½™æ•°ç»„æœ‰åº,åˆ é™¤æœ€çŸ­çš„å­æ•°ç»„ä½¿å‰©ä½™æ•°ç»„æœ‰åº,Shortest Subarray to be Removed to Make Array Sorted,è§£é¢˜æ€è·¯,æ ˆ,æ•°ç»„,åŒæŒ‡é’ˆ,äºŒåˆ†æŸ¥æ‰¾,å•è°ƒæ ˆ
keywords:
  - LeetCode
  - 1574. åˆ é™¤æœ€çŸ­çš„å­æ•°ç»„ä½¿å‰©ä½™æ•°ç»„æœ‰åº
  - åˆ é™¤æœ€çŸ­çš„å­æ•°ç»„ä½¿å‰©ä½™æ•°ç»„æœ‰åº
  - Shortest Subarray to be Removed to Make Array Sorted
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - æ•°ç»„
  - åŒæŒ‡é’ˆ
  - äºŒåˆ†æŸ¥æ‰¾
  - å•è°ƒæ ˆ
---

# 1574. åˆ é™¤æœ€çŸ­çš„å­æ•°ç»„ä½¿å‰©ä½™æ•°ç»„æœ‰åº

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`å•è°ƒæ ˆ`](/tag/monotonic-stack.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/shortest-subarray-to-be-removed-to-make-array-sorted) [`LeetCode`](https://leetcode.com/problems/shortest-subarray-to-be-removed-to-make-array-sorted)

## é¢˜ç›®

Given an integer array `arr`, remove a subarray (can be empty) from `arr` such
that the remaining elements in `arr` are **non-decreasing**.

Return _the length of the shortest subarray to remove_.

A **subarray** is a contiguous subsequence of the array.

**Example 1:**

> Input: arr = [1,2,3,10,4,2,3,5]
>
> Output: 3
>
> Explanation: The shortest subarray we can remove is [10,4,2] of length 3. The remaining elements after that will be [1,2,3,3,5] which are sorted.
>
> Another correct solution is to remove the subarray [3,10,4].

**Example 2:**

> Input: arr = [5,4,3,2,1]
>
> Output: 4
>
> Explanation: Since the array is strictly decreasing, we can only keep a single element. Therefore we need to remove a subarray of length 4, either [5,4,3,2] or [4,3,2,1].

**Example 3:**

> Input: arr = [1,2,3]
>
> Output: 0
>
> Explanation: The array is already non-decreasing. We do not need to remove any elements.

**Constraints:**

- `1 <= arr.length <= 10^5`
- `0 <= arr[i] <= 10^9`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `arr` ï¼Œè¯·ä½ åˆ é™¤ä¸€ä¸ªå­æ•°ç»„ï¼ˆå¯ä»¥ä¸ºç©ºï¼‰ï¼Œä½¿å¾— `arr` ä¸­å‰©ä¸‹çš„å…ƒç´ æ˜¯ **éé€’å‡** çš„ã€‚

ä¸€ä¸ªå­æ•°ç»„æŒ‡çš„æ˜¯åŸæ•°ç»„ä¸­è¿ç»­çš„ä¸€ä¸ªå­åºåˆ—ã€‚

è¯·ä½ è¿”å›æ»¡è¶³é¢˜ç›®è¦æ±‚çš„æœ€çŸ­å­æ•°ç»„çš„é•¿åº¦ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** arr = [1,2,3,10,4,2,3,5]
>
> **è¾“å‡ºï¼š** 3
>
> **è§£é‡Šï¼š** æˆ‘ä»¬éœ€è¦åˆ é™¤çš„æœ€çŸ­å­æ•°ç»„æ˜¯ [10,4,2] ï¼Œé•¿åº¦ä¸º 3 ã€‚å‰©ä½™å…ƒç´ å½¢æˆéé€’å‡æ•°ç»„ [1,2,3,3,5] ã€‚
>
> å¦ä¸€ä¸ªæ­£ç¡®çš„è§£ä¸ºåˆ é™¤å­æ•°ç»„ [3,10,4] ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** arr = [5,4,3,2,1]
>
> **è¾“å‡ºï¼š** 4
>
> **è§£é‡Šï¼š** ç”±äºæ•°ç»„æ˜¯ä¸¥æ ¼é€’å‡çš„ï¼Œæˆ‘ä»¬åªèƒ½ä¿ç•™ä¸€ä¸ªå…ƒç´ ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ é™¤é•¿åº¦ä¸º 4 çš„å­æ•°ç»„ï¼Œè¦ä¹ˆåˆ é™¤ [5,4,3,2]ï¼Œè¦ä¹ˆåˆ é™¤ [4,3,2,1]ã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** arr = [1,2,3]
>
> **è¾“å‡ºï¼š** 0
>
> **è§£é‡Šï¼š** æ•°ç»„å·²ç»æ˜¯éé€’å‡çš„äº†ï¼Œæˆ‘ä»¬ä¸éœ€è¦åˆ é™¤ä»»ä½•å…ƒç´ ã€‚

**ç¤ºä¾‹ 4ï¼š**

> **è¾“å…¥ï¼š** arr = [1]
>
> **è¾“å‡ºï¼š** 0

**æç¤ºï¼š**

- `1 <= arr.length <= 10^5`
- `0 <= arr[i] <= 10^9`

## è§£é¢˜æ€è·¯

1. **å¯»æ‰¾å·¦å³æœ‰åºåŒºé—´**

é¦–å…ˆç¡®å®šä»ä¸¤ç«¯æ‰©å±•çš„ä¸¤ä¸ªæœ‰åºåŒºé—´ï¼š

- **å·¦ä¾§æœ‰åºåŒºé—´**: ä» `arr[0]` å¼€å§‹å‘å³æ‰¾å‡ºæœ€é•¿çš„éé€’å‡å­æ•°ç»„ï¼Œæ ‡è®°ä¸º `[0, left]`ã€‚
- **å³ä¾§æœ‰åºåŒºé—´**: ä» `arr[n-1]` å¼€å§‹å‘å·¦æ‰¾å‡ºæœ€é•¿çš„éé€’å‡å­æ•°ç»„ï¼Œæ ‡è®°ä¸º `[right, n-1]`ã€‚

- å¦‚æœæ•´ä¸ªæ•°ç»„å·²ç»æœ‰åº (`left == n - 1`)ï¼Œç›´æ¥è¿”å› 0ã€‚

2. **åˆæ­¥è®¡ç®—ç»“æœ**

åœ¨åªä¿ç•™å·¦ä¾§æˆ–å³ä¾§åŒºé—´çš„æƒ…å†µä¸‹ï¼Œåˆ†åˆ«åˆ é™¤çš„å­æ•°ç»„é•¿åº¦ä¸ºï¼š

- åˆ é™¤ `[left+1, n-1]`ï¼Œå³ `n - left - 1`ã€‚
- åˆ é™¤ `[0, right-1]`ï¼Œå³ `right`ã€‚

åˆå§‹ç»“æœå–äºŒè€…çš„è¾ƒå°å€¼ã€‚

3. **åˆå¹¶å·¦å³åŒºé—´**

å°è¯•åˆå¹¶å·¦ä¾§å’Œå³ä¾§çš„æœ‰åºåŒºé—´ã€‚ç”¨ä¸¤ä¸ªæŒ‡é’ˆ `i` å’Œ `j`ï¼š

- `i` ä»å·¦ä¾§æœ‰åºåŒºé—´ `[0, left]` å¼€å§‹éå†ã€‚
- `j` ä»å³ä¾§æœ‰åºåŒºé—´ `[right, n-1]` å¼€å§‹éå†ã€‚

å¯¹äºæ¯å¯¹ `arr[i]` å’Œ `arr[j]`ï¼š

- å¦‚æœ `arr[i] <= arr[j]`ï¼Œè¯´æ˜ `arr[i]` å’Œ `arr[j]` å¯ä»¥è¿é€šï¼Œå°†åˆ é™¤åŒºé—´é•¿åº¦æ›´æ–°ä¸º `j - i - 1`ï¼Œå¹¶å‘å³ç§»åŠ¨ `i`ã€‚
- å¦‚æœ `arr[i] > arr[j]`ï¼Œè¯´æ˜å½“å‰çš„ `j` æ— æ³•ä¸ `i` è¿é€šï¼Œéœ€è¦å‘å³ç§»åŠ¨ `j`ã€‚

4. **è¿”å›ç»“æœ**

æœ€ç»ˆè¿”å›æœ€å°çš„åˆ é™¤åŒºé—´é•¿åº¦ `result`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œæ‰¾åˆ°å·¦å³æœ‰åºåŒºé—´çš„å¤æ‚åº¦ä¸º `O(n)`ï¼ŒåŒæŒ‡é’ˆåˆå¹¶å·¦å³åŒºé—´çš„å¤æ‚åº¦ä¸º `O(n)`ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} arr
 * @return {number}
 */
var findLengthOfShortestSubarray = function (arr) {
	const n = arr.length;
	// å¯»æ‰¾å·¦å³æœ‰åºåŒºé—´
	let left = 0;
	while (left + 1 < n && arr[left] <= arr[left + 1]) {
		left++;
	}

	if (left == n - 1) return 0;

	let right = n - 1;
	while (right > 0 && arr[right] >= arr[right - 1]) {
		right--;
	}

	// åˆæ­¥è®¡ç®—ç»“æœ
	let result = Math.min(n - left - 1, right);

	// åˆå¹¶å·¦å³åŒºé—´
	let i = 0,
		j = right;

	while (i <= left && j < n) {
		if (arr[i] <= arr[j]) {
			result = Math.min(result, j - i - 1);
			i++;
		} else {
			j++;
		}
	}

	return result;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 2970 | ç»Ÿè®¡ç§»é™¤é€’å¢å­æ•°ç»„çš„æ•°ç›® I |  |  [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) `1+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/count-the-number-of-incremovable-subarrays-i) [ğŸ”—](https://leetcode.com/problems/count-the-number-of-incremovable-subarrays-i) |
| 2972 | ç»Ÿè®¡ç§»é™¤é€’å¢å­æ•°ç»„çš„æ•°ç›® II |  |  [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) | ğŸ”´ | [ğŸ€„ï¸](https://leetcode.cn/problems/count-the-number-of-incremovable-subarrays-ii) [ğŸ”—](https://leetcode.com/problems/count-the-number-of-incremovable-subarrays-ii) |