---
title: 653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥äºŒå‰æœç´¢æ ‘
description: LeetCode 653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥äºŒå‰æœç´¢æ ‘é¢˜è§£ï¼ŒTwo Sum IV - Input is a BSTï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥äºŒå‰æœç´¢æ ‘
  - ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥äºŒå‰æœç´¢æ ‘
  - Two Sum IV - Input is a BST
  - è§£é¢˜æ€è·¯
  - æ ‘
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - äºŒå‰æœç´¢æ ‘
  - å“ˆå¸Œè¡¨
  - åŒæŒ‡é’ˆ
  - äºŒå‰æ ‘
---

# 653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥äºŒå‰æœç´¢æ ‘

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`äºŒå‰æœç´¢æ ‘`](/tag/binary-search-tree.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äºŒå‰æ ‘`](/tag/binary-tree.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/two-sum-iv-input-is-a-bst) [`LeetCode`](https://leetcode.com/problems/two-sum-iv-input-is-a-bst)

## é¢˜ç›®

Given the `root` of a binary search tree and an integer `k`, return `true` _if
there exist two elements in the BST such that their sum is equal to_ `k`, _or_
`false` _otherwise_.

**Example 1:**

![](https://assets.leetcode.com/uploads/2020/09/21/sum_tree_1.jpg)

> Input: root = [5,3,6,2,4,null,7], k = 9
>
> Output: true

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/09/21/sum_tree_2.jpg)

> Input: root = [5,3,6,2,4,null,7], k = 28
>
> Output: false

**Constraints:**

- The number of nodes in the tree is in the range `[1, 10^4]`.
- `-10^4 <= Node.val <= 10^4`
- `root` is guaranteed to be a **valid** binary search tree.
- `-10^5 <= k <= 10^5`

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ `root` å’Œä¸€ä¸ªç›®æ ‡ç»“æœ `k`ï¼Œå¦‚æœäºŒå‰æœç´¢æ ‘ä¸­å­˜åœ¨ä¸¤ä¸ªå…ƒç´ ä¸”å®ƒä»¬çš„å’Œç­‰äºç»™å®šçš„ç›®æ ‡ç»“æœï¼Œåˆ™è¿”å› `true`ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2020/09/21/sum_tree_1.jpg)

> **è¾“å…¥:** root = [5,3,6,2,4,null,7], k = 9
>
> **è¾“å‡º:** true

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2020/09/21/sum_tree_2.jpg)

> **è¾“å…¥:** root = [5,3,6,2,4,null,7], k = 28
>
> **è¾“å‡º:** false

**æç¤º:**

- äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ `[1, 10^4]`.
- `-10^4 <= Node.val <= 10^4`
- é¢˜ç›®æ•°æ®ä¿è¯ï¼Œè¾“å…¥çš„ `root` æ˜¯ä¸€æ£µ **æœ‰æ•ˆ** çš„äºŒå‰æœç´¢æ ‘
- `-10^5 <= k <= 10^5`

## è§£é¢˜æ€è·¯

è¿™é“é¢˜ç›®è¦æ±‚åœ¨äºŒå‰æ ‘ä¸­æ‰¾åˆ°æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå®ƒä»¬çš„å€¼ä¹‹å’Œç­‰äºç»™å®šçš„æ•°å€¼ `k`ã€‚å¯ä»¥ä½¿ç”¨ **æ·±åº¦ä¼˜å…ˆæœç´¢ (DFS)** é…åˆ **å“ˆå¸Œé›†åˆ (Set)** æ¥é«˜æ•ˆåœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

1. åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„å“ˆå¸Œé›†åˆ `set`ï¼Œç”¨äºå­˜å‚¨å·²è®¿é—®çš„èŠ‚ç‚¹å€¼ã€‚
2. ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰éå†æ•´æ£µæ ‘ã€‚é€šè¿‡é€’å½’è®¿é—®æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶åœ¨æ¯ä¸ªèŠ‚ç‚¹å¤„æ£€æŸ¥æ˜¯å¦èƒ½å¤Ÿæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ä¸¤ä¸ªå€¼ã€‚

   - ç”±äºéœ€è¦æŸ¥æ‰¾ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ä¹‹å’Œç­‰äº `k`ï¼Œå½“è®¿é—®åˆ°ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œæ£€æŸ¥ `k - node.val` æ˜¯å¦å·²ç»å‡ºç°åœ¨å“ˆå¸Œé›†åˆä¸­ã€‚
   - å¦‚æœ `k - node.val` å·²ç»åœ¨å“ˆå¸Œé›†åˆä¸­ï¼Œè¯´æ˜æ‰¾åˆ°äº†æ»¡è¶³æ¡ä»¶çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå®ƒä»¬çš„å€¼ä¹‹å’Œç­‰äº `k`ï¼Œæ­¤æ—¶è¿”å› `true`ã€‚
   - å¦åˆ™ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„å€¼åŠ å…¥é›†åˆä¸­ï¼Œç»§ç»­éå†å…¶å·¦å­æ ‘å’Œå³å­æ ‘ã€‚

3. ä»æ ¹èŠ‚ç‚¹è°ƒç”¨ `dfs`ï¼Œå¦‚æœæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹ï¼Œåˆ™è¿”å› `true`ï¼Œå¦åˆ™è¿”å› `false`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œæ¯ä¸ªèŠ‚ç‚¹åªè¢«è®¿é—®ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå“ˆå¸Œé›†åˆéœ€è¦å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œæœ€åæƒ…å†µä¸‹è¦å­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹çš„æ²»ã€‚

## ä»£ç 

```javascript
/**
 * @param {TreeNode} root
 * @param {number} k
 * @return {boolean}
 */
var findTarget = function (root, k) {
	let set = new Set(); // ç”¨äºå­˜å‚¨å·²è®¿é—®çš„èŠ‚ç‚¹å€¼

	// æ·±åº¦ä¼˜å…ˆæœç´¢ (DFS) å‡½æ•°
	const dfs = (node) => {
		if (!node) return false; // å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œè¿”å› false
		if (set.has(k - node.val)) {
			// å¦‚æœå­˜åœ¨ä¸€ä¸ªå·²è®¿é—®çš„å€¼ï¼Œä½¿å¾— k - node.val == ç›®æ ‡å€¼
			return true;
		}
		set.add(node.val); // å°†å½“å‰èŠ‚ç‚¹çš„å€¼åŠ å…¥é›†åˆ
		// é€’å½’éå†å·¦å­æ ‘æˆ–å³å­æ ‘
		return dfs(node.left) || dfs(node.right);
	};

	return dfs(root); // ä»æ ¹èŠ‚ç‚¹å¼€å§‹è¿›è¡Œ DFS
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1 | ä¸¤æ•°ä¹‹å’Œ | [[âœ“]](/problem/0001.md) |  [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/two-sum) [ğŸ”—](https://leetcode.com/problems/two-sum) |
| 167 | ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„ | [[âœ“]](/problem/0167.md) |  [`æ•°ç»„`](/tag/array.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted) [ğŸ”—](https://leetcode.com/problems/two-sum-ii-input-array-is-sorted) |
| 170 | ä¸¤æ•°ä¹‹å’Œ III - æ•°æ®ç»“æ„è®¾è®¡ ğŸ”’ | [[âœ“]](/problem/0170.md) |  [`è®¾è®¡`](/tag/design.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) `2+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/two-sum-iii-data-structure-design) [ğŸ”—](https://leetcode.com/problems/two-sum-iii-data-structure-design) |
| 1214 | æŸ¥æ‰¾ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¹‹å’Œ ğŸ”’ |  |  [`æ ˆ`](/tag/stack.md) [`æ ‘`](/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) `4+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/two-sum-bsts) [ğŸ”—](https://leetcode.com/problems/two-sum-bsts) |