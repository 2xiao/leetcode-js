---
title: 1252. å¥‡æ•°å€¼å•å…ƒæ ¼çš„æ•°ç›®
description: LeetCode 1252. å¥‡æ•°å€¼å•å…ƒæ ¼çš„æ•°ç›®é¢˜è§£ï¼ŒCells with Odd Values in a Matrixï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1252. å¥‡æ•°å€¼å•å…ƒæ ¼çš„æ•°ç›®
  - å¥‡æ•°å€¼å•å…ƒæ ¼çš„æ•°ç›®
  - Cells with Odd Values in a Matrix
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - æ•°å­¦
  - æ¨¡æ‹Ÿ
---

# 1252. å¥‡æ•°å€¼å•å…ƒæ ¼çš„æ•°ç›®

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`æ¨¡æ‹Ÿ`](/tag/simulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/cells-with-odd-values-in-a-matrix) [`LeetCode`](https://leetcode.com/problems/cells-with-odd-values-in-a-matrix)

## é¢˜ç›®

There is an `m x n` matrix that is initialized to all `0`'s. There is also a
2D array `indices` where each `indices[i] = [ri, ci]` represents a **0-indexed
location** to perform some increment operations on the matrix.

For each location `indices[i]`, do **both** of the following:

1. Increment **all** the cells on row `ri`.
2. Increment **all** the cells on column `ci`.

Given `m`, `n`, and `indices`, return _the **number of odd-valued cells** in
the matrix after applying the increment to all locations in _`indices`.

**Example 1:**

![](https://assets.leetcode.com/uploads/2019/10/30/e1.png)

> Input: m = 2, n = 3, indices = [[0,1],[1,1]]
>
> Output: 6
>
> Explanation: Initial matrix = [[0,0,0],[0,0,0]].
>
> After applying first increment it becomes [[1,2,1],[0,1,0]].
>
> The final matrix is [[1,3,1],[1,3,1]], which contains 6 odd numbers.

**Example 2:**

![](https://assets.leetcode.com/uploads/2019/10/30/e2.png)

> Input: m = 2, n = 2, indices = [[1,1],[0,0]]
>
> Output: 0
>
> Explanation: Final matrix = [[2,2],[2,2]]. There are no odd numbers in the final matrix.

**Constraints:**

- `1 <= m, n <= 50`
- `1 <= indices.length <= 100`
- `0 <= ri < m`
- `0 <= ci < n`

**Follow up:** Could you solve this in `O(n + m + indices.length)` time with
only `O(n + m)` extra space?

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª `m x n` çš„çŸ©é˜µï¼Œæœ€å¼€å§‹çš„æ—¶å€™ï¼Œæ¯ä¸ªå•å…ƒæ ¼ä¸­çš„å€¼éƒ½æ˜¯ `0`ã€‚

å¦æœ‰ä¸€ä¸ªäºŒç»´ç´¢å¼•æ•°ç»„ `indices`ï¼Œ`indices[i] = [ri, ci]` æŒ‡å‘çŸ©é˜µä¸­çš„æŸä¸ªä½ç½®ï¼Œå…¶ä¸­ `ri` å’Œ `ci`
åˆ†åˆ«è¡¨ç¤ºæŒ‡å®šçš„è¡Œå’Œåˆ—ï¼ˆ**ä»`0` å¼€å§‹ç¼–å·**ï¼‰ã€‚

å¯¹ `indices[i]` æ‰€æŒ‡å‘çš„æ¯ä¸ªä½ç½®ï¼Œåº”åŒæ—¶æ‰§è¡Œä¸‹è¿°å¢é‡æ“ä½œï¼š

1. `ri` è¡Œä¸Šçš„æ‰€æœ‰å•å…ƒæ ¼ï¼ŒåŠ  `1` ã€‚
2. `ci` åˆ—ä¸Šçš„æ‰€æœ‰å•å…ƒæ ¼ï¼ŒåŠ  `1` ã€‚

ç»™ä½  `m`ã€`n` å’Œ `indices` ã€‚è¯·ä½ åœ¨æ‰§è¡Œå®Œæ‰€æœ‰ `indices` æŒ‡å®šçš„å¢é‡æ“ä½œåï¼Œè¿”å›çŸ©é˜µä¸­ **å¥‡æ•°å€¼å•å…ƒæ ¼** çš„æ•°ç›®ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2019/11/06/e1.png)

> **è¾“å…¥ï¼š** m = 2, n = 3, indices = [[0,1],[1,1]]
>
> **è¾“å‡ºï¼š** 6
>
> **è§£é‡Šï¼š** æœ€å¼€å§‹çš„çŸ©é˜µæ˜¯ [[0,0,0],[0,0,0]]ã€‚
>
> ç¬¬ä¸€æ¬¡å¢é‡æ“ä½œåå¾—åˆ° [[1,2,1],[0,1,0]]ã€‚
>
> æœ€åçš„çŸ©é˜µæ˜¯ [[1,3,1],[1,3,1]]ï¼Œé‡Œé¢æœ‰ 6 ä¸ªå¥‡æ•°ã€‚

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2019/11/06/e2.png)

> **è¾“å…¥ï¼š** m = 2, n = 2, indices = [[1,1],[0,0]]
>
> **è¾“å‡ºï¼š** 0
>
> **è§£é‡Šï¼š** æœ€åçš„çŸ©é˜µæ˜¯ [[2,2],[2,2]]ï¼Œé‡Œé¢æ²¡æœ‰å¥‡æ•°ã€‚

**æç¤ºï¼š**

- `1 <= m, n <= 50`
- `1 <= indices.length <= 100`
- `0 <= ri < m`
- `0 <= ci < n`

**è¿›é˜¶ï¼š** ä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º `O(n + m + indices.length)` ä¸”ä»…ç”¨ `O(n + m)`
é¢å¤–ç©ºé—´çš„ç®—æ³•æ¥è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ

## è§£é¢˜æ€è·¯

1. **è¡Œå’Œåˆ—çš„å½±å“åˆ†ç¦»ï¼š**

   - æ¯æ¬¡å¯¹ `r` è¡ŒåŠ  1 çš„æ“ä½œï¼Œåªä¼šå¢åŠ è¯¥è¡Œå¯¹åº”å…ƒç´ çš„å€¼ï¼›
   - æ¯æ¬¡å¯¹ `c` åˆ—åŠ  1 çš„æ“ä½œï¼Œåªä¼šå¢åŠ è¯¥åˆ—å¯¹åº”å…ƒç´ çš„å€¼ã€‚
   - æ‰€ä»¥ï¼Œå¯ä»¥åˆ†åˆ«ç»Ÿè®¡è¡Œå’Œåˆ—çš„å¢é‡ï¼Œå¹¶é€šè¿‡æ±‚å’Œæ¥ç¡®å®šæœ€ç»ˆå€¼æ˜¯å¦ä¸ºå¥‡æ•°ã€‚

2. **å¥‡å¶æ€§åˆ¤æ–­ï¼š**

   - ä¸€ä¸ªçŸ©é˜µå…ƒç´ æ˜¯å¦ä¸ºå¥‡æ•°ï¼Œä»…å–å†³äºå…¶æ‰€åœ¨è¡Œå’Œåˆ—çš„å¢é‡å¥‡å¶æ€§ã€‚
   - å¦‚æœæŸä¸ªå…ƒç´ æ‰€åœ¨è¡Œçš„å¢é‡ `row[i]` å’Œåˆ—çš„å¢é‡ `col[j]` ä¹‹å’Œæ˜¯å¥‡æ•°ï¼Œåˆ™è¯¥å…ƒç´ æ˜¯å¥‡æ•°ã€‚
   - è¡Œå¥‡æ•°ä¸åˆ—å¶æ•°äº¤å‰çš„å…ƒç´ ä¸ºå¥‡æ•°ã€‚
   - è¡Œå¶æ•°ä¸åˆ—å¥‡æ•°äº¤å‰çš„å…ƒç´ ä¸ºå¥‡æ•°ã€‚

3. **å…¬å¼åŒ–ç»“æœï¼š**

   - è®¾ `oddRow` å’Œ `evenRow` åˆ†åˆ«ä¸ºå¥‡æ•°è¡Œå’Œå¶æ•°è¡Œçš„æ•°é‡ï¼›
   - è®¾ `oddCol` å’Œ `evenCol` åˆ†åˆ«ä¸ºå¥‡æ•°åˆ—å’Œå¶æ•°åˆ—çš„æ•°é‡ï¼›
   - çŸ©é˜µä¸­å¥‡æ•°å€¼å…ƒç´ çš„æ•°é‡ä¸ºï¼š`oddRow * evenCol + evenRow * oddCol`

4. **å®ç°æ­¥éª¤ï¼š**

   - åˆå§‹åŒ–ä¸¤ä¸ªæ•°ç»„ `row` å’Œ `col`ï¼Œåˆ†åˆ«è®°å½•æ¯è¡Œå’Œæ¯åˆ—çš„å¢é‡ï¼›
   - éå† `indices`ï¼Œæ›´æ–° `row` å’Œ `col` çš„è®¡æ•°ï¼›
   - éå† `row` å’Œ `col`ï¼Œç»Ÿè®¡å¥‡å¶è¡Œå’Œåˆ—çš„æ•°é‡ï¼›
   - æ ¹æ®å…¬å¼è®¡ç®—å¥‡æ•°å€¼å…ƒç´ çš„æ€»æ•°ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(k + m + n)`ï¼Œ
  - éå† `indices` æ›´æ–° `row` å’Œ `col`ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(k)`ï¼Œå…¶ä¸­ `k` æ˜¯ `indices` çš„é•¿åº¦ã€‚
  - åˆ†åˆ«éå† `row` å’Œ `col` ç»Ÿè®¡å¥‡å¶è¡Œå’Œåˆ—ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(m + n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(m + n)`ï¼Œ`row` å’Œ `col` çš„å¤§å°åˆ†åˆ«ä¸º `O(m)` å’Œ `O(n)`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} m
 * @param {number} n
 * @param {number[][]} indices
 * @return {number}
 */
var oddCells = function (m, n, indices) {
	let row = new Array(m).fill(0);
	let col = new Array(n).fill(0);

	// æ›´æ–°è¡Œå’Œåˆ—çš„å¢é‡
	for (let [r, c] of indices) {
		row[r]++;
		col[c]++;
	}

	// ç»Ÿè®¡å¥‡å¶è¡Œå’Œåˆ—çš„æ•°é‡
	let oddRow = 0,
		evenRow = 0;
	for (let num of row) {
		if (num % 2 === 0) {
			evenRow++;
		} else {
			oddRow++;
		}
	}

	let oddCol = 0,
		evenCol = 0;
	for (let num of col) {
		if (num % 2 === 0) {
			evenCol++;
		} else {
			oddCol++;
		}
	}

	// æ ¹æ®å…¬å¼è®¡ç®—å¥‡æ•°å€¼å…ƒç´ æ€»æ•°
	return oddRow * evenCol + evenRow * oddCol;
};
```
