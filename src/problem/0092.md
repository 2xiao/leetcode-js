---
title: 92. åè½¬é“¾è¡¨ II
description: LeetCode,92. åè½¬é“¾è¡¨ II,åè½¬é“¾è¡¨ II,Reverse Linked List II,è§£é¢˜æ€è·¯,é“¾è¡¨
keywords:
  - LeetCode
  - 92. åè½¬é“¾è¡¨ II
  - åè½¬é“¾è¡¨ II
  - Reverse Linked List II
  - è§£é¢˜æ€è·¯
  - é“¾è¡¨
---

# 92. åè½¬é“¾è¡¨ II

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`é“¾è¡¨`](/tag/linked-list.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/reverse-linked-list-ii) [`LeetCode`](https://leetcode.com/problems/reverse-linked-list-ii)

## é¢˜ç›®

Given the `head` of a singly linked list and two integers `left` and `right`
where `left <= right`, reverse the nodes of the list from position `left` to
position `right`, and return _the reversed list_.

**Example 1:**

![](https://assets.leetcode.com/uploads/2021/02/19/rev2ex2.jpg)

> Input: head = [1,2,3,4,5], left = 2, right = 4
>
> Output: [1,4,3,2,5]

**Example 2:**

> Input: head = [5], left = 1, right = 1
>
> Output: [5]

**Constraints:**

- The number of nodes in the list is `n`.
- `1 <= n <= 500`
- `-500 <= Node.val <= 500`
- `1 <= left <= right <= n`

**Follow up:** Could you do it in one pass?

## é¢˜ç›®å¤§æ„

ç»™å®š `2` ä¸ªé“¾è¡¨ä¸­ç»“ç‚¹çš„ä½ç½® `m`, `n`ï¼Œåè½¬è¿™ä¸ªä¸¤ä¸ªä½ç½®åŒºé—´å†…çš„æ‰€æœ‰ç»“ç‚¹ã€‚

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šè¿­ä»£æ³•

- ç”±äºæœ‰å¯èƒ½æ•´ä¸ªé“¾è¡¨éƒ½è¢«åè½¬ï¼Œæ‰€ä»¥æ„é€ ä¸€ä¸ªæ–°çš„å¤´ç»“ç‚¹æŒ‡å‘å½“å‰çš„å¤´ï¼›
- æ‰¾åˆ°ç¬¬ä¸€ä¸ªéœ€è¦åè½¬çš„ç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹ `p`ï¼Œä»è¿™ä¸ªç»“ç‚¹å¼€å§‹ï¼Œä¾æ¬¡æŠŠåé¢çš„ç»“ç‚¹ç”¨â€œå¤´æ’â€æ³•ï¼Œæ’å…¥åˆ° `p` ç»“ç‚¹çš„åé¢ï¼›
- å¾ªç¯æ¬¡æ•°ç”¨ `n-m` æ¥æ§åˆ¶ã€‚

---

### æ€è·¯äºŒï¼šé€’å½’æ³•

ä½¿ç”¨é€’å½’æ–¹æ³•æ¥è§£å†³è¿™é“é¢˜çš„å…³é”®åœ¨äºå¦‚ä½•é€’å½’åœ°åè½¬é“¾è¡¨ä¸­çš„æŸä¸ªå­é“¾è¡¨ï¼Œå¹¶åˆ©ç”¨è¾…åŠ©å˜é‡ `successor` ä¿å­˜åè½¬åçš„é“¾è¡¨è¿æ¥éƒ¨åˆ†ã€‚

- å®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•° `reverseN(node, n)`ï¼Œç”¨äºåè½¬ä»¥ `node` ä¸ºèµ·ç‚¹çš„å‰ `n` ä¸ªèŠ‚ç‚¹ï¼Œå¹¶è¿”å›åè½¬åçš„æ–°å¤´èŠ‚ç‚¹ã€‚
- å½“ `n === 1` æ—¶ï¼Œè¯´æ˜é€’å½’åˆ°è¾¾äº†éœ€è¦åè½¬çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ­¤æ—¶ä¿å­˜ `node.next` ä¸º `successor`ï¼Œä»¥ä¾¿åç»­è¿æ¥åè½¬åçš„é“¾è¡¨ç‰‡æ®µã€‚
- é€šè¿‡é€’å½’è°ƒç”¨ `reverseN(node.next, n - 1)`ï¼Œé€æ­¥åè½¬å‰ `n` ä¸ªèŠ‚ç‚¹ï¼Œå¹¶å°†åè½¬åçš„é“¾è¡¨ä¸ `successor` ç›¸è¿æ¥ã€‚
- å¦‚æœ `left > 1`ï¼Œåˆ™é€šè¿‡é€’å½’è°ƒç”¨ `reverseBetween(head.next, left - 1, right - 1)`ï¼Œé€æ­¥éå†åˆ°æŒ‡å®šçš„ `left` ä½ç½®ã€‚
- å½“ `left === 1` æ—¶ï¼Œç›´æ¥è¿”å›åè½¬åçš„å¤´èŠ‚ç‚¹ã€‚
- å¦åˆ™ï¼Œå°†åŸé“¾è¡¨çš„ `head.next` æŒ‡å‘åè½¬åçš„å­é“¾è¡¨å¤´èŠ‚ç‚¹ã€‚

## ä»£ç 

::: code-tabs
@tab è¿­ä»£æ³•

```javascript
/**
 * @param {ListNode} head
 * @param {number} left
 * @param {number} right
 * @return {ListNode}
 */
var reverseBetween = function (head, left, right) {
	if (!head || left === right) return head;

	let res = new ListNode(0, head);
	let prev = res;

	// ç§»åŠ¨prevæŒ‡é’ˆï¼Œç›´è‡³æŒ‡å‘left - 1
	for (let i = 0; i < left - 1; i++) {
		prev = prev.next;
	}

	let cur = prev.next;

	// ä¸æ–­åœ°å°† cur.next æ’å…¥åˆ° prev.next
	for (let i = 0; i < right - left; i++) {
		let temp = cur.next;
		cur.next = temp.next;
		temp.next = prev.next;
		prev.next = temp;
	}

	return res.next;
};
```

@tab é€’å½’æ³•

```javascript
var reverseBetween = function (head, left, right) {
	// è®°å½• right ä¹‹åçš„èŠ‚ç‚¹
	let successor = null;

	// é€’å½’åè½¬ä» left å¼€å§‹çš„ right ä¸ªèŠ‚ç‚¹
	const reverseN = (node, n) => {
		if (n === 1) {
			// è®°å½•ç¬¬ n ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³ right+1 çš„èŠ‚ç‚¹
			successor = node.next;
			return node;
		}
		// é€’å½’åè½¬å‰ n-1 ä¸ªèŠ‚ç‚¹
		const last = reverseN(node.next, n - 1);
		// è°ƒæ•´æŒ‡é’ˆ
		node.next.next = node;
		node.next = successor;
		return last;
	};

	// å¦‚æœ left === 1ï¼Œè¯´æ˜ä»å¤´å¼€å§‹åè½¬
	if (left === 1) {
		return reverseN(head, right);
	}

	// å¦åˆ™ï¼Œé€’å½’ç§»åŠ¨åˆ° left ä½ç½®ï¼Œå¤„ç†åŒºé—´åè½¬
	head.next = reverseBetween(head.next, left - 1, right - 1);
	return head;
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 206 | åè½¬é“¾è¡¨ | [[âœ“]](/problem/0206.md) |  [`é€’å½’`](/tag/recursion.md) [`é“¾è¡¨`](/tag/linked-list.md) | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/reverse-linked-list) [ğŸ”—](https://leetcode.com/problems/reverse-linked-list) |