---
title: 463. å²›å±¿çš„å‘¨é•¿
description: LeetCode 463. å²›å±¿çš„å‘¨é•¿é¢˜è§£ï¼ŒIsland Perimeterï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 463. å²›å±¿çš„å‘¨é•¿
  - å²›å±¿çš„å‘¨é•¿
  - Island Perimeter
  - è§£é¢˜æ€è·¯
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - æ•°ç»„
  - çŸ©é˜µ
---

# 463. å²›å±¿çš„å‘¨é•¿

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/island-perimeter) [`LeetCode`](https://leetcode.com/problems/island-perimeter)

## é¢˜ç›®

You are given `row x col` `grid` representing a map where `grid[i][j] = 1`
represents land and `grid[i][j] = 0` represents water.

Grid cells are connected **horizontally/vertically** (not diagonally). The
`grid` is completely surrounded by water, and there is exactly one island
(i.e., one or more connected land cells).

The island doesn't have "lakes", meaning the water inside isn't connected to
the water around the island. One cell is a square with side length 1. The grid
is rectangular, width and height don't exceed 100. Determine the perimeter of
the island.

**Example 1:**

![](https://assets.leetcode.com/uploads/2018/10/12/island.png)

> Input: grid = [[0,1,0,0],[1,1,1,0],[0,1,0,0],[1,1,0,0]]
>
> Output: 16
>
> Explanation: The perimeter is the 16 yellow stripes in the image above.

**Example 2:**

> Input: grid = [[1]]
>
> Output: 4

**Example 3:**

> Input: grid = [[1,0]]
>
> Output: 4

**Constraints:**

- `row == grid.length`
- `col == grid[i].length`
- `1 <= row, col <= 100`
- `grid[i][j]` is `0` or `1`.
- There is exactly one island in `grid`.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ª `row x col` çš„äºŒç»´ç½‘æ ¼åœ°å›¾ `grid` ï¼Œå…¶ä¸­ï¼š`grid[i][j] = 1` è¡¨ç¤ºé™†åœ°ï¼Œ `grid[i][j] = 0`
è¡¨ç¤ºæ°´åŸŸã€‚

ç½‘æ ¼ä¸­çš„æ ¼å­ **æ°´å¹³å’Œå‚ç›´**
æ–¹å‘ç›¸è¿ï¼ˆå¯¹è§’çº¿æ–¹å‘ä¸ç›¸è¿ï¼‰ã€‚æ•´ä¸ªç½‘æ ¼è¢«æ°´å®Œå…¨åŒ…å›´ï¼Œä½†å…¶ä¸­æ°å¥½æœ‰ä¸€ä¸ªå²›å±¿ï¼ˆæˆ–è€…è¯´ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ç¤ºé™†åœ°çš„æ ¼å­ç›¸è¿ç»„æˆçš„å²›å±¿ï¼‰ã€‚

å²›å±¿ä¸­æ²¡æœ‰â€œæ¹–â€ï¼ˆâ€œæ¹–â€ æŒ‡æ°´åŸŸåœ¨å²›å±¿å†…éƒ¨ä¸”ä¸å’Œå²›å±¿å‘¨å›´çš„æ°´ç›¸è¿ï¼‰ã€‚æ ¼å­æ˜¯è¾¹é•¿ä¸º 1 çš„æ­£æ–¹å½¢ã€‚ç½‘æ ¼ä¸ºé•¿æ–¹å½¢ï¼Œä¸”å®½åº¦å’Œé«˜åº¦å‡ä¸è¶…è¿‡ 100
ã€‚è®¡ç®—è¿™ä¸ªå²›å±¿çš„å‘¨é•¿ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-
upload/uploads/2018/10/12/island.png)

> **è¾“å…¥ï¼š** grid = [[0,1,0,0],[1,1,1,0],[0,1,0,0],[1,1,0,0]]
>
> **è¾“å‡ºï¼š** 16
>
> **è§£é‡Šï¼š** å®ƒçš„å‘¨é•¿æ˜¯ä¸Šé¢å›¾ç‰‡ä¸­çš„ 16 ä¸ªé»„è‰²çš„è¾¹

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** grid = [[1]]
>
> **è¾“å‡ºï¼š** 4

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** grid = [[1,0]]
>
> **è¾“å‡ºï¼š** 4

**æç¤ºï¼š**

- `row == grid.length`
- `col == grid[i].length`
- `1 <= row, col <= 100`
- `grid[i][j]` ä¸º `0` æˆ– `1`

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šéå†çŸ©é˜µ

è¦è®¡ç®—å²›å±¿çš„**å‘¨é•¿**ï¼Œå¯ä»¥éå†æ•´ä¸ªç½‘æ ¼ï¼Œå¯¹äºæ¯ä¸ªé™†åœ°æ ¼å­ `grid[i][j] == 1`ï¼Œæ£€æŸ¥å…¶**å››ä¸ªç›¸é‚»æ–¹å‘**çš„æ ¼å­ï¼š

1. å¦‚æœç›¸é‚»çš„æ ¼å­æ˜¯**æ°´åŸŸ**æˆ–è¶…å‡ºç½‘æ ¼èŒƒå›´ï¼Œåˆ™å½“å‰æ ¼å­çš„å‘¨é•¿è´¡çŒ®å¢åŠ  `1`ã€‚
2. å¦‚æœç›¸é‚»çš„æ ¼å­æ˜¯é™†åœ°ï¼Œåˆ™ä¸å¢åŠ è´¡çŒ®ã€‚

é€šè¿‡éå†æ•´ä¸ªç½‘æ ¼å¹¶æŒ‰ç…§ä¸Šè¿°è§„åˆ™è®¡ç®—å‘¨é•¿ï¼Œå³å¯å¾—åˆ°æœ€ç»ˆç»“æœã€‚

1. **åˆå§‹åŒ–** `perimeter` å˜é‡ç”¨äºå­˜å‚¨å‘¨é•¿ã€‚
2. éå†æ•´ä¸ªç½‘æ ¼ï¼š
   - é‡åˆ° `grid[i][j] == 1` æ—¶ï¼Œæ£€æŸ¥å½“å‰æ ¼å­çš„**å››ä¸ªæ–¹å‘**ï¼ˆä¸Šã€ä¸‹ã€å·¦ã€å³ï¼‰ã€‚
   - å¦‚æœæŸä¸ªæ–¹å‘å‡ºç•Œæˆ–æ˜¯æ°´åŸŸï¼Œåˆ™ `perimeter` åŠ  `1`ã€‚
3. éå†ç»“æŸï¼Œè¿”å› `perimeter`ã€‚

### æ—¶é—´å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n * m)`ï¼Œå…¶ä¸­ `n` å’Œ `m` åˆ†åˆ«æ˜¯ç½‘æ ¼çš„è¡Œæ•°å’Œåˆ—æ•°ï¼Œå› ä¸ºéœ€è¦éå†æ•´ä¸ªç½‘æ ¼ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œé™¤äº†è¾“å…¥ç½‘æ ¼ï¼Œæ²¡æœ‰ä½¿ç”¨é¢å¤–çš„ç©ºé—´ã€‚

---

### æ€è·¯äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ (DFS)

ç”±äºç½‘æ ¼ä¸­åªæœ‰å•ä¸ªè¿é€šå²›å±¿ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ **DFSï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰** æˆ– **BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰** æ¥éå†å²›å±¿ï¼Œè€Œä¸æ˜¯ç®€å•çš„ç½‘æ ¼éå†ï¼Œä»¥å‡å°‘ä¸å¿…è¦çš„ç½‘æ ¼éå†æ¬¡æ•°ã€‚

1. **`dfs` å‡½æ•°**ï¼š

   - å¦‚æœå½“å‰æ ¼å­è¶Šç•Œæˆ–æ˜¯æ°´åŸŸï¼Œå‘¨é•¿è´¡çŒ® `1`ã€‚
   - å¦‚æœå½“å‰æ ¼å­å·²è®¿é—®è¿‡ï¼ˆæ ‡è®°ä¸º `-1`ï¼‰ï¼Œåˆ™ä¸è´¡çŒ®å‘¨é•¿ï¼Œè¿”å› `0`ã€‚
   - å°†å½“å‰æ ¼å­æ ‡è®°ä¸ºå·²è®¿é—®ã€‚
   - é€’å½’åœ°å¯¹å››ä¸ªç›¸é‚»çš„æ ¼å­è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå°†è¿”å›çš„è´¡çŒ®å‘¨é•¿ç´¯åŠ ã€‚

2. **éå†ç½‘æ ¼**ï¼š

   - éå†æ•´ä¸ªç½‘æ ¼ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªé™†åœ°æ ¼å­ `grid[i][j] === 1`ï¼Œä»è¯¥ä½ç½®å¼€å§‹æ‰§è¡Œ DFSã€‚
   - ä¸€æ—¦æ‰¾åˆ°ä¸€ä¸ªé™†åœ°æ ¼å­å¹¶å¯åŠ¨ DFS ä¹‹åï¼Œå°±å¯ä»¥æå‰ç»ˆæ­¢ç½‘æ ¼éå†ï¼Œå› ä¸ºé¢˜ç›®ä¸­åªæœ‰ä¸€ä¸ªå²›å±¿ã€‚
   - ç”±äºå²›å±¿æ˜¯è¿é€šçš„ï¼ŒDFS ä¼šè®¿é—®æ‰€æœ‰çš„é™†åœ°æ ¼å­ï¼Œè®¡ç®—å‡ºæ€»å‘¨é•¿ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n * m)`ï¼Œå…¶ä¸­ `n` å’Œ `m` åˆ†åˆ«æ˜¯ç½‘æ ¼çš„è¡Œæ•°å’Œåˆ—æ•°ï¼Œæ¯ä¸ªé™†åœ°æ ¼å­æœ€å¤šè¢«è®¿é—®ä¸€æ¬¡ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œæ ˆçš„æœ€å¤§æ·±åº¦ä¸ºå²›å±¿ä¸­çš„é™†åœ°æ ¼å­æ•°é‡ã€‚

## ä»£ç 

::: code-tabs
@tab éå†çŸ©é˜µ

```javascript
/**
 * @param {number[][]} grid
 * @return {number}
 */
var islandPerimeter = function (grid) {
	let perimeter = 0;
	const rows = grid.length;
	const cols = grid[0].length;

	for (let i = 0; i < rows; i++) {
		for (let j = 0; j < cols; j++) {
			if (grid[i][j] === 1) {
				// ä¸Š
				if (i === 0 || grid[i - 1][j] === 0) perimeter++;
				// ä¸‹
				if (i === rows - 1 || grid[i + 1][j] === 0) perimeter++;
				// å·¦
				if (j === 0 || grid[i][j - 1] === 0) perimeter++;
				// å³
				if (j === cols - 1 || grid[i][j + 1] === 0) perimeter++;
			}
		}
	}

	return perimeter;
};
```

@tab æ·±åº¦ä¼˜å…ˆæœç´¢ (DFS)

```javascript
/**
 * @param {number[][]} grid
 * @return {number}
 */
var islandPerimeter = function (grid) {
	const rows = grid.length;
	const cols = grid[0].length;
	let perimeter = 0;

	// å®šä¹‰DFSå‡½æ•°
	const dfs = (i, j) => {
		// è¾¹ç•Œæ¡ä»¶ï¼šè¶Šç•Œæˆ–è€…é‡åˆ°æ°´åŸŸæ—¶ï¼Œè´¡çŒ®1
		if (i < 0 || i >= rows || j < 0 || j >= cols || grid[i][j] === 0) {
			return 1;
		}
		// å¦‚æœå·²ç»è®¿é—®è¿‡ï¼Œç›´æ¥è¿”å›0
		if (grid[i][j] === -1) {
			return 0;
		}

		// æ ‡è®°ä¸ºå·²è®¿é—®
		grid[i][j] = -1;

		// é€’å½’æ£€æŸ¥å››ä¸ªæ–¹å‘ï¼Œå¹¶ç´¯åŠ å‘¨é•¿
		let count = 0;
		count += dfs(i - 1, j); // ä¸Š
		count += dfs(i + 1, j); // ä¸‹
		count += dfs(i, j - 1); // å·¦
		count += dfs(i, j + 1); // å³
		return count;
	};

	// éå†ç½‘æ ¼ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªé™†åœ°å¼€å§‹DFS
	for (let i = 0; i < rows; i++) {
		for (let j = 0; j < cols; j++) {
			if (grid[i][j] === 1) {
				// æ‰§è¡ŒDFSå¹¶è¿”å›å‘¨é•¿
				return dfs(i, j);
			}
		}
	}

	return 0;
};
```

:::

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 695 | å²›å±¿çš„æœ€å¤§é¢ç§¯ | [[âœ“]](/problem/0695.md) |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/tag/union-find.md) `2+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/max-area-of-island) [ğŸ”—](https://leetcode.com/problems/max-area-of-island) |
| 733 | å›¾åƒæ¸²æŸ“ | [[âœ“]](/problem/0733.md) |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) `1+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/flood-fill) [ğŸ”—](https://leetcode.com/problems/flood-fill) |
| 1034 | è¾¹ç•Œç€è‰² |  |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) `1+` | ğŸŸ  | [ğŸ€„ï¸](https://leetcode.cn/problems/coloring-a-border) [ğŸ”—](https://leetcode.com/problems/coloring-a-border) |