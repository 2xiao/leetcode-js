---
title: 456. 132 æ¨¡å¼
description: LeetCode 456. 132 æ¨¡å¼é¢˜è§£ï¼Œ132 Patternï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 456. 132 æ¨¡å¼
  - 132 æ¨¡å¼
  - 132 Pattern
  - è§£é¢˜æ€è·¯
  - æ ˆ
  - æ•°ç»„
  - äºŒåˆ†æŸ¥æ‰¾
  - æœ‰åºé›†åˆ
  - å•è°ƒæ ˆ
---

# 456. 132 æ¨¡å¼

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/tag/stack.md) [`æ•°ç»„`](/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`æœ‰åºé›†åˆ`](/tag/ordered-set.md) [`å•è°ƒæ ˆ`](/tag/monotonic-stack.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/132-pattern) [`LeetCode`](https://leetcode.com/problems/132-pattern)

## é¢˜ç›®

Given an array of `n` integers `nums`, a **132 pattern** is a subsequence of
three integers `nums[i]`, `nums[j]` and `nums[k]` such that `i < j < k` and
`nums[i] < nums[k] < nums[j]`.

Return `true` _if there is a**132 pattern** in_ `nums` _, otherwise, return_`false` _._

**Example 1:**

> Input: nums = [1,2,3,4]
>
> Output: false
>
> Explanation: There is no 132 pattern in the sequence.

**Example 2:**

> Input: nums = [3,1,4,2]
>
> Output: true
>
> Explanation: There is a 132 pattern in the sequence: [1, 4, 2].

**Example 3:**

> Input: nums = [-1,3,2,0]
>
> Output: true
>
> Explanation: There are three 132 patterns in the sequence: [-1, 3, 2], [-1, 3, 0] and [-1, 2, 0].

**Constraints:**

- `n == nums.length`
- `1 <= n <= 2 * 10^5`
- `-10^9 <= nums[i] <= 10^9`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ•°ç»„ä¸­å…±æœ‰ `n` ä¸ªæ•´æ•°ã€‚**132 æ¨¡å¼çš„å­åºåˆ—** ç”±ä¸‰ä¸ªæ•´æ•° `nums[i]`ã€`nums[j]` å’Œ
`nums[k]` ç»„æˆï¼Œå¹¶åŒæ—¶æ»¡è¶³ï¼š`i < j < k` å’Œ `nums[i] < nums[k] < nums[j]` ã€‚

å¦‚æœ `nums` ä¸­å­˜åœ¨ **132 æ¨¡å¼çš„å­åºåˆ—** ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** nums = [1,2,3,4]
>
> **è¾“å‡ºï¼š** false
>
> **è§£é‡Šï¼š** åºåˆ—ä¸­ä¸å­˜åœ¨ 132 æ¨¡å¼çš„å­åºåˆ—ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** nums = [3,1,4,2]
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š** åºåˆ—ä¸­æœ‰ 1 ä¸ª 132 æ¨¡å¼çš„å­åºåˆ—ï¼š [1, 4, 2] ã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** nums = [-1,3,2,0]
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š** åºåˆ—ä¸­æœ‰ 3 ä¸ª 132 æ¨¡å¼çš„çš„å­åºåˆ—ï¼š[-1, 3, 2]ã€[-1, 3, 0] å’Œ [-1, 2, 0] ã€‚

**æç¤ºï¼š**

- `n == nums.length`
- `1 <= n <= 2 * 10^5`
- `-10^9 <= nums[i] <= 10^9`

## è§£é¢˜æ€è·¯

**ç›®æ ‡**ï¼šæ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³ `nums[i] < nums[k] < nums[j]` (`i < j < k`) çš„ `132` æ¨¡å¼ã€‚

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ **å•è°ƒæ ˆ** æ¥é«˜æ•ˆåœ°ç»´æŠ¤ `nums[j]`ï¼ˆ132 æ¨¡å¼ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ ï¼‰ï¼Œä»è€Œåœ¨ `O(n)` æ—¶é—´å¤æ‚åº¦å†…è§£å†³é—®é¢˜ã€‚

1. **å€’åºéå† `nums`**

   - `nums[k]` å¿…é¡»å‡ºç°åœ¨ `nums[j]` ä¹‹åï¼Œå› æ­¤å€’åºéå† `nums`ï¼Œå…ˆæ‰¾åˆ° `nums[j]`ï¼Œä»è€Œç¡®ä¿ `nums[i] < nums[k] < nums[j]`ã€‚

2. **ä½¿ç”¨å•è°ƒé€’å‡æ ˆç»´æŠ¤ `nums[j]`**

   - `stack` å­˜å‚¨å¯èƒ½çš„ `nums[j]`ï¼Œå¹¶ä¿æŒ**å•è°ƒé€’å‡**ï¼ˆæ ˆé¡¶å…ƒç´ æœ€å¤§ï¼‰ã€‚

3. **ä½¿ç”¨ `third` å­˜å‚¨å¯èƒ½çš„ `nums[k]`**

   - å½“ `stack` ä¸ä¸ºç©ºï¼Œä¸” `stack` æ ˆé¡¶å…ƒç´ å°äºå½“å‰ `nums[i]`ï¼Œè¯´æ˜ `stack.pop()` æ˜¯ä¸€ä¸ªåˆé€‚çš„ `nums[k]`ï¼Œå°† `third = stack.pop()` è¿›è¡Œæ›´æ–°ã€‚
   - ç„¶åå°†å½“å‰ `nums[i]` æ”¾å…¥æ ˆé¡¶ï¼Œè¿™æ ·å°±ç¡®ä¿äº† `nums[k] < nums[j]`ã€‚

4. **åˆ¤æ–­ `nums[i]` æ˜¯å¦æ»¡è¶³ `nums[i] < third`**
   - å¦‚æœ `nums[i] < third`ï¼Œè¯´æ˜æ‰¾åˆ°äº† `132` æ¨¡å¼ï¼Œç›´æ¥è¿”å› `true`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šå…¥æ ˆã€å‡ºæ ˆä¸€æ¬¡ï¼Œæ€»å…± `O(n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œæœ€åæƒ…å†µä¸‹æ ˆå­˜å‚¨ `n` ä¸ªå…ƒç´ ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {boolean}
 */
var find132pattern = function (nums) {
	let stack = [];
	let third = -Infinity;
	for (let i = nums.length - 1; i >= 0; i--) {
		if (nums[i] < third) return true;
		while (stack.length && stack[stack.length - 1] < nums[i]) {
			third = stack.pop();
		}
		stack.push(nums[i]);
	}
	return false;
};
```
