---
title: 2601. è´¨æ•°å‡æ³•è¿ç®—
description: LeetCode 2601. è´¨æ•°å‡æ³•è¿ç®—é¢˜è§£ï¼ŒPrime Subtraction Operationï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 2601. è´¨æ•°å‡æ³•è¿ç®—
  - è´¨æ•°å‡æ³•è¿ç®—
  - Prime Subtraction Operation
  - è§£é¢˜æ€è·¯
  - è´ªå¿ƒ
  - æ•°ç»„
  - æ•°å­¦
  - äºŒåˆ†æŸ¥æ‰¾
  - æ•°è®º
---

# 2601. è´¨æ•°å‡æ³•è¿ç®—

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/tag/greedy.md) [`æ•°ç»„`](/tag/array.md) [`æ•°å­¦`](/tag/math.md) [`äºŒåˆ†æŸ¥æ‰¾`](/tag/binary-search.md) [`æ•°è®º`](/tag/number-theory.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/prime-subtraction-operation) [`LeetCode`](https://leetcode.com/problems/prime-subtraction-operation)

## é¢˜ç›®

You are given a **0-indexed** integer array `nums` of length `n`.

You can perform the following operation as many times as you want:

- Pick an index `i` that you haven't picked before, and pick a prime `p` **strictly less than** `nums[i]`, then subtract `p` from `nums[i]`.

Return _true if you can make`nums` a strictly increasing array using the above
operation and false otherwise._

A **strictly increasing array** is an array whose each element is strictly
greater than its preceding element.

**Example 1:**

> Input: nums = [4,9,6,10]
>
> Output: true
>
> Explanation: In the first operation: Pick i = 0 and p = 3, and then subtract 3 from nums[0], so that nums becomes [1,9,6,10].
>
> In the second operation: i = 1, p = 7, subtract 7 from nums[1], so nums becomes equal to [1,2,6,10].
>
> After the second operation, nums is sorted in strictly increasing order, so the answer is true.

**Example 2:**

> Input: nums = [6,8,11,12]
>
> Output: true
>
> Explanation: Initially nums is sorted in strictly increasing order, so we don't need to make any operations.

**Example 3:**

> Input: nums = [5,8,3]
>
> Output: false
>
> Explanation: It can be proven that there is no way to perform operations to make nums sorted in strictly increasing order, so the answer is false.

**Constraints:**

- `1 <= nums.length <= 1000`
- `1 <= nums[i] <= 1000`
- `nums.length == n`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„æ•´æ•°æ•°ç»„ `nums` ï¼Œæ•°ç»„é•¿åº¦ä¸º `n` ã€‚

ä½ å¯ä»¥æ‰§è¡Œæ— é™æ¬¡ä¸‹è¿°è¿ç®—ï¼š

- é€‰æ‹©ä¸€ä¸ªä¹‹å‰æœªé€‰è¿‡çš„ä¸‹æ ‡ `i` ï¼Œå¹¶é€‰æ‹©ä¸€ä¸ª **ä¸¥æ ¼å°äº** `nums[i]` çš„è´¨æ•° `p` ï¼Œä» `nums[i]` ä¸­å‡å» `p` ã€‚

å¦‚æœä½ èƒ½é€šè¿‡ä¸Šè¿°è¿ç®—ä½¿å¾— `nums` æˆä¸ºä¸¥æ ¼é€’å¢æ•°ç»„ï¼Œåˆ™è¿”å› `true` ï¼›å¦åˆ™è¿”å› `false` ã€‚

**ä¸¥æ ¼é€’å¢æ•°ç»„** ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ä¸¥æ ¼å¤§äºå…¶å‰é¢çš„å…ƒç´ ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** nums = [4,9,6,10]
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š**
>
> åœ¨ç¬¬ä¸€æ¬¡è¿ç®—ä¸­ï¼šé€‰æ‹© i = 0 å’Œ p = 3 ï¼Œç„¶åä» nums[0] å‡å» 3 ï¼Œnums å˜ä¸º [1,9,6,10] ã€‚
>
> åœ¨ç¬¬äºŒæ¬¡è¿ç®—ä¸­ï¼šé€‰æ‹© i = 1 å’Œ p = 7 ï¼Œç„¶åä» nums[1] å‡å» 7 ï¼Œnums å˜ä¸º [1,2,6,10] ã€‚
>
> ç¬¬äºŒæ¬¡è¿ç®—åï¼Œnums æŒ‰ä¸¥æ ¼é€’å¢é¡ºåºæ’åºï¼Œå› æ­¤ç­”æ¡ˆä¸º true ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** nums = [6,8,11,12]
>
> **è¾“å‡ºï¼š** true
>
> **è§£é‡Šï¼š** nums ä»ä¸€å¼€å§‹å°±æŒ‰ä¸¥æ ¼é€’å¢é¡ºåºæ’åºï¼Œå› æ­¤ä¸éœ€è¦æ‰§è¡Œä»»ä½•è¿ç®—ã€‚

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** nums = [5,8,3]
>
> **è¾“å‡ºï¼š** false
>
> **è§£é‡Šï¼š** å¯ä»¥è¯æ˜ï¼Œæ‰§è¡Œè¿ç®—æ— æ³•ä½¿ nums æŒ‰ä¸¥æ ¼é€’å¢é¡ºåºæ’åºï¼Œå› æ­¤ç­”æ¡ˆæ˜¯ false ã€‚

**æç¤ºï¼š**

- `1 <= nums.length <= 1000`
- `1 <= nums[i] <= 1000`
- `nums.length == n`

## è§£é¢˜æ€è·¯

1. é¢˜ç›®ä¸­çš„ `nums[i]` èŒƒå›´åœ¨ `1 <= nums[i] <= 1000`ï¼Œæ‰€ä»¥é¢„ç”Ÿæˆå°äºç­‰äº 1000 çš„è´¨æ•°åˆ—è¡¨ `primes`ï¼Œæ–¹ä¾¿åœ¨æ¯æ¬¡æ“ä½œä¸­å¿«é€ŸæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„è´¨æ•°ã€‚
2. ä» `nums` çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œä»è´¨æ•°åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªå°½é‡å¤§çš„è´¨æ•° `diff` è¿›è¡Œå‡æ³•æ“ä½œï¼Œå¹¶ä½¿å¾— `curVal` é€’å¢ï¼Œä»¥ä¿è¯`nums[i]` çš„å€¼å¤§äº `nums[i-1]`ã€‚
3. è‹¥ `diff` å°äº 0ï¼Œä¹Ÿå³ `nums[i]` å°äºå‰ä¸€ä¸ªå…ƒç´  `nums[i-1]`ï¼Œç›´æ¥è¿”å› `false`ã€‚
4. å¦‚æœåœ¨éå†æ•´ä¸ª `nums` çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ä½¿æ¯ä¸€ä¸ªå…ƒç´ ä¸¥æ ¼å¤§äºå‰ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™è¿”å› `true`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯ `nums` çš„é•¿åº¦ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(m)`ï¼Œç”¨äºå­˜å‚¨æ‰€æœ‰å°äºç­‰äº `1000` çš„è´¨æ•°ï¼Œæœ€å¤šéœ€è¦ `O(168)`ï¼Œå³ä¸ºå¸¸æ•°æ—¶é—´å¤æ‚åº¦ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {boolean}
 */
var primeSubOperation = function (nums) {
	const primes = sieve(1000);
	let curVal = 1,
		i = 0;
	while (i < nums.length) {
		const diff = nums[i] - curVal;
		if (diff < 0) {
			return false;
		}
		if (diff == 0 || primes.includes(diff)) {
			i++;
			curVal++;
		} else {
			curVal++;
		}
	}
	return true;
};

/**
 * @param {number[]} nums
 * @return {boolean}
 */
function sieve(limit) {
	const isPrime = Array(limit + 1).fill(true);
	const primes = [];
	for (let i = 2; i <= limit; i++) {
		if (isPrime[i]) {
			primes.push(i);
			for (let j = i * i; j <= limit; j += i) {
				isPrime[j] = false;
			}
		}
	}
	return primes;
}
```
