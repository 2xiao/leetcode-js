---
title: 1128. ç­‰ä»·å¤šç±³è¯ºéª¨ç‰Œå¯¹çš„æ•°é‡
description: LeetCode 1128. ç­‰ä»·å¤šç±³è¯ºéª¨ç‰Œå¯¹çš„æ•°é‡é¢˜è§£ï¼ŒNumber of Equivalent Domino Pairsï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 1128. ç­‰ä»·å¤šç±³è¯ºéª¨ç‰Œå¯¹çš„æ•°é‡
  - ç­‰ä»·å¤šç±³è¯ºéª¨ç‰Œå¯¹çš„æ•°é‡
  - Number of Equivalent Domino Pairs
  - è§£é¢˜æ€è·¯
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - è®¡æ•°
---

# 1128. ç­‰ä»·å¤šç±³è¯ºéª¨ç‰Œå¯¹çš„æ•°é‡

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md) [`è®¡æ•°`](/tag/counting.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/number-of-equivalent-domino-pairs) [`LeetCode`](https://leetcode.com/problems/number-of-equivalent-domino-pairs)

## é¢˜ç›®

Given a list of `dominoes`, `dominoes[i] = [a, b]` is **equivalent to**
`dominoes[j] = [c, d]` if and only if either (`a == c` and `b == d`), or (`a
== d` and `b == c`) - that is, one domino can be rotated to be equal to
another domino.

Return _the number of pairs_`(i, j)`_for which_`0 <= i < j < dominoes.length`
_, and_`dominoes[i]`_is **equivalent to** _`dominoes[j]`.

**Example 1:**

> Input: dominoes = [[1,2],[2,1],[3,4],[5,6]]
>
> Output: 1

**Example 2:**

> Input: dominoes = [[1,2],[1,2],[1,1],[1,2],[2,2]]
>
> Output: 3

**Constraints:**

- `1 <= dominoes.length <= 4 * 10^4`
- `dominoes[i].length == 2`
- `1 <= dominoes[i][j] <= 9`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ç»„å¤šç±³è¯ºéª¨ç‰Œ `dominoes` ã€‚

å½¢å¼ä¸Šï¼Œ`dominoes[i] = [a, b]` ä¸ `dominoes[j] = [c, d]` **ç­‰ä»·** å½“ä¸”ä»…å½“ (`a == c` ä¸” `b == d`) æˆ–è€… (`a == d` ä¸” `b == c`) ã€‚å³ä¸€å¼ éª¨ç‰Œå¯ä»¥é€šè¿‡æ—‹è½¬ `0` åº¦æˆ– `180` åº¦å¾—åˆ°å¦ä¸€å¼ å¤šç±³è¯ºéª¨ç‰Œã€‚

åœ¨ `0 <= i < j < dominoes.length` çš„å‰æä¸‹ï¼Œæ‰¾å‡ºæ»¡è¶³ `dominoes[i]` å’Œ `dominoes[j]`
ç­‰ä»·çš„éª¨ç‰Œå¯¹ `(i, j)` çš„æ•°é‡ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** dominoes = [[1,2],[2,1],[3,4],[5,6]]
>
> **è¾“å‡ºï¼š** 1

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** dominoes = [[1,2],[1,2],[1,1],[1,2],[2,2]]
>
> **è¾“å‡ºï¼š** 3

**æç¤ºï¼š**

- `1 <= dominoes.length <= 4 * 10^4`
- `dominoes[i].length == 2`
- `1 <= dominoes[i][j] <= 9`

## è§£é¢˜æ€è·¯

1. **ç»Ÿè®¡å‡ºç°æ¬¡æ•°**

   - éå†è¾“å…¥æ•°ç»„ `dominoes`ï¼Œç”¨å“ˆå¸Œè¡¨ `map` ç»Ÿè®¡ä¸åŒå¤šç±³è¯ºéª¨ç‰Œçš„å‡ºç°æ¬¡æ•°ã€‚
   - å¯¹äºæ¯ä¸ªéª¨ç‰Œ `[a, b]`ï¼Œå°†å…¶é”®è¡¨ç¤ºä¸º `a,b`ï¼Œå¦‚æœ `a > b`ï¼Œåˆ™äº¤æ¢ä½ç½®è¡¨ç¤ºä¸º `b,a`ï¼Œç¡®ä¿å°çš„æ•°åœ¨å‰ã€‚

2. **è®¡ç®—ç­‰ä»·å¯¹æ•°**
   - å¦‚æœæŸç§å¤šç±³è¯ºéª¨ç‰Œå‡ºç° `n` æ¬¡ï¼Œé‚£ä¹ˆä»è¿™äº›éª¨ç‰Œä¸­å¯ä»¥ç»„åˆå‡º `C(n, 2) = n * (n - 1) / 2` å¯¹ç­‰ä»·çš„éª¨ç‰Œã€‚
   - éå†å“ˆå¸Œè¡¨ï¼Œç´¯åŠ æ‰€æœ‰ç­‰ä»·å¯¹çš„æ•°é‡ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` ä¸º `dominoes` çš„é•¿åº¦ã€‚
  - ç»Ÿè®¡å¤šç±³è¯ºéª¨ç‰Œå‡ºç°æ¬¡æ•°ï¼š`O(n)`ã€‚
  - è®¡ç®—ç­‰ä»·å¯¹æ•°ï¼š`O(m)`ï¼Œå…¶ä¸­ `m` æ˜¯ä¸ç­‰ä»·å¤šç±³è¯ºéª¨ç‰Œçš„æ•°é‡ã€‚
  - æ€»æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(m)`ï¼Œä½¿ç”¨äº†å“ˆå¸Œè¡¨å­˜å‚¨å¤šç±³è¯ºéª¨ç‰Œå’Œè®¡æ•°ã€‚

## ä»£ç 

```javascript
var numEquivDominoPairs = function (dominoes) {
	let map = new Map();

	// ç»Ÿè®¡æ¯ç§å¤šç±³è¯ºéª¨ç‰Œçš„å‡ºç°æ¬¡æ•°
	for (let [a, b] of dominoes) {
		// ç­‰ä»·çš„å¤šç±³è¯ºéª¨ç‰Œç»Ÿä¸€è®¡æ•°
		let key = a > b ? `${b},${a}` : `${a},${b}`;
		map.set(key, (map.get(key) || 0) + 1);
	}

	// è®¡ç®—ç­‰ä»·å¯¹æ•°
	let res = 0;
	for (let count of map.values()) {
		res += (count * (count - 1)) / 2; // ç›´æ¥ç”¨å…¬å¼è®¡ç®—
	}

	return res;
};
```
