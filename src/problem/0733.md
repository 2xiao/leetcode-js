---
title: 733. å›¾åƒæ¸²æŸ“
description: LeetCode 733. å›¾åƒæ¸²æŸ“é¢˜è§£ï¼ŒFlood Fillï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 733. å›¾åƒæ¸²æŸ“
  - å›¾åƒæ¸²æŸ“
  - Flood Fill
  - è§£é¢˜æ€è·¯
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - æ•°ç»„
  - çŸ©é˜µ
---

# 733. å›¾åƒæ¸²æŸ“

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) [`çŸ©é˜µ`](/tag/matrix.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/flood-fill) [`LeetCode`](https://leetcode.com/problems/flood-fill)

## é¢˜ç›®

You are given an image represented by an `m x n` grid of integers `image`,
where `image[i][j]` represents the pixel value of the image. You are also
given three integers `sr`, `sc`, and `color`. Your task is to perform a
**flood fill** on the image starting from the pixel `image[sr][sc]`.

To perform a **flood fill** :

1. Begin with the starting pixel and change its color to `color`.
2. Perform the same process for each pixel that is **directly adjacent** (pixels that share a side with the original pixel, either horizontally or vertically) and shares the **same color** as the starting pixel.
3. Keep **repeating** this process by checking neighboring pixels of the _updated_ pixels and modifying their color if it matches the original color of the starting pixel.
4. The process **stops** when there are **no more** adjacent pixels of the original color to update.

Return the **modified** image after performing the flood fill.

**Example 1:**

**Input:** image = [[1,1,1],[1,1,0],[1,0,1]], sr = 1, sc = 1, color = 2

**Output:** [[2,2,2],[2,2,0],[2,0,1]]

**Explanation:**

![](https://assets.leetcode.com/uploads/2021/06/01/flood1-grid.jpg)

From the center of the image with position `(sr, sc) = (1, 1)` (i.e., the red
pixel), all pixels connected by a path of the same color as the starting pixel
(i.e., the blue pixels) are colored with the new color.

Note the bottom corner is **not** colored 2, because it is not horizontally or
vertically connected to the starting pixel.

**Example 2:**

**Input:** image = [[0,0,0],[0,0,0]], sr = 0, sc = 0, color = 0

**Output:** [[0,0,0],[0,0,0]]

**Explanation:**

The starting pixel is already colored with 0, which is the same as the target
color. Therefore, no changes are made to the image.

**Constraints:**

- `m == image.length`
- `n == image[i].length`
- `1 <= m, n <= 50`
- `0 <= image[i][j], color < 216`
- `0 <= sr < m`
- `0 <= sc < n`

## é¢˜ç›®å¤§æ„

æœ‰ä¸€å¹…ä»¥ `m x n` çš„äºŒç»´æ•´æ•°æ•°ç»„è¡¨ç¤ºçš„å›¾ç”» `image` ï¼Œå…¶ä¸­ `image[i][j]` è¡¨ç¤ºè¯¥å›¾ç”»çš„åƒç´ å€¼å¤§å°ã€‚ä½ ä¹Ÿè¢«ç»™äºˆä¸‰ä¸ªæ•´æ•° `sr`
, `sc` å’Œ `color` ã€‚ä½ åº”è¯¥ä»åƒç´  `image[sr][sc]` å¼€å§‹å¯¹å›¾åƒè¿›è¡Œä¸Šè‰² **å¡«å……** ã€‚

ä¸ºäº†å®Œæˆ **ä¸Šè‰²å·¥ä½œ** ï¼š

1. ä»åˆå§‹åƒç´ å¼€å§‹ï¼Œå°†å…¶é¢œè‰²æ”¹ä¸º `color`ã€‚
2. å¯¹åˆå§‹åæ ‡çš„ **ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Š** ç›¸é‚»ä¸”ä¸åˆå§‹åƒç´ çš„åŸå§‹é¢œè‰²åŒè‰²çš„åƒç´ ç‚¹æ‰§è¡Œç›¸åŒæ“ä½œã€‚
3. é€šè¿‡æ£€æŸ¥ä¸åˆå§‹åƒç´ çš„åŸå§‹é¢œè‰²ç›¸åŒçš„ç›¸é‚»åƒç´ å¹¶ä¿®æ”¹å…¶é¢œè‰²æ¥ç»§ç»­ **é‡å¤** æ­¤è¿‡ç¨‹ã€‚
4. å½“ **æ²¡æœ‰** å…¶å®ƒåŸå§‹é¢œè‰²çš„ç›¸é‚»åƒç´ æ—¶ **åœæ­¢** æ“ä½œã€‚

æœ€åè¿”å›ç»è¿‡ä¸Šè‰²æ¸²æŸ“ **ä¿®æ”¹** åçš„å›¾åƒ ã€‚

**ç¤ºä¾‹ 1:**

![](https://assets.leetcode.com/uploads/2021/06/01/flood1-grid.jpg)

**è¾“å…¥ï¼š** image = [[1,1,1],[1,1,0],[1,0,1]]ï¼Œsr = 1, sc = 1, color = 2

**è¾“å‡ºï¼š**[[2,2,2],[2,2,0],[2,0,1]]

**è§£é‡Šï¼š** åœ¨å›¾åƒçš„æ­£ä¸­é—´ï¼Œåæ ‡ `(sr,sc)=(1,1)`
ï¼ˆå³çº¢è‰²åƒç´ ï¼‰,åœ¨è·¯å¾„ä¸Šæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„åƒç´ ç‚¹çš„é¢œè‰²éƒ½è¢«æ›´æ”¹æˆç›¸åŒçš„æ–°é¢œè‰²ï¼ˆå³è“è‰²åƒç´ ï¼‰ã€‚

æ³¨æ„ï¼Œå³ä¸‹è§’çš„åƒç´  **æ²¡æœ‰** æ›´æ”¹ä¸º 2ï¼Œå› ä¸ºå®ƒä¸æ˜¯åœ¨ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šä¸åˆå§‹ç‚¹ç›¸è¿çš„åƒç´ ç‚¹ã€‚

**ç¤ºä¾‹ 2:**

**è¾“å…¥ï¼š** image = [[0,0,0],[0,0,0]], sr = 0, sc = 0, color = 0

**è¾“å‡ºï¼š**[[0,0,0],[0,0,0]]

**è§£é‡Šï¼š** åˆå§‹åƒç´ å·²ç»ç”¨ 0 ç€è‰²ï¼Œè¿™ä¸ç›®æ ‡é¢œè‰²ç›¸åŒã€‚å› æ­¤ï¼Œä¸ä¼šå¯¹å›¾åƒè¿›è¡Œä»»ä½•æ›´æ”¹ã€‚

**æç¤º:**

- `m == image.length`
- `n == image[i].length`
- `1 <= m, n <= 50`
- `0 <= image[i][j], color < 216`
- `0 <= sr < m`
- `0 <= sc < n`

## è§£é¢˜æ€è·¯

1. å¦‚æœèµ·ç‚¹ `(sr, sc)` çš„é¢œè‰²å·²ç»ç­‰äºç›®æ ‡é¢œè‰² `color`ï¼Œç›´æ¥è¿”å›åŸå§‹å›¾åƒå³å¯ï¼Œé¿å…æ— é™é€’å½’ã€‚
2. å®šä¹‰ä¸€ä¸ªæ–¹å‘æ•°ç»„ `dirc` è¡¨ç¤ºå››è¿é€šçš„ä¸Šä¸‹å·¦å³ç§»åŠ¨ã€‚
3. åˆå§‹åŒ–é€’å½’å‡½æ•° `dfs(r, c)`ï¼š
   - ä»èµ·ç‚¹å¼€å§‹ï¼Œå°†å½“å‰åƒç´ æŸ“ä¸ºç›®æ ‡é¢œè‰²ã€‚
   - éå†å½“å‰åƒç´ çš„å››ä¸ªæ–¹å‘ï¼ˆä¸Šä¸‹å·¦å³ï¼‰ã€‚
     - å¦‚æœæŸä¸ªæ–¹å‘çš„åƒç´ åœ¨å›¾åƒçš„è¾¹ç•ŒèŒƒå›´å†…ï¼Œä¸”é¢œè‰²ä¸åŸå§‹èµ·ç‚¹é¢œè‰²ç›¸åŒåˆ™é€’å½’å¤„ç†ã€‚
4. è°ƒç”¨ `dfs(sr, sc)` å¼€å§‹æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ï¼Œå°†ä¸èµ·ç‚¹é¢œè‰²ç›¸åŒçš„è¿é€šåŒºåŸŸå…¨éƒ¨æŸ“è‰²ã€‚
5. è¿”å›æ›´æ–°åçš„å›¾åƒã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m * n)`ï¼Œæœ€åæƒ…å†µä¸‹ï¼Œæ‰€æœ‰åƒç´ éƒ½è¢«è®¿é—®ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(m * n)`ï¼ŒDFS ä½¿ç”¨çš„é€’å½’æ ˆæ·±åº¦ä¸ºè¿é€šåˆ†é‡çš„å¤§å°ï¼Œæœ€åæƒ…å†µä¸‹ä¸º`O(m * n)`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[][]} image
 * @param {number} sr
 * @param {number} sc
 * @param {number} color
 * @return {number[][]}
 */
var floodFill = function (image, sr, sc, color) {
	// è·å–å›¾åƒçš„è¡Œæ•°å’Œåˆ—æ•°
	const m = image.length,
		n = image[0].length;

	// å®šä¹‰ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘
	const dirc = [
		[1, 0],
		[-1, 0],
		[0, 1],
		[0, -1]
	];
	const originColor = image[sr][sc]; // èµ·ç‚¹é¢œè‰²

	const dfs = (r, c) => {
		// å°†å½“å‰åƒç´ æŸ“æˆç›®æ ‡é¢œè‰²
		image[r][c] = color;

		// éå†å››ä¸ªæ–¹å‘
		for (let [dr, dc] of dirc) {
			// è®¡ç®—ç›¸é‚»åƒç´ çš„åæ ‡
			const nr = r + dr;
			const nc = c + dc;
			// å¯¹æ»¡è¶³æ¡ä»¶çš„åƒç´ é€’å½’
			if (
				nr >= 0 &&
				nr < m &&
				nc >= 0 &&
				nc < n &&
				image[nr][nc] == originColor
			) {
				dfs(nr, nc);
			}
		}
	};

	// å¦‚æœç›®æ ‡é¢œè‰²å’Œèµ·ç‚¹é¢œè‰²ç›¸åŒï¼Œæ— éœ€æ‰§è¡ŒæŸ“è‰²
	if (originColor !== color) {
		dfs(sr, sc); // ä»èµ·ç‚¹å¼€å§‹é€’å½’æœç´¢
	}

	return image; // è¿”å›æ›´æ–°åçš„å›¾åƒ
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ | åŠ›æ‰£ |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 463 | å²›å±¿çš„å‘¨é•¿ | [[âœ“]](/problem/0463.md) |  [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/tag/breadth-first-search.md) [`æ•°ç»„`](/tag/array.md) `1+` | ğŸŸ¢ | [ğŸ€„ï¸](https://leetcode.cn/problems/island-perimeter) [ğŸ”—](https://leetcode.com/problems/island-perimeter) |