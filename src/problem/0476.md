---
title: 476. æ•°å­—çš„è¡¥æ•°
description: LeetCode 476. æ•°å­—çš„è¡¥æ•°é¢˜è§£ï¼ŒNumber Complementï¼ŒåŒ…å«è§£é¢˜æ€è·¯ã€å¤æ‚åº¦åˆ†æä»¥åŠå®Œæ•´çš„ JavaScript ä»£ç å®ç°ã€‚
keywords:
  - LeetCode
  - 476. æ•°å­—çš„è¡¥æ•°
  - æ•°å­—çš„è¡¥æ•°
  - Number Complement
  - è§£é¢˜æ€è·¯
  - ä½è¿ç®—
---

# 476. æ•°å­—çš„è¡¥æ•°

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/number-complement) [`LeetCode`](https://leetcode.com/problems/number-complement)

## é¢˜ç›®

The **complement** of an integer is the integer you get when you flip all the
`0`'s to `1`'s and all the `1`'s to `0`'s in its binary representation.

- For example, The integer `5` is `"101"` in binary and its **complement** is `"010"` which is the integer `2`.

Given an integer `num`, return _its complement_.

**Example 1:**

> Input: num = 5
>
> Output: 2
>
> Explanation: The binary representation of 5 is 101 (no leading zero bits), and its complement is 010. So you need to output 2.

**Example 2:**

> Input: num = 1
>
> Output: 0
>
> Explanation: The binary representation of 1 is 1 (no leading zero bits), and its complement is 0. So you need to output 0.

**Constraints:**

- `1 <= num < 231`

**Note:** This question is the same as [1009. Complement of Base 10 Integer](./1009.md)

## é¢˜ç›®å¤§æ„

å¯¹æ•´æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºå–åï¼ˆ`0` å˜ `1` ï¼Œ`1` å˜ `0`ï¼‰åï¼Œå†è½¬æ¢ä¸ºåè¿›åˆ¶è¡¨ç¤ºï¼Œå¯ä»¥å¾—åˆ°è¿™ä¸ªæ•´æ•°çš„è¡¥æ•°ã€‚

- ä¾‹å¦‚ï¼Œæ•´æ•° `5` çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯ `"101"` ï¼Œå–ååå¾—åˆ° `"010"` ï¼Œå†è½¬å›åè¿›åˆ¶è¡¨ç¤ºå¾—åˆ°è¡¥æ•° `2` ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•° `num` ï¼Œè¾“å‡ºå®ƒçš„è¡¥æ•°ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** num = 5
>
> **è¾“å‡ºï¼š** 2
>
> **è§£é‡Šï¼š** 5 çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º 101ï¼ˆæ²¡æœ‰å‰å¯¼é›¶ä½ï¼‰ï¼Œå…¶è¡¥æ•°ä¸º 010ã€‚æ‰€ä»¥ä½ éœ€è¦è¾“å‡º 2 ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** num = 1
>
> **è¾“å‡ºï¼š** 0
>
> **è§£é‡Šï¼š** 1 çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º 1ï¼ˆæ²¡æœ‰å‰å¯¼é›¶ä½ï¼‰ï¼Œå…¶è¡¥æ•°ä¸º 0ã€‚æ‰€ä»¥ä½ éœ€è¦è¾“å‡º 0 ã€‚

**æç¤ºï¼š**

- `1 <= num < 231`

**æ³¨æ„ï¼š** æœ¬é¢˜ä¸ [1009. åè¿›åˆ¶æ•´æ•°çš„åç ](./1009.md) ç›¸åŒ

## è§£é¢˜æ€è·¯

1. **ç†è§£è¡¥æ•°æ“ä½œ**ï¼š

   - è¡¥æ•°çš„æ¦‚å¿µæ˜¯åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œå°†æ‰€æœ‰çš„ `0` æ›¿æ¢ä¸º `1`ï¼Œæ‰€æœ‰çš„ `1` æ›¿æ¢ä¸º `0`ã€‚
   - ä¾‹å¦‚ï¼š`num = 5`ï¼Œå®ƒçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º `101`ï¼Œå…¶è¡¥æ•°ä¸º `010`ï¼Œå¯¹åº”åè¿›åˆ¶ `2`ã€‚

2. **æ©ç  (Mask) çš„ä½œç”¨**ï¼š

   - ä¸ºäº†å°† `num` ä¸­çš„æ‰€æœ‰ä½å–åï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªæ©ç ï¼ˆmaskï¼‰ï¼Œå®ƒçš„é•¿åº¦ä¸ `num` çš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„ä½æ•°ç›¸åŒï¼Œå¹¶ä¸”æ‰€æœ‰ä½éƒ½ä¸º `1`ã€‚
   - å¦‚æœäºŒè¿›åˆ¶é•¿åº¦ä¸º `n`ï¼Œå¯¹åº”çš„æ©ç å°±æ˜¯ `111...111`ï¼ˆé•¿åº¦ä¸º `n`ï¼‰ã€‚
   - ä¾‹å¦‚ï¼š`101` çš„æ©ç æ˜¯ `111`ã€‚

3. **å¼‚æˆ–æ“ä½œå®ç°å–å**ï¼š

   - å°† `num` å’Œæ©ç è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œå°±èƒ½å°† `num` çš„æ‰€æœ‰ `1` å˜æˆ `0`ï¼Œæ‰€æœ‰ `0` å˜æˆ `1`ï¼Œå¾—åˆ°å…¶è¡¥ç ã€‚
   - å¼‚æˆ–è§„åˆ™ï¼š`1 ^ 1 = 0`, `0 ^ 1 = 1`ã€‚
   - ä¾‹å¦‚ï¼š`101 ^ 111 = 010`ã€‚

4. **å¦‚ä½•æ„å»ºæ©ç **ï¼š

   - å…ˆè®¡ç®— `num` çš„äºŒè¿›åˆ¶ä½æ•°ï¼š`bitLength = num.toString(2).length`ã€‚
   - ç„¶åç”¨ä½è¿ç®— `1 << bitLength` å¾—åˆ°ä¸€ä¸ªåªæœ‰ç¬¬ `bitLength+1` ä½ä¸º `1` çš„æ•°ï¼š
     - ç¤ºä¾‹ï¼š`1 << 3` = `1000`ã€‚
   - å†å‡å» `1`ï¼Œå¾—åˆ°æ‰€æœ‰ä½ä¸º `1` çš„æ©ç ï¼š
     - ç¤ºä¾‹ï¼š`(1 << 3) - 1` = `1000 - 1` = `111`ã€‚

5. **ç‰¹æ®Šæƒ…å†µ**ï¼š
   - å¦‚æœ `num == 0`ï¼Œè¡¥æ•°åº”ä¸º `1`ï¼Œéœ€è¦å•ç‹¬å¤„ç†ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œè®¡ç®—äºŒè¿›åˆ¶ä½æ•°å’Œæ©ç éƒ½æ˜¯å¸¸æ•°æ—¶é—´æ“ä½œã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä»…ä½¿ç”¨äº†å¸¸æ•°çº§åˆ«çš„é¢å¤–å˜é‡ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} num
 * @return {number}
 */
var findComplement = function (num) {
	if (num == 0) return 1; // å¤„ç†ç‰¹æ®Šæƒ…å†µï¼šè¾“å…¥ä¸º 0

	// è®¡ç®—äºŒè¿›åˆ¶çš„ä½æ•°
	const bitLength = num.toString(2).length;

	// æ„å»ºæ©ç ï¼šæ‰€æœ‰ä½éƒ½æ˜¯ 1
	const mask = (1 << bitLength) - 1;

	// é€šè¿‡å¼‚æˆ–æ“ä½œè®¡ç®—è¡¥æ•°
	return num ^ mask;
};
```
