# [119. æœ€é•¿è¿ç»­åºåˆ—](https://2xiao.github.io/leetcode-js/offer2/jz_offer_II_119.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å¹¶æŸ¥é›†`](/tag/union-find.md) [`æ•°ç»„`](/tag/array.md) [`å“ˆå¸Œè¡¨`](/tag/hash-table.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/WhsWhI)

## é¢˜ç›®

ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾å‡ºæ•°å­—è¿ç»­çš„æœ€é•¿åºåˆ—ï¼ˆä¸è¦æ±‚åºåˆ—å…ƒç´ åœ¨åŸæ•°ç»„ä¸­è¿ç»­ï¼‰çš„é•¿åº¦ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** nums = [100,4,200,1,3,2]
>
> **è¾“å‡ºï¼š** 4
>
> **è§£é‡Šï¼š** æœ€é•¿æ•°å­—è¿ç»­åºåˆ—æ˜¯ [1, 2, 3, 4]ã€‚å®ƒçš„é•¿åº¦ä¸º 4ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** nums = [0,3,7,2,5,8,4,6,0,1]
>
> **è¾“å‡ºï¼š** 9

**æç¤ºï¼š**

- `0 <= nums.length <= 10^4`
- `-10^9 <= nums[i] <= 10^9`

**è¿›é˜¶ï¼š** å¯ä»¥è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º `O(n)` çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ

::: warning
æœ¬é¢˜ä¸ LeetCode [ç¬¬ 128 é¢˜](../problem/0128.md) ç›¸åŒã€‚
:::

## è§£é¢˜æ€è·¯

- éå†æ•°ç»„é‡Œçš„æ¯ä¸ªæ•° `i` ï¼Œä»¥å…¶ä¸ºèµ·ç‚¹ï¼Œå¯»æ‰¾ `i+1, i+2, i+3...`æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸æ–­è®°å½•ä»¥ `i` ä¸ºèµ·ç‚¹æ—¶æœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ï¼›
- ä¸ºäº†é™ä½éå†æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥å°†æ•°ç»„ä¸­çš„æ•°å­˜åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿™æ ·æŸ¥çœ‹ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥ä¼˜åŒ–åˆ° `O(1)`ï¼›
- ä¸ºäº†å»æ‰ä¸€äº›é‡å¤çš„æšä¸¾ï¼Œå¯ä»¥åªå¯¹ `i-1` ä¸å­˜åœ¨çš„æ•° `i` ä¸ºèµ·ç‚¹å¼€å§‹æšä¸¾ï¼›

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**: `O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„çš„é•¿åº¦ï¼Œéå†äº†ä¸€éæ•°ç»„ã€‚
- **ç©ºé—´å¤æ‚åº¦**: `O(n)`ï¼Œä½¿ç”¨äº†ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥å­˜å‚¨æ•°ç»„ä¸­çš„æ•°ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var longestConsecutive = function (nums) {
	let set = new Set(nums);
	let length = 0;
	for (let item of [...set]) {
		if (!set.has(item - 1)) {
			let i = 1;
			while (set.has(item + i)) {
				i++;
			}
			length = Math.max(length, i);
		}
	}
	return length;
};
```
