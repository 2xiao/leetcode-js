# [81. å…è®¸é‡å¤é€‰æ‹©å…ƒç´ çš„ç»„åˆ](https://2xiao.github.io/leetcode-js/offer2/jz_offer_II_081.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`å›æº¯`](/tag/backtracking.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/Ygoe9J)

## é¢˜ç›®

ç»™å®šä¸€ä¸ª**æ— é‡å¤å…ƒç´ ** çš„æ­£æ•´æ•°æ•°ç»„ `candidates` å’Œä¸€ä¸ªæ­£æ•´æ•° `target` ï¼Œæ‰¾å‡º `candidates`
ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° `target` çš„å”¯ä¸€ç»„åˆã€‚

`candidates` ä¸­çš„æ•°å­—å¯ä»¥æ— é™åˆ¶é‡å¤è¢«é€‰å–ã€‚å¦‚æœè‡³å°‘ä¸€ä¸ªæ‰€é€‰æ•°å­—æ•°é‡ä¸åŒï¼Œåˆ™ä¸¤ç§ç»„åˆæ˜¯ä¸åŒçš„ã€‚

å¯¹äºç»™å®šçš„è¾“å…¥ï¼Œä¿è¯å’Œä¸º `target` çš„å”¯ä¸€ç»„åˆæ•°å°‘äº `150` ä¸ªã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥:** candidates = [2,3,6,7], target = 7
>
> **è¾“å‡º:**[[7],[2,2,3]]

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥:** candidates = [2,3,5], target = 8
>
> **è¾“å‡º:**[[2,2,2,2],[2,3,3],[3,5]]

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥:** candidates = [2], target = 1
>
> **è¾“å‡º:**[]

**ç¤ºä¾‹ 4ï¼š**

> **è¾“å…¥:** candidates = [1], target = 1
>
> **è¾“å‡º:**[[1]]

**ç¤ºä¾‹ 5ï¼š**

> **è¾“å…¥:** candidates = [1], target = 2
>
> **è¾“å‡º:**[[1,1]]

**æç¤ºï¼š**

- `1 <= candidates.length <= 30`
- `1 <= candidates[i] <= 200`
- `candidate` ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚
- `1 <= target <= 500`

::: warning
æœ¬é¢˜ä¸ LeetCode [ç¬¬ 39 é¢˜](../problem/0039.md) ç›¸åŒã€‚
:::

## è§£é¢˜æ€è·¯

è¿™ä¸ªé—®é¢˜ä½¿ç”¨å›æº¯æ³•æ¥è§£å†³ã€‚å›æº¯æ³•æ˜¯ä¸€ç§é€šè¿‡ä¸æ–­å°è¯•ç”Ÿæˆé—®é¢˜çš„æ‰€æœ‰è§£çš„ç®—æ³•ï¼Œå¦‚æœè§£ä¸ç¬¦åˆè¦æ±‚ï¼Œå°±æ’¤é”€ä¸Šä¸€æ­¥ç”šè‡³ä¸Šå‡ æ­¥çš„è®¡ç®—ï¼Œå†é€šè¿‡å…¶ä»–å¯èƒ½çš„åˆ†æ”¯å¯»æ‰¾æ­£ç¡®çš„è§£ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

1. **å®šä¹‰å›æº¯å‡½æ•°ï¼š** å®šä¹‰ä¸€ä¸ªå›æº¯å‡½æ•° `backtrack`ï¼Œæ¥æ”¶ä¸€ä¸ªèµ·å§‹ç´¢å¼• `start` ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºä»å€™é€‰æ•°ç»„çš„å“ªä¸ªä½ç½®å¼€å§‹è€ƒè™‘ï¼Œé¿å…é‡å¤ç»„åˆã€‚

2. **å›æº¯è¿‡ç¨‹ï¼š** åœ¨å›æº¯çš„è¿‡ç¨‹ä¸­ï¼Œä¸æ–­é€‰æ‹©å½“å‰ä½ç½®çš„æ•°å­—ï¼Œå¹¶æ›´æ–°å½“å‰ç»„åˆçš„å’Œ `sum`ã€‚å¦‚æœ `sum` ç­‰äºç›®æ ‡å€¼ `target`ï¼Œåˆ™å°†å½“å‰ç»„åˆæ·»åŠ åˆ°ç»“æœé›†ä¸­ã€‚

3. **é€’å½’è°ƒç”¨ï¼š** å¦‚æœ `sum` å°äº `target`ï¼Œåˆ™ç»§ç»­åœ¨å½“å‰ä½ç½®å’Œä¹‹åçš„ä½ç½®è¿›è¡Œé€’å½’ã€‚å¦‚æœ `sum` å¤§äº `target`ï¼Œè¯´æ˜å½“å‰ç»„åˆä¸æ»¡è¶³æ¡ä»¶ï¼Œéœ€è¦æ’¤é”€å½“å‰é€‰æ‹©ï¼Œè¿”å›ä¸Šä¸€å±‚ç»§ç»­å°è¯•å…¶ä»–åˆ†æ”¯ã€‚

4. **é™åˆ¶æ¡ä»¶ï¼š** åœ¨é€’å½’çš„è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡åˆ¤æ–­ `sum` æ˜¯å¦ç­‰äº `target` æ¥ç¡®ä¿ç”Ÿæˆçš„ç»„åˆæ˜¯ç¬¦åˆè¦æ±‚çš„ã€‚é€’å½’æ—¶ä¼ å…¥ `i` ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºä»å½“å‰ä½ç½®å¼€å§‹å°è¯•ï¼Œä»¥ç¡®ä¿å¯ä»¥é‡å¤ä½¿ç”¨å½“å‰æ•°å­—ã€‚

5. **è¿”å›ç»“æœï¼š** æœ€ç»ˆé€šè¿‡è°ƒç”¨ `backtrack` å‡½æ•°å¾—åˆ°æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„ç»„åˆï¼Œè¿”å›è¿™äº›ç»„åˆçš„æ•°ç»„ä½œä¸ºç»“æœã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^t)`ï¼Œ`n` ä¸º `candidates` é•¿åº¦ï¼Œ`t = target / æœ€å°å€™é€‰æ•°`ï¼Œä¸»è¦ç”±é€’å½’æ ‘çš„æ·±åº¦å’Œæ¯å±‚é€’å½’ä¸­å¾ªç¯æ¬¡æ•°å†³å®šã€‚
  - é€’å½’æ ‘çš„æ¯ä¸€å±‚ä»£è¡¨ä»æ•°ç»„ `candidates` ä¸­é€‰æ‹©ä¸€ä¸ªæ•°å­—åŠ å…¥åˆ°ç»„åˆä¸­çš„è¿‡ç¨‹ã€‚æ¯ä¸ªæ•°å­—éƒ½å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œå› æ­¤é€’å½’æ ‘çš„æ·±åº¦æœ€å¤§ä¸º `target / æœ€å°å€™é€‰æ•°`ã€‚
  - åœ¨æœ€åæƒ…å†µä¸‹ï¼Œé€’å½’æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½è¦è¿›è¡Œ `n` æ¬¡å¾ªç¯æ“ä½œæ¥é€‰æ‹©å€™é€‰æ•°ï¼Œå› æ­¤é€’å½’æ ‘çš„èŠ‚ç‚¹æ€»æ•°æœ€å¤šä¸º `n^(target / æœ€å°å€™é€‰æ•°)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(t)`ï¼Œ`t = target / æœ€å°å€™é€‰æ•°`ï¼Œä¸»è¦ç”±é€’å½’æ·±åº¦å†³å®šï¼Œé€’å½’æ ‘çš„æ·±åº¦å¯èƒ½è¾¾åˆ° `target / æœ€å°å€™é€‰æ•°`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} candidates
 * @param {number} target
 * @return {number[][]}
 */
var combinationSum = function (candidates, target) {
	const len = candidates.length;
	let res = [];
	let track = [];
	let sum = 0;

	const backtrack = (start) => {
		// æ»¡è¶³æ¡ä»¶
		if (sum == target) {
			res.push([...track]);
			return;
		}
		// å‰ªæ
		if (sum > target) {
			return;
		}
		for (let i = start; i < len; i++) {
			track.push(candidates[i]);
			sum += candidates[i];

			// æ³¨æ„è¿™é‡Œä¼ å…¥çš„å‚æ•°æ˜¯ i è€Œä¸æ˜¯ i + 1ï¼Œè¡¨ç¤ºå¯ä»¥é‡å¤ä½¿ç”¨å½“å‰çš„æ•°å­—
			backtrack(i);

			track.pop();
			sum -= candidates[i];
		}
	};
	backtrack(0);
	return res;
};
```
