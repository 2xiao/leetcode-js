# [1522. N å‰æ ‘çš„ç›´å¾„](https://leetcode.com/problems/diameter-of-n-ary-tree)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ‘`](/leetcode/outline/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/diameter-of-n-ary-tree/)

## é¢˜ç›®

Given a root of an N-ary tree, you need to compute the length of the diameter of the tree.

The diameter of an N-ary tree is the length of the longest path between any two nodes in the tree. This path may or may not pass through the root.

(Nary-Tree input serialization is represented in their level order traversal, each group of children is separated by the null value.)

**Example 1:**

![](https://assets.leetcode.com/uploads/2020/07/19/sample_2_1897.png)

> Input: root = [1,null,3,2,4,null,5,6]
>
> Output: 3
> Explanation: Diameter is shown in red color.

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/07/19/sample_1_1897.png)

> Input: root = [1,null,2,null,3,4,null,5,null,6]
>
> Output: 4
> **Example 3:**

![](https://assets.leetcode.com/uploads/2020/07/19/sample_3_1897.png)

> Input: root = [1,null,2,3,4,5,null,null,6,7,null,8,null,9,10,null,null,11,null,12,null,13,null,null,14]
>
> Output: 7

**Constraints:**

- The depth of the n-ary tree is less than or equal to `1000`.
- The total number of nodes is between `[0, 10^4]`.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€æ£µ N å‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¿”å›è¯¥æ ‘çš„ ç›´å¾„ ã€‚

N å‰æ ‘çš„ ç›´å¾„ æ˜¯æŒ‡æ ‘ä¸­ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æœ€é•¿è·¯å¾„çš„ é•¿åº¦ ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç»è¿‡ä¹Ÿå¯èƒ½ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ `root` ã€‚

ä¸¤èŠ‚ç‚¹ä¹‹é—´è·¯å¾„çš„ é•¿åº¦ ç”±å®ƒä»¬ä¹‹é—´è¾¹æ•°è¡¨ç¤ºã€‚

N å‰æ ‘çš„è¾“å…¥åºåˆ—åŒ–ä»¥å…¶å±‚åºéå†è¡¨ç¤ºï¼Œæ¯å±‚ä¹‹é—´ç”± `null` åˆ†éš”ã€‚

## è§£é¢˜æ€è·¯

è¿™é¢˜ç±»ä¼¼ [ç¬¬ 543 é¢˜ äºŒå‰æ ‘çš„ç›´å¾„](./0543.md) ï¼ŒäºŒå‰æ ‘çš„ç›´å¾„ï¼Œå°±æ˜¯å·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦ä¹‹å’Œï¼Œé‚£ä¹ˆç›´æ¥çš„æƒ³æ³•æ˜¯å¯¹æ¯ä¸ªèŠ‚ç‚¹è®¡ç®—å·¦å³å­æ ‘çš„æœ€å¤§é«˜åº¦ï¼Œå¾—å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„ç›´å¾„ï¼Œä»è€Œå¾—å‡ºæœ€å¤§çš„é‚£ä¸ªç›´å¾„ã€‚

åŒç† N å‰æ ‘çš„ç›´å¾„ï¼Œå¯ä»¥ä½¿ç”¨é€’å½’æ¥éå†æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå¹¶è®°å½•ä»¥æ¯ä¸ªèŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„æœ€å¤§æ·±åº¦å’Œæ¬¡å¤§æ·±åº¦ã€‚ç›´å¾„å°±æ˜¯è¿™ä¸¤ä¸ªæ·±åº¦ä¹‹å’Œã€‚

éœ€è¦çµæ´»è¿ç”¨æ ‘çš„ååºéå†ï¼Œåœ¨ `maxDepth` çš„ååºéå†ä½ç½®é¡ºä¾¿è®¡ç®—æœ€å¤§ç›´å¾„ã€‚

## ä»£ç 

```javascript
/**
 * @param {TreeNode} root
 * @return {number}
 */
var diameter = (root) => {
  if (!root) return 0;
  let res = 0;

  const maxDepth = (root) => {
    // å¦‚æœèŠ‚ç‚¹ä¸ºç©ºï¼Œæ·±åº¦ä¸º0
    if (!root) return 0;

    // è®°å½•å½“å‰èŠ‚ç‚¹çš„æœ€å¤§æ·±åº¦å’Œæ¬¡å¤§æ·±åº¦
    let max_depth = 0;
    let second_max_depth = 0;

    // éå†å­èŠ‚ç‚¹
    for (let i of root.children) {
      let depth = maxDepth(i);
      if (depth > max_depth) {
        second_max_depth = max_depth;
        max_depth = depth;
      } else if (depth > second_max_depth) {
        second_max_depth = depth;
      }
    }
    // æ›´æ–°ç›´å¾„
    res = Math.max(max_depth + second_max_depth, res);

    // è¿”å›å½“å‰èŠ‚ç‚¹çš„æ·±åº¦
    return max_depth + 1;
  };
  maxDepth(root);
  return res;
};
```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [äºŒå‰æ ‘çš„ç›´å¾„](https://leetcode.com/problems/diameter-of-binary-tree)

::::
