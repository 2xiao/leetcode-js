# [503. Next Greater Element II](https://leetcode.com/problems/next-greater-element-ii/)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/leetcode/outline/tag/stack.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å•è°ƒæ ˆ`](/leetcode/outline/tag/monotonic-stack.md)

## é¢˜ç›®

Given a circular integer array `nums` (i.e., the next element of `nums[nums.length - 1]` is `nums[0]`), return the next greater number for every element in `nums`.

The next greater number of a number `x` is the first greater number to its traversing-order next in the array, which means you could search circularly to find its next greater number. If it doesn't exist, return `-1` for this number.

**Example 1**:

```
Input: [1,2,1]
Output: [2,-1,2]
```

Explanation:

- The first 1's next greater number is 2;
- The number 2 can't find next greater number;
- The second 1's next greater number needs to search circularly, which is also 2.

**Example 2**:

```
Input: nums = [1,2,3,4,3]
Output: [2,3,4,-1,4]
```

**Note**: The length of given array won't exceed 10000.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªå¾ªç¯æ•°ç»„ `nums` ï¼ˆ `nums[nums.length - 1]` çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯ `nums[0]` ï¼‰ï¼Œè¿”å› `nums` ä¸­æ¯ä¸ªå…ƒç´ çš„ **ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ** ã€‚

æ•°å­— `x` çš„ ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´  æ˜¯æŒ‰æ•°ç»„éå†é¡ºåºï¼Œè¿™ä¸ªæ•°å­—ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”å®ƒæ›´å¤§çš„æ•°ï¼Œè¿™æ„å‘³ç€ä½ åº”è¯¥å¾ªç¯åœ°æœç´¢å®ƒçš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º `-1` ã€‚

## è§£é¢˜æ€è·¯

è¿™é¢˜æ˜¯ [ç¬¬ 496 é¢˜](./0496.md) çš„åŠ å¼ºç‰ˆï¼Œåœ¨ç¬¬ 496 é¢˜çš„åŸºç¡€ä¸Šå¢åŠ äº†å¾ªç¯æ•°ç»„çš„æ¡ä»¶ã€‚

å¯ä»¥ä¾æ—§æŒ‰ç…§ç¬¬ 496 é¢˜çš„åšæ³•ï¼Œç”¨å•è°ƒæ ˆï¼Œæ ˆä¸­è®°å½•å•è°ƒé€’å¢çš„ä¸‹æ ‡ã€‚

åªä¸è¿‡ç”±äºæ˜¯å¾ªç¯æ•°ç»„ï¼Œæ‰€ä»¥éœ€è¦åœ¨åŸæ•°ç»„çš„åŸºç¡€ä¸Šï¼Œå°†æ•°ç»„å‰ `nâˆ’1` ä¸ªå…ƒç´ æ‹¼æ¥åœ¨åŸæ•°ç»„çš„åé¢ï¼Œè¿›è¡Œéå†ï¼Œå®é™…ä»£ç ä¸­ï¼Œä¸éœ€è¦çœŸæ­£æ‹¼æ¥æ•°ç»„ï¼Œåªéœ€å¯¹ä¸‹æ ‡å–æ¨¡å³å¯ã€‚

-

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number[]}
 */
var nextGreaterElements = function (nums) {
  let stack = [];
  let len = nums.length;
  let res = new Array(len).fill(-1);
  for (let i = 0; i < 2 * len - 1; i++) {
    let idx = i % len;
    while (stack.length && nums[idx] > nums[stack[stack.length - 1]]) {
      res[stack.pop()] = nums[idx];
    }
    stack.push(idx);
  }
  return res;
};
```
