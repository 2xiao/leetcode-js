# [å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—](https://leetcode.cn/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/)

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`äºŒåˆ†æŸ¥æ‰¾`](/leetcode/outline/tag/binary-search.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.cn/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/)

## é¢˜ç›®

æœ‰ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„ **éé™åºæ•°ç»„** ï¼Œæ¯”å¦‚ `[1,2,3,4,5]` ï¼Œå°†å®ƒè¿›è¡Œæ—‹è½¬ï¼Œå³æŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå˜æˆä¸€ä¸ªæ—‹è½¬æ•°ç»„ï¼Œæ¯”å¦‚å˜æˆäº† `[3,4,5,1,2]` ï¼Œæˆ–è€… `[4,5,1,2,3]` è¿™æ ·çš„ã€‚æ•°ç»„ä¸­çš„å…ƒç´ å¯èƒ½å­˜åœ¨é‡å¤ã€‚è¯·æ±‚æ•°ç»„ä¸­çš„æœ€å°å€¼ã€‚

è¦æ±‚ï¼šç©ºé—´å¤æ‚åº¦ï¼š`O(1)` ï¼Œæ—¶é—´å¤æ‚åº¦ï¼š`O(logn)`

**ç¤ºä¾‹ 1:**

> è¾“å…¥ï¼šstock = [4,5,8,3,4]
>
> è¾“å‡ºï¼š3

**ç¤ºä¾‹ 2:**

> è¾“å…¥ï¼šstock = [5,7,9,1,2]
>
> è¾“å‡ºï¼š1

**Constraints:**

- `1 <= stock.length <= 5000`
- `-5000 <= stock[i] <= 5000`

::: warning

æœ¬é¢˜å’Œã€Œ[154. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ II](./0154.md)ã€å®Œå…¨ç›¸åŒï¼Œæ˜¯ã€Œ[153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼](./0153.md)ã€çš„å»¶ä¼¸ã€‚å¯ä»¥å…ˆå°è¯•ç¬¬ 153 é¢˜ï¼Œä½“ä¼šåœ¨æ—‹è½¬æ•°ç»„ä¸­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾çš„æ€è·¯ï¼Œå†å°è¯•è§£å†³æœ¬é¢˜ã€‚

:::

## è§£é¢˜æ€è·¯

æœ€ç›´æ¥çš„åŠæ³•å°±æ˜¯éå†ä¸€éï¼Œæ‰¾åˆ°æœ€å°å€¼ã€‚ä½†æ˜¯è¿˜å¯ä»¥æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥é™ä½ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ã€‚

åˆ›å»ºä¸¤ä¸ªæŒ‡é’ˆ `left`ã€`right`ï¼Œåˆ†åˆ«æŒ‡å‘æ•°ç»„é¦–å°¾ï¼Œç„¶åè®¡ç®—å‡ºä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡ä¸‹æ ‡çš„ä¸­é—´å€¼ `mid`ï¼Œå°† `mid` ä¸ä¸¤ä¸ªæŒ‡é’ˆåšæ¯”è¾ƒã€‚

- å¦‚æœ `nums[mid] > nums[right]`ï¼Œåˆ™æœ€å°å€¼ä¸å¯èƒ½åœ¨ `mid` å·¦ä¾§ï¼Œä¸€å®šåœ¨ `mid` å³ä¾§ï¼Œåˆ™å°† `left` ç§»åŠ¨åˆ° `mid + 1` ä½ç½®ï¼Œç»§ç»­æŸ¥æ‰¾å³ä¾§åŒºé—´ã€‚
- å¦‚æœ `nums[mid] < nums[right]`ï¼Œåˆ™æœ€å°å€¼ä¸€å®šåœ¨ `mid` å·¦ä¾§ï¼Œæˆ–è€… `mid` ä½ç½®ï¼Œå°† `right` ç§»åŠ¨åˆ° `mid` ä½ç½®ä¸Šï¼Œç»§ç»­æŸ¥æ‰¾å·¦ä¾§åŒºé—´ã€‚
- å¦‚æœ `nums[mid] == nums[right]`ï¼Œæ— æ³•åˆ¤æ–­åœ¨ `mid` çš„å“ªä¸€ä¾§ï¼Œå¯ä»¥é‡‡ç”¨ `right = right - 1` é€æ­¥ç¼©å°åŒºåŸŸã€‚

æ—¶é—´å¤æ‚åº¦ï¼š`O(log n)`ï¼Œç©ºé—´å¤æ‚åº¦ï¼š`O(1)`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} stock
 * @return {number}
 */
var stockManagement = function (stock) {
	let left = 0,
		right = stock.length - 1;
	while (left < right) {
		let mid = Math.floor((left + right) / 2);
		if (stock[mid] > stock[right]) {
			left = mid + 1;
		} else if (stock[mid] < stock[right]) {
			right = mid;
		} else {
			right--;
		}
	}
	return stock[left];
};
```
