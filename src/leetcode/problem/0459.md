# [459. Repeated Substring Pattern](https://leetcode.com/problems/repeated-substring-pattern/)

ðŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ðŸ”–&ensp; [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) [`å­—ç¬¦ä¸²åŒ¹é…`](/leetcode/outline/tag/string-matching.md)&emsp; ðŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/repeated-substring-pattern/)

## é¢˜ç›®

Given a string `s`, check if it can be constructed by taking a substring of it
and appending multiple copies of the substring together.

**Example 1:**

> Input: s = "abab"
>
> Output: true
>
> Explanation: It is the substring "ab" twice.

**Example 2:**

> Input: s = "aba"
>
> Output: false

**Example 3:**

> Input: s = "abcabcabcabc"
>
> Output: true
>
> Explanation: It is the substring "abc" four times or the substring "abcabc" twice.

**Constraints:**

- `1 <= s.length <= 10^4`
- `s` consists of lowercase English letters.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªéžç©ºçš„å­—ç¬¦ä¸² `s` ï¼Œæ£€æŸ¥æ˜¯å¦å¯ä»¥é€šè¿‡ç”±å®ƒçš„ä¸€ä¸ªå­ä¸²é‡å¤å¤šæ¬¡æž„æˆã€‚

## è§£é¢˜æ€è·¯

1. å¾ªçŽ¯éåŽ†å¯èƒ½çš„å­å­—ç¬¦ä¸²é•¿åº¦ï¼š

   - é€šè¿‡ä¸€ä¸ªå¾ªçŽ¯éåŽ†å¯èƒ½çš„å­å­—ç¬¦ä¸²é•¿åº¦ï¼Œä»Žé•¿åº¦ä¸º 1 åˆ° `n/2` éåŽ†ï¼Œ`n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚æˆ‘ä»¬åªéœ€è¦è€ƒè™‘åˆ° `n/2`ï¼Œå› ä¸ºä¸€ä¸ªå­å­—ç¬¦ä¸²é‡å¤æž„æˆçš„é•¿åº¦ä¸èƒ½è¶…è¿‡ä¸€åŠã€‚

2. åˆ¤æ–­æ•´é™¤ï¼š

   - å¯¹äºŽæ¯ä¸€ä¸ªå¯èƒ½çš„é•¿åº¦ `i`ï¼Œæ£€æŸ¥ `n % i == 0`ã€‚å¦‚æžœå­—ç¬¦ä¸²é•¿åº¦èƒ½è¢« `i` æ•´é™¤ï¼Œè¯´æ˜Žå¯ä»¥å°è¯•ç”¨é•¿åº¦ä¸º `i` çš„å­å­—ç¬¦ä¸²æž„å»ºåŽŸå­—ç¬¦ä¸²ã€‚

3. åˆ¤æ–­æ•´é™¤ï¼š

   - é€šè¿‡ `s.slice(0, i)` èŽ·å–é•¿åº¦ä¸º `i` çš„å­å­—ç¬¦ä¸² `str`ã€‚
   - ç„¶åŽç”¨ `str.repeat(n / i)` æ¥æž„å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸ŽåŽŸå­—ç¬¦ä¸² `s` è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æžœç›¸ç­‰ï¼Œè¯´æ˜Žå¯ä»¥ç”±è¯¥å­å­—ç¬¦ä¸²é‡å¤æž„æˆï¼Œè¿”å›ž `true`ã€‚

4. è¿”å›žç»“æžœï¼š

   - å¦‚æžœéåŽ†å®Œæ‰€æœ‰å¯èƒ½çš„é•¿åº¦ä»ç„¶æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ž `false`ã€‚

#### å¤æ‚åº¦åˆ†æž

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^2)`ï¼Œå¤–å±‚å¾ªçŽ¯çš„è¿­ä»£æ¬¡æ•°æœ€å¤šä¸º `n/2`ï¼Œè€Œ `str.repeat(n / i)` æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚å› æ­¤ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n^2)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œä½¿ç”¨çš„é¢å¤–ç©ºé—´ä¸»è¦æ˜¯å­˜å‚¨ `str`ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {boolean}
 */
var repeatedSubstringPattern = function (s) {
	const n = s.length;
	for (let i = 1; i <= n / 2; i++) {
		if (n % i == 0) {
			const str = s.slice(0, i);
			if (str.repeat(n / i) == s) {
				return true;
			}
		}
	}
	return false;
};
```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®

- [28. æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡](https://leetcode.com/problems/find-the-index-of-the-first-occurrence-in-a-string)
- [686. é‡å¤å åŠ å­—ç¬¦ä¸²åŒ¹é…](https://leetcode.com/problems/repeated-string-match)

::::
