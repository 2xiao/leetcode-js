# [200. å²›å±¿æ•°é‡](https://leetcode.com/problems/number-of-islands)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md) [`å¹¿åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/breadth-first-search.md) [`å¹¶æŸ¥é›†`](/leetcode/outline/tag/disjoint-set-union.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`çŸ©é˜µ`](/leetcode/outline/tag/matrix.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/number-of-islands/)

## é¢˜ç›®

Given an `m x n` 2D binary grid `grid` which represents a map of `'1'`s (land)
and `'0'`s (water), return _the number of islands_.

An **island** is surrounded by water and is formed by connecting adjacent
lands horizontally or vertically. You may assume all four edges of the grid
are all surrounded by water.

**Example 1:**

> Input: grid = [
>
> ["1","1","1","1","0"],
>
> ["1","1","0","1","0"],
>
> ["1","1","0","0","0"],
>
> ["0","0","0","0","0"]
>
> ]
>
> Output: 1

**Example 2:**

> Input: grid = [
>
> ["1","1","0","0","0"],
>
> ["1","1","0","0","0"],
>
> ["0","0","1","0","0"],
>
> ["0","0","0","1","1"]
>
> ]
>
> Output: 3

**Constraints:**

- `m == grid.length`
- `n == grid[i].length`
- `1 <= m, n <= 300`
- `grid[i][j]` is `'0'` or `'1'`.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªç”± `'1'`ï¼ˆé™†åœ°ï¼‰å’Œ `'0'`ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚

å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚

## è§£é¢˜æ€è·¯

éå†æ•´ä¸ªç½‘æ ¼ï¼Œå¹¶åœ¨æ¯æ¬¡æ‰¾åˆ°ä¸€ä¸ªé™†åœ°å•å…ƒæ—¶ï¼Œä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰æˆ–å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰æ¥éå†æ‰€æœ‰ç›¸è¿çš„é™†åœ°å•å…ƒï¼Œä»è€Œå°†æ•´ä¸ªå²›å±¿æ ‡è®°ä¸ºå·²è®¿é—®ã€‚

1. éå†ç½‘æ ¼ï¼šéå†æ¯ä¸€ä¸ªå•å…ƒæ ¼ï¼Œå¦‚æœå½“å‰å•å…ƒæ ¼æ˜¯ `'1'`ï¼ˆé™†åœ°ï¼‰ï¼Œåˆ™æ‰¾åˆ°ä¸€ä¸ªæ–°çš„å²›å±¿ï¼Œè®¡æ•°å™¨åŠ ä¸€ã€‚
2. æ ‡è®°å·²è®¿é—®ï¼šä½¿ç”¨ DFS ä»å½“å‰å•å…ƒæ ¼å¼€å§‹ï¼Œæ ‡è®°æ‰€æœ‰è¿é€šçš„é™†åœ°å•å…ƒä¸º `'0'`ï¼ˆæ°´ï¼‰ï¼Œè¡¨ç¤ºå®ƒä»¬å·²è¢«è®¿é—®ã€‚
3. ç»§ç»­éå†ï¼šç»§ç»­éå†å‰©ä½™çš„å•å…ƒæ ¼ï¼Œç›´åˆ°æ•´ä¸ªç½‘æ ¼è¢«æ£€æŸ¥å®Œã€‚

## ä»£ç 

```javascript
/**
 * @param {character[][]} grid
 * @return {number}
 */
var numIslands = function (grid) {
	let res = 0;
	const m = grid.length,
		n = grid[0].length;

	// ä» (i, j) å¼€å§‹ï¼Œå°†ä¸ä¹‹ç›¸é‚»çš„é™†åœ°éƒ½å˜æˆæµ·æ°´
	const dfs = (grid, i, j) => {
		const m = grid.length,
			n = grid[0].length;
		// è¶…å‡ºç´¢å¼•è¾¹ç•Œ
		if (i < 0 || j < 0 || i >= m || j >= n) {
			return;
		}
		// (i, j) å·²ç»æ˜¯æµ·æ°´äº†
		if (grid[i][j] == '0') {
			return;
		}
		// å°† (i, j) å˜æˆæµ·æ°´
		grid[i][j] = '0';
		// æ·¹æ²¡ä¸Šä¸‹å·¦å³çš„é™†åœ°
		dfs(grid, i - 1, j); // ä¸Š
		dfs(grid, i + 1, j); // ä¸‹
		dfs(grid, i, j - 1); // å·¦
		dfs(grid, i, j + 1); // å³
	};

	// éå† grid
	for (let i = 0; i < m; i++) {
		for (let j = 0; j < n; j++) {
			if (grid[i][j] == '1') {
				// æ¯å‘ç°ä¸€ä¸ªå²›å±¿ï¼Œå²›å±¿æ•°é‡åŠ ä¸€
				res++;
				// ç„¶åä½¿ç”¨ DFS å°†å²›å±¿æ·¹äº†
				dfs(grid, i, j);
			}
		}
	}

	return res;
};
```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [130. è¢«å›´ç»•çš„åŒºåŸŸ](./0130.md)
- [286. å¢™ä¸é—¨](https://leetcode.com/problems/walls-and-gates)
- [305. å²›å±¿æ•°é‡ II](https://leetcode.com/problems/number-of-islands-ii)
- [323. æ— å‘å›¾ä¸­è¿é€šåˆ†é‡çš„æ•°ç›®](https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph)
- [419. æ£‹ç›˜ä¸Šçš„æˆ˜èˆ°](https://leetcode.com/problems/battleships-in-a-board)
- [694. ä¸åŒå²›å±¿çš„æ•°é‡](https://leetcode.com/problems/number-of-distinct-islands)
- [695. å²›å±¿çš„æœ€å¤§é¢ç§¯](https://leetcode.com/problems/max-area-of-island)
- [1905. ç»Ÿè®¡å­å²›å±¿](https://leetcode.com/problems/count-sub-islands)
- [1992. æ‰¾åˆ°æ‰€æœ‰çš„å†œåœºç»„](https://leetcode.com/problems/find-all-groups-of-farmland)
- [2316. ç»Ÿè®¡æ— å‘å›¾ä¸­æ— æ³•äº’ç›¸åˆ°è¾¾ç‚¹å¯¹æ•°](https://leetcode.com/problems/count-unreachable-pairs-of-nodes-in-an-undirected-graph)
- [2658. ç½‘æ ¼å›¾ä¸­é±¼çš„æœ€å¤§æ•°ç›®](https://leetcode.com/problems/maximum-number-of-fish-in-a-grid)

::::
