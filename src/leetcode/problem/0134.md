# [134. åŠ æ²¹ç«™](https://leetcode.com/problems/gas-station)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/leetcode/outline/tag/greedy.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/gas-station/)

## é¢˜ç›®

There are `n` gas stations along a circular route, where the amount of gas at
the `ith` station is `gas[i]`.

You have a car with an unlimited gas tank and it costs `cost[i]` of gas to
travel from the `ith` station to its next `(i + 1)th` station. You begin the
journey with an empty tank at one of the gas stations.

Given two integer arrays `gas` and `cost`, return _the starting gas station 's
index if you can travel around the circuit once in the clockwise direction,
otherwise return_ `-1`. If there exists a solution, it is **guaranteed** to be
**unique**

**Example 1:**

> Input: gas = [1,2,3,4,5], cost = [3,4,5,1,2]
>
> Output: 3
>
> Explanation:
>
> Start at station 3 (index 3) and fill up with 4 unit of gas. Your tank = 0 + 4 = 4
>
> Travel to station 4. Your tank = 4 - 1 + 5 = 8
>
> Travel to station 0. Your tank = 8 - 2 + 1 = 7
>
> Travel to station 1. Your tank = 7 - 3 + 2 = 6
>
> Travel to station 2. Your tank = 6 - 4 + 3 = 5
>
> Travel to station 3. The cost is 5. Your gas is just enough to travel back to station 3.
>
> Therefore, return 3 as the starting index.

**Example 2:**

> Input: gas = [2,3,4], cost = [3,4,3]
>
> Output: -1
>
> Explanation:
>
> You can't start at station 0 or 1, as there is not enough gas to travel to the next station.
>
> Let's start at station 2 and fill up with 4 unit of gas. Your tank = 0 + 4 = 4
>
> Travel to station 0. Your tank = 4 - 3 + 2 = 3
>
> Travel to station 1. Your tank = 3 - 3 + 3 = 3
>
> You cannot travel back to station 2, as it requires 4 unit of gas but you only have 3.
>
> Therefore, you can't travel around the circuit once no matter where you start.

**Constraints:**

- `n == gas.length == cost.length`
- `1 <= n <= 10^5`
- `0 <= gas[i], cost[i] <= 10^4`

## é¢˜ç›®å¤§æ„

åœ¨ä¸€æ¡ç¯è·¯ä¸Šæœ‰ `n` ä¸ªåŠ æ²¹ç«™ï¼Œå…¶ä¸­ç¬¬ `i` ä¸ªåŠ æ²¹ç«™æœ‰æ±½æ²¹ `gas[i]` å‡ã€‚

ä½ æœ‰ä¸€è¾†æ²¹ç®±å®¹é‡æ— é™çš„çš„æ±½è½¦ï¼Œä»ç¬¬ `i` ä¸ªåŠ æ²¹ç«™å¼€å¾€ç¬¬ `i+1` ä¸ªåŠ æ²¹ç«™éœ€è¦æ¶ˆè€—æ±½æ²¹ `cost[i]` å‡ã€‚ä½ ä»å…¶ä¸­çš„ä¸€ä¸ªåŠ æ²¹ç«™å‡ºå‘ï¼Œå¼€å§‹æ—¶æ²¹ç®±ä¸ºç©ºã€‚

ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„ `gas` å’Œ `cost` ï¼Œå¦‚æœä½ å¯ä»¥æŒ‰é¡ºåºç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ï¼Œåˆ™è¿”å›å‡ºå‘æ—¶åŠ æ²¹ç«™çš„ç¼–å·ï¼Œå¦åˆ™è¿”å› `-1` ã€‚å¦‚æœå­˜åœ¨è§£ï¼Œåˆ™ **ä¿è¯** å®ƒæ˜¯ **å”¯ä¸€** çš„ã€‚

## è§£é¢˜æ€è·¯

è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ä¸€æ¬¡éå†æ¥è§£å†³ï¼Œéå†è¿‡ç¨‹ä¸­è®°å½•æ€»åŠ æ²¹é‡ä¸æ€»æ¶ˆè€—é‡çš„å·®å€¼ï¼ŒåŒæ—¶ç»´æŠ¤ä¸€ä¸ªæœ€å°å·®å€¼çš„å˜é‡å’Œä¸€ä¸ªèµ·å§‹ç´¢å¼•ã€‚

1. åˆå§‹åŒ–å˜é‡ `sum` è¡¨ç¤ºæ€»åŠ æ²¹é‡ä¸æ€»æ¶ˆè€—é‡çš„å·®å€¼ï¼Œå˜é‡ `minSum` è¡¨ç¤ºæœ€å°çš„å·®å€¼ï¼Œå˜é‡ `start` è¡¨ç¤ºèµ·å§‹ç´¢å¼•ï¼Œä»¥åŠå˜é‡ `n` è¡¨ç¤ºåŠ æ²¹ç«™çš„æ•°é‡ã€‚
2. éå†æ¯ä¸ªåŠ æ²¹ç«™ï¼Œè®¡ç®—æ€»åŠ æ²¹é‡ä¸æ€»æ¶ˆè€—é‡çš„å·®å€¼ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦å°äºå½“å‰æœ€å°å·®å€¼ã€‚å¦‚æœæ˜¯ï¼Œåˆ™æ›´æ–°æœ€å°å·®å€¼å’Œèµ·å§‹ç´¢å¼•ã€‚
3. éå†ç»“æŸåï¼Œå¦‚æœæ€»å·®å€¼å°äº `0`ï¼Œè¯´æ˜æ— æ³•ç»•ä¸€å‘¨ï¼Œè¿”å› `-1`ï¼›å¦åˆ™ï¼Œè¿”å›èµ·å§‹ç´¢å¼•ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯åŠ æ²¹ç«™çš„æ•°é‡ã€‚ä¸€æ¬¡éå†æ‰€æœ‰åŠ æ²¹ç«™ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ä¸ªé¢å¤–å˜é‡ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} gas
 * @param {number[]} cost
 * @return {number}
 */
var canCompleteCircuit = function (gas, cost) {
	let sum = 0,
		minSum = 0,
		start = 0,
		n = gas.length;
	for (let i = 0; i < n; i++) {
		sum += gas[i] - cost[i];
		if (sum < minSum) {
			minSum = sum;
			start = i + 1;
		}
	}
	if (sum < 0) {
		return -1;
	}
	return start == n ? 0 : start;
};
```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [K æ¬¡æ“ä½œåæœ€å¤§åŒ–é¡¶ç«¯å…ƒç´ ](https://leetcode.com/problems/maximize-the-topmost-element-after-k-moves)

::::
