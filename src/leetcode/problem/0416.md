# [416. Partition Equal Subset Sum](https://leetcode.com/problems/partition-equal-subset-sum/)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/partition-equal-subset-sum/)

## é¢˜ç›®

Given an integer array `nums`, return `true` _if you can partition the array
into two subsets such that the sum of the elements in both subsets is equal
or_`false` _otherwise_.

**Example 1:**

> Input: nums = [1,5,11,5]
>
> Output: true
>
> Explanation: The array can be partitioned as [1, 5, 5] and [11].

**Example 2:**

> Input: nums = [1,2,3,5]
>
> Output: false
>
> Explanation: The array cannot be partitioned into equal sum subsets.

**Constraints:**

- `1 <= nums.length <= 200`
- `1 <= nums[i] <= 100`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ª **åªåŒ…å«æ­£æ•´æ•°** çš„ **éç©º** æ•°ç»„ `nums` ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šåŠ¨æ€è§„åˆ’

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ¥è§£å†³ã€‚é—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºèƒŒåŒ…é—®é¢˜ï¼Œå³æ˜¯å¦å­˜åœ¨ä¸€ç»„å…ƒç´ ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œæ°å¥½ä¸ºæ•°ç»„å…ƒç´ å’Œçš„ä¸€åŠã€‚

å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ `dp`ï¼Œå…¶ä¸­ `dp[i][j]` è¡¨ç¤ºåœ¨å‰ `i` ä¸ªå…ƒç´ ä¸­æ˜¯å¦å­˜åœ¨ä¸€ç»„å…ƒç´ çš„å’Œç­‰äº `j`ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š

`dp[i][j] = dp[i - 1][j] || dp[i - 1][j - nums[i - 1]]`

- `dp[i-1][j]` è¡¨ç¤ºä¸é€‰å–ç¬¬ `i` ä¸ªå…ƒç´ ã€‚
- `dp[i-1][j-nums[i-1]]` è¡¨ç¤ºé€‰å–ç¬¬ `i` ä¸ªå…ƒç´ ã€‚

åˆå§‹åŒ–çŠ¶æ€ï¼š`dp[i][0] = true`ï¼Œå³å¯¹äºå‰ `i` ä¸ªå…ƒç´ ï¼Œæ€»æ˜¯å¯ä»¥æ‰¾åˆ°ä¸€ç»„å…ƒç´ çš„å’Œä¸º 0ï¼ˆå³ä¸é€‰å–ä»»ä½•å…ƒç´ ï¼‰ã€‚

æœ€ç»ˆç»“æœä¸º `dp[n][target]`ï¼Œå…¶ä¸­ `n` ä¸ºæ•°ç»„é•¿åº¦ï¼Œ`target` ä¸ºæ•°ç»„å…ƒç´ å’Œçš„ä¸€åŠã€‚

- æ—¶é—´å¤æ‚åº¦ï¼š`O(n * target)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„é•¿åº¦ï¼Œ`target` æ˜¯æ•°ç»„å…ƒç´ å’Œçš„ä¸€åŠã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š`O(n * target)`ï¼Œä½¿ç”¨äº†ä¸€ä¸ªäºŒç»´åŠ¨æ€è§„åˆ’æ•°ç»„ã€‚

### æ€è·¯äºŒï¼šå‹ç¼©çŠ¶æ€çš„åŠ¨æ€è§„åˆ’

## ä»£ç 

::: code-tabs

@tab æ€è·¯ä¸€ï¼šåŠ¨æ€è§„åˆ’

```javascript
/**
 * @param {number[]} nums
 * @return {boolean}
 */
function canPartition(nums) {
	const n = nums.length;
	const sum = nums.reduce((acc, num) => acc + num, 0);

	// å¦‚æœæ•°ç»„å…ƒç´ å’Œä¸ºå¥‡æ•°ï¼Œä¸å¯èƒ½åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†
	if (sum % 2 !== 0) {
		return false;
	}

	const target = sum / 2;
	const dp = new Array(n + 1)
		.fill(false)
		.map(() => new Array(target + 1).fill(false));

	// åˆå§‹åŒ–çŠ¶æ€
	for (let i = 0; i <= n; i++) {
		dp[i][0] = true;
	}

	// åŠ¨æ€è§„åˆ’è®¡ç®—
	for (let i = 1; i <= n; i++) {
		for (let j = 1; j <= target; j++) {
			if (j < nums[i - 1]) {
				// èƒŒåŒ…å®¹é‡ä¸è¶³ï¼Œä¸èƒ½è£…å…¥ç¬¬ i ä¸ªç‰©å“
				dp[i][j] = dp[i - 1][j];
			} else {
				// è£…å…¥æˆ–ä¸è£…å…¥èƒŒåŒ…
				dp[i][j] = dp[i - 1][j] || dp[i - 1][j - nums[i - 1]];
			}
		}
	}

	return dp[n][target];
}
```

@tab æ€è·¯äºŒï¼šå‹ç¼©çŠ¶æ€çš„åŠ¨æ€è§„åˆ’

```javascript
/**
 * @param {number[]} nums
 * @return {boolean}
 */
function canPartition(nums) {
	const n = nums.length;
	const sum = nums.reduce((acc, num) => acc + num, 0);

	// å¦‚æœæ•°ç»„å…ƒç´ å’Œä¸ºå¥‡æ•°ï¼Œä¸å¯èƒ½åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†
	if (sum % 2 !== 0) {
		return false;
	}

	const target = sum / 2;
	const dp = new Array(target + 1).fill(false);

	// åˆå§‹åŒ–çŠ¶æ€
	dp[0] = true;

	// åŠ¨æ€è§„åˆ’è®¡ç®—
	for (let num of nums) {
		for (let j = target; j >= num; j--) {
			dp[j] = dp[j] || dp[j - num];
		}
	}

	return dp[target];
}
```

:::

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®

- [698. åˆ’åˆ†ä¸º k ä¸ªç›¸ç­‰çš„å­é›†](https://leetcode.com/problems/partition-to-k-equal-sum-subsets)
- [1981. æœ€å°åŒ–ç›®æ ‡å€¼ä¸æ‰€é€‰å…ƒç´ çš„å·®](https://leetcode.com/problems/minimize-the-difference-between-target-and-chosen-elements)
- [2025. åˆ†å‰²æ•°ç»„çš„æœ€å¤šæ–¹æ¡ˆæ•°](https://leetcode.com/problems/maximum-number-of-ways-to-partition-an-array)
- [2035. å°†æ•°ç»„åˆ†æˆä¸¤ä¸ªæ•°ç»„å¹¶æœ€å°åŒ–æ•°ç»„å’Œçš„å·®](https://leetcode.com/problems/partition-array-into-two-arrays-to-minimize-sum-difference)
- [2395. å’Œç›¸ç­‰çš„å­æ•°ç»„](https://leetcode.com/problems/find-subarrays-with-equal-sum)
- [2518. å¥½åˆ†åŒºçš„æ•°ç›®](https://leetcode.com/problems/number-of-great-partitions)
- [2578. æœ€å°å’Œåˆ†å‰²](https://leetcode.com/problems/split-with-minimum-sum)

::::
