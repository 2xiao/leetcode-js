# [80. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ II](https://leetcode.com/problems/remove-duplicates-from-sorted-array-ii)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŒæŒ‡é’ˆ`](/leetcode/outline/tag/two-pointers.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/remove-duplicates-from-sorted-array-ii/)

## é¢˜ç›®

Given an integer array `nums` sorted in **non-decreasing order** , remove some
duplicates [**in-place**](https://en.wikipedia.org/wiki/In-place_algorithm)
such that each unique element appears **at most twice**. The **relative order** of the elements should be kept the **same**.

Since it is impossible to change the length of the array in some languages,
you must instead have the result be placed in the **first part** of the array
`nums`. More formally, if there are `k` elements after removing the
duplicates, then the first `k` elements of `nums` should hold the final
result. It does not matter what you leave beyond the first `k` elements.

Return `k` _after placing the final result in the first_`k` _slots of_`nums`.

Do **not** allocate extra space for another array. You must do this by
**modifying the input array[in-place](https://en.wikipedia.org/wiki/In-place_algorithm)** with O(1) extra memory.

**Example 1:**

> Input: nums = [1,1,1,2,2,3]
>
> Output: 5, nums = [1,1,2,2,3,_]
>
> Explanation: Your function should return k = 5, with the first five elements of nums being 1, 1, 2, 2 and 3 respectively.
>
> It does not matter what you leave beyond the returned k (hence they are underscores).

**Example 2:**

> Input: nums = [0,0,1,1,1,1,2,3,3]
>
> Output: 7, nums = [0,0,1,1,2,3,3,_,_]
>
> Explanation: Your function should return k = 7, with the first seven elements of nums being 0, 0, 1, 1, 2, 3 and 3 respectively.
>
> It does not matter what you leave beyond the returned k (hence they are underscores).

**Constraints:**

- `1 <= nums.length <= 3 * 10^4`
- `-10^4 <= nums[i] <= 10^4`
- `nums` is sorted in **non-decreasing** order.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªæœ‰åºæ•°ç»„ numsï¼Œå¯¹æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œå»é‡ï¼Œä½¿å¾—åŸæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æœ€å¤šæš´éœ² 2 ä¸ªã€‚æœ€åè¿”å›å»é‡ä»¥åæ•°ç»„çš„é•¿åº¦å€¼ã€‚

## è§£é¢˜æ€è·¯

- é—®é¢˜æç¤ºæœ‰åºæ•°ç»„ï¼Œä¸€èˆ¬æœ€å®¹æ˜“æƒ³åˆ°ä½¿ç”¨åŒæŒ‡é’ˆçš„è§£æ³•ï¼ŒåŒæŒ‡é’ˆçš„å…³é”®ç‚¹ï¼šç§»åŠ¨ä¸¤ä¸ªæŒ‡é’ˆçš„æ¡ä»¶ã€‚
  - å¿«æŒ‡é’ˆä»å¤´éå†æ•°ç»„ï¼Œæ…¢æŒ‡é’ˆæŒ‡å‘ä¿®æ”¹åçš„æ•°ç»„çš„æœ«ç«¯ï¼›
  - å½“æ…¢æŒ‡é’ˆä¸å¿«æŒ‡é’ˆçš„æ•°ä¸ç›¸ç­‰æ—¶ï¼Œç§»åŠ¨æ…¢æŒ‡é’ˆåˆ°ä¸‹ä¸€ä¸ªä½ç½®ï¼ŒåŒæ—¶èµ‹å€¼æ…¢æŒ‡é’ˆï¼›
  - å½“æ…¢æŒ‡é’ˆä¸å¿«æŒ‡é’ˆçš„æ•°ç›¸ç­‰æ—¶ï¼Œåˆ¤æ–­ç›¸ç­‰çš„æ¬¡æ•°ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡ç›¸ç­‰æ—¶ï¼ˆå› ä¸ºä¸ç›¸ç­‰æ—¶å·²ç»ç§»åŠ¨è¿‡æ­¤æ•°å­—ä¸€æ¬¡äº†ï¼‰ï¼Œæ‰ç§»åŠ¨æ…¢æŒ‡é’ˆåˆ°ä¸‹ä¸€ä¸ªä½ç½®ï¼ŒåŒæ—¶èµ‹å€¼æ…¢æŒ‡é’ˆï¼›
- å¤„ç†è¾¹ç•Œæ¡ä»¶ï¼šå½“æ•°ç»„å°äºä¸¤ä¸ªå…ƒç´ æ—¶ï¼Œä¸åšå¤„ç†ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var removeDuplicates = function (nums) {
  const len = nums.length;
  if (len < 3) return len;
  let slow = 0;
  let sameTime = 0;
  for (let i = 1; i < len; i++) {
    if (nums[slow] != nums[i]) {
      slow++;
      nums[slow] = nums[i];
      sameTime = 0;
    } else {
      sameTime++;
      if (sameTime === 1) {
        slow++;
        nums[slow] = nums[i];
      }
    }
  }
  return slow + 1;
};
```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹](./0026.md)

::::
