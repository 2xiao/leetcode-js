# [45. Jump Game II](https://leetcode.com/problems/jump-game-ii/)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`è´ªå¿ƒ`](/leetcode/outline/tag/greedy.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/jump-game-ii/)

## é¢˜ç›®

You are given a **0-indexed** array of integers `nums` of length `n`. You are
initially positioned at `nums[0]`.

Each element `nums[i]` represents the maximum length of a forward jump from
index `i`. In other words, if you are at `nums[i]`, you can jump to any
`nums[i + j]` where:

- `0 <= j <= nums[i]` and
- `i + j < n`

Return _the minimum number of jumps to reach_`nums[n - 1]`. The test cases are
generated such that you can reach `nums[n - 1]`.

**Example 1:**

> Input: nums = [2,3,1,1,4]
>
> Output: 2
>
> Explanation: The minimum number of jumps to reach the last index is 2. Jump 1 step from index 0 to 1, then 3 steps to the last index.

**Example 2:**

> Input: nums = [2,3,0,1,4]
>
> Output: 2

**Constraints:**

- `1 <= nums.length <= 10^4`
- `0 <= nums[i] <= 1000`
- It's guaranteed that you can reach `nums[n - 1]`.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º `n` çš„ `0` ç´¢å¼•æ•´æ•°æ•°ç»„ `nums`ã€‚åˆå§‹ä½ç½®ä¸º `nums[0]`ã€‚

æ¯ä¸ªå…ƒç´  `nums[i]` è¡¨ç¤ºä»ç´¢å¼• `i` å‘å‰è·³è½¬çš„æœ€å¤§é•¿åº¦ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ åœ¨ `nums[i]` å¤„ï¼Œä½ å¯ä»¥è·³è½¬åˆ°ä»»æ„ `nums[i + j]` å¤„:

- `0 <= j <= nums[i]`
- `i + j < n`

è¿”å›åˆ°è¾¾ `nums[n - 1]` çš„æœ€å°è·³è·ƒæ¬¡æ•°ã€‚ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹å¯ä»¥åˆ°è¾¾ `nums[n - 1]`ã€‚

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šè´ªå¿ƒç®—æ³•

è´ªå¿ƒç®—æ³•æ˜¯ä¸€ç§é€šè¿‡åœ¨æ¯ä¸€æ­¥é€‰æ‹©ä¸­éƒ½é‡‡å–å½“å‰çŠ¶æ€ä¸‹æœ€ä¼˜ï¼ˆå³æœ€æœ‰åˆ©ï¼‰çš„é€‰æ‹©ï¼Œä»è€Œå¸Œæœ›æœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°å…¨å±€æœ€ä¼˜è§£çš„æ–¹æ³•ã€‚

1. **åˆå§‹åŒ–**ï¼š

   - åˆå§‹åŒ–ä¸¤ä¸ªå˜é‡ `maxPosition` å’Œ `end`ï¼Œåˆ†åˆ«è¡¨ç¤ºå½“å‰èƒ½å¤Ÿåˆ°è¾¾çš„æœ€è¿œä½ç½®å’Œå½“å‰ä¸€æ­¥è·³è·ƒçš„ç»“æŸä½ç½®ï¼Œåˆå§‹éƒ½ä¸º 0ã€‚
   - åˆå§‹åŒ–å˜é‡ `steps` ç”¨æ¥è®°å½•è·³è·ƒæ¬¡æ•°ï¼Œåˆå§‹ä¸º 0ã€‚

2. **è´ªå¿ƒç­–ç•¥**ï¼š
   - åœ¨éå†æ•°ç»„çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹äºæ¯ä¸ªä½ç½®ï¼Œæ›´æ–° `maxPosition` ä¸ºå½“å‰ä½ç½®èƒ½å¤Ÿåˆ°è¾¾çš„æœ€è¿œä½ç½®ã€‚
   - å½“éå†åˆ°è¾¾ `end` ä½ç½®æ—¶ï¼Œè¡¨ç¤ºå½“å‰ä¸€æ­¥è·³è·ƒå·²ç»ç»“æŸï¼Œå°†æ­¥æ•° `steps` åŠ ä¸€ï¼Œå¹¶ä¸”æ›´æ–° `end` ä¸º `maxPosition`ã€‚
   - å¦‚æœéå†å®Œæ•°ç»„æ—¶å·²ç»åˆ°è¾¾æˆ–è¶…è¿‡äº†æœ€åä¸€ä¸ªä½ç½®ï¼Œè¿”å›å½“å‰æ­¥æ•° `steps` å³å¯ã€‚

### æ€è·¯äºŒï¼šåŠ¨æ€è§„åˆ’

1. **å®šä¹‰çŠ¶æ€**ï¼š`dp[i]` è¡¨ç¤ºä»ä½ç½® `nums[i]` è·³åˆ°ç›®æ ‡ä½ç½® `nums[n - 1]` çš„æœ€å°è·³è·ƒæ¬¡æ•°ã€‚

2. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**ï¼š

   - å¯¹äºæ¯ä¸ªä½ç½® `nums[i]`ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ä»å½“å‰ä½ç½®è·³è·ƒåˆ°ä¸‹ä¸€ä¸ªä½ç½® `nums[i + j]` çš„æ‰€æœ‰å¯èƒ½æ€§ï¼Œå…¶ä¸­ `1 <= j <= nums[i]`ã€‚
   - å¯¹äºæ¯ä¸ªå¯èƒ½çš„è·³è·ƒæ­¥æ•° `j`ï¼Œæˆ‘ä»¬æ›´æ–° `dp[i]` ä¸º `1 + dp[i + j]`ï¼Œè¡¨ç¤ºä»å½“å‰ä½ç½®è·³è·ƒä¸€æ¬¡ï¼ŒåŠ ä¸Šä»ä¸‹ä¸€ä½ç½® `nums[i + j]` è·³åˆ°ç›®æ ‡ä½ç½® `nums[n - 1]` çš„æœ€å°è·³è·ƒæ¬¡æ•°ã€‚
   - æœ€ç»ˆï¼Œ`dp[0]` å³ä¸ºä»èµ·å§‹ä½ç½® `nums[0]` è·³åˆ°ç›®æ ‡ä½ç½® `nums[n - 1]` çš„æœ€å°è·³è·ƒæ¬¡æ•°ã€‚

3. **åˆå§‹åŒ–**ï¼šåˆå§‹åŒ–æ•°ç»„ `dp`ï¼Œé•¿åº¦ä¸º `n`ï¼Œåˆå§‹å€¼ä¸º `n`ï¼Œè¡¨ç¤ºä»ä»»æ„ä½ç½®è·³åˆ°ç›®æ ‡ä½ç½®çš„æœ€å¤§è·³è·ƒæ¬¡æ•°ä¸º `n`ã€‚æœ€åä¸€ä¸ªä½ç½®åˆ°ç›®æ ‡ä½ç½®çš„è·ç¦»ä¸º 0ï¼Œæ‰€ä»¥ `dp[n - 1] = 0`ã€‚

4. **éå†æ±‚è§£**ï¼šä»æ•°ç»„å€’æ•°ç¬¬äºŒä¸ªä½ç½®å¼€å§‹å‘å‰éå†ï¼Œæ›´æ–° `dp[i]` çš„å€¼ã€‚

5. **è¿”å›ç»“æœ**ï¼šè¿”å› `dp[0]`ï¼Œå³èµ·å§‹ä½ç½®åˆ°ç›®æ ‡ä½ç½®çš„æœ€å°è·³è·ƒæ¬¡æ•°ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n^2)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ¯ä¸ªä½ç½® `i`ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ä»å½“å‰ä½ç½®è·³è·ƒåˆ°ä¸‹ä¸€ä¸ªä½ç½®çš„æ‰€æœ‰å¯èƒ½æ€§ï¼Œè¿™å¯èƒ½éœ€è¦éå†è¯¥ä½ç½®èƒ½å¤Ÿè·³è·ƒçš„æ‰€æœ‰å¯èƒ½æ­¥æ•°ï¼Œè¿™ä¸€è¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(nums[i])`ï¼Œè€Œæ•°ç»„å…±æœ‰ `n` ä¸ªä½ç½®ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n^2)`ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ `dp` æ¥å­˜å‚¨æ¯ä¸ªä½ç½®çš„æœ€å°è·³è·ƒæ¬¡æ•°ã€‚

åŠ¨æ€è§„åˆ’è§£æ³•åœ¨æ—¶é—´å¤æ‚åº¦ä¸Šå¯èƒ½è¾ƒé«˜ï¼Œå› ä¸ºå¯¹äºæ¯ä¸ªä½ç½®éƒ½éœ€è¦éå†å…¶èƒ½å¤Ÿè·³è·ƒçš„æ‰€æœ‰å¯èƒ½æ­¥æ•°ï¼Œä½†å®ƒèƒ½å¤Ÿæœ‰æ•ˆåœ°æ±‚è§£é—®é¢˜å¹¶ç»™å‡ºæ­£ç¡®ç­”æ¡ˆã€‚

## ä»£ç 

::: code-tabs

@tab è´ªå¿ƒç®—æ³•

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var jump = function (nums) {
	if (nums.length === 1) {
		return 0;
	}

	let steps = 0;
	let maxPosition = 0;
	let end = 0;

	for (let i = 0; i < nums.length - 1; i++) {
		maxPosition = Math.max(maxPosition, i + nums[i]);
		if (i === end) {
			steps++;
			end = maxPosition;
			if (end >= nums.length - 1) {
				break;
			}
		}
	}

	return steps;
};
```

@tab åŠ¨æ€è§„åˆ’

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var jump = function (nums) {
	const n = nums.length;
	// dp[i] ä»£è¡¨ä» nums[i] è·³åˆ° nums[n - 1] çš„æœ€å°è·³è·ƒæ¬¡æ•°
	let dp = new Array(n).fill(n);
	dp[n - 1] = 0;
	for (let i = n - 2; i >= 0; i--) {
		let num = nums[i];
		for (let j = 1; j <= num; j++) {
			if (i + j <= n - 1) {
				dp[i] = Math.min(1 + dp[i + j], dp[i]);
			}
		}
	}
	return dp[0];
};
```

:::

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®

- [55. è·³è·ƒæ¸¸æˆ](https://leetcode.com/problems/jump-game)
- [1306. è·³è·ƒæ¸¸æˆ III](https://leetcode.com/problems/jump-game-iii)
- [1871. è·³è·ƒæ¸¸æˆ VII](https://leetcode.com/problems/jump-game-vii)
- [ğŸ”’ Jump Game VIII](https://leetcode.com/problems/jump-game-viii)
- [2617. ç½‘æ ¼å›¾ä¸­æœ€å°‘è®¿é—®çš„æ ¼å­æ•°](https://leetcode.com/problems/minimum-number-of-visited-cells-in-a-grid)
- [2770. Maximum Number of Jumps to Reach the Last Index](https://leetcode.com/problems/maximum-number-of-jumps-to-reach-the-last-index)
- [2786. Visit Array Positions to Maximize Score](https://leetcode.com/problems/visit-array-positions-to-maximize-score)

::::
