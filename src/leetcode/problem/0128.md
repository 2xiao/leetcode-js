# [128. Longest Consecutive Sequence](https://leetcode.com/problems/longest-consecutive-sequence/)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`å¹¶æŸ¥é›†`](/leetcode/outline/tag/disjoint-set-union.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md)

## é¢˜ç›®

Given an unsorted array of integers nums, return the length of the longest consecutive elements sequence.

You must write an algorithm that runs in `O(n)` time.

**Example 1**:

::: tip

Input: `[100, 4, 200, 1, 3, 2]`

Output: `4`

:::

Explanation: The longest consecutive elements sequence is `[1, 2, 3, 4]`. Therefore its length is `4`.

**Example 1**:

::: tip

Input: `[0,3,7,2,5,8,4,6,0,1]

Output: `9`

:::

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºæœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ã€‚è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚

## è§£é¢˜æ€è·¯

- éå†æ•°ç»„é‡Œçš„æ¯ä¸ªæ•° `i` ï¼Œä»¥å…¶ä¸ºèµ·ç‚¹ï¼Œå¯»æ‰¾ `i+1, i+2, i+3...`æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸æ–­è®°å½•ä»¥ `i` ä¸ºèµ·ç‚¹æ—¶æœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ï¼›
- ä¸ºäº†é™ä½éå†æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥å°†æ•°ç»„ä¸­çš„æ•°å­˜åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿™æ ·æŸ¥çœ‹ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥ä¼˜åŒ–åˆ° `O(1)`ï¼›
- ä¸ºäº†å»æ‰ä¸€äº›é‡å¤çš„æšä¸¾ï¼Œå¯ä»¥åªå¯¹ `i-1` ä¸å­˜åœ¨çš„æ•° `i` ä¸ºèµ·ç‚¹å¼€å§‹æšä¸¾ï¼›

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var longestConsecutive = function (nums) {
  let set = new Set(nums);
  let length = 0;
  for (let item of [...set]) {
    if (!set.has(item - 1)) {
      let i = 1;
      while (set.has(item + i)) {
        i++;
      }
      length = Math.max(length, i);
    }
  }
  return length;
};
```
