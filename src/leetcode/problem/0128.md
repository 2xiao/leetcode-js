# [128. Longest Consecutive Sequence](https://leetcode.com/problems/longest-consecutive-sequence/)

ðŸŸ  <font color=#ffb800>Medium</font>&emsp; ðŸ”–&ensp; [`å¹¶æŸ¥é›†`](/leetcode/outline/tag/disjoint-set-union.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md)&emsp; ðŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/longest-consecutive-sequence/)

## é¢˜ç›®

Given an unsorted array of integers `nums`, return _the length of the longest consecutive elements sequence._

You must write an algorithm that runs in `O(n)` time.

**Example 1:**

> Input: nums = [100,4,200,1,3,2]
>
> Output: 4
>
> Explanation: The longest consecutive elements sequence is [1, 2, 3, 4]. Therefore its length is 4.

**Example 2:**

> Input: nums = [0,3,7,2,5,8,4,6,0,1]
>
> Output: 9

**Constraints:**

- `0 <= nums.length <= 10^5`
- `-10^9 <= nums[i] <= 10^9`

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªæœªæŽ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºæœ€é•¿è¿žç»­åºåˆ—çš„é•¿åº¦ã€‚è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ã€‚

## è§£é¢˜æ€è·¯

- éåŽ†æ•°ç»„é‡Œçš„æ¯ä¸ªæ•° `i` ï¼Œä»¥å…¶ä¸ºèµ·ç‚¹ï¼Œå¯»æ‰¾ `i+1, i+2, i+3...`æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸æ–­è®°å½•ä»¥ `i` ä¸ºèµ·ç‚¹æ—¶æœ€é•¿è¿žç»­åºåˆ—çš„é•¿åº¦ï¼›
- ä¸ºäº†é™ä½ŽéåŽ†æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥å°†æ•°ç»„ä¸­çš„æ•°å­˜åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿™æ ·æŸ¥çœ‹ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥ä¼˜åŒ–åˆ° `O(1)`ï¼›
- ä¸ºäº†åŽ»æŽ‰ä¸€äº›é‡å¤çš„æžšä¸¾ï¼Œå¯ä»¥åªå¯¹ `i-1` ä¸å­˜åœ¨çš„æ•° `i` ä¸ºèµ·ç‚¹å¼€å§‹æžšä¸¾ï¼›

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var longestConsecutive = function (nums) {
  let set = new Set(nums);
  let length = 0;
  for (let item of [...set]) {
    if (!set.has(item - 1)) {
      let i = 1;
      while (set.has(item + i)) {
        i++;
      }
      length = Math.max(length, i);
    }
  }
  return length;
};
```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®

- [ðŸ”’ Binary Tree Longest Consecutive Sequence](https://leetcode.com/problems/binary-tree-longest-consecutive-sequence)
- [2177. æ‰¾åˆ°å’Œä¸ºç»™å®šæ•´æ•°çš„ä¸‰ä¸ªè¿žç»­æ•´æ•°](https://leetcode.com/problems/find-three-consecutive-integers-that-sum-to-a-given-number)
- [2274. ä¸å«ç‰¹æ®Šæ¥¼å±‚çš„æœ€å¤§è¿žç»­æ¥¼å±‚æ•°](https://leetcode.com/problems/maximum-consecutive-floors-without-special-floors)
- [2414. æœ€é•¿çš„å­—æ¯åºè¿žç»­å­å­—ç¬¦ä¸²çš„é•¿åº¦](https://leetcode.com/problems/length-of-the-longest-alphabetical-continuous-substring)

::::
