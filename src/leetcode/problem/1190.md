# [1190. Reverse Substrings Between Each Pair of Parentheses](https://leetcode.com/problems/reverse-substrings-between-each-pair-of-parentheses/)

ðŸŸ  <font color=#ffb800>Medium</font>&emsp; ðŸ”–&ensp; [`æ ˆ`](/leetcode/outline/tag/stack.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md)

## é¢˜ç›®

You are given a stringÂ `s`Â that consists of lower case English letters and brackets.

Reverse the stringsÂ in eachÂ pair of matching parentheses, startingÂ from the innermost one.

Your result shouldÂ **not**Â contain any brackets.

**Example 1:**

::: tip

Input: `s = "(abcd)"`

Output: `"dcba"`

:::

**Example 2:**

::: tip

Input: `s = "(u(love)i)"`

Output: `"iloveu"`

:::

Explanation:Â The substring "love" is reversed first, then the whole string is reversed.

**Example 3:**

::: tip

Input: `s = "(ed(et(oc))el)"`

Output: `"leetcode"`

:::

Explanation:Â First, we reverse the substring "oc", then "etco", and finally, the whole string.

**Example 4:**

::: tip

Input: `s = "a(bcdefghijkl(mno)p)q"`

Output: `"apmnolkjihgfedcbq"`

:::

**Constraints:**

- `0 <= s.length <= 2000`
- `s`Â only contains lower case English characters and parentheses.
- It's guaranteed that all parentheses are balanced.

## é¢˜ç›®å¤§æ„

ç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸² Â `s`ï¼ˆä»…å«æœ‰å°å†™è‹±æ–‡å­—æ¯å’Œæ‹¬å·ï¼‰ã€‚è¯·ä½ æŒ‰ç…§ä»Žæ‹¬å·å†…åˆ°å¤–çš„é¡ºåºï¼Œé€å±‚åè½¬æ¯å¯¹åŒ¹é…æ‹¬å·ä¸­çš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›žæœ€ç»ˆçš„ç»“æžœã€‚æ³¨æ„ï¼Œæ‚¨çš„ç»“æžœä¸­ **ä¸åº”** åŒ…å«ä»»ä½•æ‹¬å·ã€‚

## è§£é¢˜æ€è·¯

å¯¹äºŽæ‹¬å·åºåˆ—ç›¸å…³çš„é¢˜ç›®ï¼Œé€šç”¨çš„è§£æ³•æ˜¯ä½¿ç”¨é€’å½’æˆ–æ ˆã€‚æœ¬é¢˜ä¸­ä½¿ç”¨æ ˆè§£å†³ã€‚

ä»Žå·¦åˆ°å³éåŽ†è¯¥å­—ç¬¦ä¸²ï¼Œä½¿ç”¨å­—ç¬¦ä¸² `str` è®°å½•å½“å‰å±‚æ‰€éåŽ†åˆ°çš„å°å†™è‹±æ–‡å­—æ¯ã€‚å¯¹äºŽå½“å‰éåŽ†çš„å­—ç¬¦ï¼š

- å¦‚æžœæ˜¯å·¦æ‹¬å·ï¼Œå°† `str` æ’å…¥åˆ°æ ˆä¸­ï¼Œå¹¶å°† `str` ç½®ä¸ºç©ºï¼Œè¿›å…¥ä¸‹ä¸€å±‚ï¼›
- å¦‚æžœæ˜¯å³æ‹¬å·ï¼Œåˆ™è¯´æ˜ŽéåŽ†å®Œäº†å½“å‰å±‚ï¼Œéœ€è¦å°† `str` åè½¬ï¼Œè¿”å›žç»™ä¸Šä¸€å±‚ã€‚å…·ä½“åœ°ï¼Œå°†æ ˆé¡¶å­—ç¬¦ä¸²å¼¹å‡ºï¼Œç„¶åŽå°†åè½¬åŽçš„ `str` æ‹¼æŽ¥åˆ°æ ˆé¡¶å­—ç¬¦ä¸²æœ«å°¾ï¼Œå°†ç»“æžœèµ‹å€¼ç»™ `str`ã€‚
- å¦‚æžœæ˜¯å°å†™è‹±æ–‡å­—æ¯ï¼Œå°†å…¶åŠ åˆ° `str` æœ«å°¾ã€‚

ä»…åœ¨é‡åˆ°å³æ‹¬å·æ—¶æ‰è¿›è¡Œå­—ç¬¦ä¸²å¤„ç†ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ˜¯æŒ‰ç…§ä»Žæ‹¬å·å†…åˆ°å¤–çš„é¡ºåºå¤„ç†å­—ç¬¦ä¸²ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} s
 * @return {string}
 */
var reverseParentheses = function (s) {
  let stack = [];
  let str = "";
  for (let i = 0; i < s.length; i++) {
    if (s[i] === "(") {
      stack.push(str);
      str = "";
    } else if (s[i] === ")") {
      str = stack.pop() + str.split("").reverse().join("");
    } else {
      str += s[i];
    }
  }
  return str;
};
```
