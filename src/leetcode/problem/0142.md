# [142. Linked List Cycle II](https://leetcode.com/problems/linked-list-cycle-ii/)

ðŸŸ  <font color=#ffb800>Medium</font>&emsp; ðŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`é“¾è¡¨`](/leetcode/outline/tag/linked-list.md) [`åŒæŒ‡é’ˆ`](/leetcode/outline/tag/two-pointers.md)&emsp; ðŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/linked-list-cycle-ii/)

## é¢˜ç›®

Given the `head` of a linked list, return _the node where the cycle begins. If
there is no cycle, return_`null`.

There is a cycle in a linked list if there is some node in the list that can
be reached again by continuously following the `next` pointer. Internally,
`pos` is used to denote the index of the node that tail's `next` pointer is
connected to ( **0-indexed** ). It is `-1` if there is no cycle. **Note that**
`pos` **is not passed as a parameter**.

**Do not modify** the linked list.

**Example 1:**

![](https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist.png)

> Input: head = [3,2,0,-4], pos = 1
>
> Output: tail connects to node index 1
>
> Explanation: There is a cycle in the linked list, where tail connects to the second node.

**Example 2:**

![](https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist_test2.png)

> Input: head = [1,2], pos = 0
>
> Output: tail connects to node index 0
>
> Explanation: There is a cycle in the linked list, where tail connects to the first node.

**Example 3:**

![](https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist_test3.png)

> Input: head = [1], pos = -1
>
> Output: no cycle
>
> Explanation: There is no cycle in the linked list.

**Constraints:**

- The number of the nodes in the list is in the range `[0, 10^4]`.
- `-10^5 <= Node.val <= 10^5`
- `pos` is `-1` or a **valid index** in the linked-list.

**Follow up:** Can you solve it using `O(1)` (i.e. constant) memory?

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ `head` ï¼Œè¿”å›žé“¾è¡¨å¼€å§‹å…¥çŽ¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æžœé“¾è¡¨æ— çŽ¯ï¼Œåˆ™è¿”å›ž `null`ã€‚

å¦‚æžœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿žç»­è·Ÿè¸ª `next` æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨çŽ¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„çŽ¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° `pos` æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿žæŽ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä»Ž `0` å¼€å§‹ï¼‰ã€‚å¦‚æžœ `pos` æ˜¯ `-1`ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰çŽ¯ã€‚æ³¨æ„ï¼š`pos` ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®žé™…æƒ…å†µã€‚

**ä¸å…è®¸ä¿®æ”¹** é“¾è¡¨ã€‚

## è§£é¢˜æ€è·¯

å¯ä»¥é€šè¿‡å¿«æ…¢æŒ‡é’ˆçš„æ–¹æ³•æ¥è§£å†³ã€‚

1. å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæ…¢æŒ‡é’ˆ `slow`ï¼Œä¸€ä¸ªå¿«æŒ‡é’ˆ `fast`ï¼Œåˆå§‹ä½ç½®éƒ½åœ¨é“¾è¡¨çš„å¤´éƒ¨ã€‚
2. ä½¿ç”¨å¾ªçŽ¯ï¼Œæ¯è½®å¾ªçŽ¯ä¸­æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆèµ°ä¸¤æ­¥ã€‚
3. å¦‚æžœé“¾è¡¨ä¸­å­˜åœ¨çŽ¯ï¼Œå¿«æŒ‡é’ˆæœ€ç»ˆä¼šè¿½ä¸Šæ…¢æŒ‡é’ˆï¼Œä¸¤è€…ä¼šç›¸é‡ã€‚å¦‚æžœé“¾è¡¨ä¸­ä¸å­˜åœ¨çŽ¯ï¼Œå¿«æŒ‡é’ˆä¼šå…ˆåˆ°è¾¾é“¾è¡¨çš„æœ«å°¾ã€‚
4. å¦‚æžœç›¸é‡ï¼Œå°†å…¶ä¸­ä¸€ä¸ªæŒ‡é’ˆé‡æ–°æ”¾ç½®åœ¨é“¾è¡¨å¤´éƒ¨ï¼Œç„¶åŽä¸¤ä¸ªæŒ‡é’ˆä»¥ç›¸åŒçš„é€Ÿåº¦å‘å‰ç§»åŠ¨ï¼Œæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ã€‚
5. å½“ä¸¤ä¸ªæŒ‡é’ˆå†æ¬¡ç›¸é‡æ—¶ï¼Œç›¸é‡ç‚¹å³ä¸ºçŽ¯çš„å…¥å£ç‚¹ã€‚

è¿™ä¸ªæ–¹æ³•çš„åŽŸç†è¯æ˜Žå¦‚ä¸‹ï¼š

å‡è®¾é“¾è¡¨å¤´åˆ°çŽ¯çš„å…¥å£ç‚¹çš„è·ç¦»ä¸º `a` æ­¥ï¼ŒçŽ¯çš„å…¥å£ç‚¹åˆ°ç›¸é‡ç‚¹çš„è·ç¦»ä¸º `b` æ­¥ï¼ŒçŽ¯çš„é•¿åº¦ä¸º `c` æ­¥ã€‚é‚£ä¹ˆï¼Œåœ¨ç¬¬ä¸€æ¬¡ç›¸é‡æ—¶ï¼Œæ…¢æŒ‡é’ˆ `slow` èµ°äº† `a + b` æ­¥ï¼Œå¿«æŒ‡é’ˆ `fast` èµ°äº† `a + b + k * c` æ­¥ï¼ˆå…¶ä¸­ `k` æ˜¯å¿«æŒ‡é’ˆåœ¨çŽ¯ä¸­è½¬äº† `k` åœˆï¼‰ã€‚

ç”±äºŽå¿«æŒ‡é’ˆçš„é€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆçš„ä¸¤å€ï¼Œæ‰€ä»¥ï¼š`2(a + b) = a + b + k * c`

æ•´ç†å¾—ï¼š`a = (k - 1) * c + (c - b)`

è¿™æ„å‘³ç€ä»Žç›¸é‡ç‚¹ç»§ç»­èµ° `a` æ­¥ï¼Œå°†å†æ¬¡åˆ°è¾¾çŽ¯çš„å…¥å£ç‚¹ã€‚æˆ‘ä»¬é‡æ–°å°† `slow` æŒ‡é’ˆæ”¾åˆ°é“¾è¡¨å¤´ï¼Œç„¶åŽ `slow` å’Œ `fast` æ¯æ¬¡éƒ½ç§»åŠ¨ä¸€æ­¥ï¼Œæœ€ç»ˆå®ƒä»¬å°†åœ¨çŽ¯çš„å…¥å£ç‚¹ç›¸é‡ã€‚

## ä»£ç 

```javascript
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
var detectCycle = function (head) {
  let slow = head;
  let fast = head;
  while (fast !== null && fast.next !== null) {
    slow = slow.next;
    fast = fast.next.next;
    if (slow == fast) {
      slow = head;
      while (slow !== fast) {
        slow = slow.next;
        fast = fast.next;
      }
      return slow;
    }
  }
  return null;
};
```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®

- [141. çŽ¯å½¢é“¾è¡¨](./0141.md)
- [287. å¯»æ‰¾é‡å¤æ•°](https://leetcode.com/problems/find-the-duplicate-number)

::::
