# [å‰‘æŒ‡ Offer II 101. åˆ†å‰²ç­‰å’Œå­é›†](https://leetcode.cn/problems/NUPfPr)

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ•°å­¦`](/leetcode/outline/tag/mathematics.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) [`æ¨¡æ‹Ÿ`](/leetcode/outline/tag/simulation.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.cn/problems/NUPfPr/)

## é¢˜ç›®

ç»™å®šä¸€ä¸ªéç©ºçš„æ­£æ•´æ•°æ•°ç»„ nums ï¼Œè¯·åˆ¤æ–­èƒ½å¦å°†è¿™äº›æ•°å­—åˆ†æˆå…ƒç´ å’Œç›¸ç­‰çš„ä¸¤éƒ¨åˆ†ã€‚

**ç¤ºä¾‹ 1ï¼š**

> è¾“å…¥ï¼šnums = [1,5,11,5]
>
> è¾“å‡ºï¼štrue
>
> è§£é‡Šï¼šnums å¯ä»¥åˆ†å‰²æˆ [1, 5, 5] å’Œ [11] ã€‚

**ç¤ºä¾‹ 2ï¼š**

> è¾“å…¥ï¼šnums = [1,2,3,5]
>
> è¾“å‡ºï¼šfalse
>
> è§£é‡Šï¼šnums ä¸å¯ä»¥åˆ†ä¸ºå’Œç›¸ç­‰çš„ä¸¤éƒ¨åˆ†

**æç¤ºï¼š**

- `1 <= nums.length <= 200`
- `1 <= nums[i] <= 100`

::: warning

æœ¬é¢˜ä¸ LeetCode [ç¬¬ 416 é¢˜](./0416.md) ç›¸åŒã€‚

:::

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šåŠ¨æ€è§„åˆ’

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ¥è§£å†³ã€‚é—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºèƒŒåŒ…é—®é¢˜ï¼Œå³æ˜¯å¦å­˜åœ¨ä¸€ç»„å…ƒç´ ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œæ°å¥½ä¸ºæ•°ç»„å…ƒç´ å’Œçš„ä¸€åŠã€‚

å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ `dp`ï¼Œå…¶ä¸­ `dp[i][j]` è¡¨ç¤ºåœ¨å‰ `i` ä¸ªå…ƒç´ ä¸­æ˜¯å¦å­˜åœ¨ä¸€ç»„å…ƒç´ çš„å’Œç­‰äº `j`ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š

`dp[i][j] = dp[i - 1][j] || dp[i - 1][j - nums[i - 1]]`

- `dp[i-1][j]` è¡¨ç¤ºä¸é€‰å–ç¬¬ `i` ä¸ªå…ƒç´ ã€‚
- `dp[i-1][j-nums[i-1]]` è¡¨ç¤ºé€‰å–ç¬¬ `i` ä¸ªå…ƒç´ ã€‚

åˆå§‹åŒ–çŠ¶æ€ï¼š`dp[i][0] = true`ï¼Œå³å¯¹äºå‰ `i` ä¸ªå…ƒç´ ï¼Œæ€»æ˜¯å¯ä»¥æ‰¾åˆ°ä¸€ç»„å…ƒç´ çš„å’Œä¸º 0ï¼ˆå³ä¸é€‰å–ä»»ä½•å…ƒç´ ï¼‰ã€‚

æœ€ç»ˆç»“æœä¸º `dp[n][target]`ï¼Œå…¶ä¸­ `n` ä¸ºæ•°ç»„é•¿åº¦ï¼Œ`target` ä¸ºæ•°ç»„å…ƒç´ å’Œçš„ä¸€åŠã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n * target)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„é•¿åº¦ï¼Œ`target` æ˜¯æ•°ç»„å…ƒç´ å’Œçš„ä¸€åŠã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(n * target)`ï¼Œä½¿ç”¨äº†ä¸€ä¸ªäºŒç»´åŠ¨æ€è§„åˆ’æ•°ç»„ã€‚

---

### æ€è·¯äºŒï¼šå‹ç¼©çŠ¶æ€çš„åŠ¨æ€è§„åˆ’

æ³¨æ„åˆ° `dp[i][j]` éƒ½æ˜¯é€šè¿‡ä¸Šä¸€è¡Œ `dp[i-1][..]` è½¬ç§»è¿‡æ¥çš„ï¼Œå†ä¹‹å‰æ‰€æœ‰è¡Œçš„æ•°æ®éƒ½ä¸ä¼šå†ä½¿ç”¨äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹åŠ¨æ€è§„åˆ’è¿›è¡ŒçŠ¶æ€å‹ç¼©ï¼Œå°†äºŒç»´ `dp` æ•°ç»„å‹ç¼©ä¸ºä¸€ç»´ï¼ŒèŠ‚çº¦ç©ºé—´å¤æ‚åº¦ï¼š

- `dp[j]` è¡¨ç¤ºæ˜¯å¦å¯ä»¥ä½¿ç”¨å½“å‰å…ƒç´ å¾—åˆ°å’Œä¸º `j` çš„å­é›†ã€‚
- éå†æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°å­— `num`ï¼Œå¹¶æ›´æ–° `dp` æ•°ç»„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ `j` åº”è¯¥ä»åå¾€å‰åå‘éå†ï¼Œç¡®ä¿äº†æˆ‘ä»¬åœ¨æ›´æ–°å½“å‰çŠ¶æ€æ—¶æ‰€ä¾èµ–çš„çŠ¶æ€å·²ç»è¢«æ­£ç¡®è®¡ç®—ã€‚
- å¯¹äºæ¯ä¸ª `j` ä» `target` åˆ° `num`ï¼Œæ ¹æ® `dp[j]` å’Œ `dp[j - num]` çš„å€¼æ¥æ›´æ–° `dp[j]`ã€‚
- æœ€ç»ˆç»“æœå­˜å‚¨åœ¨ `dp[target]` ä¸­ã€‚å¦‚æœä¸º `true`ï¼Œè¡¨ç¤ºå­˜åœ¨ä¸€ä¸ªå’Œä¸º `target` çš„å­é›†ï¼Œå³æ•°ç»„å¯ä»¥è¢«åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†ã€‚
- å”¯ä¸€

## ä»£ç 

::: code-tabs

@tab åŠ¨æ€è§„åˆ’

```javascript
/**
 * @param {number[]} nums
 * @return {boolean}
 */
function canPartition(nums) {
	const n = nums.length;
	const sum = nums.reduce((acc, num) => acc + num, 0);

	// å¦‚æœæ•°ç»„å…ƒç´ å’Œä¸ºå¥‡æ•°ï¼Œä¸å¯èƒ½åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†
	if (sum % 2 !== 0) {
		return false;
	}

	const target = sum / 2;
	const dp = new Array(n + 1)
		.fill(false)
		.map(() => new Array(target + 1).fill(false));

	// åˆå§‹åŒ–çŠ¶æ€
	for (let i = 0; i <= n; i++) {
		dp[i][0] = true;
	}

	// åŠ¨æ€è§„åˆ’è®¡ç®—
	for (let i = 1; i <= n; i++) {
		for (let j = 1; j <= target; j++) {
			if (j < nums[i - 1]) {
				// èƒŒåŒ…å®¹é‡ä¸è¶³ï¼Œä¸èƒ½è£…å…¥ç¬¬ i ä¸ªç‰©å“
				dp[i][j] = dp[i - 1][j];
			} else {
				// è£…å…¥æˆ–ä¸è£…å…¥èƒŒåŒ…
				dp[i][j] = dp[i - 1][j] || dp[i - 1][j - nums[i - 1]];
			}
		}
	}

	return dp[n][target];
}
```

@tab å‹ç¼©çŠ¶æ€çš„åŠ¨æ€è§„åˆ’

```javascript
/**
 * @param {number[]} nums
 * @return {boolean}
 */
function canPartition(nums) {
	const n = nums.length;
	const sum = nums.reduce((acc, num) => acc + num, 0);

	// å¦‚æœæ•°ç»„å…ƒç´ å’Œä¸ºå¥‡æ•°ï¼Œä¸å¯èƒ½åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†
	if (sum % 2 !== 0) {
		return false;
	}

	const target = sum / 2;
	const dp = new Array(target + 1).fill(false);

	// åˆå§‹çŠ¶æ€ï¼šç©ºå­é›†çš„å’Œä¸º 0
	dp[0] = true;

	// åŠ¨æ€è§„åˆ’è®¡ç®—
	for (let num of nums) {
		for (let j = target; j >= num; j--) {
			dp[j] = dp[j] || dp[j - num];
		}
	}

	return dp[target];
}
```

:::
