# [79. å•è¯æœç´¢](https://leetcode.com/problems/word-search)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å›æº¯`](/leetcode/outline/tag/backtracking.md) [`çŸ©é˜µ`](/leetcode/outline/tag/matrix.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/word-search/)

## é¢˜ç›®

Given an `m x n` grid of characters `board` and a string `word`, return `true`
_if_ `word` _exists in the grid_.

The word can be constructed from letters of sequentially adjacent cells, where
adjacent cells are horizontally or vertically neighboring. The same letter
cell may not be used more than once.

**Example 1:**

![](https://assets.leetcode.com/uploads/2020/11/04/word2.jpg)

> Input: board = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "ABCCED"
>
> Output: true

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/11/04/word-1.jpg)

> Input: board = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "SEE"
>
> Output: true

**Example 3:**

![](https://assets.leetcode.com/uploads/2020/10/15/word3.jpg)

> Input: board = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "ABCB"
>
> Output: false

**Constraints:**

- `m == board.length`
- `n = board[i].length`
- `1 <= m, n <= 6`
- `1 <= word.length <= 15`
- `board` and `word` consists of only lowercase and uppercase English letters.

**Follow up:** Could you use search pruning to make your solution faster with
a larger `board`?

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ä¸ª `m x n` äºŒç»´å­—ç¬¦ç½‘æ ¼ `board` å’Œä¸€ä¸ªå­—ç¬¦ä¸²å•è¯ `word` ã€‚å¦‚æœ `word` å­˜åœ¨äºç½‘æ ¼ä¸­ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚

è¿›é˜¶ï¼šä½ å¯ä»¥ä½¿ç”¨æœç´¢å‰ªæçš„æŠ€æœ¯æ¥ä¼˜åŒ–è§£å†³æ–¹æ¡ˆï¼Œä½¿å…¶åœ¨ `board` æ›´å¤§çš„æƒ…å†µä¸‹å¯ä»¥æ›´å¿«è§£å†³é—®é¢˜ï¼Ÿ

## è§£é¢˜æ€è·¯

1. éå†æ•´ä¸ªäºŒç»´å­—ç¬¦ç½‘æ ¼ï¼Œæ‰¾åˆ°ä¸å•è¯çš„é¦–å­—æ¯åŒ¹é…çš„ä½ç½®ã€‚
2. å¯¹äºæ¯ä¸€ä¸ªåŒ¹é…çš„ä½ç½®ï¼Œä»è¿™ä¸ªä½ç½®å‡ºå‘è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ï¼Œå°è¯•æ„å»ºå‡ºç»™å®šçš„å•è¯ã€‚
3. åœ¨ DFS çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ ‡è®°å·²ç»è®¿é—®è¿‡çš„å•å…ƒæ ¼ï¼Œé˜²æ­¢é‡å¤è®¿é—®ã€‚
4. å¦‚æœåœ¨ DFS çš„è¿‡ç¨‹ä¸­æˆåŠŸæ„å»ºå‡ºç»™å®šçš„å•è¯ï¼Œåˆ™è¿”å›`true`ï¼Œå¦åˆ™è¿”å›`false`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(m*n*4^L)`
  è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š

  1. å¯¹äºæ¯ä¸ªå¯èƒ½çš„èµ·å§‹ä½ç½®ï¼Œéƒ½è¿›è¡Œäº†ä¸€æ¬¡ DFS æœç´¢ï¼ŒDFS çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(4^L)` ï¼Œå…¶ä¸­ L æ˜¯ç»™å®šå•è¯çš„é•¿åº¦ã€‚
  2. éå†æ•´ä¸ªäºŒç»´å­—ç¬¦ç½‘æ ¼ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(m*n)`ï¼Œå…¶ä¸­ `m` å’Œ `n` åˆ†åˆ«ä¸ºç½‘æ ¼çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚

  ç»¼åˆè€ƒè™‘ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(m*n*4^L)` ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(L)`ï¼Œç©ºé—´å¤æ‚åº¦ä¸»è¦ç”± DFS çš„é€’å½’è°ƒç”¨æ ˆæ‰€å ç”¨çš„ç©ºé—´ï¼Œæœ€åæƒ…å†µä¸‹ä¸º `O(L)`ã€‚

## ä»£ç 

```javascript
/**
 * @param {character[][]} board
 * @param {string} word
 * @return {boolean}
 */
var exist = function (board, word) {
	const m = board.length;
	const n = board[0].length;

	const dp = (i, j, index) => {
		// è¾¹ç•Œæ¡ä»¶
		if (i < 0 || i >= m || j < 0 || j >= n || board[i][j] != word[index]) {
			return false;
		}

		// åŒ¹é…æˆåŠŸçš„æƒ…å†µ
		if (index == word.length - 1) {
			return true;
		}

		// æ ‡è®°å½“å‰å•å…ƒæ ¼å·²è®¿é—®
		const temp = board[i][j];
		board[i][j] = '/';

		// æ²¿å››ä¸ªæ–¹å‘è¿›è¡ŒDFS
		const found =
			dp(i - 1, j, index + 1) ||
			dp(i + 1, j, index + 1) ||
			dp(i, j - 1, index + 1) ||
			dp(i, j + 1, index + 1);

		// æ¢å¤å½“å‰å•å…ƒæ ¼çŠ¶æ€
		board[i][j] = temp;
		return found;
	};
	// éå†æ•´ä¸ªäºŒç»´å­—ç¬¦ç½‘æ ¼
	for (let i = 0; i < m; i++) {
		for (let j = 0; j < n; j++) {
			// å¦‚æœæ‰¾åˆ°åŒ¹é…çš„é¦–å­—æ¯ï¼Œå¼€å§‹DFS
			if (board[i][j] == word[0] && dp(i, j, 0)) {
				return true;
			}
		}
	}
	// æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æƒ…å†µ
	return false;
};
```

## ç›¸å…³é¢˜ç›®

| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 212 | [å•è¯æœç´¢ II](https://leetcode.com/problems/word-search-ii) | [[âœ“]](https://2xiao.github.io/leetcode-js/leetcode/problem/0212) |  [`å­—å…¸æ ‘`](/leetcode/outline/tag/trie.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) `2+` | <font color=#ff334b>Hard</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
