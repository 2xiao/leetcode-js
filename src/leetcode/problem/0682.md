# [682. æ£’çƒæ¯”èµ›](https://leetcode.com/problems/baseball-game)

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/leetcode/outline/tag/stack.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`æ¨¡æ‹Ÿ`](/leetcode/outline/tag/simulation.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/baseball-game/)

## é¢˜ç›®

You are keeping the scores for a baseball game with strange rules. At the
beginning of the game, you start with an empty record.

You are given a list of strings `operations`, where `operations[i]` is the `ith` operation you must apply to the record and is one of the following:

- An integer `x`: Record a new score of `x`.
- `'+'`: Record a new score that is the sum of the previous two scores.
- `'D'`: Record a new score that is the double of the previous score.
- `'C'`: Invalidate the previous score, removing it from the record.

Return _the sum of all the scores on the record after applying all the operations_.

The test cases are generated such that the answer and all intermediate calculations fit in a **32-bit** integer and that all operations are valid.

**Example 1:**

> Input: ops = ["5","2","C","D","+"]
>
> Output: 30
>
> Explanation:
>
> "5" - Add 5 to the record, record is now [5].
>
> "2" - Add 2 to the record, record is now [5, 2].
>
> "C" - Invalidate and remove the previous score, record is now [5].
>
> "D" - Add 2 \* 5 = 10 to the record, record is now [5, 10].
>
> "+" - Add 5 + 10 = 15 to the record, record is now [5, 10, 15].
>
> The total sum is 5 + 10 + 15 = 30.

**Example 2:**

> Input: ops = ["5","-2","4","C","D","9","+","+"]
>
> Output: 27
>
> Explanation:
>
> "5" - Add 5 to the record, record is now [5].
>
> "-2" - Add -2 to the record, record is now [5, -2].
>
> "4" - Add 4 to the record, record is now [5, -2, 4].
>
> "C" - Invalidate and remove the previous score, record is now [5, -2].
>
> "D" - Add 2 \* -2 = -4 to the record, record is now [5, -2, -4].
>
> "9" - Add 9 to the record, record is now [5, -2, -4, 9].
>
> "+" - Add -4 + 9 = 5 to the record, record is now [5, -2, -4, 9, 5].
>
> "+" - Add 9 + 5 = 14 to the record, record is now [5, -2, -4, 9, 5, 14].
>
> The total sum is 5 + -2 + -4 + 9 + 5 + 14 = 27.

**Example 3:**

> Input: ops = ["1","C"]
>
> Output: 0
>
> Explanation:
>
> "1" - Add 1 to the record, record is now [1].
>
> "C" - Invalidate and remove the previous score, record is now [].
>
> Since the record is empty, the total sum is 0.

**Constraints:**

- `1 <= operations.length <= 1000`
- `operations[i]` is `"C"`, `"D"`, `"+"`, or a string representing an integer in the range `[-3 * 10^4, 3 * 10^4]`.
- For operation `"+"`, there will always be at least two previous scores on the record.
- For operations `"C"` and `"D"`, there will always be at least one previous score on the record.

## é¢˜ç›®å¤§æ„

è¿™é“é¢˜æ˜¯æ¨¡æ‹Ÿé¢˜ï¼Œç»™ä¸€ä¸²æ•°å­—å’Œæ“ä½œç¬¦ã€‚å‡ºç°æ•°å­—å°±ç›´æ¥ç´¯åŠ ï¼Œå‡ºç° `"C"` å°±ä»£è¡¨æ ˆæ¨å‡ºä¸€ä¸ªå…ƒç´ ï¼Œç›¸åº”çš„æ€»å’Œè¦å‡å»æ ˆé¡¶çš„å…ƒç´ ã€‚å‡ºç° `"D"` å°±ä»£è¡¨æŠŠå‰ä¸€ä¸ªå…ƒç´ ä¹˜ä»¥ `2`ï¼Œå°±å¾—åˆ°å½“å‰çš„å…ƒç´ å€¼ï¼Œå†ç´¯åŠ ã€‚å‡ºç° `"+"` å°±ä»£è¡¨æŠŠå‰ `2` ä¸ªå€¼æ±‚å’Œï¼Œå¾—åˆ°å½“å‰å…ƒç´ çš„å€¼ï¼Œå†ç´¯ç§¯ã€‚

## è§£é¢˜æ€è·¯

è¿™é“é¢˜ç”¨æ ˆæ¨¡æ‹Ÿå³å¯ã€‚

## ä»£ç 

```javascript
/**
 * @param {string[]} operations
 * @return {number}
 */
var calPoints = function (operations) {
	let stack = [];
	for (item of operations) {
		let top = stack.length - 1;
		switch (item) {
			case '+':
				stack.push(stack[top] + stack[top - 1]);
				break;
			case 'C':
				stack.pop();
				break;
			case 'D':
				stack.push(stack[top] * 2);
				break;
			default:
				stack.push(Number(item));
				break;
		}
	}
	return stack.reduce((a, b) => a + b, 0);
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 1598 | [æ–‡ä»¶å¤¹æ“ä½œæ—¥å¿—æœé›†å™¨](https://leetcode.com/problems/crawler-log-folder) |  |  [`æ ˆ`](/leetcode/outline/tag/stack.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md) | <font color=#15bd66>Easy</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
