# [201. æ•°å­—èŒƒå›´æŒ‰ä½ä¸](https://leetcode.com/problems/bitwise-and-of-numbers-range)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/leetcode/outline/tag/bit-manipulation.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/bitwise-and-of-numbers-range/)

## é¢˜ç›®

Given two integers `left` and `right` that represent the range `[left,
right]`, return _the bitwise AND of all numbers in this range, inclusive_.

**Example 1:**

> Input: left = 5, right = 7
>
> Output: 4

**Example 2:**

> Input: left = 0, right = 0
>
> Output: 0

**Example 3:**

> Input: left = 1, right = 2147483647
>
> Output: 0

**Constraints:**

- `0 <= left <= right <= 2^31 - 1`

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸¤ä¸ªæ•´æ•° `left` å’Œ `right` ï¼Œè¡¨ç¤ºåŒºé—´ `[left, right]`ï¼Œè¿”å›æ­¤åŒºé—´å†…æ‰€æœ‰æ•°å­— **æŒ‰ä½ä¸** çš„ç»“æœï¼ˆåŒ…å« `left` ã€`right` ç«¯ç‚¹ï¼‰ã€‚

## è§£é¢˜æ€è·¯

ç›´æ¥éå†èŒƒå›´å†…çš„æ¯ä¸ªæ•°å­—ä¼šéå¸¸ä½æ•ˆï¼Œå› æ­¤éœ€è¦æ›´é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚

å¯ä»¥å…ˆæ‰¾åˆ° `m` å’Œ `n` çš„å…¬å…±å‰ç¼€ï¼Œå¹¶åˆ©ç”¨ä½è¿ç®—ç‰¹æ€§ï¼Œé«˜æ•ˆåœ°è®¡ç®—å‡ºèŒƒå›´å†…æ‰€æœ‰æ•´æ•°çš„æŒ‰ä½ä¸ç»“æœã€‚

1. **ä½è¿ç®—ç‰¹æ€§**ï¼š

   - æŒ‰ä½ä¸æ“ä½œä¼šå°†æ•°å­—çš„æŸäº›ä½æ¸…é›¶ï¼Œå½“ä¸¤ä¸ªæ•°å­—çš„æŸä¸€ä½ä¸åŒï¼ˆå³ä¸€ä¸ªæ˜¯ `0`ï¼Œå¦ä¸€ä¸ªæ˜¯ `1`ï¼‰æ—¶ï¼Œè¯¥ä½çš„ç»“æœå¿…ä¸º `0`ã€‚
   - åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œéšç€æ•°å­—çš„å¢åŠ ï¼ŒæŸäº›ä½ä½ä¼šå˜ä¸º `0`ï¼Œè€Œé«˜ä½åˆ™ä¿æŒä¸å˜ã€‚

2. **æ‰¾åˆ°å…¬å…±å‰ç¼€**ï¼š

   - å°† `m` å’Œ `n` é€ä½æ¯”è¾ƒï¼Œç›´åˆ°å®ƒä»¬çš„å€¼ç›¸ç­‰ï¼Œè®°å½•ä¸‹å…¬å…±å‰ç¼€ã€‚
   - è¿™ä¸ªå…¬å…±å‰ç¼€å°±æ˜¯åœ¨èŒƒå›´å†…æ‰€æœ‰æ•°å­—çš„æŒ‰ä½ä¸ç»“æœçš„é«˜ä½éƒ¨åˆ†ã€‚

3. **å³ç§»æ“ä½œ**ï¼š
   - åœ¨ `m` å’Œ `n` ä¸ç›¸ç­‰æ—¶ï¼ŒæŒç»­å³ç§»è¿™ä¸¤ä¸ªæ•°å­—ï¼Œç›´åˆ°å®ƒä»¬ç›¸ç­‰ã€‚æ¯æ¬¡å³ç§»éƒ½ä¼šæ¶ˆé™¤æœ€ä½ä½ï¼Œå¸®åŠ©æ‰¾åˆ°å…¬å…±å‰ç¼€ã€‚
   - è®°å½•å³ç§»çš„æ¬¡æ•°ï¼Œä»¥ä¾¿æœ€ç»ˆå°†å…¬å…±å‰ç¼€å·¦ç§»å›åŸä½ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(log(max(m, n)))`ï¼Œå› ä¸ºåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æœ€å¤šéœ€è¦å³ç§» 32 æ¬¡ï¼ˆå¯¹äº 32 ä½æ•´æ•°ï¼‰ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} left
 * @param {number} right
 * @return {number}
 */
var rangeBitwiseAnd = function (left, right) {
	let shift = 0;

	// æ‰¾åˆ° left å’Œ right çš„å…¬å…±å‰ç¼€
	while (left < right) {
		left = left >> 1; // å³ç§» left
		right = right >> 1; // å³ç§» right
		shift++; // è®°å½•å³ç§»çš„æ¬¡æ•°
	}

	// å°†å…¬å…±å‰ç¼€å·¦ç§»å›åŸä½
	return left << shift;
};
```

## ç›¸å…³é¢˜ç›®

<!-- prettier-ignore -->
| é¢˜å· | æ ‡é¢˜ | é¢˜è§£ | æ ‡ç­¾ | éš¾åº¦ |
| :------: | :------ | :------: | :------ | :------ |
| 2401 | [æœ€é•¿ä¼˜é›…å­æ•°ç»„](https://leetcode.com/problems/longest-nice-subarray) |  |  [`ä½è¿ç®—`](/leetcode/outline/tag/bit-manipulation.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`æ»‘åŠ¨çª—å£`](/leetcode/outline/tag/sliding-window.md) | <font color=#ffb800>Medium</font> |

<style>
.blue {
    background-color: #096dd9;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-size: 0.85em;
    border-radius: 3px;
    color: white;
    font-weight: 500;
}
table th:first-of-type { width: 10%; }
table th:nth-of-type(2) { width: 35%; }
table th:nth-of-type(3) { width: 10%; }
table th:nth-of-type(4) { width: 35%; }
table th:nth-of-type(5) { width: 10%; }
</style>
