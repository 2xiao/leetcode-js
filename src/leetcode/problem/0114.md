# [114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨](https://leetcode.com/problems/flatten-binary-tree-to-linked-list)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ ˆ`](/leetcode/outline/tag/stack.md) [`æ ‘`](/leetcode/outline/tag/tree.md) [`æ·±åº¦ä¼˜å…ˆæœç´¢`](/leetcode/outline/tag/depth-first-search.md) [`é“¾è¡¨`](/leetcode/outline/tag/linked-list.md) [`äºŒå‰æ ‘`](/leetcode/outline/tag/binary-tree.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/flatten-binary-tree-to-linked-list/)

## é¢˜ç›®

Given the `root` of a binary tree, flatten the tree into a "linked list":

- The "linked list" should use the same `TreeNode` class where the `right` child pointer points to the next node in the list and the `left` child pointer is always `null`.
- The "linked list" should be in the same order as a [**pre-order** **traversal**](https://en.wikipedia.org/wiki/Tree_traversal#Pre-order,_NLR) of the binary tree.

**Example 1:**

![](https://assets.leetcode.com/uploads/2021/01/14/flaten.jpg)

> Input: root = [1,2,5,3,4,null,6]
>
> Output: [1,null,2,null,3,null,4,null,5,null,6]

**Example 2:**

> Input: root = []
>
> Output: []

**Example 3:**

> Input: root = [0]
>
> Output: [0]

**Constraints:**

- The number of nodes in the tree is in the range `[0, 2000]`.
- `-100 <= Node.val <= 100`

**Follow up:** Can you flatten the tree in-place (with `O(1)` extra space)?

## é¢˜ç›®å¤§æ„

ç»™ä½ äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ `root` ï¼Œè¯·ä½ å°†å®ƒå±•å¼€ä¸ºä¸€ä¸ªå•é“¾è¡¨ï¼š

- å±•å¼€åçš„å•é“¾è¡¨åº”è¯¥åŒæ ·ä½¿ç”¨ `TreeNode` ï¼Œå…¶ä¸­ `right` å­æŒ‡é’ˆæŒ‡å‘é“¾è¡¨ä¸­ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œè€Œå·¦å­æŒ‡é’ˆå§‹ç»ˆä¸º `null` ã€‚
- å±•å¼€åçš„å•é“¾è¡¨åº”è¯¥ä¸äºŒå‰æ ‘ **å…ˆåºéå†** é¡ºåºç›¸åŒã€‚

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šè¿­ä»£

ä½¿ç”¨ä¸€ä¸ªæ ˆæ¥æ¨¡æ‹Ÿå…ˆåºéå†ã€‚ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå°†å³å­èŠ‚ç‚¹å’Œå·¦å­èŠ‚ç‚¹å…¥æ ˆã€‚å‡ºæ ˆæ—¶ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æŒ‡å‘æ ˆé¡¶èŠ‚ç‚¹ï¼ŒåŒæ—¶å°†å·¦å­èŠ‚ç‚¹è®¾ä¸º `null`ï¼Œä»¥æ»¡è¶³å±•å¼€çš„è¦æ±‚ã€‚ä¸æ–­é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ ˆä¸ºç©ºï¼Œå³å®Œæˆäº†äºŒå‰æ ‘çš„å±•å¼€ã€‚å±•å¼€åçš„é“¾è¡¨å³ä¸ºäºŒå‰æ ‘çš„å…ˆåºéå†ç»“æœã€‚

---

### æ€è·¯äºŒï¼šé€’å½’

é€šè¿‡é€’å½’å…ˆå±•å¼€å·¦å³å­æ ‘ï¼Œç„¶åå°†æ ¹èŠ‚ç‚¹çš„å³å­æ ‘è¿æ¥åˆ°å·²ç»å±•å¼€çš„å·¦å­æ ‘çš„æœ«å°¾ã€‚

## ä»£ç 

::: code-tabs

@tab è¿­ä»£

```javascript
/**
 * @param {TreeNode} root
 * @return {void} Do not return anything, modify root in-place instead.
 */
var flatten = function (root) {
	if (!root) return null;
	let stack = [root];
	while (stack.length) {
		let node = stack.pop();
		if (node.right) stack.push(node.right);
		if (node.left) stack.push(node.left);
		node.left = null;
		node.right = stack[stack.length - 1] || null;
	}
};
```

@tab é€’å½’

```javascript
/**
 * @param {TreeNode} root
 * @return {void} Do not return anything, modify root in-place instead.
 */
var flatten = function (root) {
	if (!root) return null;

	flatten(root.left);
	flatten(root.right);

	let rightSubtree = root.right;
	root.right = root.left;
	root.left = null;

	let end = root;
	while (end.right) {
		end = end.right;
	}
	end.right = rightSubtree;
};
```

:::

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [430. æ‰å¹³åŒ–å¤šçº§åŒå‘é“¾è¡¨](./0430.md)
- [1660. çº æ­£äºŒå‰æ ‘](https://leetcode.com/problems/correct-a-binary-tree)

::::
