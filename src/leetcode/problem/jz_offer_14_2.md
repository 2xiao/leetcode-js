# [å‰‘æŒ‡ Offer 14 - II. å‰ªç»³å­ II](https://leetcode.cn/problems/jian-sheng-zi-ii-lcof/)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°å­¦`](/leetcode/outline/tag/mathematics.md) [`åŠ¨æ€è§„åˆ’`](/leetcode/outline/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.cn/problems/jian-sheng-zi-ii-lcof/)

## é¢˜ç›®

ç°éœ€è¦å°†ä¸€æ ¹é•¿ä¸ºæ­£æ•´æ•° bamboo_len çš„ç«¹å­ç ä¸ºè‹¥å¹²æ®µï¼Œæ¯æ®µé•¿åº¦å‡ä¸ºæ­£æ•´æ•°ã€‚è¯·è¿”å›æ¯æ®µç«¹å­é•¿åº¦çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ã€‚

ç­”æ¡ˆéœ€è¦å–æ¨¡ `1e9+7ï¼ˆ1000000007ï¼‰`ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š`1000000008`ï¼Œè¯·è¿”å› `1`ã€‚

**ç¤ºä¾‹ 1:**

> è¾“å…¥: bamboo_len = 12
>
> è¾“å‡ºï¼š81

**æç¤ºï¼š**

- `2 <= bamboo_len <= 1000`

::: warning
æœ¬é¢˜ä¸ LeetCode [ç¬¬ 343 é¢˜](./0343.md) ç›¸åŒã€‚
:::

## è§£é¢˜æ€è·¯

è¿™é“é¢˜å’Œ [å‰‘æŒ‡ Offer 14. å‰ªç»³å­](./jz_offer_14_1.md) çš„æ€è·¯ä¸€æ ·ï¼Œä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚

ä½†æ˜¯ç­”æ¡ˆéœ€è¦å–æ¨¡ `1e9+7ï¼ˆ1000000007ï¼‰`ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨ BigInt ç±»å‹æ¥å­˜å‚¨å¤§æ•´æ•°ï¼Œä»¥é¿å…è¶…å‡º JavaScript çš„æ•´æ•°èŒƒå›´ã€‚ç„¶åï¼Œæœ€åå†å°†ç»“æœè½¬æ¢å› Number ç±»å‹ã€‚

å¦å¤–ï¼ŒBigInt ä¸èƒ½ç›´æ¥ä¸æ™®é€šçš„æ•°å­—è¿›è¡Œæ¯”è¾ƒï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ `Math.max` æ–¹æ³•ï¼Œéœ€è¦è‡ªå·±å†™ä¸€ä¸ªè¾…åŠ©å‡½æ•° `max` æ¥æ‰¾åˆ°ä¸€ç»„ BigInt ä¸­çš„æœ€å¤§å€¼ã€‚

è§£é¢˜æ€è·¯å¦‚ä¸‹ï¼š

1. **å®šä¹‰çŠ¶æ€ï¼š** è®¾ `dp[i]` è¡¨ç¤ºæ•´æ•° `i` æ‹†åˆ†åçš„æœ€å¤§ä¹˜ç§¯ã€‚

2. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š** å¯¹äºæ•´æ•° iï¼Œå…¶æ‹†åˆ†æˆä¸¤ä¸ªæ•° `j` å’Œ `i - j`ã€‚dp[i] çš„å€¼å–å†³äºè¿™ä¸¤ä¸ªæ•°æ‹†åˆ†åçš„æœ€å¤§ä¹˜ç§¯ï¼Œå³ `dp[i] = max(j * (i - j), j * dp[i - j])`ã€‚éœ€è¦éå†æ‰€æœ‰å¯èƒ½çš„ `j` æ¥æ‰¾åˆ°æœ€å¤§çš„ä¹˜ç§¯ã€‚

3. **åˆå§‹çŠ¶æ€ï¼š** dp[2] = 1ï¼Œå› ä¸ºæ•°å­— 2 åªèƒ½æ‹†åˆ†æˆ `1 + 1`ï¼Œä¹˜ç§¯ä¸º `1`ã€‚

4. **è®¡ç®—é¡ºåºï¼š** ä»å°åˆ°å¤§è®¡ç®— `dp` æ•°ç»„çš„å€¼ï¼Œç›´åˆ°è®¡ç®—å‡º `dp[n]`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number} bamboo_len
 * @return {number}
 */
var cuttingBamboo = function (bamboo_len) {
	// å®šä¹‰çŠ¶æ€æ•°ç»„
	const dp = new Array(bamboo_len + 1).fill(BigInt(0));
	const MOD = BigInt(1e9 + 7);

	// åˆå§‹çŠ¶æ€
	dp[2] = BigInt(1);

	// è®¡ç®—çŠ¶æ€è½¬ç§»
	for (let i = 3; i <= bamboo_len; i++) {
		for (let j = 1; j < i; j++) {
			dp[i] = max(dp[i], BigInt(j) * dp[i - j], BigInt(j) * BigInt(i - j));
		}
	}
	return Number(dp[bamboo_len] % MOD);
};

var max = function (...args) {
	return args.reduce((max, curr) => (curr > max ? curr : max), args[0]);
};
```
