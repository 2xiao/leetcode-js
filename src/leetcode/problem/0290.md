# [290. å•è¯è§„å¾‹](https://leetcode.com/problems/word-pattern)

ğŸŸ¢ <font color=#15bd66>Easy</font>&emsp; ğŸ”–&ensp; [`å“ˆå¸Œè¡¨`](/leetcode/outline/tag/hash-table.md) [`å­—ç¬¦ä¸²`](/leetcode/outline/tag/string.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/word-pattern/)

## é¢˜ç›®

Given a `pattern` and a string `s`, find if `s` follows the same pattern.

Here **follow** means a full match, such that there is a bijection between a
letter in `pattern` and a **non-empty** word in `s`.

**Example 1:**

> Input: pattern = "abba", s = "dog cat cat dog"
>
> Output: true

**Example 2:**

> Input: pattern = "abba", s = "dog cat cat fish"
>
> Output: false

**Example 3:**

> Input: pattern = "aaaa", s = "dog cat cat dog"
>
> Output: false

**Constraints:**

- `1 <= pattern.length <= 300`
- `pattern` contains only lower-case English letters.
- `1 <= s.length <= 3000`
- `s` contains only lowercase English letters and spaces `' '`.
- `s` **does not contain** any leading or trailing spaces.
- All the words in `s` are separated by a **single space**.

## é¢˜ç›®å¤§æ„

ç»™å®šä¸€ç§è§„å¾‹ `pattern` å’Œä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œåˆ¤æ–­ `s` æ˜¯å¦éµå¾ªç›¸åŒçš„è§„å¾‹ã€‚

è¿™é‡Œçš„ **éµå¾ª** æŒ‡å®Œå…¨åŒ¹é…ï¼Œä¾‹å¦‚ï¼Œ `pattern` é‡Œçš„æ¯ä¸ªå­—æ¯å’Œå­—ç¬¦ä¸² `s` ä¸­çš„æ¯ä¸ªéç©ºå•è¯ä¹‹é—´å­˜åœ¨ç€åŒå‘è¿æ¥çš„å¯¹åº”è§„å¾‹ã€‚

## è§£é¢˜æ€è·¯

ä¸ºäº†åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦éµå¾ªç›¸åŒçš„è§„å¾‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå“ˆå¸Œè¡¨ `map1` å’Œ `map2` æ¥åˆ†åˆ«å»ºç«‹å­—ç¬¦åˆ°å•è¯å’Œå•è¯åˆ°å­—ç¬¦çš„æ˜ å°„å…³ç³»ã€‚å…·ä½“çš„æ€è·¯å¦‚ä¸‹ï¼š

1. **åˆ†å‰²å­—ç¬¦ä¸²**ï¼šé¦–å…ˆï¼Œå°†è¾“å…¥çš„å­—ç¬¦ä¸² `str` ä½¿ç”¨ç©ºæ ¼åˆ†å‰²æˆä¸€ä¸ªå•è¯æ•°ç»„ã€‚

2. **å»ºç«‹æ˜ å°„å…³ç³»**ï¼šå¯¹äºè§„å¾‹å­—ç¬¦ä¸² `pattern` å’Œå•è¯æ•°ç»„ï¼ŒåŒæ—¶éå†å®ƒä»¬çš„æ¯ä¸ªå…ƒç´ ã€‚å¯¹äº `pattern[i]` å’Œ `arr[i]`ï¼Œå¦‚æœ `pattern[i]` å·²ç»åœ¨ `map1` ä¸­ï¼Œä½†å¯¹åº”çš„å€¼ä¸ç­‰äº `arr[i]`ï¼Œè¯´æ˜ä¸æ»¡è¶³è§„å¾‹ï¼Œè¿”å› `false`ï¼›å¦‚æœ `pattern[i]` ä¸åœ¨ `map1` ä¸­ï¼Œä½† `arr[i]` åœ¨ `map2` ä¸­ï¼Œè¯´æ˜ä¸æ»¡è¶³è§„å¾‹ï¼Œè¿”å› `false`ã€‚å¦‚æœéƒ½ç¬¦åˆæ¡ä»¶ï¼Œåˆ™å»ºç«‹æ˜ å°„å…³ç³»ã€‚

3. **è¿”å›ç»“æœ**ï¼šéå†ç»“æŸåï¼Œå¦‚æœæ²¡æœ‰å‘ç°ä¸æ»¡è¶³è§„å¾‹çš„æƒ…å†µï¼Œè¯´æ˜å­—ç¬¦ä¸²æ»¡è¶³ç›¸åŒçš„è§„å¾‹ï¼Œè¿”å› `true`ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(k)`ï¼Œå…¶ä¸­ `k` æ˜¯å­—ç¬¦é›†çš„å¤§å°ï¼Œé€šå¸¸æ˜¯å¸¸æ•°å¤§å°ã€‚

## ä»£ç 

```javascript
/**
 * @param {string} pattern
 * @param {string} s
 * @return {boolean}
 */
var wordPattern = function (pattern, s) {
	const arr = s.split(' ');
	if (arr.length !== pattern.length) {
		return false;
	}
	let map1 = new Map();
	let map2 = new Map();

	for (let i in pattern) {
		if (!map1.has(pattern[i])) {
			map1.set(pattern[i], arr[i]);
		} else if (map1.get(pattern[i]) !== arr[i]) {
			return false;
		}

		if (!map2.has(arr[i])) {
			map2.set(arr[i], pattern[i]);
		} else if (map2.get(arr[i]) !== pattern[i]) {
			return false;
		}
	}
	return true;
};
```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [205. åŒæ„å­—ç¬¦ä¸²](./0205.md)
- [291. å•è¯è§„å¾‹ II](https://leetcode.com/problems/word-pattern-ii)
- [890. æŸ¥æ‰¾å’Œæ›¿æ¢æ¨¡å¼](https://leetcode.com/problems/find-and-replace-pattern)

::::
