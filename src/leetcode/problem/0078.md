# [78. å­é›†](https://leetcode.com/problems/subsets)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/leetcode/outline/tag/bit-manipulation.md) [`æ•°ç»„`](/leetcode/outline/tag/array.md) [`å›æº¯`](/leetcode/outline/tag/backtracking.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.com/problems/subsets/)

## é¢˜ç›®

Given an integer array `nums` of **unique** elements, return _all possible_
_subsets_ _(the power set)_.

The solution set **must not** contain duplicate subsets. Return the solution
in **any order**.

**Example 1:**

> Input: nums = [1,2,3]
>
> Output: [[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]

**Example 2:**

> Input: nums = [0]
>
> Output: [[],[0]]

**Constraints:**

- `1 <= nums.length <= 10`
- `-10 <= nums[i] <= 10`
- All the numbers of `nums` are **unique**.

## é¢˜ç›®å¤§æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ•°ç»„ä¸­çš„å…ƒç´  **äº’ä¸ç›¸åŒ** ã€‚è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è§£é›† **ä¸èƒ½** åŒ…å«é‡å¤çš„å­é›†ã€‚ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›è§£é›†ã€‚

## è§£é¢˜æ€è·¯

å¯ä»¥ä½¿ç”¨å›æº¯ç®—æ³•ï¼Œé€šè¿‡é€’å½’å‡½æ•°å®ç°:

1. å®šä¹‰ä¸€ä¸ªç»“æœé›† `res` ç”¨äºå­˜å‚¨æ‰€æœ‰çš„å­é›†ã€‚
2. å®šä¹‰ä¸€ä¸ªè¾…åŠ©æ•°ç»„ `track` ç”¨äºè®°å½•å½“å‰å›æº¯è·¯å¾„ä¸Šçš„å…ƒç´ ã€‚
3. ç¼–å†™å›æº¯ç®—æ³•çš„æ ¸å¿ƒå‡½æ•° `backtrack`ï¼Œå…¶ä¸­å‚æ•° `start` æ§åˆ¶éå†æ ‘æçš„èµ·å§‹ä½ç½®ï¼Œé¿å…äº§ç”Ÿé‡å¤çš„å­é›†ã€‚
4. åœ¨ `backtrack` å‡½æ•°ä¸­ï¼Œé¦–å…ˆå°†å½“å‰è·¯å¾„ `track` åŠ å…¥ç»“æœé›† `res`ï¼Œè¿™è¡¨ç¤ºå½“å‰çš„ `track` æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å­é›†ã€‚
5. ç„¶åä½¿ç”¨å¾ªç¯éå†ä» `start` åˆ°æ•°ç»„æœ«å°¾çš„å…ƒç´ ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œåšå‡ºé€‰æ‹©ï¼ˆå°†å…¶åŠ å…¥ `track`ï¼‰ï¼Œç„¶åé€’å½’è°ƒç”¨ `backtrack` è¿›å…¥ä¸‹ä¸€å±‚ã€‚
6. åœ¨é€’å½’è°ƒç”¨è¿”å›åï¼Œéœ€è¦æ’¤é”€é€‰æ‹©ï¼Œå³å°† `track` çš„æœ«å°¾å…ƒç´ å¼¹å‡ºï¼Œä»¥ä¾¿è¿›è¡Œä¸‹ä¸€æ¬¡é€‰æ‹©ã€‚
7. é€šè¿‡å›æº¯çš„è¿‡ç¨‹ï¼Œå¯ä»¥éå†æ‰€æœ‰å¯èƒ½çš„å­é›†ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(2^n * n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„ `nums` çš„é•¿åº¦ã€‚è¿™æ˜¯å› ä¸ºå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œéƒ½æœ‰ä¸¤ç§é€‰æ‹©ï¼šé€‰æ‹©æˆ–ä¸é€‰æ‹©ï¼Œæ‰€ä»¥æ€»å…±æœ‰ `2^n` ç§å¯èƒ½çš„å­é›†ã€‚åœ¨æ¯ä¸ªé€‰æ‹©ä¸­ï¼Œéƒ½éœ€è¦èŠ±è´¹ `O(n)` çš„æ—¶é—´æ¥å¤åˆ¶å½“å‰çš„è·¯å¾„ã€‚

- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(2^n * k)`
  - ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’è°ƒç”¨çš„æ ˆç©ºé—´å’Œå­˜å‚¨ç»“æœé›†çš„ç©ºé—´ã€‚
  - é€’å½’è°ƒç”¨æ ˆçš„æœ€å¤§æ·±åº¦æ˜¯æ•°ç»„ `nums` çš„é•¿åº¦ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦æ˜¯ `O(n)`ã€‚
  - æ­¤å¤–ï¼Œå­˜å‚¨ç»“æœé›†çš„ç©ºé—´å¤æ‚åº¦ä¸º `O(æ€»å­é›†ä¸ªæ•° * å¹³å‡å­é›†å¤§å°)`ã€‚åœ¨è¿™é‡Œï¼Œæ€»å­é›†ä¸ªæ•°ä¸º `2^n`ï¼Œå¹³å‡å­é›†å¤§å°ä¸º `k`ï¼ˆé¢˜ç›®è¦æ±‚ç”Ÿæˆå¤§å°ä¸º `k` çš„å­é›†ï¼‰ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º `O(2^n * k)`ã€‚
  - ç»¼åˆè€ƒè™‘ä»¥ä¸Šä¸¤éƒ¨åˆ†ï¼Œæ•´ä½“çš„ç©ºé—´å¤æ‚åº¦ä¸º `O(n + 2^n * k)`ã€‚
  - åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”±äº `2^n` çš„å¢é•¿é€Ÿåº¦è¾ƒå¤§ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦å¯ä»¥è¿‘ä¼¼è¡¨ç¤ºä¸º `O(2^n * k)`ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var subsets = function (nums) {
	// ç”¨äºå­˜å‚¨ç»“æœ
	const res = [];
	// ç”¨äºè®°å½•å›æº¯è·¯å¾„
	const track = [];

	const backtrack = (start) => {
		// å‰åºéå†ä½ç½®ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯ä¸€ä¸ªå­é›†
		res.push([...track]);

		// å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶
		for (let i = start; i < nums.length; i++) {
			// åšé€‰æ‹©
			track.push(nums[i]);
			// å›æº¯éå†ä¸‹ä¸€å±‚èŠ‚ç‚¹
			backtrack(i + 1);
			// æ’¤é”€é€‰æ‹©
			track.pop();
		}
	};

	backtrack(0);
	return res;
};
```

## ç›¸å…³é¢˜ç›®

:::: md-demo ç›¸å…³é¢˜ç›®
- [å­é›† II](https://leetcode.com/problems/subsets-ii)
- [åˆ—ä¸¾å•è¯çš„å…¨éƒ¨ç¼©å†™](https://leetcode.com/problems/generalized-abbreviation)
- [å­—æ¯å¤§å°å†™å…¨æ’åˆ—](https://leetcode.com/problems/letter-case-permutation)
- [ä»å­é›†çš„å’Œè¿˜åŸæ•°ç»„](https://leetcode.com/problems/find-array-given-subset-sums)
- [ç»Ÿè®¡æŒ‰ä½æˆ–èƒ½å¾—åˆ°æœ€å¤§å€¼çš„å­é›†æ•°ç›®](https://leetcode.com/problems/count-number-of-maximum-bitwise-or-subsets)

::::
