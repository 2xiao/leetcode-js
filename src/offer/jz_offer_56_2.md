# [56-II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II](https://leetcode.cn/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-ii-lcof)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`ä½è¿ç®—`](/tag/bit-manipulation.md) [`æ•°ç»„`](/tag/array.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.cn/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-ii-lcof)

## é¢˜ç›®

æ•™å­¦è¿‡ç¨‹ä¸­ï¼Œæ•™ç»ƒç¤ºèŒƒä¸€æ¬¡ï¼Œå­¦å‘˜è·Ÿåšä¸‰æ¬¡ã€‚è¯¥è¿‡ç¨‹è¢«æ··ä¹±å‰ªè¾‘åï¼Œè®°å½•äºæ•°ç»„ `actions`ï¼Œå…¶ä¸­ `actions[i]`
è¡¨ç¤ºåšå‡ºè¯¥åŠ¨ä½œçš„äººå‘˜ç¼–å·ã€‚è¯·è¿”å›æ•™ç»ƒçš„ç¼–å·ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** actions = [5, 7, 5, 5]
>
> **è¾“å‡ºï¼š** 7

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** actions = [12, 1, 6, 12, 6, 12, 6]
>
> **è¾“å‡ºï¼š** 1

**æç¤ºï¼š**

- `1 <= actions.length <= 10000`
- `1 <= actions[i] < 2^31`

## è§£é¢˜æ€è·¯

1. **ä½è®¡æ•°**ï¼šåˆå§‹åŒ–ä¸€ä¸ªå¤§å°ä¸º 32 çš„æ•°ç»„ `count`ï¼ˆå› ä¸ºæ•´æ•°é€šå¸¸æ˜¯ 32 ä½çš„ï¼‰ï¼Œç”¨æ¥è®¡æ•°æ¯ä¸ªä½ä¸Š `1` å‡ºç°çš„æ¬¡æ•°ï¼›
2. **éå†**ï¼šéå†æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ªæ•°ï¼Œæ›´æ–° `count` æ¯ä¸ªä½ä¸Š 1 çš„ä¸ªæ•°ï¼›
3. **å–æ¨¡**ï¼šå¯¹äºæ¯ä¸ªä½ï¼Œå¦‚æœè¯¥ä½çš„è®¡æ•°å¯ä»¥è¢« `3` æ•´é™¤ï¼Œè¯´æ˜è¯¥ä½ä¸æ˜¯å”¯ä¸€çš„æ•°çš„ä¸€éƒ¨åˆ†ï¼›å¦åˆ™ï¼Œè¯´æ˜è¯¥ä½æ˜¯å”¯ä¸€çš„æ•°çš„ä¸€éƒ¨åˆ†ï¼›
4. **æ„é€ ç»“æœ**ï¼šè®¡ç®—ç»“æœï¼Œæ ¹æ®è®¡æ•°ç»“æœæ„é€ åªå‡ºç°ä¸€æ¬¡çš„æ•°ï¼›

#### å¤æ‚åº¦åˆ†æï¼š

- **æ—¶é—´å¤æ‚åº¦**: `O(n)`ï¼Œå…¶ä¸­ `n` æ˜¯æ•°ç»„çš„é•¿åº¦ï¼Œéœ€è¦éå†æ•°ç»„ä¸¤æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**: `O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸é‡çš„é¢å¤–ç©ºé—´æ¥å­˜å‚¨è®¡æ•°æ•°ç»„ï¼ˆå¤§å°ä¸º 32ï¼‰ã€‚

## ä»£ç 

```javascript
/**
 * @param {number[]} actions
 * @return {number}
 */
var trainingPlan = function (actions) {
	const count = new Array(32).fill(0);

	// ç»Ÿè®¡æ¯ä¸ªä½ä¸Š1çš„ä¸ªæ•°
	for (const num of actions) {
		for (let i = 0; i < 32; i++) {
			count[i] += (num >> i) & 1; // ç»Ÿè®¡ç¬¬iä½ä¸Šçš„1çš„ä¸ªæ•°
		}
	}

	let result = 0;
	// é€šè¿‡è®¡æ•°ç»“æœæ„é€ æ•°è¿”å›å€¼
	for (let i = 0; i < 32; i++) {
		if (count[i] % 3 !== 0) {
			result |= 1 << i;
		}
	}

	return result;
};
```
