# [89. æˆ¿å±‹å·ç›—](https://leetcode.cn/problems/Gu0c2T)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`æ•°ç»„`](/tag/array.md) [`åŠ¨æ€è§„åˆ’`](/tag/dynamic-programming.md)&emsp; ğŸ”—&ensp;[`LeetCode`](https://leetcode.cn/problems/Gu0c2T)

## é¢˜ç›®

ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ï¼Œå½±å“å°å·å·çªƒçš„å”¯ä¸€åˆ¶çº¦å› ç´ å°±æ˜¯ç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œ**å¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦**ã€‚

ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ `nums` ï¼Œè¯·è®¡ç®—** ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ **ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚

**ç¤ºä¾‹ 1ï¼š**

> **è¾“å…¥ï¼š** nums = [1,2,3,1]
>
> **è¾“å‡ºï¼š** 4
>
> **è§£é‡Šï¼š** å·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 1) ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 3)ã€‚
>
> > å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** nums = [2,7,9,3,1]
>
> **è¾“å‡ºï¼š** 12
>
> **è§£é‡Šï¼š** å·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 2), å·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 9)ï¼Œæ¥ç€å·çªƒ 5 å·æˆ¿å±‹ (é‡‘é¢ = 1)ã€‚
>
> > å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 2 + 9 + 1 = 12 ã€‚

**æç¤ºï¼š**

- `1 <= nums.length <= 100`
- `0 <= nums[i] <= 400`

::: warning
æœ¬é¢˜ä¸ LeetCode [ç¬¬ 198 é¢˜](../problem/0198.md) ç›¸åŒã€‚
:::

## è§£é¢˜æ€è·¯

è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ï¼Œå…¶ä¸­çš„å…³é”®æ˜¯å®šä¹‰çŠ¶æ€å’ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚

2. **çŠ¶æ€å®šä¹‰**ï¼šå®šä¹‰ä¸€ä¸ªä¸€ç»´æ•°ç»„ `dp`ï¼Œå…¶ä¸­ `dp[i]` è¡¨ç¤ºåœ¨å‰ `i` ä¸ªæˆ¿å±‹ä¸­èƒ½å¤Ÿæ‰“åŠ«åˆ°çš„æœ€å¤§é‡‘é¢ã€‚

3. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**ï¼šå¯¹äºæ¯ä¸ªæˆ¿å±‹ï¼Œæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼šæ‰“åŠ«æˆ–è€…ä¸æ‰“åŠ«ã€‚å› æ­¤ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š`dp[i] = max(dp[i-1], dp[i-2] + nums[i])`

4. **åˆå§‹åŒ–**ï¼šåˆå§‹åŒ–å‰ä¸¤ä¸ªçŠ¶æ€ï¼Œå³ `dp[0] = nums[0]` å’Œ `dp[1] = Math.max(nums[0], nums[1])`ã€‚

5. **éå†è®¡ç®—**ï¼šä»ç¬¬ä¸‰ä¸ªæˆ¿å±‹å¼€å§‹éå†ï¼Œæ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ›´æ–°æ¯ä¸ªçŠ¶æ€ã€‚

6. **ç»“æœ**ï¼šæœ€ç»ˆç­”æ¡ˆä¸º `dp[n - 1]`ï¼Œè¡¨ç¤ºåœ¨æ‰€æœ‰æˆ¿å±‹ä¸­èƒ½å¤Ÿæ‰“åŠ«åˆ°çš„æœ€å¤§é‡‘é¢ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**: `O(n)`ï¼Œéå†æ•´ä¸ªæ•°ç»„ã€‚
- **ç©ºé—´å¤æ‚åº¦**: `O(n)`ï¼Œä½¿ç”¨äº†ä¸€ä¸ªæ•°ç»„æ¥å­˜å‚¨ä¸­é—´çŠ¶æ€ã€‚å¯ä»¥ä¼˜åŒ–ä¸º `O(1)`ï¼Œåªä¿ç•™å‰ä¸¤ä¸ªçŠ¶æ€ã€‚

## ä»£ç 

::: code-tabs

@tab åŠ¨æ€è§„åˆ’

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var rob = function (nums) {
	const n = nums.length;
	if (n == 0) return 0;
	if (n == 1) return nums[0];
	const dp = new Array(n).fill(0);

	// åˆå§‹åŒ–å‰ä¸¤ä¸ªçŠ¶æ€
	dp[0] = nums[0];
	dp[1] = Math.max(nums[0], nums[1]);

	// éå†è®¡ç®—
	for (let i = 2; i < n; i++) {
		dp[i] = Math.max(dp[i - 2] + nums[i], dp[i - 1]);
	}

	// è¿”å›ç»“æœ
	return dp[n - 1];
};
```

@tab åŠ¨æ€è§„åˆ’-å‹ç¼©çŠ¶æ€

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var rob = function (nums) {
	const n = nums.length;
	if (n == 0) return 0;
	if (n == 1) return nums[0];
	let first = nums[0];
	let second = Math.max(nums[0], nums[1]);
	for (let i = 2; i < n; i++) {
		let temp = Math.max(first + nums[i], second);
		first = second;
		second = temp;
	}
	return second;
};
```

:::
