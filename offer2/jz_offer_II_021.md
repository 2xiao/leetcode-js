# [21. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹](https://2xiao.github.io/leetcode-js/offer2/jz_offer_II_021.html)

ğŸŸ  <font color=#ffb800>Medium</font>&emsp; ğŸ”–&ensp; [`é“¾è¡¨`](/tag/linked-list.md) [`åŒæŒ‡é’ˆ`](/tag/two-pointers.md)&emsp; ğŸ”—&ensp;[`åŠ›æ‰£`](https://leetcode.cn/problems/SLwz0R)

## é¢˜ç›®

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ `n` ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2020/10/03/remove_ex1.jpg)

> **è¾“å…¥ï¼š** head = [1,2,3,4,5], n = 2
>
> **è¾“å‡ºï¼š**[1,2,3,5]

**ç¤ºä¾‹ 2ï¼š**

> **è¾“å…¥ï¼š** head = [1], n = 1
>
> **è¾“å‡ºï¼š**[]

**ç¤ºä¾‹ 3ï¼š**

> **è¾“å…¥ï¼š** head = [1,2], n = 1
>
> **è¾“å‡ºï¼š**[1]

**æç¤ºï¼š**

- é“¾è¡¨ä¸­ç»“ç‚¹çš„æ•°ç›®ä¸º `sz`
- `1 <= sz <= 30`
- `0 <= Node.val <= 100`
- `1 <= n <= sz`

**è¿›é˜¶ï¼š** èƒ½å°è¯•ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®ç°å—ï¼Ÿ

::: warning
æœ¬é¢˜ä¸ LeetCode [ç¬¬ 19 é¢˜](../problem/0019.md) ç›¸åŒã€‚
:::

## è§£é¢˜æ€è·¯

### æ€è·¯ä¸€ï¼šå•æŒ‡é’ˆ

- å…ˆéå†ä¸€éé“¾è¡¨ï¼Œç»Ÿè®¡ä¸€ä¸‹èŠ‚ç‚¹ä¸ªæ•°ä¸º `len`ï¼Œå†éå†åˆ° `len - n` çš„ä½ç½®ï¼Œåˆ é™¤è¯¥ä½ç½®ä¸Šçš„èŠ‚ç‚¹ï¼›
- éœ€è¦æ³¨æ„çš„ä¸€ä¸ªç‰¹ä¾‹æ˜¯ï¼Œæœ‰å¯èƒ½è¦åˆ é™¤å¤´èŠ‚ç‚¹ï¼Œåœ¨éå†ä¹‹å‰ï¼Œæ–°å»ºä¸€ä¸ªå¤´èŠ‚ç‚¹ï¼Œè®©å…¶æŒ‡å‘åŸæ¥çš„å¤´èŠ‚ç‚¹ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(L)`ï¼Œå…¶ä¸­ `L` æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚
  - é¦–å…ˆéå†é“¾è¡¨ä¸€æ¬¡æ¥è®¡ç®—é“¾è¡¨çš„é•¿åº¦ `L`ï¼Œè¿™éœ€è¦ `O(L)` çš„æ—¶é—´ã€‚
  - å†æ¬¡éå†é“¾è¡¨ï¼Œç§»åŠ¨æŒ‡é’ˆåˆ°éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€éœ€çš„æ—¶é—´ä¹Ÿæ˜¯ `O(L)`ã€‚
  - å› æ­¤ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º `O(L)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ç©ºé—´æ¥å­˜å‚¨æŒ‡é’ˆå’Œå˜é‡ã€‚

---

### æ€è·¯äºŒï¼šå¿«æ…¢æŒ‡é’ˆ

- ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ `slow`ã€`fast`ï¼Œéƒ½æŒ‡å‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹;
- è®©å¿«æŒ‡é’ˆ `fast` å…ˆèµ° n æ­¥ï¼›
- å†è®©å¿«æ…¢æŒ‡é’ˆåŒæ—¶èµ°ï¼Œæ¯æ¬¡ä¸€æ­¥ï¼Œç­‰å¿«æŒ‡é’ˆéå†åˆ°é“¾è¡¨å°¾éƒ¨çš„æ—¶å€™ï¼Œæ…¢æŒ‡é’ˆå°±åˆšå¥½éå†åˆ°äº†å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹ä½ç½®ï¼›
- å°†è¯¥ä½ç½®ä¸Šçš„èŠ‚ç‚¹åˆ é™¤å³å¯ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(L)`ï¼Œå…¶ä¸­ `L` æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚
  - é¦–å…ˆå°†å¿«æŒ‡é’ˆ `fast` å‘å‰ç§»åŠ¨ `n` æ­¥ï¼Œè¿™éœ€è¦ `O(n)` çš„æ—¶é—´ã€‚
  - ç„¶ååŒæ—¶ç§»åŠ¨å¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆ `slow`ï¼Œç›´åˆ°å¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨æœ«å°¾ã€‚è¯¥æ“ä½œéå†äº†é“¾è¡¨çš„å‰©ä½™éƒ¨åˆ†ï¼Œæœ€å¤šéœ€è¦ `O(L - n)` çš„æ—¶é—´ã€‚
  - å› æ­¤ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦ä»ä¸º `O(L)`ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(1)`ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ç©ºé—´æ¥å­˜å‚¨æŒ‡é’ˆå’Œå˜é‡ã€‚

## ä»£ç 

::: code-tabs

@tab å•æŒ‡é’ˆ

```javascript
/**
 * @param {ListNode} head
 * @param {number} n
 * @return {ListNode}
 */
var removeNthFromEnd = function (head, n) {
	let res = new ListNode(0, head),
		len = 0,
		p = res;
	while (head) {
		head = head.next;
		len++;
	}
	for (let i = 0; i < len - n; i++) {
		p = p.next;
	}
	p.next = p.next.next;
	return res.next;
};
```

@tab å¿«æ…¢æŒ‡é’ˆ

```javascript
/**
 * @param {ListNode} head
 * @param {number} n
 * @return {ListNode}
 */
var removeNthFromEnd = function (head, n) {
	let res = new ListNode(0, head);
	let slow = res;
	let fast = head;
	while (n) {
		fast = fast.next;
		n--;
	}
	while (fast) {
		slow = slow.next;
		fast = fast.next;
	}
	slow.next = slow.next.next;
	return res.next;
};
```

:::
